{"version":3,"file":"uikit.min.js","sources":["../../src/config.js","../../src/utils.js","../../src/core.js","../../src/component.js","../../src/plugins/idiomorph/0.3.0/idiomorph.js","../../src/plugins/pikaday/1.8.2/pikaday.js","../../node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","../../node_modules/@floating-ui/core/dist/floating-ui.core.mjs","../../node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs","../../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","../../src/components/modal.js","../../src/plugins/tomselect/2.2.2/tom-select.js","../../src/plugins/tomselect/2.2.2/plugins/remove_button/plugin.js","../../src/plugins/tomselect/2.2.2/plugins/clear_button/plugin.js","../../src/plugins/tomselect/2.2.2/plugins/checkbox_options/plugin.js","../../src/plugins/tomselect/2.2.2/plugins/caret_position/plugin.js","../../src/plugins/tomselect/2.2.2/plugins/input_autogrow/plugin.js","../../src/plugins/tomselect/2.2.2/plugins/no_active_items/plugin.js","../../src/plugins/tomselect/2.2.2/plugins/no_backspace_delete/plugin.js","../../src/uikit.js","../../src/components/accordion.js","../../src/components/autogrow.js","../../src/components/checkbox.js","../../src/components/clipboard.js","../../src/components/datatable.js","../../src/components/datepicker.js","../../src/components/dismiss.js","../../src/components/dropdown.js","../../src/components/dropzone.js","../../src/components/fetch.js","../../src/components/highlight.js","../../src/components/input.js","../../src/components/offcanvas.js","../../src/components/password.js","../../src/components/pincode.js","../../src/components/tab.js","../../src/components/theme.js","../../src/components/toast.js","../../src/components/toggle.js","../../src/components/tooltip.js","../../src/components/scroll.js","../../src/components/scrollspy.js","../../src/components/select.js"],"sourcesContent":["export default {\r\n    prefix: 'uk',\r\n    elementPropName: 'uikitInstance',\r\n};","/**\r\n * Parse nested dataset key\r\n */\r\nexport const parseNestedDatasetKey = (keys, value, data) => {\r\n\tdata = data || {};\r\n\tlet key = keys[0].substr( 0, 1 ).toLowerCase() + keys[0].substr( 1 );\r\n\r\n\tif (!data[key]) {\r\n\t\tdata[key] = {};\r\n\t}\r\n\r\n\tif (keys.length > 1) {\r\n\t\tkeys.splice(0, 1);\r\n\t\tdata[key] = parseNestedDatasetKey(keys, value, data[key]);\r\n\t} else {\r\n\t\tdata[key] = value;\r\n\t}\r\n\r\n\treturn data;\r\n}\r\n\r\n/**\r\n * Parse nested dataset\r\n */\r\nexport const parseNestedDataset = (dataset) => {\r\n\tlet keys = Object.keys(dataset);\r\n\tlet data = {};\r\n    let value = null;\r\n\tfor (let i = 0; i < keys.length; i++) {\r\n\t\tlet key = keys[i];\r\n\t\tlet splat = key.split('-');\r\n\r\n        try {\r\n            value = JSON.parse(dataset[key]);\r\n        } catch (error) {\r\n            value = dataset[key];\r\n        }\r\n\r\n\t\tdata = parseNestedDatasetKey(splat, value, data);\r\n\t}\r\n\r\n\treturn data;\r\n}\r\n\r\n/**\r\n * A native JS extend() function\r\n *\r\n * Returns a new object instead, preserving all of the original objects\r\n * and their properties. Supported back to IE6.\r\n *\r\n * Usage:\r\n * 1.- Pass in the objects to merge as arguments.\r\n * 2.- For a deep extend, set the first argument to `true`.\r\n *\r\n * Example:\r\n * const object1 = {\r\n *     apple: 0,\r\n *     banana: { weight: 52, price: 100 },\r\n *     cherry: 97\r\n * };\r\n * const object2 = {\r\n *     banana: { price: 200 },\r\n *     durian: 100\r\n * };\r\n * const object3 = {\r\n *     apple: 'yum',\r\n *     pie: 3.214,\r\n *     applePie: true\r\n * }\r\n *\r\n * // create a new object by combining two or more objects:\r\n * const newObjectShallow = extend(object1, object2, object3);\r\n * const newObjectDeep = extend(true, object1, object2, object3);\r\n *\r\n * All credits to author.\r\n * https://gomakethings.com/vanilla-javascript-version-of-jquery-extend/\r\n * \r\n * @returns {Object}\r\n */\r\nexport const extend = (...options) => {\r\n    let extended = {};\r\n    let deep = false;\r\n    let i = 0;\r\n    let length = options.length;\r\n\r\n    // check if a deep merge\r\n    if (typeof options[0] === 'boolean') {\r\n        deep = options[0];\r\n        i ++;\r\n    }\r\n\r\n    // merge the object into the extended object\r\n    let merge = (obj) => {\r\n        for (const prop in obj) if (Object.prototype.hasOwnProperty.call(obj, prop)) {\r\n            // if deep merge and property is an object, merge properties\r\n            if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\r\n                extended[prop] = extend(true, extended[prop], obj[prop]);\r\n            } else {\r\n                extended[prop] = obj[prop];\r\n            }\r\n        }\r\n    };\r\n\r\n    // loop through each object and conduct a merge\r\n    for (; i < length; i++) {\r\n        let obj = options[i];\r\n        merge(obj);\r\n    }\r\n\r\n    return extended;\r\n};\r\n\r\n/**\r\n * Deep clone object\r\n * \r\n * @param {Object} obj \r\n * @returns {Object}\r\n */\r\nexport const deepClone = (obj) => {\r\n    if (obj === null) return null;\r\n\r\n    let clone = Object.assign({}, obj);\r\n\r\n    Object.keys(clone).forEach((key) => {\r\n        return clone[key] = typeof obj[key] === 'object' ? deepClone(obj[key]) : obj[key];\r\n    });\r\n\r\n    if (Array.isArray(obj)) {\r\n        clone.length = obj.length;\r\n\r\n        return Array.from(clone);\r\n    }\r\n\r\n    return clone;\r\n};\r\n\r\n/**\r\n * Replace object keys\r\n */\r\nexport const replaceObjectKeys = (object, search, replace = '') => {\r\n\tobject = Object.entries(object).map(([key, value]) => {\r\n        key = key == search ? key : key.replace(search, replace)\r\n        key = key.charAt(0).toLowerCase() + key.slice(1);\r\n        return [key, value];\r\n    });\r\n\r\n\treturn Object.fromEntries(object);\r\n}\r\n\r\n/**\r\n * Check if string is a valid html string\r\n */\r\nexport const isHtmlString = (string) => {\r\n\tif (typeof string === 'string' && string.indexOf('<') > -1) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\n/**\r\n * Check if element is visible\r\n */\r\nexport const isVisible = (element) => {\r\n    return !!(element.offsetWidth || element.offsetHeight || element.getClientRects().length);\r\n}\r\n\r\n/**\r\n * Convert HTML string to DOM node\r\n * \r\n * @param {string} html\r\n * @returns {?HTMLElement}\r\n */\r\nexport const stringToDom = (html) => {\r\n\tif (html instanceof HTMLElement) {\r\n        return html;\r\n    }\r\n\r\n    if (isHtmlString(html)) {\r\n        const template = document.createElement('template');\r\n        template.innerHTML = html.trim();\r\n\r\n        return template.content.firstChild;\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n/**\r\n * Escape HTML tags\r\n */\r\nexport const escapeHtml = (html) => {\r\n\treturn html.replace(\r\n\t\t/[&<>'\"]/g,\r\n\t\ttag =>\r\n\t\t\t({\r\n\t\t\t'&': '&amp;',\r\n\t\t\t'<': '&lt;',\r\n\t\t\t'>': '&gt;',\r\n\t\t\t\"'\": '&#39;',\r\n\t\t\t'\"': '&quot;'\r\n\t\t\t}[tag] || tag)\r\n\t\t);\r\n}\r\n\r\n/**\r\n * Unescape HTML tags\r\n */\r\nexport const unescapeHtml = (html) => {\r\n\treturn html.replace(\r\n\t\t/&amp;|&lt;|&gt;|&#39;|&quot;/g,\r\n\t\ttag =>\r\n\t\t\t({\r\n\t\t\t'&amp;': '&',\r\n\t\t\t'&lt;': '<',\r\n\t\t\t'&gt;': '>',\r\n\t\t\t'&#39;': \"'\",\r\n\t\t\t'&quot;': '\"'\r\n\t\t\t}[tag] || tag)\r\n\t\t);\r\n}\r\n\r\n/**\r\n * Trim HTML starting white spaces\r\n */\r\nexport const trimHtml = (html) => {\r\n\tlet matches = html.match(/ +/g);\r\n    let initial = matches[0].length;\r\n    let regex = RegExp(`\\n {${initial}}`, 'g');\r\n\r\n    return html.replace(regex, '\\n').trim();\r\n}\r\n\r\n/**\r\n * Checks if value is a number\r\n */\r\nexport const isNumber = (value) => {\r\n    return !isNaN(parseFloat(value)) && isFinite(value);\r\n}\r\n\r\n/**\r\n * Show element\r\n */\r\nexport const showElement = (element, display = 'inherit') => {\r\n    if (!element) return;\r\n\r\n    element.style.display = display;\r\n}\r\n\r\n/**\r\n * Hide element\r\n */\r\nexport const hideElement = (element, display = 'none') => {\r\n    if (!element) return;\r\n\r\n    element.style.display = display;\r\n}\r\n\r\n/**\r\n * Set styles\r\n */\r\nexport const styles = (element, styles = {}) => {\r\n    if (!element) return;\r\n\r\n    for (const styleName in styles) {\r\n        element.style[styleName] = styles[styleName];\r\n    }\r\n}\r\n\r\n/**\r\n * Set multiple attributes on element\r\n */\r\nexport const setAttributes = (element, attributes = {}) => {\r\n    if (!element) return;\r\n\r\n    for (const attribute in attributes) {\r\n        element.setAttribute(kebabCase(attribute), attributes[attribute]);\r\n    }\r\n}\r\n\r\n/**\r\n * Remove multiple attributes from element\r\n */\r\nexport const removeAttributes = (element, attributes = []) => {\r\n    if (!element) return;\r\n\r\n    for (const attribute of attributes) {\r\n        element.removeAttribute(kebabCase(attribute));\r\n    }\r\n}\r\n\r\n/**\r\n * Add class\r\n */\r\nexport const addClass = (element, classNames) => {\r\n    if (!element || !classNames) return;\r\n\r\n    classNames = classNames ? classNames.split(' ') : [];\r\n    element.classList.add(...classNames);\r\n}\r\n\r\n/**\r\n * Remove class\r\n */\r\nexport const removeClass = (element, classNames) => {\r\n    if (!element || !classNames) return;\r\n\r\n    classNames = classNames ? classNames.split(' ') : [];\r\n    element.classList.remove(...classNames);\r\n}\r\n\r\n/**\r\n * Adds a color-scheme meta tag to the document head\r\n */\r\nexport const createColorSchemeMeta = (theme) => {\r\n    const themeMetaTag = document.querySelector('meta[name=\"color-scheme\"]');\r\n    const meta = document.createElement('meta');\r\n\r\n    if (!themeMetaTag) {\r\n        meta.name = 'color-scheme';\r\n        meta.content = theme;\r\n        document.head.appendChild(meta);\r\n\r\n        return;\r\n    }\r\n\r\n    themeMetaTag.setAttribute('content', theme);\r\n}\r\n\r\n/**\r\n * Sets the dark mode theme\r\n */\r\nexport const setTheme = (theme = 'dark') => {\r\n\tdocument.documentElement.classList.add(theme);\r\n    createColorSchemeMeta(theme);\r\n}\r\n\r\n/**\r\n * Removes the dark mode theme\r\n */\r\nexport const removeTheme = (theme = 'dark') => {\r\n\tdocument.documentElement.classList.remove(theme);\r\n    createColorSchemeMeta('light');\r\n}\r\n\r\n/**\r\n * Returns the first element that matches the selector\r\n * \r\n * @param {(string|HTMLElement)} selector\r\n * @param {HTMLElement} context\r\n * @returns {?HTMLElement}\r\n */\r\nexport const getElement = (selector, context = document) => {\r\n\tif (selector instanceof HTMLElement) {\r\n        return selector;\r\n    }\r\n\r\n    return typeof selector === 'string' \r\n        ? context.querySelector(selector) \r\n        : null;\r\n}\r\n\r\n/**\r\n * Returns multiple elements that match the selector\r\n * \r\n * @param {(string|NodeList)} selector\r\n * @param {HTMLElement} context\r\n * @returns {NodeList}\r\n */\r\nexport const getElements = (selector, context = document) => {\r\n\tif (selector instanceof NodeList) {\r\n        return selector;\r\n    }\r\n\r\n    return context.querySelectorAll(selector);\r\n}\r\n\r\n/**\r\n * Capitalize the first letter of a string\r\n */\r\nexport const capitalize = string => {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\n/**\r\n * Convert string to camel case\r\n */\r\nexport const camelCase = string => {\r\n    return string\r\n        .replace(/(?:^\\w|[A-Z]|\\b\\w)/g, (word, index) => {\r\n            return index === 0 ? word.toLowerCase() : word.toUpperCase();\r\n        })\r\n        .replace(/\\s+/g, '');\r\n}\r\n\r\n/**\r\n * Convert string to kebab case\r\n */\r\nexport const kebabCase = string => {\r\n    return string\r\n        .replace(/[A-Z]/g, (letter) => `-${letter.toLowerCase()}`);\r\n}\r\n\r\n/**\r\n * Converts a string to a URL-friendly slug\r\n */\r\nexport const slug = string => {\r\n    return string\r\n        .toLowerCase()\r\n        .trim()\r\n        .replace(/[^\\w\\s-]/g, '')\r\n        .replace(/[\\s_-]+/g, '-')\r\n        .replace(/^-+|-+$/g, '');\r\n}\r\n\r\n/**\r\n * Shuffle a string \r\n * \r\n * @param {String} string \r\n */\r\nexport const shuffle = string => {\r\n    return [...string].sort(()=>Math.random()-.5).join('');\r\n}\r\n\r\n/**\r\n * Random string generator \r\n * \r\n * @param {Number} length Accepts a number between 1 and 16\r\n */\r\nexport const randomString = (length) => {\r\n    length = length >= 1 && length <= 16 ? length : 16; \r\n\r\n    const string = String(\r\n        Date.now().toString(24) + Math.random().toString(24)\r\n    ).replace(/\\./g, '');\r\n\r\n    return string.substring(string.length - length);\r\n}\r\n\r\n/**\r\n * Random number generator \r\n * \r\n * @param {Number} length Accepts a number between 1 and 24\r\n */\r\nexport const randomNumber = (length) => {\r\n    length = length >= 1 && length <= 24 ? length : 24; \r\n\r\n    let string = String(\r\n        Date.now().toString() + Math.random().toString()\r\n    ).replace(/\\./g, '');\r\n    string = shuffle(string);\r\n\r\n    return string.substring(string.length - length);\r\n}","import config from './config.js';\r\nimport { extend, getElement, kebabCase } from './utils.js';\r\n\r\nwindow.UIkit = window.UIkit || {};\r\n\r\nHTMLElement.prototype.storeUikitInstance = function(component, instance) {\r\n    if (!this[config.elementPropName]) {\r\n        this[config.elementPropName] = {};\r\n    }\r\n\r\n    this[config.elementPropName][component] = instance;\r\n};\r\n\r\nUIkit.config = config;\r\nUIkit.globalConfig = {};\r\nUIkit.store = {};\r\nUIkit.events = {};\r\nUIkit.components = [];\r\n\r\nUIkit.setConfig = (options) => {\r\n    options = options instanceof Object ? options : {};\r\n    UIkit.globalConfig = extend(UIkit.globalConfig, options);\r\n};\r\n\r\nUIkit.register = (components) => {\r\n    for (const name in components) {\r\n        UIkit[name] = (...args) => {\r\n            const element = args[0] instanceof HTMLElement \r\n                ? args[0] \r\n                : typeof args[0] === 'string' \r\n                ? getElement(args[0]) \r\n                : null;\r\n    \r\n            const options = (args[1] instanceof Object) && !(args[1] instanceof HTMLElement) \r\n                ? args[1] \r\n                : args.length === 1 && (args[0] instanceof Object) && !(args[0] instanceof HTMLElement) \r\n                ? args[0] \r\n                : undefined;\r\n    \r\n            if (element) {\r\n                if (element[config.elementPropName]) {\r\n                    if ((!options || Object.keys(options).length === 0) && element[config.elementPropName][name]) {\r\n                        return element[config.elementPropName][name];\r\n                    }\r\n        \r\n                    if (options && Object.keys(options).length > 0 && element[config.elementPropName][name]) {\r\n                        element[config.elementPropName][name]?.destroy();\r\n                    }\r\n                }\r\n            }\r\n        \r\n            const instance = (args[0] instanceof Object) && !(args[0] instanceof HTMLElement) \r\n                ? new components[name](options)\r\n                : new components[name](element, options);\r\n    \r\n            if (element) {\r\n                element.storeUikitInstance(name, instance);\r\n            }\r\n        \r\n            return instance;\r\n        };\r\n\r\n        // Add to autoload list\r\n        UIkit.components.push(name);\r\n    }\r\n};\r\n\r\nUIkit.autoload = (filter, context) => {\r\n    context = context ?? document;\r\n    const components = filter instanceof Array ? filter : UIkit.components;\r\n\r\n    components.forEach((component) => {\r\n        const componentName = kebabCase(component);\r\n        const elements = context.querySelectorAll(`[data-${config.prefix}-${componentName}=true]`);\r\n\r\n        elements.forEach((element) => {\r\n            try {\r\n                window.UIkit[component](element);\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        });\r\n    });\r\n};","import { \r\n    getElement, \r\n    parseNestedDataset, \r\n    replaceObjectKeys, \r\n    extend, \r\n    addClass, \r\n    removeClass, \r\n    capitalize \r\n} from './utils.js';\r\n\r\nexport default class Component {\r\n    constructor(options) {\r\n\r\n        /**\r\n         * Component data object.\r\n         */\r\n        this._component = extend(true, {\r\n            name: null,\r\n            element: null,\r\n            defaultConfig: {\r\n                classes: {},\r\n                debug: false,\r\n                maxMobileWidth: '640px'\r\n            },\r\n            config: {},\r\n            storage: false,\r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        }, options);\r\n        \r\n        /**\r\n         * The global component config.\r\n         */\r\n        const globalConfig = UIkit.globalConfig[this._component.name] || {};\r\n        \r\n        /**\r\n         * The component element.\r\n         */\r\n        this._element = getElement(this._component.element);\r\n        \r\n        /**\r\n         * The timeout ID.\r\n         */\r\n        this._timeout = undefined;\r\n\r\n        /**\r\n         * Get component config from dataset.\r\n         */\r\n        const getDatasetConfig = () => {\r\n            const config = {};\r\n            let dataset = this._element ? this._element.dataset : null;\r\n            dataset = dataset ? parseNestedDataset(dataset) : {};\r\n\r\n            for (const key in dataset) {\r\n                if (key.substring(0, this._component.name.length) === this._component.name) {\r\n                    config[key] = dataset[key];\r\n                }\r\n            }\r\n\r\n            return replaceObjectKeys(config, this._component.name);\r\n        };\r\n\r\n        /**\r\n         * Transforms config\r\n         * \r\n         * @param {object} config\r\n         * @returns {object}\r\n         */\r\n        const configFactory = (config) => {\r\n            config = config instanceof Object ? config : {};\r\n            options = {\r\n                classes: {}\r\n            };\r\n\r\n            if (config['removeClasses'] instanceof Object) {         \r\n                for (const key in config['removeClasses']) {\r\n                    const classes = config['removeClasses'][key].split(' ') || [];\r\n                    const existingClasses = typeof this._config.classes[key] === 'string' \r\n                        ? this._config.classes[key].split(' ') \r\n                        : [];\r\n\r\n                    options.classes[key] = existingClasses.filter(x => !classes.includes(x)).join(' ');\r\n                    this._config.classes[key] = options.classes[key] !== '' ? options.classes[key] : null;\r\n                }\r\n\r\n                delete config['removeClasses'];\r\n            }\r\n\r\n            if (config['addClasses'] instanceof Object) {         \r\n                for (const key in config['addClasses']) {\r\n                    const classes = config['addClasses'][key].split(' ') || [];\r\n                    const existingClasses = typeof this._config.classes[key] === 'string' \r\n                        ? this._config.classes[key].split(' ') \r\n                        : [];\r\n\r\n                    const filteredClasses = classes.filter(x => !existingClasses.includes(x));\r\n                    this._config.classes[key] = filteredClasses.length > 0 \r\n                        ? this._config.classes[key] + ' ' + filteredClasses.join(' ') \r\n                        : this._config.classes[key];\r\n                    options.classes[key] = this._config.classes[key];\r\n                }\r\n\r\n                delete config['addClasses'];\r\n            }\r\n\r\n            for (const key in config) {\r\n                options[key] = config[key];\r\n            }\r\n   \r\n            return options;\r\n        };\r\n\r\n        /**\r\n         * Merge all configurations.\r\n         */\r\n        this._config = extend(true, this._component.defaultConfig, globalConfig);\r\n\r\n        this._config = extend(\r\n            true,\r\n            this._config,\r\n            configFactory(this._component.config),\r\n            configFactory(getDatasetConfig())\r\n        );\r\n\r\n        /**\r\n         * Lock the listed config to the provided values.\r\n         * \r\n         * @param {object} config\r\n         */\r\n        this._lockConfig = (config) => {\r\n            config = config instanceof Object ? config : {};\r\n\r\n            this._config = extend(true, this._config, config);\r\n        };\r\n\r\n        /**\r\n         * Get the current transition state.\r\n         */\r\n        this._isTransitioning = false;\r\n\r\n        /**\r\n         * Events storage.\r\n         */\r\n        this._events = {};\r\n\r\n        /**\r\n         * Allow local or session storage.\r\n         */\r\n        if (this._component.storage) {\r\n            this._config = extend({\r\n                storage: 'local',\r\n            }, this._config);\r\n\r\n            this._storage = {\r\n                set: (key, value) => {\r\n                    key = `${this._component.name}_${key}`;\r\n                    window[`${this._config.storage}Storage`].setItem(key, value);\r\n                },\r\n                get: (key) => {\r\n                    key = `${this._component.name}_${key}`;\r\n                    \r\n                    return window[`${this._config.storage}Storage`].getItem(key);\r\n                },\r\n                remove: (key) => {\r\n                    key = `${this._component.name}_${key}`;\r\n                    window[`${this._config.storage}Storage`].removeItem(key);\r\n                }\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Enable the use of enter transitions config for component.\r\n         */\r\n        if (this._component.transitions.enter) {\r\n            this._config = extend({\r\n                transitionEnter: null,\r\n                transitionEnterStart: null,\r\n                transitionEnterEnd: null\r\n            }, this._config);\r\n        }\r\n\r\n        /**\r\n         * Enable the use of leave transitions config for component.\r\n         */\r\n        if (this._component.transitions.leave) {\r\n            this._config = extend({\r\n                transitionLeave: null,\r\n                transitionLeaveStart: null,\r\n                transitionLeaveEnd: null\r\n            }, this._config);\r\n        }\r\n\r\n        /**\r\n         * Check if component is using the transition options.\r\n         */\r\n        this._hasTransition = this._config.transitionEnter || this._config.transitionLeave \r\n            ? true \r\n            : false;\r\n\r\n        /**\r\n         * Run a transition/animation.\r\n         * \r\n         * @param {string} type transitionEnter/transitionLeave\r\n         * @param {HTMLElement} element \r\n         * @param {function} callback\r\n         * @returns \r\n         */\r\n        this._transition = (type, element, callback) => {\r\n            let transitionEvent = 'transitionend';\r\n            callback =  typeof callback === 'function' ? callback : () => void 0;\r\n\r\n            if (!this._config[`${type}`]) {\r\n                return false;\r\n            }\r\n\r\n            const transitionCleanup = (element) => {\r\n                const transitions = ['transitionEnter', 'transitionLeave'];\r\n    \r\n                for (const transition of transitions) {\r\n                    removeClass(element, this._config[`${transition}`]);\r\n                    removeClass(element, this._config[`${transition}Start`]);\r\n                    removeClass(element, this._config[`${transition}End`]);\r\n                }\r\n            };\r\n\r\n            transitionCleanup(element);\r\n            addClass(element, this._config[`${type}`]);\r\n            addClass(element, this._config[`${type}Start`]);\r\n\r\n            let animationDuration = parseFloat(window.getComputedStyle(element).animationDuration);\r\n\r\n            transitionEvent = isNaN(animationDuration) || animationDuration <= 0 \r\n                ? transitionEvent \r\n                : 'animationend';\r\n            \r\n            const _handler = (e) => {\r\n                this._isTransitioning = false;\r\n                callback(e);\r\n                removeClass(element, this._config[`${type}`]);\r\n                removeClass(element, this._config[`${type}End`]);\r\n            }\r\n\r\n            this._one(element, transitionEvent.replace('end', 'start'), () => {\r\n                this._isTransitioning = true;\r\n            });\r\n \r\n            this._one(element, transitionEvent, _handler);\r\n\r\n            window.requestAnimationFrame(() => {\r\n                removeClass(element, this._config[`${type}Start`]);\r\n                addClass(element, this._config[`${type}End`]);\r\n            });\r\n\r\n            return true;\r\n        };\r\n\r\n        /**\r\n         * Store events.\r\n         * \r\n         * @param {HTMLElement} target \r\n         * @param {string} eventName \r\n         * @param {function} handler \r\n         * @param {boolean|object} options \r\n         * @returns \r\n         */\r\n        this._storeEvent = (target, eventName, handler, options) => {\r\n            options = typeof options === 'boolean' ? { useCapture: options } : options;\r\n            const eventItem = extend({\r\n                once: false,\r\n                passive: false,\r\n                useCapture: false,\r\n                type: eventName,\r\n                listener: handler,\r\n                target: target\r\n            }, options);\r\n\r\n            if (target === window && !UIkit.events[this._component.name]) {\r\n                UIkit.events[this._component.name]= {};\r\n                UIkit.events[this._component.name][eventName] = [ eventItem ];\r\n\r\n                return;\r\n            }\r\n\r\n            if (target === window && UIkit.events[this._component.name][eventName]) {\r\n                UIkit.events[this._component.name][eventName].push(eventItem);\r\n\r\n                return;\r\n            }\r\n\r\n            if (!this._events[eventName]) {\r\n                this._events[eventName] = [ eventItem ];\r\n\r\n                return;\r\n            }\r\n\r\n            this._events[eventName].push(eventItem);\r\n        };\r\n\r\n        /**\r\n         * Remove stored events.\r\n         * \r\n         * @param {string} eventName \r\n         * @param {HTMLElement} target \r\n         */\r\n        this._removeEvent = (eventName = null, target = null) => {\r\n            for (const name in this._events) {\r\n\r\n                if (eventName !== null && eventName !== name) {\r\n                    continue;\r\n                }\r\n\r\n                for (const item of this._events[name]) {\r\n\r\n                    item.target.removeEventListener(item.type, item.listener, {\r\n                        once: item.once,\r\n                        passive: item.passive,\r\n                        useCapture: item.useCapture\r\n                    });\r\n\r\n                    if (target !== null && target === item.target) {\r\n                        this._events[name].splice(this._events[name].indexOf(item), 1);\r\n\r\n                        if (this._events[name].length === 0) {\r\n                            delete this._events[name];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Generate a prefixed event name.\r\n         * \r\n         * @param {string} eventName \r\n         * @returns \r\n         */\r\n        this._prefixedEventName = (eventName) => {\r\n            return UIkit.config.prefix + '.' + this._component.name + '.' + eventName;\r\n        };\r\n\r\n        /**\r\n         * Create new configs to be used by the component.\r\n         * \r\n         * @param {array} configNames \r\n         * @param {array} allowedOptions \r\n         * @returns \r\n         */\r\n        this._createConfig = (configNames = [], allowedOptions = []) => {\r\n            configNames = configNames instanceof Array ? configNames : [];\r\n            allowedOptions = allowedOptions instanceof Array ? allowedOptions : [];\r\n            configNames.push('');\r\n            const config = {};\r\n            const items = {};\r\n\r\n            for (let name of configNames) {\r\n                name = name.replace(/[^a-z0-9]/gi, '').toLowerCase().trim();\r\n                items[name] = {};\r\n\r\n                for (let option of allowedOptions) {\r\n                    const newName = name !== '' ? name + capitalize(option) : option;\r\n                    config[newName] = null;\r\n                    items[name][option] = name == '' ? option : newName;\r\n                }\r\n            }\r\n\r\n            this._config = extend(\r\n                true,\r\n                config,\r\n                this._config,\r\n                getDatasetConfig()\r\n            );\r\n\r\n            return items;\r\n        };\r\n\r\n        /**\r\n         * Checks for mobile devices\r\n         */\r\n        this._isMobile = () => {\r\n            return window.matchMedia(`(max-width: ${this._config.maxMobileWidth})`).matches;\r\n        };\r\n\r\n        /**\r\n         * Shows debugging messages when turned on.\r\n         * \r\n         * @param {string} message \r\n         * @param {string} type log, error, info, warn\r\n         */\r\n        this._debug = (message, type = 'error') => {\r\n            if (!this._config.debug) return;\r\n\r\n            console[type](message);\r\n        };\r\n\r\n        /**\r\n         * Remove stored instance on element.\r\n         * \r\n         * @param {HTMLElement} context \r\n         * @param {string} component \r\n         */\r\n        this._removeInstance = (element, component) => {\r\n            if (!element) return;\r\n\r\n            if (element[UIkit.config.elementPropName]) {\r\n                delete element[UIkit.config.elementPropName][component];\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Dispatch custom event.\r\n         * \r\n         * @param {string} eventName \r\n         * @param {?object} detail \r\n         * @param {?HTMLElement} context \r\n         */\r\n        this._dispatchEvent = (eventName, detail, context) => {\r\n            const element = context || this._element;\r\n            const callbackName = 'on' + capitalize(eventName);\r\n            const callback = this._config[callbackName];\r\n            detail = detail instanceof Object \r\n                ? { detail: { self: this, ...detail } } \r\n                : { detail: { self: this } } ;\r\n\r\n            if (callback instanceof Function) {\r\n                callback(detail.detail);\r\n            }\r\n\r\n            if (!element) return;\r\n            \r\n            setTimeout(() => {\r\n                element.dispatchEvent(new CustomEvent(this._prefixedEventName(eventName), detail));\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Add event listener.\r\n         * \r\n         * @param {HTMLElement} target \r\n         * @param {string} eventName \r\n         * @param {function} handler \r\n         * @param {(boolean|object)} options \r\n         */\r\n        this._on = (target, eventName, handler, options = false) => {\r\n            if (!target) return;\r\n\r\n            target.addEventListener(eventName, handler, options);\r\n            \r\n            setTimeout(() => {\r\n                this._storeEvent(target, eventName, handler, options);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Remove event listener.\r\n         * \r\n         * @param {HTMLElement} target \r\n         * @param {string} eventName \r\n         * @param {function} handler \r\n         * @param {(boolean|object)} options \r\n         */\r\n        this._off = (target, eventName, handler, options = false) => {\r\n            if (!target) return;\r\n\r\n            this._removeEvent(eventName, target);\r\n            target.removeEventListener(eventName, handler, options);\r\n        }\r\n\r\n        /**\r\n         * Add event listener to be executed once.\r\n         * \r\n         * @param {HTMLElement} target \r\n         * @param {string} eventName \r\n         * @param {function} handler \r\n         */\r\n        this._one = (target, eventName, handler) => {\r\n            if (!target) return;\r\n\r\n            target.addEventListener(eventName, handler, { once : true });\r\n        }\r\n\r\n        /**\r\n         * Timer to execute to call a function.\r\n         * \r\n         * @param {function} handler \r\n         * @param {number} timeout \r\n         */\r\n        this._setTimeout = (handler, timeout) => {\r\n            clearTimeout(this._timeout);\r\n            this._timeout = setTimeout(handler, timeout);\r\n        }\r\n\r\n        if (UIkit.events[this._component.name]) {  \r\n            for (const key in UIkit.events[this._component.name]) {\r\n                const eventArray = UIkit.events[this._component.name][key];\r\n\r\n                for (const item of eventArray) {\r\n        \r\n                    item.target.removeEventListener(item.type, item.listener, {\r\n                        once: item.once,\r\n                        passive: item.passive,\r\n                        useCapture: item.useCapture\r\n                    });\r\n        \r\n                    eventArray.splice(eventArray.indexOf(item), 1);\r\n\r\n                    if (eventArray.length === 0) {\r\n                        delete UIkit.events[this._component.name];\r\n                    }\r\n                }\r\n            }          \r\n        }\r\n    }\r\n\r\n    /**\r\n     * Removes all events and stored data.\r\n     */\r\n    destroy() {\r\n        this._removeEvent();\r\n        this._removeInstance(this._element, this._component.name);\r\n    }\r\n\r\n    /**\r\n     * Retrieves component options\r\n     * \r\n     * @param {string} key \r\n     * @returns\r\n     */\r\n    config(key = null) {\r\n        if (key) {\r\n            return this._config[key];\r\n        }\r\n\r\n        return this._config;\r\n    }\r\n\r\n    /**\r\n     * Add event listener.\r\n     * \r\n     * @param {string} eventName \r\n     * @param {function} handler \r\n     * @param {(boolean|object)} options \r\n     */\r\n    on(eventName, handler, options = false) {\r\n        if (!this._element) return;\r\n\r\n        this._element.addEventListener(this._prefixedEventName(eventName), handler, options);\r\n        this._storeEvent(this._element, this._prefixedEventName(eventName), handler, options);\r\n    }\r\n\r\n    /**\r\n     * Remove event listener.\r\n     * \r\n     * @param {string} eventName \r\n     * @param {function} handler \r\n     * @param {(boolean|object)} options \r\n     */\r\n    off(eventName, handler, options = false) {\r\n        if (!this._element) return;\r\n\r\n        if (handler === undefined && options === false) {\r\n            this._removeEvent(this._prefixedEventName(eventName));\r\n        }\r\n\r\n        this._element.removeEventListener(this._prefixedEventName(eventName), handler, options);\r\n    }\r\n\r\n    /**\r\n     * Add event listener to be executed once.\r\n     * \r\n     * @param {string} eventName \r\n     * @param {function} handler \r\n     */\r\n    one(eventName, handler) {\r\n        if (!this._element) return;\r\n        \r\n        this._element.addEventListener(this._prefixedEventName(eventName), handler, { once : true });\r\n    }\r\n}","// base IIFE to define idiomorph\nvar Idiomorph = (function () {\n        'use strict';\n\n        //=============================================================================\n        // AND NOW IT BEGINS...\n        //=============================================================================\n        let EMPTY_SET = new Set();\n\n        // default configuration values, updatable by users now\n        let defaults = {\n            morphStyle: \"outerHTML\",\n            callbacks : {\n                beforeNodeAdded: noOp,\n                afterNodeAdded: noOp,\n                beforeNodeMorphed: noOp,\n                afterNodeMorphed: noOp,\n                beforeNodeRemoved: noOp,\n                afterNodeRemoved: noOp,\n                beforeAttributeUpdated: noOp,\n\n            },\n            head: {\n                style: 'merge',\n                shouldPreserve: function (elt) {\n                    return elt.getAttribute(\"im-preserve\") === \"true\";\n                },\n                shouldReAppend: function (elt) {\n                    return elt.getAttribute(\"im-re-append\") === \"true\";\n                },\n                shouldRemove: noOp,\n                afterHeadMorphed: noOp,\n            }\n        };\n\n        //=============================================================================\n        // Core Morphing Algorithm - morph, morphNormalizedContent, morphOldNodeTo, morphChildren\n        //=============================================================================\n        function morph(oldNode, newContent, config = {}) {\n\n            if (oldNode instanceof Document) {\n                oldNode = oldNode.documentElement;\n            }\n\n            if (typeof newContent === 'string') {\n                newContent = parseContent(newContent);\n            }\n\n            let normalizedContent = normalizeContent(newContent);\n\n            let ctx = createMorphContext(oldNode, normalizedContent, config);\n\n            return morphNormalizedContent(oldNode, normalizedContent, ctx);\n        }\n\n        function morphNormalizedContent(oldNode, normalizedNewContent, ctx) {\n            if (ctx.head.block) {\n                let oldHead = oldNode.querySelector('head');\n                let newHead = normalizedNewContent.querySelector('head');\n                if (oldHead && newHead) {\n                    let promises = handleHeadElement(newHead, oldHead, ctx);\n                    // when head promises resolve, call morph again, ignoring the head tag\n                    Promise.all(promises).then(function () {\n                        morphNormalizedContent(oldNode, normalizedNewContent, Object.assign(ctx, {\n                            head: {\n                                block: false,\n                                ignore: true\n                            }\n                        }));\n                    });\n                    return;\n                }\n            }\n\n            if (ctx.morphStyle === \"innerHTML\") {\n\n                // innerHTML, so we are only updating the children\n                morphChildren(normalizedNewContent, oldNode, ctx);\n                return oldNode.children;\n\n            } else if (ctx.morphStyle === \"outerHTML\" || ctx.morphStyle == null) {\n                // otherwise find the best element match in the new content, morph that, and merge its siblings\n                // into either side of the best match\n                let bestMatch = findBestNodeMatch(normalizedNewContent, oldNode, ctx);\n\n                // stash the siblings that will need to be inserted on either side of the best match\n                let previousSibling = bestMatch?.previousSibling;\n                let nextSibling = bestMatch?.nextSibling;\n\n                // morph it\n                let morphedNode = morphOldNodeTo(oldNode, bestMatch, ctx);\n\n                if (bestMatch) {\n                    // if there was a best match, merge the siblings in too and return the\n                    // whole bunch\n                    return insertSiblings(previousSibling, morphedNode, nextSibling);\n                } else {\n                    // otherwise nothing was added to the DOM\n                    return []\n                }\n            } else {\n                throw \"Do not understand how to morph style \" + ctx.morphStyle;\n            }\n        }\n\n\n        /**\n         * @param possibleActiveElement\n         * @param ctx\n         * @returns {boolean}\n         */\n        function ignoreValueOfActiveElement(possibleActiveElement, ctx) {\n            return ctx.ignoreActiveValue && possibleActiveElement === document.activeElement && possibleActiveElement !== document.body;\n        }\n\n        /**\n         * @param oldNode root node to merge content into\n         * @param newContent new content to merge\n         * @param ctx the merge context\n         * @returns {Element} the element that ended up in the DOM\n         */\n        function morphOldNodeTo(oldNode, newContent, ctx) {\n            if (ctx.ignoreActive && oldNode === document.activeElement) {\n                // don't morph focused element\n            } else if (newContent == null) {\n                if (ctx.callbacks.beforeNodeRemoved(oldNode) === false) return oldNode;\n\n                oldNode.remove();\n                ctx.callbacks.afterNodeRemoved(oldNode);\n                return null;\n            } else if (!isSoftMatch(oldNode, newContent)) {\n                if (ctx.callbacks.beforeNodeRemoved(oldNode) === false) return oldNode;\n                if (ctx.callbacks.beforeNodeAdded(newContent) === false) return oldNode;\n\n                oldNode.parentElement.replaceChild(newContent, oldNode);\n                ctx.callbacks.afterNodeAdded(newContent);\n                ctx.callbacks.afterNodeRemoved(oldNode);\n                return newContent;\n            } else {\n                if (ctx.callbacks.beforeNodeMorphed(oldNode, newContent) === false) return oldNode;\n\n                if (oldNode instanceof HTMLHeadElement && ctx.head.ignore) {\n                    // ignore the head element\n                } else if (oldNode instanceof HTMLHeadElement && ctx.head.style !== \"morph\") {\n                    handleHeadElement(newContent, oldNode, ctx);\n                } else {\n                    syncNodeFrom(newContent, oldNode, ctx);\n                    if (!ignoreValueOfActiveElement(oldNode, ctx)) {\n                        morphChildren(newContent, oldNode, ctx);\n                    }\n                }\n                ctx.callbacks.afterNodeMorphed(oldNode, newContent);\n                return oldNode;\n            }\n        }\n\n        /**\n         * This is the core algorithm for matching up children.  The idea is to use id sets to try to match up\n         * nodes as faithfully as possible.  We greedily match, which allows us to keep the algorithm fast, but\n         * by using id sets, we are able to better match up with content deeper in the DOM.\n         *\n         * Basic algorithm is, for each node in the new content:\n         *\n         * - if we have reached the end of the old parent, append the new content\n         * - if the new content has an id set match with the current insertion point, morph\n         * - search for an id set match\n         * - if id set match found, morph\n         * - otherwise search for a \"soft\" match\n         * - if a soft match is found, morph\n         * - otherwise, prepend the new node before the current insertion point\n         *\n         * The two search algorithms terminate if competing node matches appear to outweigh what can be achieved\n         * with the current node.  See findIdSetMatch() and findSoftMatch() for details.\n         *\n         * @param {Element} newParent the parent element of the new content\n         * @param {Element } oldParent the old content that we are merging the new content into\n         * @param ctx the merge context\n         */\n        function morphChildren(newParent, oldParent, ctx) {\n\n            let nextNewChild = newParent.firstChild;\n            let insertionPoint = oldParent.firstChild;\n            let newChild;\n\n            // run through all the new content\n            while (nextNewChild) {\n\n                newChild = nextNewChild;\n                nextNewChild = newChild.nextSibling;\n\n                // if we are at the end of the exiting parent's children, just append\n                if (insertionPoint == null) {\n                    if (ctx.callbacks.beforeNodeAdded(newChild) === false) return;\n\n                    oldParent.appendChild(newChild);\n                    ctx.callbacks.afterNodeAdded(newChild);\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // if the current node has an id set match then morph\n                if (isIdSetMatch(newChild, insertionPoint, ctx)) {\n                    morphOldNodeTo(insertionPoint, newChild, ctx);\n                    insertionPoint = insertionPoint.nextSibling;\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // otherwise search forward in the existing old children for an id set match\n                let idSetMatch = findIdSetMatch(newParent, oldParent, newChild, insertionPoint, ctx);\n\n                // if we found a potential match, remove the nodes until that point and morph\n                if (idSetMatch) {\n                    insertionPoint = removeNodesBetween(insertionPoint, idSetMatch, ctx);\n                    morphOldNodeTo(idSetMatch, newChild, ctx);\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // no id set match found, so scan forward for a soft match for the current node\n                let softMatch = findSoftMatch(newParent, oldParent, newChild, insertionPoint, ctx);\n\n                // if we found a soft match for the current node, morph\n                if (softMatch) {\n                    insertionPoint = removeNodesBetween(insertionPoint, softMatch, ctx);\n                    morphOldNodeTo(softMatch, newChild, ctx);\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // abandon all hope of morphing, just insert the new child before the insertion point\n                // and move on\n                if (ctx.callbacks.beforeNodeAdded(newChild) === false) return;\n\n                oldParent.insertBefore(newChild, insertionPoint);\n                ctx.callbacks.afterNodeAdded(newChild);\n                removeIdsFromConsideration(ctx, newChild);\n            }\n\n            // remove any remaining old nodes that didn't match up with new content\n            while (insertionPoint !== null) {\n\n                let tempNode = insertionPoint;\n                insertionPoint = insertionPoint.nextSibling;\n                removeNode(tempNode, ctx);\n            }\n        }\n\n        //=============================================================================\n        // Attribute Syncing Code\n        //=============================================================================\n\n        /**\n         * @param attr {String} the attribute to be mutated\n         * @param to {Element} the element that is going to be updated\n         * @param updateType {(\"update\"|\"remove\")}\n         * @param ctx the merge context\n         * @returns {boolean} true if the attribute should be ignored, false otherwise\n         */\n        function ignoreAttribute(attr, to, updateType, ctx) {\n            if(attr === 'value' && ctx.ignoreActiveValue && to === document.activeElement){\n                return true;\n            }\n            return ctx.callbacks.beforeAttributeUpdated(attr, to, updateType) === false;\n        }\n\n        /**\n         * syncs a given node with another node, copying over all attributes and\n         * inner element state from the 'from' node to the 'to' node\n         *\n         * @param {Element} from the element to copy attributes & state from\n         * @param {Element} to the element to copy attributes & state to\n         * @param ctx the merge context\n         */\n        function syncNodeFrom(from, to, ctx) {\n            let type = from.nodeType\n\n            // if is an element type, sync the attributes from the\n            // new node into the new node\n            if (type === 1 /* element type */) {\n                const fromAttributes = from.attributes;\n                const toAttributes = to.attributes;\n                for (const fromAttribute of fromAttributes) {\n                    if (ignoreAttribute(fromAttribute.name, to, 'update', ctx)) {\n                        continue;\n                    }\n                    if (to.getAttribute(fromAttribute.name) !== fromAttribute.value) {\n                        to.setAttribute(fromAttribute.name, fromAttribute.value);\n                    }\n                }\n                // iterate backwards to avoid skipping over items when a delete occurs\n                for (let i = toAttributes.length - 1; 0 <= i; i--) {\n                    const toAttribute = toAttributes[i];\n                    if (ignoreAttribute(toAttribute.name, to, 'remove', ctx)) {\n                        continue;\n                    }\n                    if (!from.hasAttribute(toAttribute.name)) {\n                        to.removeAttribute(toAttribute.name);\n                    }\n                }\n            }\n\n            // sync text nodes\n            if (type === 8 /* comment */ || type === 3 /* text */) {\n                if (to.nodeValue !== from.nodeValue) {\n                    to.nodeValue = from.nodeValue;\n                }\n            }\n\n            if (!ignoreValueOfActiveElement(to, ctx)) {\n                // sync input values\n                syncInputValue(from, to, ctx);\n            }\n        }\n\n        /**\n         * @param from {Element} element to sync the value from\n         * @param to {Element} element to sync the value to\n         * @param attributeName {String} the attribute name\n         * @param ctx the merge context\n         */\n        function syncBooleanAttribute(from, to, attributeName, ctx) {\n            if (from[attributeName] !== to[attributeName]) {\n                let ignoreUpdate = ignoreAttribute(attributeName, to, 'update', ctx);\n                if (!ignoreUpdate) {\n                    to[attributeName] = from[attributeName];\n                }\n                if (from[attributeName]) {\n                    if (!ignoreUpdate) {\n                        to.setAttribute(attributeName, from[attributeName]);\n                    }\n                } else {\n                    if (!ignoreAttribute(attributeName, to, 'remove', ctx)) {\n                        to.removeAttribute(attributeName);\n                    }\n                }\n            }\n        }\n\n        /**\n         * NB: many bothans died to bring us information:\n         *\n         *  https://github.com/patrick-steele-idem/morphdom/blob/master/src/specialElHandlers.js\n         *  https://github.com/choojs/nanomorph/blob/master/lib/morph.jsL113\n         *\n         * @param from {Element} the element to sync the input value from\n         * @param to {Element} the element to sync the input value to\n         * @param ctx the merge context\n         */\n        function syncInputValue(from, to, ctx) {\n            if (from instanceof HTMLInputElement &&\n                to instanceof HTMLInputElement &&\n                from.type !== 'file') {\n\n                let fromValue = from.value;\n                let toValue = to.value;\n\n                // sync boolean attributes\n                syncBooleanAttribute(from, to, 'checked', ctx);\n                syncBooleanAttribute(from, to, 'disabled', ctx);\n\n                if (!from.hasAttribute('value')) {\n                    if (!ignoreAttribute('value', to, 'remove', ctx)) {\n                        to.value = '';\n                        to.removeAttribute('value');\n                    }\n                } else if (fromValue !== toValue) {\n                    if (!ignoreAttribute('value', to, 'update', ctx)) {\n                        to.setAttribute('value', fromValue);\n                        to.value = fromValue;\n                    }\n                }\n            } else if (from instanceof HTMLOptionElement) {\n                syncBooleanAttribute(from, to, 'selected', ctx)\n            } else if (from instanceof HTMLTextAreaElement && to instanceof HTMLTextAreaElement) {\n                let fromValue = from.value;\n                let toValue = to.value;\n                if (ignoreAttribute('value', to, 'update', ctx)) {\n                    return;\n                }\n                if (fromValue !== toValue) {\n                    to.value = fromValue;\n                }\n                if (to.firstChild && to.firstChild.nodeValue !== fromValue) {\n                    to.firstChild.nodeValue = fromValue\n                }\n            }\n        }\n\n        //=============================================================================\n        // the HEAD tag can be handled specially, either w/ a 'merge' or 'append' style\n        //=============================================================================\n        function handleHeadElement(newHeadTag, currentHead, ctx) {\n\n            let added = []\n            let removed = []\n            let preserved = []\n            let nodesToAppend = []\n\n            let headMergeStyle = ctx.head.style;\n\n            // put all new head elements into a Map, by their outerHTML\n            let srcToNewHeadNodes = new Map();\n            for (const newHeadChild of newHeadTag.children) {\n                srcToNewHeadNodes.set(newHeadChild.outerHTML, newHeadChild);\n            }\n\n            // for each elt in the current head\n            for (const currentHeadElt of currentHead.children) {\n\n                // If the current head element is in the map\n                let inNewContent = srcToNewHeadNodes.has(currentHeadElt.outerHTML);\n                let isReAppended = ctx.head.shouldReAppend(currentHeadElt);\n                let isPreserved = ctx.head.shouldPreserve(currentHeadElt);\n                if (inNewContent || isPreserved) {\n                    if (isReAppended) {\n                        // remove the current version and let the new version replace it and re-execute\n                        removed.push(currentHeadElt);\n                    } else {\n                        // this element already exists and should not be re-appended, so remove it from\n                        // the new content map, preserving it in the DOM\n                        srcToNewHeadNodes.delete(currentHeadElt.outerHTML);\n                        preserved.push(currentHeadElt);\n                    }\n                } else {\n                    if (headMergeStyle === \"append\") {\n                        // we are appending and this existing element is not new content\n                        // so if and only if it is marked for re-append do we do anything\n                        if (isReAppended) {\n                            removed.push(currentHeadElt);\n                            nodesToAppend.push(currentHeadElt);\n                        }\n                    } else {\n                        // if this is a merge, we remove this content since it is not in the new head\n                        if (ctx.head.shouldRemove(currentHeadElt) !== false) {\n                            removed.push(currentHeadElt);\n                        }\n                    }\n                }\n            }\n\n            // Push the remaining new head elements in the Map into the\n            // nodes to append to the head tag\n            nodesToAppend.push(...srcToNewHeadNodes.values());\n            log(\"to append: \", nodesToAppend);\n\n            let promises = [];\n            for (const newNode of nodesToAppend) {\n                log(\"adding: \", newNode);\n                let newElt = document.createRange().createContextualFragment(newNode.outerHTML).firstChild;\n                log(newElt);\n                if (ctx.callbacks.beforeNodeAdded(newElt) !== false) {\n                    if (newElt.href || newElt.src) {\n                        let resolve = null;\n                        let promise = new Promise(function (_resolve) {\n                            resolve = _resolve;\n                        });\n                        newElt.addEventListener('load', function () {\n                            resolve();\n                        });\n                        promises.push(promise);\n                    }\n                    currentHead.appendChild(newElt);\n                    ctx.callbacks.afterNodeAdded(newElt);\n                    added.push(newElt);\n                }\n            }\n\n            // remove all removed elements, after we have appended the new elements to avoid\n            // additional network requests for things like style sheets\n            for (const removedElement of removed) {\n                if (ctx.callbacks.beforeNodeRemoved(removedElement) !== false) {\n                    currentHead.removeChild(removedElement);\n                    ctx.callbacks.afterNodeRemoved(removedElement);\n                }\n            }\n\n            ctx.head.afterHeadMorphed(currentHead, {added: added, kept: preserved, removed: removed});\n            return promises;\n        }\n\n        //=============================================================================\n        // Misc\n        //=============================================================================\n\n        function log() {\n            //console.log(arguments);\n        }\n\n        function noOp() {\n        }\n\n        /*\n          Deep merges the config object and the Idiomoroph.defaults object to\n          produce a final configuration object\n         */\n        function mergeDefaults(config) {\n            let finalConfig = {};\n            // copy top level stuff into final config\n            Object.assign(finalConfig, defaults);\n            Object.assign(finalConfig, config);\n\n            // copy callbacks into final config (do this to deep merge the callbacks)\n            finalConfig.callbacks = {};\n            Object.assign(finalConfig.callbacks, defaults.callbacks);\n            Object.assign(finalConfig.callbacks, config.callbacks);\n\n            // copy head config into final config  (do this to deep merge the head)\n            finalConfig.head = {};\n            Object.assign(finalConfig.head, defaults.head);\n            Object.assign(finalConfig.head, config.head);\n            return finalConfig;\n        }\n\n        function createMorphContext(oldNode, newContent, config) {\n            config = mergeDefaults(config);\n            return {\n                target: oldNode,\n                newContent: newContent,\n                config: config,\n                morphStyle: config.morphStyle,\n                ignoreActive: config.ignoreActive,\n                ignoreActiveValue: config.ignoreActiveValue,\n                idMap: createIdMap(oldNode, newContent),\n                deadIds: new Set(),\n                callbacks: config.callbacks,\n                head: config.head\n            }\n        }\n\n        function isIdSetMatch(node1, node2, ctx) {\n            if (node1 == null || node2 == null) {\n                return false;\n            }\n            if (node1.nodeType === node2.nodeType && node1.tagName === node2.tagName) {\n                if (node1.id !== \"\" && node1.id === node2.id) {\n                    return true;\n                } else {\n                    return getIdIntersectionCount(ctx, node1, node2) > 0;\n                }\n            }\n            return false;\n        }\n\n        function isSoftMatch(node1, node2) {\n            if (node1 == null || node2 == null) {\n                return false;\n            }\n            return node1.nodeType === node2.nodeType && node1.tagName === node2.tagName\n        }\n\n        function removeNodesBetween(startInclusive, endExclusive, ctx) {\n            while (startInclusive !== endExclusive) {\n                let tempNode = startInclusive;\n                startInclusive = startInclusive.nextSibling;\n                removeNode(tempNode, ctx);\n            }\n            removeIdsFromConsideration(ctx, endExclusive);\n            return endExclusive.nextSibling;\n        }\n\n        //=============================================================================\n        // Scans forward from the insertionPoint in the old parent looking for a potential id match\n        // for the newChild.  We stop if we find a potential id match for the new child OR\n        // if the number of potential id matches we are discarding is greater than the\n        // potential id matches for the new child\n        //=============================================================================\n        function findIdSetMatch(newContent, oldParent, newChild, insertionPoint, ctx) {\n\n            // max id matches we are willing to discard in our search\n            let newChildPotentialIdCount = getIdIntersectionCount(ctx, newChild, oldParent);\n\n            let potentialMatch = null;\n\n            // only search forward if there is a possibility of an id match\n            if (newChildPotentialIdCount > 0) {\n                let potentialMatch = insertionPoint;\n                // if there is a possibility of an id match, scan forward\n                // keep track of the potential id match count we are discarding (the\n                // newChildPotentialIdCount must be greater than this to make it likely\n                // worth it)\n                let otherMatchCount = 0;\n                while (potentialMatch != null) {\n\n                    // If we have an id match, return the current potential match\n                    if (isIdSetMatch(newChild, potentialMatch, ctx)) {\n                        return potentialMatch;\n                    }\n\n                    // computer the other potential matches of this new content\n                    otherMatchCount += getIdIntersectionCount(ctx, potentialMatch, newContent);\n                    if (otherMatchCount > newChildPotentialIdCount) {\n                        // if we have more potential id matches in _other_ content, we\n                        // do not have a good candidate for an id match, so return null\n                        return null;\n                    }\n\n                    // advanced to the next old content child\n                    potentialMatch = potentialMatch.nextSibling;\n                }\n            }\n            return potentialMatch;\n        }\n\n        //=============================================================================\n        // Scans forward from the insertionPoint in the old parent looking for a potential soft match\n        // for the newChild.  We stop if we find a potential soft match for the new child OR\n        // if we find a potential id match in the old parents children OR if we find two\n        // potential soft matches for the next two pieces of new content\n        //=============================================================================\n        function findSoftMatch(newContent, oldParent, newChild, insertionPoint, ctx) {\n\n            let potentialSoftMatch = insertionPoint;\n            let nextSibling = newChild.nextSibling;\n            let siblingSoftMatchCount = 0;\n\n            while (potentialSoftMatch != null) {\n\n                if (getIdIntersectionCount(ctx, potentialSoftMatch, newContent) > 0) {\n                    // the current potential soft match has a potential id set match with the remaining new\n                    // content so bail out of looking\n                    return null;\n                }\n\n                // if we have a soft match with the current node, return it\n                if (isSoftMatch(newChild, potentialSoftMatch)) {\n                    return potentialSoftMatch;\n                }\n\n                if (isSoftMatch(nextSibling, potentialSoftMatch)) {\n                    // the next new node has a soft match with this node, so\n                    // increment the count of future soft matches\n                    siblingSoftMatchCount++;\n                    nextSibling = nextSibling.nextSibling;\n\n                    // If there are two future soft matches, bail to allow the siblings to soft match\n                    // so that we don't consume future soft matches for the sake of the current node\n                    if (siblingSoftMatchCount >= 2) {\n                        return null;\n                    }\n                }\n\n                // advanced to the next old content child\n                potentialSoftMatch = potentialSoftMatch.nextSibling;\n            }\n\n            return potentialSoftMatch;\n        }\n\n        function parseContent(newContent) {\n            let parser = new DOMParser();\n\n            // remove svgs to avoid false-positive matches on head, etc.\n            let contentWithSvgsRemoved = newContent.replace(/<svg(\\s[^>]*>|>)([\\s\\S]*?)<\\/svg>/gim, '');\n\n            // if the newContent contains a html, head or body tag, we can simply parse it w/o wrapping\n            if (contentWithSvgsRemoved.match(/<\\/html>/) || contentWithSvgsRemoved.match(/<\\/head>/) || contentWithSvgsRemoved.match(/<\\/body>/)) {\n                let content = parser.parseFromString(newContent, \"text/html\");\n                // if it is a full HTML document, return the document itself as the parent container\n                if (contentWithSvgsRemoved.match(/<\\/html>/)) {\n                    content.generatedByIdiomorph = true;\n                    return content;\n                } else {\n                    // otherwise return the html element as the parent container\n                    let htmlElement = content.firstChild;\n                    if (htmlElement) {\n                        htmlElement.generatedByIdiomorph = true;\n                        return htmlElement;\n                    } else {\n                        return null;\n                    }\n                }\n            } else {\n                // if it is partial HTML, wrap it in a template tag to provide a parent element and also to help\n                // deal with touchy tags like tr, tbody, etc.\n                let responseDoc = parser.parseFromString(\"<body><template>\" + newContent + \"</template></body>\", \"text/html\");\n                let content = responseDoc.body.querySelector('template').content;\n                content.generatedByIdiomorph = true;\n                return content\n            }\n        }\n\n        function normalizeContent(newContent) {\n            if (newContent == null) {\n                // noinspection UnnecessaryLocalVariableJS\n                const dummyParent = document.createElement('div');\n                return dummyParent;\n            } else if (newContent.generatedByIdiomorph) {\n                // the template tag created by idiomorph parsing can serve as a dummy parent\n                return newContent;\n            } else if (newContent instanceof Node) {\n                // a single node is added as a child to a dummy parent\n                const dummyParent = document.createElement('div');\n                dummyParent.append(newContent);\n                return dummyParent;\n            } else {\n                // all nodes in the array or HTMLElement collection are consolidated under\n                // a single dummy parent element\n                const dummyParent = document.createElement('div');\n                for (const elt of [...newContent]) {\n                    dummyParent.append(elt);\n                }\n                return dummyParent;\n            }\n        }\n\n        function insertSiblings(previousSibling, morphedNode, nextSibling) {\n            let stack = []\n            let added = []\n            while (previousSibling != null) {\n                stack.push(previousSibling);\n                previousSibling = previousSibling.previousSibling;\n            }\n            while (stack.length > 0) {\n                let node = stack.pop();\n                added.push(node); // push added preceding siblings on in order and insert\n                morphedNode.parentElement.insertBefore(node, morphedNode);\n            }\n            added.push(morphedNode);\n            while (nextSibling != null) {\n                stack.push(nextSibling);\n                added.push(nextSibling); // here we are going in order, so push on as we scan, rather than add\n                nextSibling = nextSibling.nextSibling;\n            }\n            while (stack.length > 0) {\n                morphedNode.parentElement.insertBefore(stack.pop(), morphedNode.nextSibling);\n            }\n            return added;\n        }\n\n        function findBestNodeMatch(newContent, oldNode, ctx) {\n            let currentElement;\n            currentElement = newContent.firstChild;\n            let bestElement = currentElement;\n            let score = 0;\n            while (currentElement) {\n                let newScore = scoreElement(currentElement, oldNode, ctx);\n                if (newScore > score) {\n                    bestElement = currentElement;\n                    score = newScore;\n                }\n                currentElement = currentElement.nextSibling;\n            }\n            return bestElement;\n        }\n\n        function scoreElement(node1, node2, ctx) {\n            if (isSoftMatch(node1, node2)) {\n                return .5 + getIdIntersectionCount(ctx, node1, node2);\n            }\n            return 0;\n        }\n\n        function removeNode(tempNode, ctx) {\n            removeIdsFromConsideration(ctx, tempNode)\n            if (ctx.callbacks.beforeNodeRemoved(tempNode) === false) return;\n\n            tempNode.remove();\n            ctx.callbacks.afterNodeRemoved(tempNode);\n        }\n\n        //=============================================================================\n        // ID Set Functions\n        //=============================================================================\n\n        function isIdInConsideration(ctx, id) {\n            return !ctx.deadIds.has(id);\n        }\n\n        function idIsWithinNode(ctx, id, targetNode) {\n            let idSet = ctx.idMap.get(targetNode) || EMPTY_SET;\n            return idSet.has(id);\n        }\n\n        function removeIdsFromConsideration(ctx, node) {\n            let idSet = ctx.idMap.get(node) || EMPTY_SET;\n            for (const id of idSet) {\n                ctx.deadIds.add(id);\n            }\n        }\n\n        function getIdIntersectionCount(ctx, node1, node2) {\n            let sourceSet = ctx.idMap.get(node1) || EMPTY_SET;\n            let matchCount = 0;\n            for (const id of sourceSet) {\n                // a potential match is an id in the source and potentialIdsSet, but\n                // that has not already been merged into the DOM\n                if (isIdInConsideration(ctx, id) && idIsWithinNode(ctx, id, node2)) {\n                    ++matchCount;\n                }\n            }\n            return matchCount;\n        }\n\n        /**\n         * A bottom up algorithm that finds all elements with ids inside of the node\n         * argument and populates id sets for those nodes and all their parents, generating\n         * a set of ids contained within all nodes for the entire hierarchy in the DOM\n         *\n         * @param node {Element}\n         * @param {Map<Node, Set<String>>} idMap\n         */\n        function populateIdMapForNode(node, idMap) {\n            let nodeParent = node.parentElement;\n            // find all elements with an id property\n            let idElements = node.querySelectorAll('[id]');\n            for (const elt of idElements) {\n                let current = elt;\n                // walk up the parent hierarchy of that element, adding the id\n                // of element to the parent's id set\n                while (current !== nodeParent && current != null) {\n                    let idSet = idMap.get(current);\n                    // if the id set doesn't exist, create it and insert it in the  map\n                    if (idSet == null) {\n                        idSet = new Set();\n                        idMap.set(current, idSet);\n                    }\n                    idSet.add(elt.id);\n                    current = current.parentElement;\n                }\n            }\n        }\n\n        /**\n         * This function computes a map of nodes to all ids contained within that node (inclusive of the\n         * node).  This map can be used to ask if two nodes have intersecting sets of ids, which allows\n         * for a looser definition of \"matching\" than tradition id matching, and allows child nodes\n         * to contribute to a parent nodes matching.\n         *\n         * @param {Element} oldContent  the old content that will be morphed\n         * @param {Element} newContent  the new content to morph to\n         * @returns {Map<Node, Set<String>>} a map of nodes to id sets for the\n         */\n        function createIdMap(oldContent, newContent) {\n            let idMap = new Map();\n            populateIdMapForNode(oldContent, idMap);\n            populateIdMapForNode(newContent, idMap);\n            return idMap;\n        }\n\n        //=============================================================================\n        // This is what ends up becoming the Idiomorph global object\n        //=============================================================================\n        return {\n            morph,\n            defaults\n        }\n    })();\n\nexport {Idiomorph};\n","/*!\r\n * Pikaday\r\n *\r\n * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday\r\n */\r\n\r\n(function (root, factory)\r\n{\r\n    'use strict';\r\n\r\n    var moment;\r\n    if (typeof exports === 'object') {\r\n        // CommonJS module\r\n        // Load moment.js as an optional dependency\r\n        try { moment = require('moment'); } catch (e) {}\r\n        module.exports = factory(moment);\r\n    } else if (typeof define === 'function' && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define(function (req)\r\n        {\r\n            // Load moment.js as an optional dependency\r\n            var id = 'moment';\r\n            try { moment = req(id); } catch (e) {}\r\n            return factory(moment);\r\n        });\r\n    } else {\r\n        root.Pikaday = factory(root.moment);\r\n    }\r\n}(this || window, function (moment)\r\n{\r\n    'use strict';\r\n\r\n    /**\r\n     * feature detection and helper functions\r\n     */\r\n    var hasMoment = typeof moment === 'function',\r\n\r\n    hasEventListeners = !!window.addEventListener,\r\n\r\n    document = window.document,\r\n\r\n    sto = window.setTimeout,\r\n\r\n    addEvent = function(el, e, callback, capture)\r\n    {\r\n        if (hasEventListeners) {\r\n            el.addEventListener(e, callback, !!capture);\r\n        } else {\r\n            el.attachEvent('on' + e, callback);\r\n        }\r\n    },\r\n\r\n    removeEvent = function(el, e, callback, capture)\r\n    {\r\n        if (hasEventListeners) {\r\n            el.removeEventListener(e, callback, !!capture);\r\n        } else {\r\n            el.detachEvent('on' + e, callback);\r\n        }\r\n    },\r\n\r\n    trim = function(str)\r\n    {\r\n        return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g,'');\r\n    },\r\n\r\n    hasClass = function(el, cn)\r\n    {\r\n        return (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1;\r\n    },\r\n\r\n    addClass = function(el, cn)\r\n    {\r\n        if (!hasClass(el, cn)) {\r\n            el.className = (el.className === '') ? cn : el.className + ' ' + cn;\r\n        }\r\n    },\r\n\r\n    removeClass = function(el, cn)\r\n    {\r\n        el.className = trim((' ' + el.className + ' ').replace(' ' + cn + ' ', ' '));\r\n    },\r\n\r\n    isArray = function(obj)\r\n    {\r\n        return (/Array/).test(Object.prototype.toString.call(obj));\r\n    },\r\n\r\n    isDate = function(obj)\r\n    {\r\n        return (/Date/).test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\r\n    },\r\n\r\n    isWeekend = function(date)\r\n    {\r\n        var day = date.getDay();\r\n        return day === 0 || day === 6;\r\n    },\r\n\r\n    isLeapYear = function(year)\r\n    {\r\n        // solution lifted from date.js (MIT license): https://github.com/datejs/Datejs\r\n        return ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0);\r\n    },\r\n\r\n    getDaysInMonth = function(year, month)\r\n    {\r\n        return [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\r\n    },\r\n\r\n    setToStartOfDay = function(date)\r\n    {\r\n        if (isDate(date)) date.setHours(0,0,0,0);\r\n    },\r\n\r\n    compareDates = function(a,b)\r\n    {\r\n        // weak date comparison (use setToStartOfDay(date) to ensure correct result)\r\n        return a.getTime() === b.getTime();\r\n    },\r\n\r\n    extend = function(to, from, overwrite)\r\n    {\r\n        var prop, hasProp;\r\n        for (prop in from) {\r\n            hasProp = to[prop] !== undefined;\r\n            if (hasProp && typeof from[prop] === 'object' && from[prop] !== null && from[prop].nodeName === undefined) {\r\n                if (isDate(from[prop])) {\r\n                    if (overwrite) {\r\n                        to[prop] = new Date(from[prop].getTime());\r\n                    }\r\n                }\r\n                else if (isArray(from[prop])) {\r\n                    if (overwrite) {\r\n                        to[prop] = from[prop].slice(0);\r\n                    }\r\n                } else {\r\n                    to[prop] = extend({}, from[prop], overwrite);\r\n                }\r\n            } else if (overwrite || !hasProp) {\r\n                to[prop] = from[prop];\r\n            }\r\n        }\r\n        return to;\r\n    },\r\n\r\n    fireEvent = function(el, eventName, data)\r\n    {\r\n        var ev;\r\n\r\n        if (document.createEvent) {\r\n            ev = document.createEvent('HTMLEvents');\r\n            ev.initEvent(eventName, true, false);\r\n            ev = extend(ev, data);\r\n            el.dispatchEvent(ev);\r\n        } else if (document.createEventObject) {\r\n            ev = document.createEventObject();\r\n            ev = extend(ev, data);\r\n            el.fireEvent('on' + eventName, ev);\r\n        }\r\n    },\r\n\r\n    adjustCalendar = function(calendar) {\r\n        if (calendar.month < 0) {\r\n            calendar.year -= Math.ceil(Math.abs(calendar.month)/12);\r\n            calendar.month += 12;\r\n        }\r\n        if (calendar.month > 11) {\r\n            calendar.year += Math.floor(Math.abs(calendar.month)/12);\r\n            calendar.month -= 12;\r\n        }\r\n        return calendar;\r\n    },\r\n\r\n    /**\r\n     * defaults and localisation\r\n     */\r\n    defaults = {\r\n\r\n        // bind the picker to a form field\r\n        field: null,\r\n\r\n        // automatically show/hide the picker on `field` focus (default `true` if `field` is set)\r\n        bound: undefined,\r\n\r\n        // data-attribute on the input field with an aria assistance text (only applied when `bound` is set)\r\n        ariaLabel: 'Use the arrow keys to pick a date',\r\n\r\n        // position of the datepicker, relative to the field (default to bottom & left)\r\n        // ('bottom' & 'left' keywords are not used, 'top' & 'right' are modifier on the bottom/left position)\r\n        position: 'bottom left',\r\n\r\n        // automatically fit in the viewport even if it means repositioning from the position option\r\n        reposition: true,\r\n\r\n        // the default output format for `.toString()` and `field` value\r\n        format: 'YYYY-MM-DD',\r\n\r\n        // the toString function which gets passed a current date object and format\r\n        // and returns a string\r\n        toString: null,\r\n\r\n        // used to create date object from current input string\r\n        parse: null,\r\n\r\n        // the initial date to view when first opened\r\n        defaultDate: null,\r\n\r\n        // make the `defaultDate` the initial selected value\r\n        setDefaultDate: false,\r\n\r\n        // first day of week (0: Sunday, 1: Monday etc)\r\n        firstDay: 0,\r\n\r\n        // minimum number of days in the week that gets week number one\r\n        // default ISO 8601, week 01 is the week with the first Thursday (4)\r\n        firstWeekOfYearMinDays: 4,\r\n\r\n        // the default flag for moment's strict date parsing\r\n        formatStrict: false,\r\n\r\n        // the minimum/earliest date that can be selected\r\n        minDate: null,\r\n        // the maximum/latest date that can be selected\r\n        maxDate: null,\r\n\r\n        // number of years either side, or array of upper/lower range\r\n        yearRange: 10,\r\n\r\n        // show week numbers at head of row\r\n        showWeekNumber: false,\r\n\r\n        // Week picker mode\r\n        pickWholeWeek: false,\r\n\r\n        // used internally (don't config outside)\r\n        minYear: 0,\r\n        maxYear: 9999,\r\n        minMonth: undefined,\r\n        maxMonth: undefined,\r\n\r\n        startRange: null,\r\n        endRange: null,\r\n\r\n        isRTL: false,\r\n\r\n        // Additional text to append to the year in the calendar title\r\n        yearSuffix: '',\r\n\r\n        // Render the month after year in the calendar title\r\n        showMonthAfterYear: false,\r\n\r\n        // Render days of the calendar grid that fall in the next or previous month\r\n        showDaysInNextAndPreviousMonths: false,\r\n\r\n        // Allows user to select days that fall in the next or previous month\r\n        enableSelectionDaysInNextAndPreviousMonths: false,\r\n\r\n        // how many months are visible\r\n        numberOfMonths: 1,\r\n\r\n        // when numberOfMonths is used, this will help you to choose where the main calendar will be (default `left`, can be set to `right`)\r\n        // only used for the first display or when a selected date is not visible\r\n        mainCalendar: 'left',\r\n\r\n        // Specify a DOM element to render the calendar in\r\n        container: undefined,\r\n\r\n        // Blur field when date is selected\r\n        blurFieldOnSelect : true,\r\n\r\n        // internationalization\r\n        i18n: {\r\n            previousMonth : 'Previous Month',\r\n            nextMonth     : 'Next Month',\r\n            months        : ['January','February','March','April','May','June','July','August','September','October','November','December'],\r\n            weekdays      : ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],\r\n            weekdaysShort : ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']\r\n        },\r\n\r\n        // Theme Classname\r\n        theme: null,\r\n\r\n        // events array\r\n        events: [],\r\n\r\n        // callback function\r\n        onInitialize: null,\r\n        onSelect: null,\r\n        onBeforeOpen: null,\r\n        onOpen: null,\r\n        onBeforeClose: null,\r\n        onClose: null,\r\n        onDraw: null,\r\n\r\n        // Enable keyboard input\r\n        keyboardInput: true,\r\n\r\n        // option to show calendar title text\r\n        heading: null,\r\n\r\n        // option to prevent calendar from auto-closing after date is selected\r\n        autoClose: true,\r\n\r\n        // option to show buttons at the bottom. autoClose will auto be set to false.\r\n        showButtons: false,\r\n\r\n        // option to place buttons at the top or bottom.\r\n        buttonsPlacement: 'bottom',\r\n\r\n        // option to show or hide buttons\r\n        // changing the order of values changes the order of buttons\r\n        buttons: ['clear', 'cancel', 'today', 'apply'],\r\n\r\n        // clear button text or inner html\r\n        clear: 'Clear',\r\n\r\n        // today button text or inner html\r\n        today: 'Today',\r\n\r\n        // cancel button text or inner html\r\n        cancel: 'Cancel',\r\n\r\n        // apply button text or inner html\r\n        apply: 'Set Date',\r\n\r\n        // Custom additions\r\n        calendarClass: null,\r\n        headerClass: '',\r\n        monthClass: '',\r\n        yearClass: '',\r\n        titleClass: '',\r\n        previousClass: '',\r\n        nextClass: '',\r\n        weekdayClass: '',\r\n        daysClass: '',\r\n        dayClass: '',\r\n        buttonsClass: '',\r\n        clearClass: '',\r\n        todayClass: '',\r\n        cancelClass: '',\r\n        applyClass: ''\r\n    },\r\n\r\n\r\n    /**\r\n     * templating functions to abstract HTML rendering\r\n     */\r\n    renderDayName = function(opts, day, abbr)\r\n    {\r\n        day += opts.firstDay;\r\n        while (day >= 7) {\r\n            day -= 7;\r\n        }\r\n        return abbr ? opts.i18n.weekdaysShort[day] : opts.i18n.weekdays[day];\r\n    },\r\n\r\n    renderDay = function(opts, self)\r\n    {\r\n        let attr = [];\r\n        var arr = [];\r\n        var ariaSelected = 'false';\r\n        if (opts.isEmpty) {\r\n            if (opts.showDaysInNextAndPreviousMonths) {\r\n                // arr.push('is-outside-current-month');\r\n                attr.push('data-dp-muted');\r\n\r\n                if(!opts.enableSelectionDaysInNextAndPreviousMonths) {\r\n                    // arr.push('is-selection-disabled');\r\n                    attr.push('disabled');\r\n                }\r\n\r\n            } else {\r\n                return `<td class=\"is-empty ${self.daysClass}\"></td>`;\r\n            }\r\n        }\r\n        if (opts.isDisabled) {\r\n            arr.push('is-disabled');\r\n            attr.push('disabled');\r\n        }\r\n        if (opts.isToday) {\r\n            // arr.push('is-today');\r\n            attr.push('data-dp-today');\r\n        }\r\n        if (opts.isSelected) {\r\n            arr.push('is-selected');\r\n            attr.push('data-dp-selected');\r\n            ariaSelected = 'true';\r\n        }\r\n        if (opts.hasEvent) {\r\n            // arr.push('has-event');\r\n            attr.push('data-dp-event');\r\n        }\r\n        if (opts.isInRange) {\r\n            // arr.push('is-inrange');\r\n            attr.push('data-dp-range');\r\n        }\r\n        if (opts.isStartRange) {\r\n            // arr.push('is-startrange');\r\n            attr.push('data-dp-range-start');\r\n        }\r\n        if (opts.isEndRange) {\r\n            // arr.push('is-endrange');\r\n            attr.push('data-dp-range-end');\r\n        }\r\n     \r\n        return `<td data-day=\"${opts.day}\" class=\"${arr.join(' ')} ${self.daysClass}\" aria-selected=\"${ariaSelected}\">\r\n                    <button class=\"dp-button dp-day ${self.dayClass}\" type=\"button\" data-dp-year=\"${opts.year}\" data-dp-month=\"${opts.month}\" data-dp-day=\"${opts.day}\" ${attr.join(' ')}>\r\n                        ${opts.day}\r\n                    </button>\r\n                </td>`;\r\n    },\r\n\r\n    isoWeek = function(date, firstWeekOfYearMinDays) {\r\n        // Ensure we're at the start of the day.\r\n        date.setHours(0, 0, 0, 0);\r\n\r\n        // Thursday in current week decides the year because January 4th\r\n        // is always in the first week according to ISO8601.\r\n        var yearDay        = date.getDate(),\r\n            weekDay        = date.getDay(),\r\n            dayInFirstWeek = firstWeekOfYearMinDays,\r\n            dayShift       = dayInFirstWeek - 1, // counting starts at 0\r\n            daysPerWeek    = 7,\r\n            prevWeekDay    = function(day) { return (day + daysPerWeek - 1) % daysPerWeek; };\r\n\r\n        // Adjust to Thursday in week 1 and count number of weeks from date to week 1.\r\n        date.setDate(yearDay + dayShift - prevWeekDay(weekDay));\r\n\r\n        var jan4th      = new Date(date.getFullYear(), 0, dayInFirstWeek),\r\n            msPerDay    = 24 * 60 * 60 * 1000,\r\n            daysBetween = (date.getTime() - jan4th.getTime()) / msPerDay,\r\n            weekNum     = 1 + Math.round((daysBetween - dayShift + prevWeekDay(jan4th.getDay())) / daysPerWeek);\r\n\r\n        return weekNum;\r\n    },\r\n\r\n    renderWeek = function (d, m, y, firstWeekOfYearMinDays) {\r\n        var date = new Date(y, m, d),\r\n            week = hasMoment ? moment(date).isoWeek() : isoWeek(date, firstWeekOfYearMinDays);\r\n\r\n        return '<td class=\"dp-week\">' + week + '</td>';\r\n    },\r\n\r\n    renderRow = function(days, isRTL, pickWholeWeek, isRowSelected)\r\n    {\r\n        return '<tr class=\"dp-row' + (pickWholeWeek ? ' pick-whole-week' : '') + (isRowSelected ? ' is-selected' : '') + '\">' + (isRTL ? days.reverse() : days).join('') + '</tr>';\r\n    },\r\n\r\n    renderBody = function(rows)\r\n    {\r\n        return '<tbody>' + rows.join('') + '</tbody>';\r\n    },\r\n\r\n    renderHead = function(opts)\r\n    {\r\n        var i, arr = [];\r\n        if (opts.showWeekNumber) {\r\n            arr.push('<th></th>');\r\n        }\r\n        for (i = 0; i < 7; i++) {\r\n            arr.push('<th scope=\"col\"><div class=\"' + opts.weekdayClass + '\" title=\"' + renderDayName(opts, i) + '\" aria-label=\"' + renderDayName(opts, i) + '\">' + renderDayName(opts, i, true) + '</div></th>');\r\n        }\r\n        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\r\n    },\r\n\r\n    renderTitle = function(instance, c, year, month, refYear, randId)\r\n    {\r\n        var i, j, arr,\r\n            opts = instance._o,\r\n            isMinYear = year === opts.minYear,\r\n            isMaxYear = year === opts.maxYear,\r\n            html = '<div id=\"' + randId + '\" class=\"dp-title ' + opts.headerClass + '\" role=\"heading\" aria-live=\"polite\">',\r\n            monthHtml,\r\n            yearHtml,\r\n            prev = true,\r\n            next = true;\r\n\r\n        for (arr = [], i = 0; i < 12; i++) {\r\n            arr.push('<option value=\"' + (year === refYear ? i - c : 12 + i - c) + '\"' +\r\n                (i === month ? ' selected=\"selected\"': '') +\r\n                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth) ? ' disabled=\"disabled\"' : '') + '>' +\r\n                opts.i18n.months[i] + '</option>');\r\n        }\r\n\r\n        monthHtml = '<div class=\"dp-label ' + opts.monthClass + '\">' + opts.i18n.months[month] + '<select class=\"dp-select dp-select-month\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\r\n        // monthHtml = '<div class=\"dp-label\">' + opts.i18n.months[month] + '<select class=\"dp-select dp-select-month\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\r\n\r\n        if (isArray(opts.yearRange)) {\r\n            i = opts.yearRange[0];\r\n            j = opts.yearRange[1] + 1;\r\n        } else {\r\n            i = year - opts.yearRange;\r\n            j = 1 + year + opts.yearRange;\r\n        }\r\n\r\n        for (arr = []; i < j && i <= opts.maxYear; i++) {\r\n            if (i >= opts.minYear) {\r\n                arr.push('<option value=\"' + i + '\"' + (i === year ? ' selected=\"selected\"': '') + '>' + (i) + '</option>');\r\n            }\r\n        }\r\n        yearHtml = '<div class=\"dp-label ' + opts.yearClass + '\">' + year + opts.yearSuffix + '<select class=\"dp-select dp-select-year\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\r\n        // yearHtml = '<div class=\"dp-label\">' + year + opts.yearSuffix + '<select class=\"dp-select dp-select-year\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\r\n\r\n        if (isMinYear && (month === 0 || opts.minMonth >= month)) {\r\n            prev = false;\r\n        }\r\n\r\n        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\r\n            next = false;\r\n        }\r\n\r\n        if (c === 0) {\r\n            html += `<button class=\"dp-prev ${prev ? '' : 'is-disabled'} ${opts.previousClass}\" type=\"button\" ${prev ? '' : 'disabled'}>${opts.i18n.previousMonth}</button>`;\r\n        }\r\n\r\n        if (opts.showMonthAfterYear) {\r\n            html += yearHtml + monthHtml;\r\n        } else {\r\n            html += monthHtml + yearHtml;\r\n        }\r\n\r\n        if (c === (instance._o.numberOfMonths - 1) ) {\r\n            html += `<button class=\"dp-next ${next ? '' : 'is-disabled'} ${opts.nextClass}\" type=\"button\" ${next ? '' : 'disabled'}>${opts.i18n.nextMonth}</button>`;\r\n        }\r\n\r\n        return html += '</div>';\r\n    },\r\n\r\n    renderTable = function(opts, data, randId)\r\n    {\r\n        return '<table cellpadding=\"0\" cellspacing=\"0\" class=\"dp-table\" role=\"grid\" aria-labelledby=\"' + randId + '\">' + renderHead(opts) + renderBody(data) + '</table>';\r\n    },\r\n\r\n    renderHeading = function(opts)\r\n    {\r\n        if (opts.title) {\r\n            return '<div class=\"dp-header-title ' + opts.titleClass + '\">' + opts.title + '</div>';\r\n        }\r\n\r\n        return '';\r\n    },\r\n\r\n    renderFoot = function(opts)\r\n    {\r\n        let html = '';\r\n        let buttons = {\r\n            clear: '<button class=\"dp-clear ' + opts.clearClass + '\" type=\"button\">' + opts.clear + '</button>',\r\n            cancel: '<button class=\"dp-cancel ' + opts.cancelClass + '\" type=\"button\">' + opts.cancel + '</button>',\r\n            today: '<button class=\"dp-today ' + opts.todayClass + '\" type=\"button\">' + opts.today + '</button>',\r\n            apply: '<button class=\"dp-apply ' + opts.applyClass + '\" type=\"button\">' + opts.apply + '</button>'\r\n        };\r\n        if (opts.showButtons) {\r\n            html += '<div class=\"dp-buttons ' + opts.buttonsClass + '\">';\r\n\r\n            opts.buttons.forEach((button) => {\r\n                html += buttons[button];\r\n            });\r\n\r\n            html += '</div>';\r\n        }\r\n        return html;\r\n    },\r\n\r\n\r\n    /**\r\n     * Pikaday constructor\r\n     */\r\n    Pikaday = function(options)\r\n    {\r\n        var self = this,\r\n            opts = self.config(options);\r\n\r\n        self._onMouseDown = function(e)\r\n        {\r\n            if (!self._v) {\r\n                return;\r\n            }\r\n            e = e || window.event;\r\n            var target = e.target || e.srcElement;\r\n            if (!target) {\r\n                return;\r\n            }\r\n\r\n            if (opts.showButtons) {\r\n\r\n                // set today's date\r\n                if (hasClass(target, 'dp-today')) {      \r\n                    let today = new Date();\r\n\r\n                    if (self._o.toString) {\r\n                        self._o.field.value = self._o.toString(today, self._o.format);\r\n                    } else if (hasMoment) {\r\n                        self._o.field.value = moment(today).format(self._o.format);\r\n                    } else {\r\n                        self._o.field.value = today.toDateString();\r\n                    }\r\n\r\n                    self.hide();\r\n                    if (opts.field && opts.blurFieldOnSelect) {\r\n                        opts.field.blur();\r\n                    }\r\n\r\n                    self.setDate(new Date(today.getFullYear(), today.getMonth(), today.getDate()));\r\n                }\r\n\r\n                // manually apply date\r\n                if (hasClass(target, 'dp-apply')) {\r\n                    self._o.field.value = self.toString();\r\n                    self.hide();\r\n                    if (opts.field && opts.blurFieldOnSelect) {\r\n                        opts.field.blur();\r\n                    }\r\n                }\r\n\r\n                // close calendar\r\n                if (hasClass(target, 'dp-cancel')) {\r\n                    self.hide();\r\n                    if (opts.field && opts.blurFieldOnSelect) {\r\n                        opts.field.blur();\r\n                    }\r\n                }\r\n\r\n                // clear date\r\n                if (hasClass(target, 'dp-clear')) {\r\n                    self.hide();\r\n                    if (opts.field && opts.blurFieldOnSelect) {\r\n                        opts.field.blur();\r\n                    }\r\n                    self.clear();\r\n                }\r\n            }\r\n\r\n            if (!hasClass(target, 'is-disabled')) {\r\n                if (hasClass(target, 'dp-button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled')) {\r\n                    self.setDate(new Date(target.getAttribute('data-dp-year'), target.getAttribute('data-dp-month'), target.getAttribute('data-dp-day')));\r\n                    if (opts.bound) {\r\n                        sto(function() {\r\n                            // self.hide();\r\n                            if (opts.autoClose) {\r\n                                self.hide();\r\n                            }\r\n                            if (opts.blurFieldOnSelect && opts.field) {\r\n                                opts.field.blur();\r\n                            }\r\n                        }, 100);\r\n                    }\r\n                }\r\n                else if (hasClass(target, 'dp-prev')) {\r\n                    self.prevMonth();\r\n                }\r\n                else if (hasClass(target, 'dp-next')) {\r\n                    self.nextMonth();\r\n                }\r\n            }\r\n            if (!hasClass(target, 'dp-select')) {\r\n                // if this is touch event prevent mouse events emulation\r\n                if (e.preventDefault) {\r\n                    e.preventDefault();\r\n                } else {\r\n                    e.returnValue = false;\r\n                    return false;\r\n                }\r\n            } else {\r\n                self._c = true;\r\n            }\r\n        };\r\n\r\n        self._onChange = function(e)\r\n        {\r\n            e = e || window.event;\r\n            var target = e.target || e.srcElement;\r\n            if (!target) {\r\n                return;\r\n            }\r\n            if (hasClass(target, 'dp-select-month')) {\r\n                self.gotoMonth(target.value);\r\n            }\r\n            else if (hasClass(target, 'dp-select-year')) {\r\n                self.gotoYear(target.value);\r\n            }\r\n        };\r\n\r\n        self._onKeyChange = function(e)\r\n        {\r\n            e = e || window.event;\r\n            \r\n            if (self.isVisible()) {\r\n                e.preventDefault();\r\n\r\n                switch(e.key){\r\n                    case 'Enter':\r\n                    case ' ':\r\n                        if (opts.field) {\r\n                            opts.field.blur();\r\n                            self.hide();\r\n                        }\r\n                        break;\r\n                    case 'Escape':\r\n                        if (self.isVisible()) {\r\n                            self.hide();\r\n                        }\r\n                        break;\r\n                    case 'ArrowLeft':\r\n                        self.adjustDate('subtract', 1);\r\n                        break;\r\n                    case 'ArrowUp':\r\n                        self.adjustDate('subtract', 7);\r\n                        break;\r\n                    case 'ArrowRight':\r\n                        self.adjustDate('add', 1);\r\n                        break;\r\n                    case 'ArrowDown':\r\n                        self.adjustDate('add', 7);\r\n                        break;\r\n                    case 'Backspace':\r\n                    case 'Delete':\r\n                        self.setDate(null);\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n\r\n        self._parseFieldValue = function()\r\n        {\r\n            if (opts.parse) {\r\n                return opts.parse(opts.field.value, opts.format);\r\n            } else if (hasMoment) {\r\n                var date = moment(opts.field.value, opts.format, opts.formatStrict);\r\n                return (date && date.isValid()) ? date.toDate() : null;\r\n            } else {\r\n                return new Date(Date.parse(opts.field.value));\r\n            }\r\n        };\r\n\r\n        self._onInputChange = function(e)\r\n        {\r\n            var date;\r\n\r\n            if (e.firedBy === self) {\r\n                return;\r\n            }\r\n            date = self._parseFieldValue();\r\n            if (isDate(date)) {\r\n              self.setDate(date);\r\n            } else {\r\n                self.clear();\r\n            }\r\n            // if (!self._v) {\r\n            //     self.show();\r\n            // }\r\n        };\r\n\r\n        self._onInputFocus = function()\r\n        {\r\n            self.show();\r\n        };\r\n\r\n        self._onInputClick = function()\r\n        {\r\n            self.show();\r\n        };\r\n\r\n        self._onInputBlur = function()\r\n        {\r\n            // IE allows pika div to gain focus; catch blur the input field\r\n            var pEl = document.activeElement;\r\n            do {\r\n                if (hasClass(pEl, 'dp-single')) {\r\n                    return;\r\n                }\r\n            }\r\n            while ((pEl = pEl.parentNode));\r\n\r\n            // if (!self._c) {\r\n            //     self._b = sto(function() {\r\n            //         self.hide();\r\n            //     }, 50);\r\n            // }\r\n            if ((!opts.autoClose) && (opts.autoClose && !self._c)) {\r\n                self._b = sto(function() {\r\n                    self.hide();\r\n                }, 50);\r\n            }\r\n            self._c = false;\r\n        };\r\n\r\n        self._onClick = function(e)\r\n        {\r\n            e = e || window.event;\r\n            var target = e.target || e.srcElement,\r\n                pEl = target;\r\n            if (!target) {\r\n                return;\r\n            }\r\n            if (!hasEventListeners && hasClass(target, 'dp-select')) {\r\n                if (!target.onchange) {\r\n                    target.setAttribute('onchange', 'return;');\r\n                    addEvent(target, 'change', self._onChange);\r\n                }\r\n            }\r\n            do {\r\n                if (hasClass(pEl, 'dp-single') || pEl === opts.trigger) {\r\n                    return;\r\n                }\r\n            }\r\n            while ((pEl = pEl.parentNode));\r\n            if (self._v && target !== opts.trigger && pEl !== opts.trigger) {\r\n                self.hide();\r\n            }\r\n        };\r\n\r\n        self.el = document.createElement('div');\r\n        let calendarClass = opts.calendarClass ? ' ' + opts.calendarClass : '';\r\n        self.el.className = 'dp-single' + (opts.isRTL ? ' is-rtl' : '') + (opts.theme ? ' ' + opts.theme : '') + calendarClass;\r\n\r\n        if (opts.bound) {\r\n            self.el.style.display = 'none';\r\n        }\r\n        \r\n        addEvent(self.el, 'mousedown', self._onMouseDown, true);\r\n        addEvent(self.el, 'touchend', self._onMouseDown, true);\r\n        addEvent(self.el, 'change', self._onChange);\r\n\r\n        if (opts.keyboardInput) {\r\n            addEvent(document, 'keydown', self._onKeyChange);\r\n        }\r\n\r\n        if (opts.field) {\r\n            if (opts.container) {\r\n                opts.container.appendChild(self.el);\r\n            } else if (opts.bound) {\r\n                document.body.appendChild(self.el);\r\n            } else {\r\n                opts.field.parentNode.insertBefore(self.el, opts.field.nextSibling);\r\n            }\r\n            addEvent(opts.field, 'change', self._onInputChange);\r\n\r\n            if (!opts.defaultDate) {\r\n                opts.defaultDate = self._parseFieldValue();\r\n                opts.setDefaultDate = true;\r\n            }\r\n        }\r\n\r\n        var defDate = opts.defaultDate;\r\n\r\n        if (isDate(defDate)) {\r\n            if (opts.setDefaultDate) {\r\n                self.setDate(defDate, true);\r\n            } else {\r\n                self.gotoDate(defDate);\r\n            }\r\n        } else {\r\n            self.gotoDate(new Date());\r\n        }\r\n\r\n        if (opts.bound) {\r\n            this.hide();\r\n            self.el.className += ' is-bound';\r\n            addEvent(opts.trigger, 'click', self._onInputClick);\r\n            addEvent(opts.trigger, 'focus', self._onInputFocus);\r\n            addEvent(opts.trigger, 'blur', self._onInputBlur);\r\n        } else {\r\n            this.show();\r\n        }\r\n\r\n        if (typeof this._o.onInitialize === 'function') {\r\n            this._o.onInitialize.call(this);\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * public Pikaday API\r\n     */\r\n    Pikaday.prototype = {\r\n\r\n\r\n        /**\r\n         * configure functionality\r\n         */\r\n        config: function(options)\r\n        {\r\n            if (!this._o) {\r\n                this._o = extend({}, defaults, true);\r\n            }\r\n\r\n            var opts = extend(this._o, options, true);\r\n\r\n            opts.isRTL = !!opts.isRTL;\r\n\r\n            opts.showButtons = !!opts.showButtons;\r\n            \r\n            opts.autoClose = (opts.showButtons && opts.buttons.includes('apply')) ? false : !!opts.autoClose;\r\n\r\n            opts.field = (opts.field && opts.field.nodeName) ? opts.field : null;\r\n\r\n            opts.theme = (typeof opts.theme) === 'string' && opts.theme ? opts.theme : null;\r\n\r\n            opts.bound = !!(opts.bound !== undefined ? opts.field && opts.bound : opts.field);\r\n\r\n            opts.trigger = (opts.trigger && opts.trigger.nodeName) ? opts.trigger : opts.field;\r\n\r\n            opts.disableWeekends = !!opts.disableWeekends;\r\n\r\n            opts.disableDayFn = (typeof opts.disableDayFn) === 'function' ? opts.disableDayFn : null;\r\n\r\n            opts.events = opts.events.map((date) => (new Date(Date.parse(date))).toDateString());\r\n\r\n            var nom = parseInt(opts.numberOfMonths, 10) || 1;\r\n            opts.numberOfMonths = nom > 4 ? 4 : nom;\r\n\r\n            if (!isDate(opts.minDate)) {\r\n                opts.minDate = false;\r\n            }\r\n            if (!isDate(opts.maxDate)) {\r\n                opts.maxDate = false;\r\n            }\r\n            if ((opts.minDate && opts.maxDate) && opts.maxDate < opts.minDate) {\r\n                opts.maxDate = opts.minDate = false;\r\n            }\r\n            if (opts.minDate) {\r\n                this.setMinDate(opts.minDate);\r\n            }\r\n            if (opts.maxDate) {\r\n                this.setMaxDate(opts.maxDate);\r\n            }\r\n\r\n            if (isArray(opts.yearRange)) {\r\n                var fallback = new Date().getFullYear() - 10;\r\n                opts.yearRange[0] = parseInt(opts.yearRange[0], 10) || fallback;\r\n                opts.yearRange[1] = parseInt(opts.yearRange[1], 10) || fallback;\r\n            } else {\r\n                opts.yearRange = Math.abs(parseInt(opts.yearRange, 10)) || defaults.yearRange;\r\n                if (opts.yearRange > 100) {\r\n                    opts.yearRange = 100;\r\n                }\r\n            }\r\n\r\n            return opts;\r\n        },\r\n\r\n        /**\r\n         * return a formatted string of the current selection (using Moment.js if available)\r\n         */\r\n        toString: function(format)\r\n        {\r\n            format = format || this._o.format;\r\n            if (!isDate(this._d)) {\r\n                return '';\r\n            }\r\n            if (this._o.toString) {\r\n              return this._o.toString(this._d, format);\r\n            }\r\n            if (hasMoment) {\r\n              return moment(this._d).format(format);\r\n            }\r\n            return this._d.toDateString();\r\n        },\r\n\r\n        /**\r\n         * return a Moment.js object of the current selection (if available)\r\n         */\r\n        getMoment: function()\r\n        {\r\n            return hasMoment ? moment(this._d) : null;\r\n        },\r\n\r\n        /**\r\n         * set the current selection from a Moment.js object (if available)\r\n         */\r\n        setMoment: function(date, preventOnSelect)\r\n        {\r\n            if (hasMoment && moment.isMoment(date)) {\r\n                this.setDate(date.toDate(), preventOnSelect);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * return a Date object of the current selection\r\n         */\r\n        getDate: function()\r\n        {\r\n            return isDate(this._d) ? new Date(this._d.getTime()) : null;\r\n        },\r\n\r\n        /**\r\n         * set the current selection\r\n         */\r\n        setDate: function(date, preventOnSelect)\r\n        {\r\n            if (!date) {\r\n                this._d = null;\r\n\r\n                if (this._o.field) {\r\n                    this._o.field.value = '';\r\n                    fireEvent(this._o.field, 'change', { firedBy: this });\r\n                }\r\n\r\n                return this.draw();\r\n            }\r\n            if (typeof date === 'string') {\r\n                date = new Date(Date.parse(date));\r\n            }\r\n            if (!isDate(date)) {\r\n                return;\r\n            }\r\n\r\n            var min = this._o.minDate,\r\n                max = this._o.maxDate;\r\n\r\n            if (isDate(min) && date < min) {\r\n                date = min;\r\n            } else if (isDate(max) && date > max) {\r\n                date = max;\r\n            }\r\n\r\n            this._d = new Date(date.getTime());\r\n            setToStartOfDay(this._d);\r\n            this.gotoDate(this._d);\r\n\r\n            if (this._o.field) {\r\n                // this._o.field.value = this.toString();\r\n                if (!this._o.showButtons) {\r\n                    this._o.field.value = this.toString();\r\n                }\r\n\r\n                if (this._o.showButtons && !this._o.buttons.includes('apply')) {\r\n                    this._o.field.value = this.toString();\r\n                }\r\n\r\n                fireEvent(this._o.field, 'change', { firedBy: this });\r\n            }\r\n            if (!preventOnSelect && typeof this._o.onSelect === 'function') {\r\n                let hasEvent = false;\r\n\r\n                for (const event of this._o.events) {\r\n                    if (event == this.getDate()?.toDateString()) {\r\n                        hasEvent = true;\r\n                    }\r\n                }\r\n\r\n                this._o.onSelect.call(this, this.getDate(), hasEvent);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * clear and reset the date\r\n         */\r\n        clear: function()\r\n        {\r\n            this.setDate(null);\r\n        },\r\n\r\n        /**\r\n         * change view to a specific date\r\n         */\r\n        gotoDate: function(date)\r\n        {\r\n            var newCalendar = true;\r\n\r\n            if (!isDate(date)) {\r\n                return;\r\n            }\r\n\r\n            if (this.calendars) {\r\n                var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),\r\n                    lastVisibleDate = new Date(this.calendars[this.calendars.length-1].year, this.calendars[this.calendars.length-1].month, 1),\r\n                    visibleDate = date.getTime();\r\n                // get the end of the month\r\n                lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1);\r\n                lastVisibleDate.setDate(lastVisibleDate.getDate()-1);\r\n                newCalendar = (visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate);\r\n            }\r\n\r\n            if (newCalendar) {\r\n                this.calendars = [{\r\n                    month: date.getMonth(),\r\n                    year: date.getFullYear()\r\n                }];\r\n                if (this._o.mainCalendar === 'right') {\r\n                    this.calendars[0].month += 1 - this._o.numberOfMonths;\r\n                }\r\n            }\r\n\r\n            this.adjustCalendars();\r\n        },\r\n\r\n        adjustDate: function(sign, days) {\r\n\r\n            var day = this.getDate() || new Date();\r\n            var difference = parseInt(days)*24*60*60*1000;\r\n\r\n            var newDay;\r\n\r\n            if (sign === 'add') {\r\n                newDay = new Date(day.valueOf() + difference);\r\n            } else if (sign === 'subtract') {\r\n                newDay = new Date(day.valueOf() - difference);\r\n            }\r\n\r\n            this.setDate(newDay);\r\n        },\r\n\r\n        adjustCalendars: function() {\r\n            this.calendars[0] = adjustCalendar(this.calendars[0]);\r\n            for (var c = 1; c < this._o.numberOfMonths; c++) {\r\n                this.calendars[c] = adjustCalendar({\r\n                    month: this.calendars[0].month + c,\r\n                    year: this.calendars[0].year\r\n                });\r\n            }\r\n            this.draw();\r\n        },\r\n\r\n        gotoToday: function()\r\n        {\r\n            this.gotoDate(new Date());\r\n        },\r\n\r\n        /**\r\n         * change view to a specific month (zero-index, e.g. 0: January)\r\n         */\r\n        gotoMonth: function(month)\r\n        {\r\n            if (!isNaN(month)) {\r\n                this.calendars[0].month = parseInt(month, 10);\r\n                this.adjustCalendars();\r\n            }\r\n        },\r\n\r\n        nextMonth: function()\r\n        {\r\n            this.calendars[0].month++;\r\n            this.adjustCalendars();\r\n        },\r\n\r\n        prevMonth: function()\r\n        {\r\n            this.calendars[0].month--;\r\n            this.adjustCalendars();\r\n        },\r\n\r\n        /**\r\n         * change view to a specific full year (e.g. \"2012\")\r\n         */\r\n        gotoYear: function(year)\r\n        {\r\n            if (!isNaN(year)) {\r\n                this.calendars[0].year = parseInt(year, 10);\r\n                this.adjustCalendars();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * change the minDate\r\n         */\r\n        setMinDate: function(value)\r\n        {\r\n            if(value instanceof Date) {\r\n                setToStartOfDay(value);\r\n                this._o.minDate = value;\r\n                this._o.minYear  = value.getFullYear();\r\n                this._o.minMonth = value.getMonth();\r\n            } else {\r\n                this._o.minDate = defaults.minDate;\r\n                this._o.minYear  = defaults.minYear;\r\n                this._o.minMonth = defaults.minMonth;\r\n                this._o.startRange = defaults.startRange;\r\n            }\r\n\r\n            this.draw();\r\n        },\r\n\r\n        /**\r\n         * change the maxDate\r\n         */\r\n        setMaxDate: function(value)\r\n        {\r\n            if(value instanceof Date) {\r\n                setToStartOfDay(value);\r\n                this._o.maxDate = value;\r\n                this._o.maxYear = value.getFullYear();\r\n                this._o.maxMonth = value.getMonth();\r\n            } else {\r\n                this._o.maxDate = defaults.maxDate;\r\n                this._o.maxYear = defaults.maxYear;\r\n                this._o.maxMonth = defaults.maxMonth;\r\n                this._o.endRange = defaults.endRange;\r\n            }\r\n\r\n            this.draw();\r\n        },\r\n\r\n        setStartRange: function(value)\r\n        {\r\n            this._o.startRange = value;\r\n        },\r\n\r\n        setEndRange: function(value)\r\n        {\r\n            this._o.endRange = value;\r\n        },\r\n\r\n        /**\r\n         * refresh the HTML\r\n         */\r\n        draw: function(force)\r\n        {\r\n            if (!this._v && !force) {\r\n                return;\r\n            }\r\n            var opts = this._o,\r\n                minYear = opts.minYear,\r\n                maxYear = opts.maxYear,\r\n                minMonth = opts.minMonth,\r\n                maxMonth = opts.maxMonth,\r\n                html = '',\r\n                randId;\r\n\r\n            if (this._y <= minYear) {\r\n                this._y = minYear;\r\n                if (!isNaN(minMonth) && this._m < minMonth) {\r\n                    this._m = minMonth;\r\n                }\r\n            }\r\n            if (this._y >= maxYear) {\r\n                this._y = maxYear;\r\n                if (!isNaN(maxMonth) && this._m > maxMonth) {\r\n                    this._m = maxMonth;\r\n                }\r\n            }\r\n\r\n            for (var c = 0; c < opts.numberOfMonths; c++) {\r\n                randId = 'dp-title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2);\r\n\r\n                if (opts.buttonsPlacement == 'top') {\r\n                    html += renderFoot(opts);\r\n                }\r\n\r\n                html += renderHeading(opts);\r\n                html += '<div class=\"dp-lendar\">' + renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId) + '</div>';\r\n\r\n                if (opts.buttonsPlacement == 'bottom') {\r\n                    html += renderFoot(opts);\r\n                }\r\n            }\r\n\r\n            this.el.innerHTML = html;\r\n\r\n            if (opts.bound) {\r\n                if(opts.field.type !== 'hidden') {\r\n                    sto(function() {\r\n                        opts.trigger.focus();\r\n                    }, 1);\r\n                }\r\n            }\r\n\r\n            if (typeof this._o.onDraw === 'function') {\r\n                this._o.onDraw(this);\r\n            }\r\n\r\n            if (opts.bound) {\r\n                // let the screen reader user know to use arrow keys\r\n                opts.field.setAttribute('aria-label', opts.ariaLabel);\r\n            }\r\n        },\r\n\r\n        adjustPosition: function()\r\n        {\r\n            var field, pEl, width, height, viewportWidth, viewportHeight, scrollTop, left, top, clientRect, leftAligned, bottomAligned;\r\n\r\n            if (this._o.container) return;\r\n\r\n            this.el.style.display = 'block';\r\n            this.el.style.position = 'absolute';\r\n\r\n            field = this._o.trigger;\r\n            pEl = field;\r\n            width = this.el.offsetWidth;\r\n            height = this.el.offsetHeight;\r\n            viewportWidth = window.innerWidth || document.documentElement.clientWidth;\r\n            viewportHeight = window.innerHeight || document.documentElement.clientHeight;\r\n            scrollTop = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\r\n            leftAligned = true;\r\n            bottomAligned = true;\r\n\r\n            if (typeof field.getBoundingClientRect === 'function') {\r\n                clientRect = field.getBoundingClientRect();\r\n                left = clientRect.left + window.pageXOffset;\r\n                top = clientRect.bottom + window.pageYOffset;\r\n            } else {\r\n                left = pEl.offsetLeft;\r\n                top  = pEl.offsetTop + pEl.offsetHeight;\r\n                while((pEl = pEl.offsetParent)) {\r\n                    left += pEl.offsetLeft;\r\n                    top  += pEl.offsetTop;\r\n                }\r\n            }\r\n\r\n            // default position is bottom & left\r\n            if ((this._o.reposition && left + width > viewportWidth) ||\r\n                (\r\n                    this._o.position.indexOf('right') > -1 &&\r\n                    left - width + field.offsetWidth > 0\r\n                )\r\n            ) {\r\n                left = left - width + field.offsetWidth;\r\n                leftAligned = false;\r\n            }\r\n            if ((this._o.reposition && top + height > viewportHeight + scrollTop) ||\r\n                (\r\n                    this._o.position.indexOf('top') > -1 &&\r\n                    top - height - field.offsetHeight > 0\r\n                )\r\n            ) {\r\n                top = top - height - field.offsetHeight;\r\n                bottomAligned = false;\r\n            }\r\n            \r\n            if (left < 0) {\r\n                left = 0;\r\n            }\r\n\r\n            if (top < 0) {\r\n                top = 0;\r\n            }\r\n\r\n            this.el.style.left = left + 'px';\r\n            this.el.style.top = top + 'px';\r\n\r\n            addClass(this.el, leftAligned ? 'left-aligned' : 'right-aligned');\r\n            addClass(this.el, bottomAligned ? 'bottom-aligned' : 'top-aligned');\r\n            removeClass(this.el, !leftAligned ? 'left-aligned' : 'right-aligned');\r\n            removeClass(this.el, !bottomAligned ? 'bottom-aligned' : 'top-aligned');\r\n        },\r\n\r\n        /**\r\n         * render HTML for a particular month\r\n         */\r\n        render: function(year, month, randId)\r\n        {\r\n            var opts   = this._o,\r\n                now    = new Date(),\r\n                days   = getDaysInMonth(year, month),\r\n                before = new Date(year, month, 1).getDay(),\r\n                data   = [],\r\n                row    = [];\r\n            setToStartOfDay(now);\r\n            if (opts.firstDay > 0) {\r\n                before -= opts.firstDay;\r\n                if (before < 0) {\r\n                    before += 7;\r\n                }\r\n            }\r\n            var previousMonth = month === 0 ? 11 : month - 1,\r\n                nextMonth = month === 11 ? 0 : month + 1,\r\n                yearOfPreviousMonth = month === 0 ? year - 1 : year,\r\n                yearOfNextMonth = month === 11 ? year + 1 : year,\r\n                daysInPreviousMonth = getDaysInMonth(yearOfPreviousMonth, previousMonth);\r\n            var cells = days + before,\r\n                after = cells;\r\n            while(after > 7) {\r\n                after -= 7;\r\n            }\r\n            cells += 7 - after;\r\n            var isWeekSelected = false;\r\n            for (var i = 0, r = 0; i < cells; i++)\r\n            {\r\n                var day = new Date(year, month, 1 + (i - before)),\r\n                    isSelected = isDate(this._d) ? compareDates(day, this._d) : false,\r\n                    isToday = compareDates(day, now),\r\n                    hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,\r\n                    isEmpty = i < before || i >= (days + before),\r\n                    dayNumber = 1 + (i - before),\r\n                    monthNumber = month,\r\n                    yearNumber = year,\r\n                    isStartRange = opts.startRange && compareDates(opts.startRange, day),\r\n                    isEndRange = opts.endRange && compareDates(opts.endRange, day),\r\n                    isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,\r\n                    isDisabled = (opts.minDate && day < opts.minDate) ||\r\n                                 (opts.maxDate && day > opts.maxDate) ||\r\n                                 (opts.disableWeekends && isWeekend(day)) ||\r\n                                 (opts.disableDayFn && opts.disableDayFn(day));\r\n\r\n                if (isEmpty) {\r\n                    if (i < before) {\r\n                        dayNumber = daysInPreviousMonth + dayNumber;\r\n                        monthNumber = previousMonth;\r\n                        yearNumber = yearOfPreviousMonth;\r\n                    } else {\r\n                        dayNumber = dayNumber - days;\r\n                        monthNumber = nextMonth;\r\n                        yearNumber = yearOfNextMonth;\r\n                    }\r\n                }\r\n\r\n                var dayConfig = {\r\n                        day: dayNumber,\r\n                        month: monthNumber,\r\n                        year: yearNumber,\r\n                        hasEvent: hasEvent,\r\n                        isSelected: isSelected,\r\n                        isToday: isToday,\r\n                        isDisabled: isDisabled,\r\n                        isEmpty: isEmpty,\r\n                        isStartRange: isStartRange,\r\n                        isEndRange: isEndRange,\r\n                        isInRange: isInRange,\r\n                        showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths,\r\n                        enableSelectionDaysInNextAndPreviousMonths: opts.enableSelectionDaysInNextAndPreviousMonths\r\n                    };\r\n\r\n                if (opts.pickWholeWeek && isSelected) {\r\n                    isWeekSelected = true;\r\n                }\r\n\r\n                row.push(renderDay(dayConfig, this._o));\r\n\r\n                if (++r === 7) {\r\n                    if (opts.showWeekNumber) {\r\n                        row.unshift(renderWeek(i - before, month, year, opts.firstWeekOfYearMinDays));\r\n                    }\r\n                    data.push(renderRow(row, opts.isRTL, opts.pickWholeWeek, isWeekSelected));\r\n                    row = [];\r\n                    r = 0;\r\n                    isWeekSelected = false;\r\n                }\r\n            }\r\n            return renderTable(opts, data, randId);\r\n        },\r\n\r\n        isVisible: function()\r\n        {\r\n            return this._v;\r\n        },\r\n\r\n        show: function()\r\n        {\r\n            if (!this.isVisible()) {\r\n                this._v = true;\r\n                if (typeof this._o.onBeforeOpen === 'function') {\r\n                    this._o.onBeforeOpen.call(this);\r\n                }\r\n                this.draw();\r\n                removeClass(this.el, 'is-hidden');\r\n                if (this._o.bound) {\r\n                    addEvent(document, 'click', this._onClick);\r\n                    // this.adjustPosition();\r\n                    this.el.style.display = 'block';\r\n                }\r\n                if (typeof this._o.onOpen === 'function') {\r\n                    this._o.onOpen.call(this);\r\n                }\r\n            }\r\n        },\r\n\r\n        hide: function()\r\n        {\r\n            var v = this._v;\r\n            if (v !== false) {\r\n                if (v !== undefined && typeof this._o.onBeforeClose === 'function') {\r\n                    this._o.onBeforeClose.call(this);\r\n                }\r\n                \r\n                if (this._o.bound) {\r\n                    removeEvent(document, 'click', this._onClick);\r\n                }\r\n\r\n                if (!this._o.container) {\r\n                    this.el.style.position = 'absolute'; // reset\r\n                    // this.el.style.left = 'auto';\r\n                    // this.el.style.top = 'auto';\r\n                    // this.el.style.display = 'none';\r\n                }\r\n                addClass(this.el, 'is-hidden');\r\n                this._v = false;\r\n                if (v !== undefined && typeof this._o.onClose === 'function') {\r\n                    this._o.onClose.call(this);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * GAME OVER\r\n         */\r\n        destroy: function()\r\n        {\r\n            var opts = this._o;\r\n\r\n            this.hide();\r\n            removeEvent(this.el, 'mousedown', this._onMouseDown, true);\r\n            removeEvent(this.el, 'touchend', this._onMouseDown, true);\r\n            removeEvent(this.el, 'change', this._onChange);\r\n            if (opts.keyboardInput) {\r\n                removeEvent(document, 'keydown', this._onKeyChange);\r\n            }\r\n            if (opts.field) {\r\n                removeEvent(opts.field, 'change', this._onInputChange);\r\n                if (opts.bound) {\r\n                    removeEvent(opts.trigger, 'click', this._onInputClick);\r\n                    removeEvent(opts.trigger, 'focus', this._onInputFocus);\r\n                    removeEvent(opts.trigger, 'blur', this._onInputBlur);\r\n                }\r\n            }\r\n            if (this.el.parentNode) {\r\n                this.el.parentNode.removeChild(this.el);\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    return Pikaday;\r\n}));\r\n\r\nexport default Pikaday;","/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isYAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","function getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const webkit = isWebKit();\n  const css = getComputedStyle(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isWebKit };\n","import { rectToClientRect, autoPlacement as autoPlacement$1, shift as shift$1, flip as flip$1, size as size$1, hide as hide$1, arrow as arrow$1, inline as inline$1, limitShift as limitShift$1, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { detectOverflow, offset } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getContainingBlock, getDocumentElement, getNodeName, isOverflowElement, getNodeScroll, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentIFrame = win.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== win) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentIFrame = getWindow(currentIFrame).frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction topLayer(floating) {\n  let isTopLayer = false;\n  let x = 0;\n  let y = 0;\n  function setIsTopLayer(selector) {\n    try {\n      isTopLayer = isTopLayer || floating.matches(selector);\n    } catch (e) {}\n  }\n  topLayerSelectors.forEach(selector => {\n    setIsTopLayer(selector);\n  });\n  if (isTopLayer) {\n    const containingBlock = getContainingBlock(floating);\n    if (containingBlock) {\n      const rect = containingBlock.getBoundingClientRect();\n      x = rect.x;\n      y = rect.y;\n    }\n  }\n  return [isTopLayer, x, y];\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const documentElement = getDocumentElement(offsetParent);\n  const [isTopLayer] = elements ? topLayer(elements.floating) : [false];\n  if (offsetParent === documentElement || isTopLayer) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy, floating) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  let x = rect.left + scroll.scrollLeft - offsets.x;\n  let y = rect.top + scroll.scrollTop - offsets.y;\n  const [isTopLayer, topLayerX, topLayerY] = topLayer(floating);\n  if (isTopLayer) {\n    x += topLayerX;\n    y += topLayerY;\n    if (isOffsetParentAnElement) {\n      x += offsetParent.clientLeft;\n      y += offsetParent.clientTop;\n    }\n  }\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const window = getWindow(element);\n  if (!isHTMLElement(element)) {\n    return window;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy, data.floating),\n    floating: {\n      x: 0,\n      y: 0,\n      ...(await getDimensionsFn(data.floating))\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 100);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, flip, hide, inline, limitShift, platform, shift, size };\n","import {\r\n    randomNumber,\r\n    kebabCase,\r\n    styles,\r\n    addClass,\r\n    removeClass,\r\n    setAttributes,\r\n    removeAttributes,\r\n    getElement,\r\n    getElements\r\n} from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Modal extends Component {\r\n    constructor(element, config, componentSettings) {\r\n\r\n        const _defaults = {\r\n            target: null,\r\n            keyboard: true,\r\n            focus: false,\r\n            backdropFadeDuration: 200,\r\n            backdropClose: true,\r\n            hideBackdrop: false,\r\n            dialog: 'data-dialog',\r\n            content: 'data-content',\r\n            close: 'data-close',\r\n            backdrop: 'data-backdrop',\r\n            autoCloseDelay: 0,\r\n            history: false,\r\n            allowScroll: false,\r\n            zindex: 1055,\r\n            namespace: 'modal',\r\n            classes: {\r\n                backdrop: null,\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = Object.assign({\r\n            name: 'modal',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        }, componentSettings ?? {});\r\n\r\n        super(_component);\r\n        \r\n        if (!this._element) return;\r\n     \r\n        this._isOpened = false;\r\n        this._previous = false;\r\n        this._config.zindex = parseInt(this._config.zindex) || 0;\r\n        this._config.namespace = kebabCase(this._config.namespace);\r\n        this._modal = getElement(this._config.target) ?? this._element;\r\n\r\n        if (!this._modal) return;\r\n\r\n        this._dialog = getElement(`[${this._config.dialog}]`, this._modal);\r\n        this._content = getElement(`[${this._config.content}]`, this._modal);\r\n        this._initialFocus = this._modal;\r\n        this._finalFocus = this._element;\r\n        this._config.backdropFadeDuration = parseInt(this._config.backdropFadeDuration) / 1000;\r\n        this._config.autoCloseDelay = parseInt(this._config.autoCloseDelay);\r\n        const modalId = this._modal.id !== '' ? this._modal.id : 'modal-' + randomNumber(4);\r\n        const closeTriggers = getElements(`[${this._config.close}]`, this._modal);\r\n        const minimumAutoCloseDelay = 3000;\r\n        UIkit.store[this._config.namespace] = UIkit.store[this._config.namespace] ? UIkit.store[this._config.namespace] : {};\r\n\r\n        // Set modal attributes.\r\n        setAttributes(this._modal, {\r\n            id: modalId,\r\n            tabindex: -1,\r\n            role: 'dialog',\r\n            ariaModal: true\r\n        });\r\n\r\n        // Set modal styles.\r\n        styles(this._modal, {\r\n            zIndex: this._config.zindex\r\n        });\r\n\r\n        // Search for all elements that can close the modal \r\n        // and set the following attributes.\r\n        closeTriggers.forEach((close) => {\r\n            setAttributes(close, {\r\n                role: 'button',\r\n                ariaLabel: close.innerText.trim()!= '' ? close.innerText.trim() : 'Close'\r\n            });\r\n        });\r\n\r\n        // Accessible event data\r\n        const eventData = {\r\n            content: this._content\r\n        };\r\n\r\n        /**\r\n         * Show modal when target is clicked.\r\n         */\r\n        const onClickShow = (e) => {\r\n            e.preventDefault();\r\n            this._show(this);\r\n        };\r\n\r\n        /**\r\n         * Hide modal when target is clicked.\r\n         */\r\n        const onClickHide = (e) => {\r\n            e.preventDefault();\r\n            this._previous = true;\r\n            this._hide(this);\r\n        };\r\n\r\n        /**\r\n         * Hide modal when clicked outside.\r\n         */\r\n        const onClickModalHide = (e) => {\r\n            \r\n            if (this._isTransitioning || this._content.contains(e.target)) return;\r\n\r\n            if (!this._config.backdropClose) {\r\n                this._dispatchEvent('hidePrevented', eventData);\r\n\r\n                return;\r\n            }\r\n    \r\n            this._previous = true;\r\n            this._hide(this);\r\n        };\r\n\r\n        /**\r\n         * Hide modal when clicked outside.\r\n         */\r\n        const autoCloseModal = () => {\r\n            if (this._config.autoCloseDelay >= minimumAutoCloseDelay) {\r\n                this._setTimeout(() => {\r\n                    this._hide(this);\r\n                }, this._config.autoCloseDelay);\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Move focus within modal.\r\n         */\r\n        const onKeydown = (e) => {\r\n            if (e.key === 'Tab' || (e.shiftKey && e.key === 'Tab')) {\r\n                setFocus(e, this, e.shiftKey);\r\n            }\r\n\r\n            if (e.key === 'Escape' && !this._config.keyboard) {\r\n                this._dispatchEvent('hidePrevented', eventData);\r\n\r\n                return;\r\n            }\r\n\r\n            if (e.key === 'Escape' && this._config.keyboard) {\r\n                this._previous = true;\r\n                this._hide(this);\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Get all focusable elements.\r\n         * \r\n         * @param {object} self \r\n         */\r\n        const getFocusable = (self) => {\r\n            const focusable = getElements('*', self._content);\r\n\r\n            return [...focusable].filter(node => node.tabIndex >= 0);\r\n        };\r\n\r\n        /**\r\n         * Focus on a target element.\r\n         * \r\n         * @param {object} e event object\r\n         * @param {object} self \r\n         * @param {boolean} reverse \r\n         * @returns \r\n         */\r\n        const setFocus = (e, self, reverse = false) => {\r\n            let focusable = getFocusable(self);\r\n            const total = focusable.length;\r\n\r\n            if (total == 0) {\r\n                self._modal.focus();\r\n                e.preventDefault();\r\n                \r\n                return;\r\n            }\r\n\r\n            if (total >= 1 && document.activeElement == focusable[total - 1]) {\r\n                focusable[0].focus();\r\n                e.preventDefault();\r\n\r\n                return;\r\n            }\r\n\r\n            if (total >= 1 && document.activeElement == focusable[0] && reverse) {\r\n                focusable[total - 1].focus();\r\n                e.preventDefault();\r\n\r\n                return;\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Stores modal data.\r\n         * \r\n         * @param {object} data \r\n         */\r\n        const storeModal = (data) => {\r\n\r\n            if (UIkit.store[this._config.namespace].openedModals instanceof Array) {\r\n                UIkit.store[this._config.namespace].openedModals.push(data);\r\n\r\n                return;\r\n            }\r\n\r\n            UIkit.store[this._config.namespace].openedModals = [data];\r\n            UIkit.store[this._config.namespace].firstModal = data._modal;\r\n            UIkit.store[this._config.namespace].firstModalTrigger = data._element;\r\n        };\r\n\r\n        /**\r\n         * Remove stored modal data.\r\n         * \r\n         * @param {HTMLElement} modal \r\n         */\r\n        const removeModal = (modal) => {\r\n            if (UIkit.store[this._config.namespace].openedModals instanceof Array) {\r\n                UIkit.store[this._config.namespace].openedModals.forEach((data, index) => {\r\n                    if (data._modal == modal) {\r\n                        UIkit.store[this._config.namespace].openedModals.splice(index, 1);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Get the total opened modals.\r\n         */\r\n        const getTotalModals = () => {\r\n            return UIkit.store[this._config.namespace].openedModals ? UIkit.store[this._config.namespace].openedModals.length : 0;\r\n        };\r\n\r\n        /**\r\n         * Check if is the first opened modal.\r\n         * \r\n         * @param {HTMLElement} modal \r\n         */\r\n        const isFirstModal = (modal) => {\r\n            return UIkit.store[this._config.namespace].firstModal == modal;\r\n        };\r\n\r\n        /**\r\n         * Get the first modal trigger.\r\n         */\r\n        const getFirstModalTrigger = () => {\r\n            return UIkit.store[this._config.namespace].firstModalTrigger;\r\n        };\r\n\r\n        /**\r\n         * Remove all stored modals.\r\n         */\r\n        const clearModals = () => {\r\n            // delete UIkit.store[this._config.namespace];\r\n            delete UIkit.store[this._config.namespace].openedModals;\r\n            delete UIkit.store[this._config.namespace].firstModal;\r\n            delete UIkit.store[this._config.namespace].firstModalTrigger;\r\n        };\r\n\r\n        /**\r\n         * Get previously opened modal.\r\n         * \r\n         * @param {HTMLElement} modal \r\n         * @returns\r\n         */\r\n        const getPreviousModal = (modal) => {\r\n            let previousModal = null;\r\n\r\n            if (UIkit.store[this._config.namespace].openedModals instanceof Array && UIkit.store[this._config.namespace].openedModals.length > 0) {\r\n                UIkit.store[this._config.namespace].openedModals.forEach((data, index) => {\r\n                    if (data._modal == modal) {\r\n                        previousModal = UIkit.store[this._config.namespace].openedModals[index - 1];\r\n                    }\r\n                });\r\n            }\r\n\r\n            return previousModal;\r\n        };\r\n\r\n        /**\r\n         * Focus on an element.\r\n         * \r\n         * @param {HTMLElement} element \r\n         */\r\n        const focus = (element) => {\r\n            if (!element) return;\r\n            \r\n            element.focus();\r\n        };\r\n\r\n        /**\r\n         * Set opened dialog attribute.\r\n         */\r\n        const setOpenedDialogsAttribute = () => {\r\n            let attributes = document.body.dataset.openedDialogs || '';\r\n            attributes = attributes.split(',');\r\n            attributes = attributes.filter(attribute => attribute != '');\r\n\r\n            if (attributes.indexOf(this._config.namespace) === -1) {\r\n                attributes.push(this._config.namespace);\r\n                let value = attributes.length > 1 ? attributes.join(',') : this._config.namespace;\r\n                document.body.setAttribute(`data-opened-dialogs`, value);\r\n            }  \r\n        };\r\n\r\n        /**\r\n         * Remove opened dialog attribute.\r\n         */\r\n        const removeOpenedDialogsAttribute = () => {\r\n            let attributes = document.body.dataset.openedDialogs || '';\r\n            attributes = attributes.split(',');\r\n\r\n            if (attributes.indexOf(this._config.namespace) !== -1) {\r\n                attributes.splice(attributes.indexOf(this._config.namespace), 1);\r\n\r\n                if (attributes.length > 0) {                    \r\n                    let value = attributes.length > 1 ? attributes.join(',') : attributes[0];\r\n                    document.body.setAttribute(`data-opened-dialogs`, value);\r\n                } else {\r\n                    document.body.removeAttribute(`data-opened-dialogs`);\r\n                }\r\n            }  \r\n        };\r\n\r\n        /**\r\n         * Hide scrollbar. \r\n         */\r\n        const hideScrollbar = () => {\r\n            if (this._config.allowScroll) return;\r\n            \r\n            // Hide modal scrollbar\r\n            this._modal.style.overflow = `hidden`;\r\n\r\n            // Restore scrollbar and right margin\r\n            if (!document.body.dataset.openedDialogs) {                \r\n                styles(document.body, {\r\n                    overflow: null,\r\n                    marginRight: null\r\n                });\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Check if document body has overflow and margin styles. \r\n         */\r\n        const hasOverflowMargin = () => {\r\n            return Boolean(document.body.style.overflow && document.body.style.marginRight);\r\n        };\r\n\r\n        /**\r\n         * Restore modal scrollbar.\r\n         * \r\n         * @param {object} self \r\n         */\r\n        const restoreModalScrollbar = (self) => {\r\n            if (self._config.allowScroll) return;\r\n\r\n            self._modal.style.overflow = null;\r\n        };\r\n\r\n        /**\r\n         * Create a backdrop.\r\n         * \r\n         * @returns \r\n         */\r\n        const backdrop = () => {\r\n            const backdrop = document.createElement('div');\r\n            \r\n            if (!this._config.classes.backdrop) {        \r\n                backdrop.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';\r\n            }\r\n    \r\n            styles(backdrop, {\r\n                position: 'fixed',\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0,\r\n                zIndex: this._config.zindex - 5\r\n            });\r\n\r\n            if (this._hasTransition) {\r\n                styles(backdrop, {\r\n                    opacity: 0,\r\n                    transition: `opacity ${this._config.backdropFadeDuration}s linear`,\r\n                });\r\n            }\r\n    \r\n            addClass(backdrop, this._config.classes.backdrop);\r\n            setAttributes(backdrop, {\r\n                [`${this._config.backdrop}`]: this._config.namespace\r\n            });\r\n\r\n            return backdrop;\r\n        };\r\n\r\n        /**\r\n         * Show backdrop.\r\n         */\r\n        const showBackdrop = () => {\r\n            this._backdrop = getElement(`[${this._config.backdrop}=\"${this._config.namespace}\"]`) || backdrop();\r\n\r\n            if (!this._config.hideBackdrop) {\r\n                document.body.append(this._backdrop);\r\n            }\r\n\r\n            // Hide scrollbar and set right margin\r\n            if (getTotalModals() == 0 && !this._config.allowScroll && !hasOverflowMargin()) {                \r\n                const scrollBarWidth = window.innerWidth - document.documentElement.clientWidth;\r\n                styles(document.body, {\r\n                    overflow: `hidden`,\r\n                    marginRight: `${scrollBarWidth}px`\r\n                });\r\n            }\r\n\r\n            if (this._hasTransition) {\r\n                window.requestAnimationFrame(() => {\r\n                    this._backdrop.style.opacity = 1\r\n                });\r\n            }\r\n            \r\n            if (!this._previous) {\r\n                storeModal(this);\r\n\r\n                setOpenedDialogsAttribute();\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Hide and remove backdrop.\r\n         */\r\n        const hideBackdrop = () => {\r\n            if ((!this._backdrop || getTotalModals() > 1) && !this._config.hideBackdrop) return;\r\n\r\n            removeOpenedDialogsAttribute();\r\n\r\n            if (!this._config.history) {\r\n                this._finalFocus = getFirstModalTrigger();\r\n            }\r\n\r\n            if (this._config.hideBackdrop && getTotalModals() == 1) {\r\n                hideScrollbar();\r\n                clearModals();\r\n            }\r\n\r\n            if (!this._hasTransition) {\r\n                hideScrollbar();\r\n                clearModals();\r\n                this._backdrop.remove();\r\n\r\n                return;\r\n            }\r\n\r\n            const transitionEndEvent = () => { \r\n                hideScrollbar();\r\n                clearModals();\r\n                this._backdrop.remove();\r\n                this._off(this._backdrop, 'transitionend', transitionEndEvent);\r\n            };\r\n\r\n            window.requestAnimationFrame(() => {\r\n                this._backdrop.style.opacity = 0\r\n            });\r\n\r\n            this._on(this._backdrop, 'transitionend', transitionEndEvent);\r\n        };\r\n\r\n        /**\r\n         * Forcefully remove backdrop.\r\n         */\r\n        const removeBackdrop = () => {\r\n            const animationDuration = parseFloat(window.getComputedStyle(this._dialog).animationDuration) || 0;\r\n            const transitionDuration = parseFloat(window.getComputedStyle(this._dialog).transitionDuration) || 0;\r\n    \r\n            if (transitionDuration >= this._config.backdropFadeDuration || animationDuration >= this._config.backdropFadeDuration) {\r\n                return;\r\n            }\r\n\r\n            if ((isFirstModal(this._modal) && this._config.history) || !this._config.history) {\r\n                clearModals();\r\n                this._backdrop?.remove();\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Show the modal.\r\n         * \r\n         * @param {object} self \r\n         */\r\n        this._show = (self) => {\r\n            self._isOpened = true;\r\n            self._dispatchEvent('show', eventData);\r\n            showBackdrop();\r\n\r\n            const previousInstance = getPreviousModal(self._modal);\r\n\r\n            if (previousInstance && !this._previous) {\r\n                self._hide(previousInstance);\r\n            }\r\n\r\n            this._previous = false;\r\n\r\n            if (self._config.focus && getFocusable(self).length > 0) {\r\n                self._initialFocus = getFocusable(self)[0];\r\n            }\r\n\r\n            removeClass(self._modal, self._config.classes.display);\r\n            \r\n            const transitioned = self._transition('transitionEnter', self._dialog, (e) => {\r\n                focus(self._initialFocus);\r\n                self._dispatchEvent('shown', eventData);\r\n                autoCloseModal();\r\n            });\r\n            \r\n            if (transitioned) return;\r\n            \r\n            focus(self._initialFocus);\r\n            self._dispatchEvent('shown', eventData);\r\n            autoCloseModal();\r\n        };\r\n\r\n        /**\r\n         * Hide the modal.\r\n         * \r\n         * @param {object} self \r\n         */\r\n        this._hide = (self) => {\r\n\r\n            self._isOpened = false;\r\n            self._dispatchEvent('hide', eventData);\r\n            hideBackdrop();\r\n\r\n            const previousInstance = getPreviousModal(self._modal);\r\n\r\n            if (previousInstance && this._previous) {\r\n                removeModal(self._modal);\r\n                self._show(previousInstance);\r\n            }\r\n\r\n            this._previous = false;\r\n\r\n            if (!self._config.history) {\r\n                removeModal(self._modal);\r\n            }\r\n\r\n            const transitioned = self._transition('transitionLeave', self._dialog, (e) => {\r\n                addClass(self._modal, self._config.classes.display);\r\n\r\n                // If last modal is closed\r\n                if (getTotalModals() < 1) focus(self._finalFocus);\r\n\r\n                restoreModalScrollbar(self);\r\n                self._dispatchEvent('hidden', eventData);\r\n\r\n                removeBackdrop();\r\n            });\r\n\r\n            if (transitioned) return;\r\n\r\n            addClass(self._modal, self._config.classes.display);\r\n            \r\n            // If last modal is closed\r\n            if (getTotalModals() < 1) focus(self._finalFocus);\r\n\r\n            restoreModalScrollbar(self);\r\n            self._dispatchEvent('hidden', eventData);\r\n        };\r\n\r\n        /**\r\n         * Events.\r\n         */\r\n        if (this._config.target) {\r\n            this._on(this._element, 'click', onClickShow);\r\n        }\r\n\r\n        this._on(this._modal, 'keydown', onKeydown);\r\n        this._on(this._modal, 'click', onClickModalHide);\r\n\r\n        for (const close of closeTriggers) {\r\n            this._on(close, 'click', onClickHide);\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    show() {\r\n        this._show?.(this);\r\n    }\r\n\r\n    hide() {\r\n        this._hide?.(this);\r\n    }\r\n\r\n    visible() {\r\n        return this._isOpened;\r\n    }\r\n\r\n    destroy() {\r\n        this._hide(this);\r\n        this._backdrop?.remove();\r\n        this._transitionCleanup(this._dialog);\r\n        delete UIkit.store.openedModals;\r\n        addClass(this._modal, this._config.classes.display);\r\n        removeAttributes(this._modal, [ 'id', 'tabindex', 'role', 'ariaModal' ]);\r\n        styles(this._modal, { zIndex: null });\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Modal;","/**\n * Tom Select v2.2.2\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n */\n\n/**\n * MicroEvent - to make any js object an event emitter\n *\n * - pure javascript - server compatible, browser compatible\n * - dont rely on the browser doms\n * - super simple - you get it immediatly, no mistery, no magic involved\n *\n * @author Jerome Etienne (https://github.com/jeromeetienne)\n */\n\n/**\n * Execute callback for each event in space separated list of event names\n *\n */\nfunction forEvents(events, callback) {\n    events.split(/\\s+/).forEach((event) => {\n        callback(event);\n    });\n}\n\nclass MicroEvent {\n    constructor() {\n        this._events = void 0;\n        this._events = {};\n    }\n\n    on(events, fct) {\n        forEvents(events, (event) => {\n            const event_array = this._events[event] || [];\n            event_array.push(fct);\n            this._events[event] = event_array;\n        });\n    }\n\n    off(events, fct) {\n        var n = arguments.length;\n\n        if (n === 0) {\n            this._events = {};\n            return;\n        }\n\n        forEvents(events, (event) => {\n            if (n === 1) {\n                delete this._events[event];\n                return;\n            }\n\n            const event_array = this._events[event];\n            if (event_array === undefined) return;\n            event_array.splice(event_array.indexOf(fct), 1);\n            this._events[event] = event_array;\n        });\n    }\n\n    trigger(events, ...args) {\n        var self = this;\n        forEvents(events, (event) => {\n            const event_array = self._events[event];\n            if (event_array === undefined) return;\n            event_array.forEach((fct) => {\n                fct.apply(self, args);\n            });\n        });\n    }\n}\n\n/**\n * microplugin.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\nfunction MicroPlugin(Interface) {\n    Interface.plugins = {};\n    return class extends Interface {\n        constructor(...args) {\n            super(...args);\n            this.plugins = {\n                names: [],\n                settings: {},\n                requested: {},\n                loaded: {},\n            };\n        }\n\n        /**\n         * Registers a plugin.\n         *\n         * @param {function} fn\n         */\n        static define(name, fn) {\n            Interface.plugins[name] = {\n                name: name,\n                fn: fn,\n            };\n        }\n        /**\n         * Initializes the listed plugins (with options).\n         * Acceptable formats:\n         *\n         * List (without options):\n         *   ['a', 'b', 'c']\n         *\n         * List (with options):\n         *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n         *\n         * Hash (with options):\n         *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n         *\n         * @param {array|object} plugins\n         */\n\n        initializePlugins(plugins) {\n            var key, name;\n            const self = this;\n            const queue = [];\n\n            if (Array.isArray(plugins)) {\n                plugins.forEach((plugin) => {\n                    if (typeof plugin === \"string\") {\n                        queue.push(plugin);\n                    } else {\n                        self.plugins.settings[plugin.name] = plugin.options;\n                        queue.push(plugin.name);\n                    }\n                });\n            } else if (plugins) {\n                for (key in plugins) {\n                    if (plugins.hasOwnProperty(key)) {\n                        self.plugins.settings[key] = plugins[key];\n                        queue.push(key);\n                    }\n                }\n            }\n\n            while ((name = queue.shift())) {\n                self.require(name);\n            }\n        }\n\n        loadPlugin(name) {\n            var self = this;\n            var plugins = self.plugins;\n            var plugin = Interface.plugins[name];\n\n            if (!Interface.plugins.hasOwnProperty(name)) {\n                throw new Error('Unable to find \"' + name + '\" plugin');\n            }\n\n            plugins.requested[name] = true;\n            plugins.loaded[name] = plugin.fn.apply(self, [\n                self.plugins.settings[name] || {},\n            ]);\n            plugins.names.push(name);\n        }\n        /**\n         * Initializes a plugin.\n         *\n         */\n\n        require(name) {\n            var self = this;\n            var plugins = self.plugins;\n\n            if (!self.plugins.loaded.hasOwnProperty(name)) {\n                if (plugins.requested[name]) {\n                    throw new Error(\n                        'Plugin has circular dependency (\"' + name + '\")'\n                    );\n                }\n\n                self.loadPlugin(name);\n            }\n\n            return plugins.loaded[name];\n        }\n    };\n}\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\n/**\n * Convert array of strings to a regular expression\n *\tex ['ab','a'] => (?:ab|a)\n * \tex ['a','b'] => [ab]\n * @param {string[]} chars\n * @return {string}\n */\nconst arrayToPattern = (chars) => {\n    chars = chars.filter(Boolean);\n\n    if (chars.length < 2) {\n        return chars[0] || \"\";\n    }\n\n    return maxValueLength(chars) == 1\n        ? \"[\" + chars.join(\"\") + \"]\"\n        : \"(?:\" + chars.join(\"|\") + \")\";\n};\n/**\n * @param {string[]} array\n * @return {string}\n */\n\nconst sequencePattern = (array) => {\n    if (!hasDuplicates(array)) {\n        return array.join(\"\");\n    }\n\n    let pattern = \"\";\n    let prev_char_count = 0;\n\n    const prev_pattern = () => {\n        if (prev_char_count > 1) {\n            pattern += \"{\" + prev_char_count + \"}\";\n        }\n    };\n\n    array.forEach((char, i) => {\n        if (char === array[i - 1]) {\n            prev_char_count++;\n            return;\n        }\n\n        prev_pattern();\n        pattern += char;\n        prev_char_count = 1;\n    });\n    prev_pattern();\n    return pattern;\n};\n/**\n * Convert array of strings to a regular expression\n *\tex ['ab','a'] => (?:ab|a)\n * \tex ['a','b'] => [ab]\n * @param {Set<string>} chars\n * @return {string}\n */\n\nconst setToPattern = (chars) => {\n    let array = toArray(chars);\n    return arrayToPattern(array);\n};\n/**\n *\n * https://stackoverflow.com/questions/7376598/in-javascript-how-do-i-check-if-an-array-has-duplicate-values\n * @param {any[]} array\n */\n\nconst hasDuplicates = (array) => {\n    return new Set(array).size !== array.length;\n};\n/**\n * https://stackoverflow.com/questions/63006601/why-does-u-throw-an-invalid-escape-error\n * @param {string} str\n * @return {string}\n */\n\nconst escape_regex = (str) => {\n    return (str + \"\").replace(/([\\$\\(\\)\\*\\+\\.\\?\\[\\]\\^\\{\\|\\}\\\\])/gu, \"\\\\$1\");\n};\n/**\n * Return the max length of array values\n * @param {string[]} array\n *\n */\n\nconst maxValueLength = (array) => {\n    return array.reduce(\n        (longest, value) => Math.max(longest, unicodeLength(value)),\n        0\n    );\n};\n/**\n * @param {string} str\n */\n\nconst unicodeLength = (str) => {\n    return toArray(str).length;\n};\n/**\n * @param {any} p\n * @return {any[]}\n */\n\nconst toArray = (p) => Array.from(p);\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\n/**\n * Get all possible combinations of substrings that add up to the given string\n * https://stackoverflow.com/questions/30169587/find-all-the-combination-of-substrings-that-add-up-to-the-given-string\n * @param {string} input\n * @return {string[][]}\n */\nconst allSubstrings = (input) => {\n    if (input.length === 1) return [[input]];\n    /** @type {string[][]} */\n\n    let result = [];\n    const start = input.substring(1);\n    const suba = allSubstrings(start);\n    suba.forEach(function (subresult) {\n        let tmp = subresult.slice(0);\n        tmp[0] = input.charAt(0) + tmp[0];\n        result.push(tmp);\n        tmp = subresult.slice(0);\n        tmp.unshift(input.charAt(0));\n        result.push(tmp);\n    });\n    return result;\n};\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\n\n/**\n * @typedef {{[key:string]:string}} TUnicodeMap\n * @typedef {{[key:string]:Set<string>}} TUnicodeSets\n * @typedef {[[number,number]]} TCodePoints\n * @typedef {{folded:string,composed:string,code_point:number}} TCodePointObj\n * @typedef {{start:number,end:number,length:number,substr:string}} TSequencePart\n */\n/** @type {TCodePoints} */\n\nconst code_points = [[0, 65535]];\nconst accent_pat = \"[\\u0300-\\u036F\\u{b7}\\u{2be}\\u{2bc}]\";\n/** @type {TUnicodeMap} */\n\nlet unicode_map;\n/** @type {RegExp} */\n\nlet multi_char_reg;\nconst max_char_length = 3;\n/** @type {TUnicodeMap} */\n\nconst latin_convert = {};\n/** @type {TUnicodeMap} */\n\nconst latin_condensed = {\n    \"/\": \"⁄∕\",\n    0: \"߀\",\n    a: \"ⱥɐɑ\",\n    aa: \"ꜳ\",\n    ae: \"æǽǣ\",\n    ao: \"ꜵ\",\n    au: \"ꜷ\",\n    av: \"ꜹꜻ\",\n    ay: \"ꜽ\",\n    b: \"ƀɓƃ\",\n    c: \"ꜿƈȼↄ\",\n    d: \"đɗɖᴅƌꮷԁɦ\",\n    e: \"ɛǝᴇɇ\",\n    f: \"ꝼƒ\",\n    g: \"ǥɠꞡᵹꝿɢ\",\n    h: \"ħⱨⱶɥ\",\n    i: \"ɨı\",\n    j: \"ɉȷ\",\n    k: \"ƙⱪꝁꝃꝅꞣ\",\n    l: \"łƚɫⱡꝉꝇꞁɭ\",\n    m: \"ɱɯϻ\",\n    n: \"ꞥƞɲꞑᴎлԉ\",\n    o: \"øǿɔɵꝋꝍᴑ\",\n    oe: \"œ\",\n    oi: \"ƣ\",\n    oo: \"ꝏ\",\n    ou: \"ȣ\",\n    p: \"ƥᵽꝑꝓꝕρ\",\n    q: \"ꝗꝙɋ\",\n    r: \"ɍɽꝛꞧꞃ\",\n    s: \"ßȿꞩꞅʂ\",\n    t: \"ŧƭʈⱦꞇ\",\n    th: \"þ\",\n    tz: \"ꜩ\",\n    u: \"ʉ\",\n    v: \"ʋꝟʌ\",\n    vy: \"ꝡ\",\n    w: \"ⱳ\",\n    y: \"ƴɏỿ\",\n    z: \"ƶȥɀⱬꝣ\",\n    hv: \"ƕ\",\n};\n\nfor (let latin in latin_condensed) {\n    let unicode = latin_condensed[latin] || \"\";\n\n    for (let i = 0; i < unicode.length; i++) {\n        let char = unicode.substring(i, i + 1);\n        latin_convert[char] = latin;\n    }\n}\n\nconst convert_pat = new RegExp(\n    Object.keys(latin_convert).join(\"|\") + \"|\" + accent_pat,\n    \"gu\"\n);\n/**\n * Initialize the unicode_map from the give code point ranges\n *\n * @param {TCodePoints=} _code_points\n */\n\nconst initialize = (_code_points) => {\n    if (unicode_map !== undefined) return;\n    unicode_map = generateMap(_code_points || code_points);\n};\n/**\n * Helper method for normalize a string\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize\n * @param {string} str\n * @param {string} form\n */\n\nconst normalize = (str, form = \"NFKD\") => str.normalize(form);\n/**\n * Remove accents without reordering string\n * calling str.normalize('NFKD') on \\u{594}\\u{595}\\u{596} becomes \\u{596}\\u{594}\\u{595}\n * via https://github.com/krisk/Fuse/issues/133#issuecomment-318692703\n * @param {string} str\n * @return {string}\n */\n\nconst asciifold = (str) => {\n    return toArray(str).reduce(\n        /**\n         * @param {string} result\n         * @param {string} char\n         */\n        (result, char) => {\n            return result + _asciifold(char);\n        },\n        \"\"\n    );\n};\n/**\n * @param {string} str\n * @return {string}\n */\n\nconst _asciifold = (str) => {\n    str = normalize(str)\n        .toLowerCase()\n        .replace(\n            convert_pat,\n            (\n                /** @type {string} */\n                char\n            ) => {\n                return latin_convert[char] || \"\";\n            }\n        ); //return str;\n\n    return normalize(str, \"NFC\");\n};\n/**\n * Generate a list of unicode variants from the list of code points\n * @param {TCodePoints} code_points\n * @yield {TCodePointObj}\n */\n\nfunction* generator(code_points) {\n    for (const [code_point_min, code_point_max] of code_points) {\n        for (let i = code_point_min; i <= code_point_max; i++) {\n            let composed = String.fromCharCode(i);\n            let folded = asciifold(composed);\n\n            if (folded == composed.toLowerCase()) {\n                continue;\n            } // skip when folded is a string longer than 3 characters long\n            // bc the resulting regex patterns will be long\n            // eg:\n            // folded صلى الله عليه وسلم length 18 code point 65018\n            // folded جل جلاله length 8 code point 65019\n\n            if (folded.length > max_char_length) {\n                continue;\n            }\n\n            if (folded.length == 0) {\n                continue;\n            }\n\n            yield {\n                folded: folded,\n                composed: composed,\n                code_point: i,\n            };\n        }\n    }\n}\n/**\n * Generate a unicode map from the list of code points\n * @param {TCodePoints} code_points\n * @return {TUnicodeSets}\n */\n\nconst generateSets = (code_points) => {\n    /** @type {{[key:string]:Set<string>}} */\n    const unicode_sets = {};\n    /**\n     * @param {string} folded\n     * @param {string} to_add\n     */\n\n    const addMatching = (folded, to_add) => {\n        /** @type {Set<string>} */\n        const folded_set = unicode_sets[folded] || new Set();\n        const patt = new RegExp(\"^\" + setToPattern(folded_set) + \"$\", \"iu\");\n\n        if (to_add.match(patt)) {\n            return;\n        }\n\n        folded_set.add(escape_regex(to_add));\n        unicode_sets[folded] = folded_set;\n    };\n\n    for (let value of generator(code_points)) {\n        addMatching(value.folded, value.folded);\n        addMatching(value.folded, value.composed);\n    }\n\n    return unicode_sets;\n};\n/**\n * Generate a unicode map from the list of code points\n * ae => (?:(?:ae|Æ|Ǽ|Ǣ)|(?:A|Ⓐ|Ａ...)(?:E|ɛ|Ⓔ...))\n *\n * @param {TCodePoints} code_points\n * @return {TUnicodeMap}\n */\n\nconst generateMap = (code_points) => {\n    /** @type {TUnicodeSets} */\n    const unicode_sets = generateSets(code_points);\n    /** @type {TUnicodeMap} */\n\n    const unicode_map = {};\n    /** @type {string[]} */\n\n    let multi_char = [];\n\n    for (let folded in unicode_sets) {\n        let set = unicode_sets[folded];\n\n        if (set) {\n            unicode_map[folded] = setToPattern(set);\n        }\n\n        if (folded.length > 1) {\n            multi_char.push(escape_regex(folded));\n        }\n    }\n\n    multi_char.sort((a, b) => b.length - a.length);\n    const multi_char_patt = arrayToPattern(multi_char);\n    multi_char_reg = new RegExp(\"^\" + multi_char_patt, \"u\");\n    return unicode_map;\n};\n/**\n * Map each element of an array from it's folded value to all possible unicode matches\n * @param {string[]} strings\n * @param {number} min_replacement\n * @return {string}\n */\n\nconst mapSequence = (strings, min_replacement = 1) => {\n    let chars_replaced = 0;\n    strings = strings.map((str) => {\n        if (unicode_map[str]) {\n            chars_replaced += str.length;\n        }\n\n        return unicode_map[str] || str;\n    });\n\n    if (chars_replaced >= min_replacement) {\n        return sequencePattern(strings);\n    }\n\n    return \"\";\n};\n/**\n * Convert a short string and split it into all possible patterns\n * Keep a pattern only if min_replacement is met\n *\n * 'abc'\n * \t\t=> [['abc'],['ab','c'],['a','bc'],['a','b','c']]\n *\t\t=> ['abc-pattern','ab-c-pattern'...]\n *\n *\n * @param {string} str\n * @param {number} min_replacement\n * @return {string}\n */\n\nconst substringsToPattern = (str, min_replacement = 1) => {\n    min_replacement = Math.max(min_replacement, str.length - 1);\n    return arrayToPattern(\n        allSubstrings(str).map((sub_pat) => {\n            return mapSequence(sub_pat, min_replacement);\n        })\n    );\n};\n/**\n * Convert an array of sequences into a pattern\n * [{start:0,end:3,length:3,substr:'iii'}...] => (?:iii...)\n *\n * @param {Sequence[]} sequences\n * @param {boolean} all\n */\n\nconst sequencesToPattern = (sequences, all = true) => {\n    let min_replacement = sequences.length > 1 ? 1 : 0;\n    return arrayToPattern(\n        sequences.map((sequence) => {\n            let seq = [];\n            const len = all ? sequence.length() : sequence.length() - 1;\n\n            for (let j = 0; j < len; j++) {\n                seq.push(\n                    substringsToPattern(\n                        sequence.substrs[j] || \"\",\n                        min_replacement\n                    )\n                );\n            }\n\n            return sequencePattern(seq);\n        })\n    );\n};\n/**\n * Return true if the sequence is already in the sequences\n * @param {Sequence} needle_seq\n * @param {Sequence[]} sequences\n */\n\nconst inSequences = (needle_seq, sequences) => {\n    for (const seq of sequences) {\n        if (seq.start != needle_seq.start || seq.end != needle_seq.end) {\n            continue;\n        }\n\n        if (seq.substrs.join(\"\") !== needle_seq.substrs.join(\"\")) {\n            continue;\n        }\n\n        let needle_parts = needle_seq.parts;\n        /**\n         * @param {TSequencePart} part\n         */\n\n        const filter = (part) => {\n            for (const needle_part of needle_parts) {\n                if (\n                    needle_part.start === part.start &&\n                    needle_part.substr === part.substr\n                ) {\n                    return false;\n                }\n\n                if (part.length == 1 || needle_part.length == 1) {\n                    continue;\n                } // check for overlapping parts\n                // a = ['::=','==']\n                // b = ['::','===']\n                // a = ['r','sm']\n                // b = ['rs','m']\n\n                if (\n                    part.start < needle_part.start &&\n                    part.end > needle_part.start\n                ) {\n                    return true;\n                }\n\n                if (\n                    needle_part.start < part.start &&\n                    needle_part.end > part.start\n                ) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n\n        let filtered = seq.parts.filter(filter);\n\n        if (filtered.length > 0) {\n            continue;\n        }\n\n        return true;\n    }\n\n    return false;\n};\n\nclass Sequence {\n    constructor() {\n        /** @type {TSequencePart[]} */\n        this.parts = [];\n        /** @type {string[]} */\n\n        this.substrs = [];\n        this.start = 0;\n        this.end = 0;\n    }\n    /**\n     * @param {TSequencePart|undefined} part\n     */\n\n    add(part) {\n        if (part) {\n            this.parts.push(part);\n            this.substrs.push(part.substr);\n            this.start = Math.min(part.start, this.start);\n            this.end = Math.max(part.end, this.end);\n        }\n    }\n\n    last() {\n        return this.parts[this.parts.length - 1];\n    }\n\n    length() {\n        return this.parts.length;\n    }\n    /**\n     * @param {number} position\n     * @param {TSequencePart} last_piece\n     */\n\n    clone(position, last_piece) {\n        let clone = new Sequence();\n        let parts = JSON.parse(JSON.stringify(this.parts));\n        let last_part = parts.pop();\n\n        for (const part of parts) {\n            clone.add(part);\n        }\n\n        let last_substr = last_piece.substr.substring(\n            0,\n            position - last_part.start\n        );\n        let clone_last_len = last_substr.length;\n        clone.add({\n            start: last_part.start,\n            end: last_part.start + clone_last_len,\n            length: clone_last_len,\n            substr: last_substr,\n        });\n        return clone;\n    }\n}\n/**\n * Expand a regular expression pattern to include unicode variants\n * \teg /a/ becomes /aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐɑAⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ/\n *\n * Issue:\n *  ﺊﺋ [ 'ﺊ = \\\\u{fe8a}', 'ﺋ = \\\\u{fe8b}' ]\n *\tbecomes:\tئئ [ 'ي = \\\\u{64a}', 'ٔ = \\\\u{654}', 'ي = \\\\u{64a}', 'ٔ = \\\\u{654}' ]\n *\n *\tİĲ = IIJ = ⅡJ\n *\n * \t1/2/4\n *\n * @param {string} str\n * @return {string|undefined}\n */\n\nconst getPattern = (str) => {\n    initialize();\n    str = asciifold(str);\n    let pattern = \"\";\n    let sequences = [new Sequence()];\n\n    for (let i = 0; i < str.length; i++) {\n        let substr = str.substring(i);\n        let match = substr.match(multi_char_reg);\n        const char = str.substring(i, i + 1);\n        const match_str = match ? match[0] : null; // loop through sequences\n        // add either the char or multi_match\n\n        let overlapping = [];\n        let added_types = new Set();\n\n        for (const sequence of sequences) {\n            const last_piece = sequence.last();\n\n            if (!last_piece || last_piece.length == 1 || last_piece.end <= i) {\n                // if we have a multi match\n                if (match_str) {\n                    const len = match_str.length;\n                    sequence.add({\n                        start: i,\n                        end: i + len,\n                        length: len,\n                        substr: match_str,\n                    });\n                    added_types.add(\"1\");\n                } else {\n                    sequence.add({\n                        start: i,\n                        end: i + 1,\n                        length: 1,\n                        substr: char,\n                    });\n                    added_types.add(\"2\");\n                }\n            } else if (match_str) {\n                let clone = sequence.clone(i, last_piece);\n                const len = match_str.length;\n                clone.add({\n                    start: i,\n                    end: i + len,\n                    length: len,\n                    substr: match_str,\n                });\n                overlapping.push(clone);\n            } else {\n                // don't add char\n                // adding would create invalid patterns: 234 => [2,34,4]\n                added_types.add(\"3\");\n            }\n        } // if we have overlapping\n\n        if (overlapping.length > 0) {\n            // ['ii','iii'] before ['i','i','iii']\n            overlapping = overlapping.sort((a, b) => {\n                return a.length() - b.length();\n            });\n\n            for (let clone of overlapping) {\n                // don't add if we already have an equivalent sequence\n                if (inSequences(clone, sequences)) {\n                    continue;\n                }\n\n                sequences.push(clone);\n            }\n\n            continue;\n        } // if we haven't done anything unique\n        // clean up the patterns\n        // helps keep patterns smaller\n        // if str = 'r₨㎧aarss', pattern will be 446 instead of 655\n\n        if (i > 0 && added_types.size == 1 && !added_types.has(\"3\")) {\n            pattern += sequencesToPattern(sequences, false);\n            let new_seq = new Sequence();\n            const old_seq = sequences[0];\n\n            if (old_seq) {\n                new_seq.add(old_seq.last());\n            }\n\n            sequences = [new_seq];\n        }\n    }\n\n    pattern += sequencesToPattern(sequences, true);\n    return pattern;\n};\n\n/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */\n\n/**\n * A property getter resolving dot-notation\n * @param  {Object}  obj     The root object to fetch property on\n * @param  {String}  name    The optionally dotted property name to fetch\n * @return {Object}          The resolved property value\n */\nconst getAttr = (obj, name) => {\n    if (!obj) return;\n    return obj[name];\n};\n/**\n * A property getter resolving dot-notation\n * @param  {Object}  obj     The root object to fetch property on\n * @param  {String}  name    The optionally dotted property name to fetch\n * @return {Object}          The resolved property value\n */\n\nconst getAttrNesting = (obj, name) => {\n    if (!obj) return;\n    var part,\n        names = name.split(\".\");\n\n    while ((part = names.shift()) && (obj = obj[part]));\n\n    return obj;\n};\n/**\n * Calculates how close of a match the\n * given value is against a search token.\n *\n */\n\nconst scoreValue = (value, token, weight) => {\n    var score, pos;\n    if (!value) return 0;\n    value = value + \"\";\n    if (token.regex == null) return 0;\n    pos = value.search(token.regex);\n    if (pos === -1) return 0;\n    score = token.string.length / value.length;\n    if (pos === 0) score += 0.5;\n    return score * weight;\n};\n/**\n * Cast object property to an array if it exists and has a value\n *\n */\n\nconst propToArray = (obj, key) => {\n    var value = obj[key];\n    if (typeof value == \"function\") return value;\n\n    if (value && !Array.isArray(value)) {\n        obj[key] = [value];\n    }\n};\n/**\n * Iterates over arrays and hashes.\n *\n * ```\n * iterate(this.items, function(item, id) {\n *    // invoked for each item\n * });\n * ```\n *\n */\n\nconst iterate$1 = (object, callback) => {\n    if (Array.isArray(object)) {\n        object.forEach(callback);\n    } else {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                callback(object[key], key);\n            }\n        }\n    }\n};\nconst cmp = (a, b) => {\n    if (typeof a === \"number\" && typeof b === \"number\") {\n        return a > b ? 1 : a < b ? -1 : 0;\n    }\n\n    a = asciifold(a + \"\").toLowerCase();\n    b = asciifold(b + \"\").toLowerCase();\n    if (a > b) return 1;\n    if (b > a) return -1;\n    return 0;\n};\n\n/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */\n\n/**\n * sifter.js\n * Copyright (c) 2013–2020 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\nclass Sifter {\n    // []|{};\n\n    /**\n     * Textually searches arrays and hashes of objects\n     * by property (or multiple properties). Designed\n     * specifically for autocomplete.\n     *\n     */\n    constructor(items, settings) {\n        this.items = void 0;\n        this.settings = void 0;\n        this.items = items;\n        this.settings = settings || {\n            diacritics: true,\n        };\n    }\n\n    /**\n     * Splits a search string into an array of individual\n     * regexps to be used to match results.\n     *\n     */\n    tokenize(query, respect_word_boundaries, weights) {\n        if (!query || !query.length) return [];\n        const tokens = [];\n        const words = query.split(/\\s+/);\n        var field_regex;\n\n        if (weights) {\n            field_regex = new RegExp(\n                \"^(\" +\n                Object.keys(weights).map(escape_regex).join(\"|\") +\n                \"):(.*)$\"\n            );\n        }\n\n        words.forEach((word) => {\n            let field_match;\n            let field = null;\n            let regex = null; // look for \"field:query\" tokens\n\n            if (field_regex && (field_match = word.match(field_regex))) {\n                field = field_match[1];\n                word = field_match[2];\n            }\n\n            if (word.length > 0) {\n                if (this.settings.diacritics) {\n                    regex = getPattern(word) || null;\n                } else {\n                    regex = escape_regex(word);\n                }\n\n                if (regex && respect_word_boundaries) regex = \"\\\\b\" + regex;\n            }\n\n            tokens.push({\n                string: word,\n                regex: regex ? new RegExp(regex, \"iu\") : null,\n                field: field,\n            });\n        });\n        return tokens;\n    }\n\n    /**\n     * Returns a function to be used to score individual results.\n     *\n     * Good matches will have a higher score than poor matches.\n     * If an item is not a match, 0 will be returned by the function.\n     *\n     * @returns {T.ScoreFn}\n     */\n    getScoreFunction(query, options) {\n        var search = this.prepareSearch(query, options);\n        return this._getScoreFunction(search);\n    }\n    /**\n     * @returns {T.ScoreFn}\n     *\n     */\n\n    _getScoreFunction(search) {\n        const tokens = search.tokens,\n            token_count = tokens.length;\n\n        if (!token_count) {\n            return function () {\n                return 0;\n            };\n        }\n\n        const fields = search.options.fields,\n            weights = search.weights,\n            field_count = fields.length,\n            getAttrFn = search.getAttrFn;\n\n        if (!field_count) {\n            return function () {\n                return 1;\n            };\n        }\n        /**\n         * Calculates the score of an object\n         * against the search query.\n         *\n         */\n\n        const scoreObject = (function () {\n            if (field_count === 1) {\n                return function (token, data) {\n                    const field = fields[0].field;\n                    return scoreValue(\n                        getAttrFn(data, field),\n                        token,\n                        weights[field] || 1\n                    );\n                };\n            }\n\n            return function (token, data) {\n                var sum = 0; // is the token specific to a field?\n\n                if (token.field) {\n                    const value = getAttrFn(data, token.field);\n\n                    if (!token.regex && value) {\n                        sum += 1 / field_count;\n                    } else {\n                        sum += scoreValue(value, token, 1);\n                    }\n                } else {\n                    iterate$1(weights, (weight, field) => {\n                        sum += scoreValue(\n                            getAttrFn(data, field),\n                            token,\n                            weight\n                        );\n                    });\n                }\n\n                return sum / field_count;\n            };\n        })();\n\n        if (token_count === 1) {\n            return function (data) {\n                return scoreObject(tokens[0], data);\n            };\n        }\n\n        if (search.options.conjunction === \"and\") {\n            return function (data) {\n                var score,\n                    sum = 0;\n\n                for (let token of tokens) {\n                    score = scoreObject(token, data);\n                    if (score <= 0) return 0;\n                    sum += score;\n                }\n\n                return sum / token_count;\n            };\n        } else {\n            return function (data) {\n                var sum = 0;\n                iterate$1(tokens, (token) => {\n                    sum += scoreObject(token, data);\n                });\n                return sum / token_count;\n            };\n        }\n    }\n\n    /**\n     * Returns a function that can be used to compare two\n     * results, for sorting purposes. If no sorting should\n     * be performed, `null` will be returned.\n     *\n     * @return function(a,b)\n     */\n    getSortFunction(query, options) {\n        var search = this.prepareSearch(query, options);\n        return this._getSortFunction(search);\n    }\n\n    _getSortFunction(search) {\n        var implicit_score,\n            sort_flds = [];\n        const self = this,\n            options = search.options,\n            sort =\n                !search.query && options.sort_empty\n                    ? options.sort_empty\n                    : options.sort;\n\n        if (typeof sort == \"function\") {\n            return sort.bind(this);\n        }\n        /**\n         * Fetches the specified sort field value\n         * from a search result item.\n         *\n         */\n\n        const get_field = function get_field(name, result) {\n            if (name === \"$score\") return result.score;\n            return search.getAttrFn(self.items[result.id], name);\n        }; // parse options\n\n        if (sort) {\n            for (let s of sort) {\n                if (search.query || s.field !== \"$score\") {\n                    sort_flds.push(s);\n                }\n            }\n        } // the \"$score\" field is implied to be the primary\n        // sort field, unless it's manually specified\n\n        if (search.query) {\n            implicit_score = true;\n\n            for (let fld of sort_flds) {\n                if (fld.field === \"$score\") {\n                    implicit_score = false;\n                    break;\n                }\n            }\n\n            if (implicit_score) {\n                sort_flds.unshift({\n                    field: \"$score\",\n                    direction: \"desc\",\n                });\n            } // without a search.query, all items will have the same score\n        } else {\n            sort_flds = sort_flds.filter((fld) => fld.field !== \"$score\");\n        } // build function\n\n        const sort_flds_count = sort_flds.length;\n\n        if (!sort_flds_count) {\n            return null;\n        }\n\n        return function (a, b) {\n            var result, field;\n\n            for (let sort_fld of sort_flds) {\n                field = sort_fld.field;\n                let multiplier = sort_fld.direction === \"desc\" ? -1 : 1;\n                result =\n                    multiplier * cmp(get_field(field, a), get_field(field, b));\n                if (result) return result;\n            }\n\n            return 0;\n        };\n    }\n\n    /**\n     * Parses a search query and returns an object\n     * with tokens and fields ready to be populated\n     * with results.\n     *\n     */\n    prepareSearch(query, optsUser) {\n        const weights = {};\n        var options = Object.assign({}, optsUser);\n        propToArray(options, \"sort\");\n        propToArray(options, \"sort_empty\"); // convert fields to new format\n\n        if (options.fields) {\n            propToArray(options, \"fields\");\n            const fields = [];\n            options.fields.forEach((field) => {\n                if (typeof field == \"string\") {\n                    field = {\n                        field: field,\n                        weight: 1,\n                    };\n                }\n\n                fields.push(field);\n                weights[field.field] = \"weight\" in field ? field.weight : 1;\n            });\n            options.fields = fields;\n        }\n\n        return {\n            options: options,\n            query: query.toLowerCase().trim(),\n            tokens: this.tokenize(\n                query,\n                options.respect_word_boundaries,\n                weights\n            ),\n            total: 0,\n            items: [],\n            weights: weights,\n            getAttrFn: options.nesting ? getAttrNesting : getAttr,\n        };\n    }\n\n    /**\n     * Searches through all items and returns a sorted array of matches.\n     *\n     */\n    search(query, options) {\n        var self = this,\n            score,\n            search;\n        search = this.prepareSearch(query, options);\n        options = search.options;\n        query = search.query; // generate result scoring function\n\n        const fn_score = options.score || self._getScoreFunction(search); // perform search and sort\n\n        if (query.length) {\n            iterate$1(self.items, (item, id) => {\n                score = fn_score(item);\n\n                if (options.filter === false || score > 0) {\n                    search.items.push({\n                        score: score,\n                        id: id,\n                    });\n                }\n            });\n        } else {\n            iterate$1(self.items, (_, id) => {\n                search.items.push({\n                    score: 1,\n                    id: id,\n                });\n            });\n        }\n\n        const fn_sort = self._getSortFunction(search);\n\n        if (fn_sort) search.items.sort(fn_sort); // apply limits\n\n        search.total = search.items.length;\n\n        if (typeof options.limit === \"number\") {\n            search.items = search.items.slice(0, options.limit);\n        }\n\n        return search;\n    }\n}\n\n/**\n * Iterates over arrays and hashes.\n *\n * ```\n * iterate(this.items, function(item, id) {\n *    // invoked for each item\n * });\n * ```\n *\n */\n\nconst iterate = (object, callback) => {\n    if (Array.isArray(object)) {\n        object.forEach(callback);\n    } else {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                callback(object[key], key);\n            }\n        }\n    }\n};\n\n/**\n * Return a dom element from either a dom query string, jQuery object, a dom element or html string\n * https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro/35385518#35385518\n *\n * param query should be {}\n */\n\nconst getDom = (query) => {\n    if (query.jquery) {\n        return query[0];\n    }\n\n    if (query instanceof HTMLElement) {\n        return query;\n    }\n\n    if (isHtmlString(query)) {\n        var tpl = document.createElement(\"template\");\n        tpl.innerHTML = query.trim(); // Never return a text node of whitespace as the result\n\n        return tpl.content.firstChild;\n    }\n\n    return document.querySelector(query);\n};\nconst isHtmlString = (arg) => {\n    if (typeof arg === \"string\" && arg.indexOf(\"<\") > -1) {\n        return true;\n    }\n\n    return false;\n};\nconst escapeQuery = (query) => {\n    return query.replace(/['\"\\\\]/g, \"\\\\$&\");\n};\n/**\n * Dispatch an event\n *\n */\n\nconst triggerEvent = (dom_el, event_name) => {\n    var event = document.createEvent(\"HTMLEvents\");\n    event.initEvent(event_name, true, false);\n    dom_el.dispatchEvent(event);\n};\n/**\n * Apply CSS rules to a dom element\n *\n */\n\nconst applyCSS = (dom_el, css) => {\n    Object.assign(dom_el.style, css);\n};\n/**\n * Add css classes\n *\n */\n\nconst addClasses = (elmts, ...classes) => {\n    var norm_classes = classesArray(classes);\n    elmts = castAsArray(elmts);\n    elmts.map((el) => {\n        norm_classes.map((cls) => {\n            el.classList.add(cls);\n        });\n    });\n};\n/**\n * Remove css classes\n *\n */\n\nconst removeClasses = (elmts, ...classes) => {\n    var norm_classes = classesArray(classes);\n    elmts = castAsArray(elmts);\n    elmts.map((el) => {\n        norm_classes.map((cls) => {\n            el.classList.remove(cls);\n        });\n    });\n};\n/**\n * Return arguments\n *\n */\n\nconst classesArray = (args) => {\n    var classes = [];\n    iterate(args, (_classes) => {\n        if (typeof _classes === \"string\") {\n            _classes = _classes.trim().split(/[\\11\\12\\14\\15\\40]/);\n        }\n\n        if (Array.isArray(_classes)) {\n            classes = classes.concat(_classes);\n        }\n    });\n    return classes.filter(Boolean);\n};\n/**\n * Create an array from arg if it's not already an array\n *\n */\n\nconst castAsArray = (arg) => {\n    if (!Array.isArray(arg)) {\n        arg = [arg];\n    }\n\n    return arg;\n};\n/**\n * Get the closest node to the evt.target matching the selector\n * Stops at wrapper\n *\n */\n\nconst parentMatch = (target, selector, wrapper) => {\n    if (wrapper && !wrapper.contains(target)) {\n        return;\n    }\n\n    while (target && target.matches) {\n        if (target.matches(selector)) {\n            return target;\n        }\n\n        target = target.parentNode;\n    }\n};\n/**\n * Get the first or last item from an array\n *\n * > 0 - right (last)\n * <= 0 - left (first)\n *\n */\n\nconst getTail = (list, direction = 0) => {\n    if (direction > 0) {\n        return list[list.length - 1];\n    }\n\n    return list[0];\n};\n/**\n * Return true if an object is empty\n *\n */\n\nconst isEmptyObject = (obj) => {\n    return Object.keys(obj).length === 0;\n};\n/**\n * Get the index of an element amongst sibling nodes of the same type\n *\n */\n\nconst nodeIndex = (el, amongst) => {\n    if (!el) return -1;\n    amongst = amongst || el.nodeName;\n    var i = 0;\n\n    while ((el = el.previousElementSibling)) {\n        if (el.matches(amongst)) {\n            i++;\n        }\n    }\n\n    return i;\n};\n/**\n * Set attributes of an element\n *\n */\n\nconst setAttr = (el, attrs) => {\n    iterate(attrs, (val, attr) => {\n        if (val == null) {\n            el.removeAttribute(attr);\n        } else {\n            el.setAttribute(attr, \"\" + val);\n        }\n    });\n};\n/**\n * Replace a node\n */\n\nconst replaceNode = (existing, replacement) => {\n    if (existing.parentNode)\n        existing.parentNode.replaceChild(replacement, existing);\n};\n\n/**\n * highlight v3 | MIT license | Johann Burkard <jb@eaio.com>\n * Highlights arbitrary terms in a node.\n *\n * - Modified by Marshal <beatgates@gmail.com> 2011-6-24 (added regex)\n * - Modified by Brian Reavis <brian@thirdroute.com> 2012-8-27 (cleanup)\n */\nconst highlight = (element, regex, highlightClass) => {\n    if (regex === null) return; // convet string to regex\n\n    if (typeof regex === \"string\") {\n        if (!regex.length) return;\n        regex = new RegExp(regex, \"i\");\n    } // Wrap matching part of text node with highlighting <span>, e.g.\n    // Soccer  ->  <span class=\"highlight\">Soc</span>cer  for regex = /soc/i\n\n    const highlightText = (node) => {\n        var match = node.data.match(regex);\n\n        if (match && node.data.length > 0) {\n            var spannode = document.createElement(\"span\");\n            spannode.className = \"highlight \" + highlightClass;\n            var middlebit = node.splitText(match.index);\n            middlebit.splitText(match[0].length);\n            var middleclone = middlebit.cloneNode(true);\n            spannode.appendChild(middleclone);\n            replaceNode(middlebit, spannode);\n            return 1;\n        }\n\n        return 0;\n    }; // Recurse element node, looking for child text nodes to highlight, unless element\n    // is childless, <script>, <style>, or already highlighted: <span class=\"hightlight\">\n\n    const highlightChildren = (node) => {\n        if (\n            node.nodeType === 1 &&\n            node.childNodes &&\n            !/(script|style)/i.test(node.tagName) &&\n            // (node.className !== \"highlight\" || node.tagName !== \"SPAN\")\n            (!node.classList.contains('highlight') || node.tagName !== \"SPAN\")\n        ) {\n            Array.from(node.childNodes).forEach((element) => {\n                highlightRecursive(element);\n            });\n        }\n    };\n\n    const highlightRecursive = (node) => {\n        if (node.nodeType === 3) {\n            return highlightText(node);\n        }\n\n        highlightChildren(node);\n        return 0;\n    };\n\n    highlightRecursive(element);\n};\n/**\n * removeHighlight fn copied from highlight v5 and\n * edited to remove with(), pass js strict mode, and use without jquery\n */\n\nconst removeHighlight = (el) => {\n    var elements = el.querySelectorAll(\"span.highlight\");\n    Array.prototype.forEach.call(elements, function (el) {\n        var parent = el.parentNode;\n        parent.replaceChild(el.firstChild, el);\n        parent.normalize();\n    });\n};\n\nconst KEY_A = 65;\nconst KEY_RETURN = 13;\nconst KEY_ESC = 27;\nconst KEY_LEFT = 37;\nconst KEY_UP = 38;\nconst KEY_RIGHT = 39;\nconst KEY_DOWN = 40;\nconst KEY_BACKSPACE = 8;\nconst KEY_DELETE = 46;\nconst KEY_TAB = 9;\nconst IS_MAC =\n    typeof navigator === \"undefined\" ? false : /Mac/.test(navigator.userAgent);\nconst KEY_SHORTCUT = IS_MAC ? \"metaKey\" : \"ctrlKey\"; // ctrl key or apple key for ma\n\nvar defaults = {\n    options: [],\n    optgroups: [],\n    plugins: [],\n    delimiter: \",\",\n    splitOn: null,\n    // regexp or string for splitting up values from a paste command\n    persist: true,\n    diacritics: true,\n    create: null,\n    createOnBlur: false,\n    createFilter: null,\n    highlight: true,\n    openOnFocus: true,\n    shouldOpen: null,\n    maxOptions: 50,\n    maxItems: null,\n    hideSelected: null,\n    duplicates: false,\n    addPrecedence: false,\n    selectOnTab: false,\n    preload: null,\n    allowEmptyOption: false,\n    //closeAfterSelect: false,\n    loadThrottle: 300,\n    loadingClass: \"loading\",\n    dataAttr: null,\n    //'data-data',\n    optgroupField: \"optgroup\",\n    valueField: \"value\",\n    labelField: \"text\",\n    disabledField: \"disabled\",\n    optgroupLabelField: \"label\",\n    optgroupValueField: \"value\",\n    lockOptgroupOrder: false,\n    sortField: \"$order\",\n    searchField: [\"text\"],\n    searchConjunction: \"and\",\n    mode: null,\n    wrapperClass: \"ts-wrapper\",\n    controlClass: \"ts-control\",\n    dropdownClass: \"ts-dropdown\",\n    dropdownContentClass: \"ts-dropdown-content\",\n    itemClass: \"item\",\n    optionClass: \"option\",\n    highlightClass: \"\",\n    dropdownParent: null,\n    controlInput: '<input type=\"text\" autocomplete=\"off\" size=\"1\" />',\n    copyClassesToDropdown: false,\n    placeholder: null,\n    hidePlaceholder: null,\n    shouldLoad: function (query) {\n        return query.length > 0;\n    },\n\n    /*\n    load                 : null, // function(query, callback) { ... }\n    score                : null, // function(search) { ... }\n    onInitialize         : null, // function() { ... }\n    onChange             : null, // function(value) { ... }\n    onItemAdd            : null, // function(value, $item) { ... }\n    onItemRemove         : null, // function(value) { ... }\n    onClear              : null, // function() { ... }\n    onOptionAdd          : null, // function(value, data) { ... }\n    onOptionRemove       : null, // function(value) { ... }\n    onOptionClear        : null, // function() { ... }\n    onOptionGroupAdd     : null, // function(id, data) { ... }\n    onOptionGroupRemove  : null, // function(id) { ... }\n    onOptionGroupClear   : null, // function() { ... }\n    onDropdownOpen       : null, // function(dropdown) { ... }\n    onDropdownClose      : null, // function(dropdown) { ... }\n    onType               : null, // function(str) { ... }\n    onDelete             : null, // function(values) { ... }\n    */\n    render: {\n        /*\n        item: null,\n        optgroup: null,\n        optgroup_header: null,\n        option: null,\n        option_create: null\n        */\n    },\n};\n\n/**\n * Converts a scalar to its best string representation\n * for hash keys and HTML attribute values.\n *\n * Transformations:\n *   'str'     -> 'str'\n *   null      -> ''\n *   undefined -> ''\n *   true      -> '1'\n *   false     -> '0'\n *   0         -> '0'\n *   1         -> '1'\n *\n */\nconst hash_key = (value) => {\n    if (typeof value === \"undefined\" || value === null) return null;\n    return get_hash(value);\n};\nconst get_hash = (value) => {\n    if (typeof value === \"boolean\") return value ? \"1\" : \"0\";\n    return value + \"\";\n};\n/**\n * Escapes a string for use within HTML.\n *\n */\n\nconst escape_html = (str) => {\n    return (str + \"\")\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n        .replace(/\"/g, \"&quot;\");\n};\n/**\n * Debounce the user provided load function\n *\n */\n\nconst loadDebounce = (fn, delay) => {\n    var timeout;\n    return function (value, callback) {\n        var self = this;\n\n        if (timeout) {\n            self.loading = Math.max(self.loading - 1, 0);\n            clearTimeout(timeout);\n        }\n\n        timeout = setTimeout(function () {\n            timeout = null;\n            self.loadedSearches[value] = true;\n            fn.call(self, value, callback);\n        }, delay);\n    };\n};\n/**\n * Debounce all fired events types listed in `types`\n * while executing the provided `fn`.\n *\n */\n\nconst debounce_events = (self, types, fn) => {\n    var type;\n    var trigger = self.trigger;\n    var event_args = {}; // override trigger method\n\n    self.trigger = function () {\n        var type = arguments[0];\n\n        if (types.indexOf(type) !== -1) {\n            event_args[type] = arguments;\n        } else {\n            return trigger.apply(self, arguments);\n        }\n    }; // invoke provided function\n\n    fn.apply(self, []);\n    self.trigger = trigger; // trigger queued events\n\n    for (type of types) {\n        if (type in event_args) {\n            trigger.apply(self, event_args[type]);\n        }\n    }\n};\n/**\n * Determines the current selection within a text input control.\n * Returns an object containing:\n *   - start\n *   - length\n *\n */\n\nconst getSelection = (input) => {\n    return {\n        start: input.selectionStart || 0,\n        length: (input.selectionEnd || 0) - (input.selectionStart || 0),\n    };\n};\n/**\n * Prevent default\n *\n */\n\nconst preventDefault = (evt, stop = false) => {\n    if (evt) {\n        evt.preventDefault();\n\n        if (stop) {\n            evt.stopPropagation();\n        }\n    }\n};\n/**\n * Add event helper\n *\n */\n\nconst addEvent = (target, type, callback, options) => {\n    target.addEventListener(type, callback, options);\n};\n/**\n * Return true if the requested key is down\n * Will return false if more than one control character is pressed ( when [ctrl+shift+a] != [ctrl+a] )\n * The current evt may not always set ( eg calling advanceSelection() )\n *\n */\n\nconst isKeyDown = (key_name, evt) => {\n    if (!evt) {\n        return false;\n    }\n\n    if (!evt[key_name]) {\n        return false;\n    }\n\n    var count =\n        (evt.altKey ? 1 : 0) +\n        (evt.ctrlKey ? 1 : 0) +\n        (evt.shiftKey ? 1 : 0) +\n        (evt.metaKey ? 1 : 0);\n\n    if (count === 1) {\n        return true;\n    }\n\n    return false;\n};\n/**\n * Get the id of an element\n * If the id attribute is not set, set the attribute with the given id\n *\n */\n\nconst getId = (el, id) => {\n    const existing_id = el.getAttribute(\"id\");\n\n    if (existing_id) {\n        return existing_id;\n    }\n\n    el.setAttribute(\"id\", id);\n    return id;\n};\n/**\n * Returns a string with backslashes added before characters that need to be escaped.\n */\n\nconst addSlashes = (str) => {\n    return str.replace(/[\\\\\"']/g, \"\\\\$&\");\n};\n/**\n *\n */\n\nconst append = (parent, node) => {\n    if (node) parent.append(node);\n};\n\nfunction getSettings(input, settings_user) {\n    var settings = Object.assign({}, defaults, settings_user);\n    var attr_data = settings.dataAttr;\n    var field_label = settings.labelField;\n    var field_value = settings.valueField;\n    var field_disabled = settings.disabledField;\n    var field_optgroup = settings.optgroupField;\n    var field_optgroup_label = settings.optgroupLabelField;\n    var field_optgroup_value = settings.optgroupValueField;\n    var tag_name = input.tagName.toLowerCase();\n    var placeholder =\n        input.getAttribute(\"placeholder\") ||\n        settings.placeholder;\n\n    if (!placeholder && !settings.allowEmptyOption) {\n        let option = input.querySelector('option[value=\"\"]');\n\n        if (option) {\n            placeholder = option.textContent;\n        }\n    }\n\n    var settings_element = {\n        placeholder: placeholder,\n        options: [],\n        optgroups: [],\n        items: [],\n        maxItems: null,\n    };\n    /**\n     * Initialize from a <select> element.\n     *\n     */\n\n    var init_select = () => {\n        var tagName;\n        var options = settings_element.options;\n        var optionsMap = {};\n        var group_count = 1;\n\n        var readData = (el) => {\n            var data = Object.assign({}, el.dataset); // get plain object from DOMStringMap\n\n            var json = attr_data && data[attr_data];\n\n            if (typeof json === \"string\" && json.length) {\n                data = Object.assign(data, JSON.parse(json));\n            }\n\n            return data;\n        };\n\n        var addOption = (option, group) => {\n            var value = hash_key(option.value);\n            if (value == null) return;\n            if (!value && !settings.allowEmptyOption) return; // if the option already exists, it's probably been\n            // duplicated in another optgroup. in this case, push\n            // the current group to the \"optgroup\" property on the\n            // existing option so that it's rendered in both places.\n\n            if (optionsMap.hasOwnProperty(value)) {\n                if (group) {\n                    var arr = optionsMap[value][field_optgroup];\n\n                    if (!arr) {\n                        optionsMap[value][field_optgroup] = group;\n                    } else if (!Array.isArray(arr)) {\n                        optionsMap[value][field_optgroup] = [arr, group];\n                    } else {\n                        arr.push(group);\n                    }\n                }\n            } else {\n                var option_data = readData(option);\n                option_data[field_label] =\n                    option_data[field_label] || option.textContent;\n                option_data[field_value] = option_data[field_value] || value;\n                option_data[field_disabled] =\n                    option_data[field_disabled] || option.disabled;\n                option_data[field_optgroup] =\n                    option_data[field_optgroup] || group;\n                option_data.$option = option;\n                optionsMap[value] = option_data;\n                options.push(option_data);\n            }\n\n            if (option.selected) {\n                settings_element.items.push(value);\n            }\n        };\n\n        var addGroup = (optgroup) => {\n            var id, optgroup_data;\n            optgroup_data = readData(optgroup);\n            optgroup_data[field_optgroup_label] =\n                optgroup_data[field_optgroup_label] ||\n                optgroup.getAttribute(\"label\") ||\n                \"\";\n            optgroup_data[field_optgroup_value] =\n                optgroup_data[field_optgroup_value] || group_count++;\n            optgroup_data[field_disabled] =\n                optgroup_data[field_disabled] || optgroup.disabled;\n            settings_element.optgroups.push(optgroup_data);\n            id = optgroup_data[field_optgroup_value];\n            iterate(optgroup.children, (option) => {\n                addOption(option, id);\n            });\n        };\n\n        settings_element.maxItems = input.hasAttribute(\"multiple\") ? null : 1;\n        iterate(input.children, (child) => {\n            tagName = child.tagName.toLowerCase();\n\n            if (tagName === \"optgroup\") {\n                addGroup(child);\n            } else if (tagName === \"option\") {\n                addOption(child);\n            }\n        });\n    };\n    /**\n     * Initialize from a <input type=\"text\"> element.\n     *\n     */\n\n    var init_textbox = () => {\n        const data_raw = input.getAttribute(attr_data);\n\n        if (!data_raw) {\n            var value = input.value.trim() || \"\";\n            if (!settings.allowEmptyOption && !value.length) return;\n            const values = value.split(settings.delimiter);\n            iterate(values, (value) => {\n                const option = {};\n                option[field_label] = value;\n                option[field_value] = value;\n                settings_element.options.push(option);\n            });\n            settings_element.items = values;\n        } else {\n            settings_element.options = JSON.parse(data_raw);\n            iterate(settings_element.options, (opt) => {\n                settings_element.items.push(opt[field_value]);\n            });\n        }\n    };\n\n    if (tag_name === \"select\") {\n        init_select();\n    } else {\n        init_textbox();\n    }\n\n    return Object.assign({}, defaults, settings_element, settings_user);\n}\n\nvar instance_i = 0;\nclass TomSelect extends MicroPlugin(MicroEvent) {\n    // @deprecated 1.8\n    constructor(input_arg, user_settings) {\n        super();\n        this.control_input = void 0;\n        this.wrapper = void 0;\n        this.dropdown = void 0;\n        this.control = void 0;\n        this.dropdown_content = void 0;\n        this.focus_node = void 0;\n        this.order = 0;\n        this.settings = void 0;\n        this.input = void 0;\n        this.tabIndex = void 0;\n        this.is_select_tag = void 0;\n        this.rtl = void 0;\n        this.inputId = void 0;\n        this._destroy = void 0;\n        this.sifter = void 0;\n        this.isOpen = false;\n        this.isDisabled = false;\n        this.isRequired = void 0;\n        this.isInvalid = false;\n        this.isValid = true;\n        this.isLocked = false;\n        this.isFocused = false;\n        this.isInputHidden = false;\n        this.isSetup = false;\n        this.ignoreFocus = false;\n        this.ignoreHover = false;\n        this.hasOptions = false;\n        this.currentResults = void 0;\n        this.lastValue = \"\";\n        this.caretPos = 0;\n        this.loading = 0;\n        this.loadedSearches = {};\n        this.activeOption = null;\n        this.activeItems = [];\n        this.optgroups = {};\n        this.options = {};\n        this.userOptions = {};\n        this.items = [];\n        instance_i++;\n        var dir;\n        var input = getDom(input_arg);\n\n        if (input.tomselect) {\n            throw new Error(\"Tom Select already initialized on this element\");\n        }\n\n        input.tomselect = this; // detect rtl environment\n\n        var computedStyle =\n            window.getComputedStyle && window.getComputedStyle(input, null);\n        dir = computedStyle.getPropertyValue(\"direction\"); // setup default state\n\n        const settings = getSettings(input, user_settings);\n        this.settings = settings;\n        this.input = input;\n        this.tabIndex = input.tabIndex || 0;\n        this.is_select_tag = input.tagName.toLowerCase() === \"select\";\n        this.rtl = /rtl/i.test(dir);\n        this.inputId = getId(input, \"tomselect-\" + instance_i);\n        this.isRequired = input.required; // search system\n\n        this.sifter = new Sifter(this.options, {\n            diacritics: settings.diacritics,\n        }); // option-dependent defaults\n\n        settings.mode =\n            settings.mode || (settings.maxItems === 1 ? \"single\" : \"multi\");\n\n        if (typeof settings.hideSelected !== \"boolean\") {\n            settings.hideSelected = settings.mode === \"multi\";\n        }\n\n        if (typeof settings.hidePlaceholder !== \"boolean\") {\n            settings.hidePlaceholder = settings.mode !== \"multi\";\n        } // set up createFilter callback\n\n        var filter = settings.createFilter;\n\n        if (typeof filter !== \"function\") {\n            if (typeof filter === \"string\") {\n                filter = new RegExp(filter);\n            }\n\n            if (filter instanceof RegExp) {\n                settings.createFilter = (input) => filter.test(input);\n            } else {\n                settings.createFilter = (value) => {\n                    return this.settings.duplicates || !this.options[value];\n                };\n            }\n        }\n\n        this.initializePlugins(settings.plugins);\n        this.setupCallbacks();\n        this.setupTemplates(); // Create all elements\n\n        const wrapper = getDom(\"<div>\");\n        const control = getDom(\"<div>\");\n\n        const dropdown = this._render(\"dropdown\");\n\n        const dropdown_content = getDom(`<div role=\"listbox\" tabindex=\"-1\">`);\n        // const classes = this.input.getAttribute(\"class\") || \"\";\n        const classes = \"\";\n        const inputMode = settings.mode;\n        var control_input;\n        addClasses(wrapper, settings.wrapperClass, classes, inputMode);\n        addClasses(control, settings.controlClass);\n        append(wrapper, control);\n        addClasses(dropdown, settings.dropdownClass, inputMode);\n\n        if (settings.copyClassesToDropdown) {\n            addClasses(dropdown, classes);\n        }\n\n        addClasses(dropdown_content, settings.dropdownContentClass);\n        append(dropdown, dropdown_content);\n        getDom(settings.dropdownParent || wrapper).appendChild(dropdown); // default controlInput\n\n        if (isHtmlString(settings.controlInput)) {\n            control_input = getDom(settings.controlInput); // set attributes\n\n            var attrs = [\"autocorrect\", \"autocapitalize\", \"autocomplete\"];\n            iterate$1(attrs, (attr) => {\n                if (input.getAttribute(attr)) {\n                    setAttr(control_input, {\n                        [attr]: input.getAttribute(attr),\n                    });\n                }\n            });\n            control_input.tabIndex = -1;\n            control.appendChild(control_input);\n            this.focus_node = control_input; // dom element\n        } else if (settings.controlInput) {\n            control_input = getDom(settings.controlInput);\n            this.focus_node = control_input;\n        } else {\n            control_input = getDom(\"<input/>\");\n            this.focus_node = control;\n        }\n\n        this.wrapper = wrapper;\n        this.dropdown = dropdown;\n        this.dropdown_content = dropdown_content;\n        this.control = control;\n        this.control_input = control_input;\n        this.setup();\n    }\n    /**\n     * set up event bindings.\n     *\n     */\n\n    setup() {\n        const self = this;\n        const settings = self.settings;\n        const control_input = self.control_input;\n        const dropdown = self.dropdown;\n        const dropdown_content = self.dropdown_content;\n        const wrapper = self.wrapper;\n        const control = self.control;\n        const input = self.input;\n        const focus_node = self.focus_node;\n        const passive_event = {\n            passive: true,\n        };\n        const listboxId = self.inputId + \"-ts-dropdown\";\n        setAttr(dropdown_content, {\n            id: listboxId,\n        });\n        setAttr(focus_node, {\n            role: \"combobox\",\n            \"aria-haspopup\": \"listbox\",\n            \"aria-expanded\": \"false\",\n            \"aria-controls\": listboxId,\n        });\n        const control_id = getId(focus_node, self.inputId + \"-ts-control\");\n        const query = \"label[for='\" + escapeQuery(self.inputId) + \"']\";\n        const label = document.querySelector(query);\n        const label_click = self.focus.bind(self);\n\n        if (label) {\n            addEvent(label, \"click\", label_click);\n            setAttr(label, {\n                for: control_id,\n            });\n            const label_id = getId(label, self.inputId + \"-ts-label\");\n            setAttr(focus_node, {\n                \"aria-labelledby\": label_id,\n            });\n            setAttr(dropdown_content, {\n                \"aria-labelledby\": label_id,\n            });\n        }\n\n        wrapper.style.width = input.style.width;\n\n        if (self.plugins.names.length) {\n            const classes_plugins =\n                \"plugin-\" + self.plugins.names.join(\" plugin-\");\n            addClasses([wrapper, dropdown], classes_plugins);\n        }\n\n        if (\n            (settings.maxItems === null || settings.maxItems > 1) &&\n            self.is_select_tag\n        ) {\n            setAttr(input, {\n                multiple: \"multiple\",\n            });\n        }\n\n        setAttr(control, {\n            \"data-multiple\": settings.mode === 'multi',\n            \"data-disabled\": input.disabled\n        });\n\n        if (settings.placeholder) {\n            setAttr(control_input, {\n                placeholder: settings.placeholder,\n            });\n        } // if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n\n        if (!settings.splitOn && settings.delimiter) {\n            settings.splitOn = new RegExp(\n                \"\\\\s*\" + escape_regex(settings.delimiter) + \"+\\\\s*\"\n            );\n        } // debounce user defined load() if loadThrottle > 0\n        // after initializePlugins() so plugins can create/modify user defined loaders\n\n        if (settings.load && settings.loadThrottle) {\n            settings.load = loadDebounce(settings.load, settings.loadThrottle);\n        }\n\n        self.control_input.type = input.type;\n        addEvent(dropdown, \"mousemove\", () => {\n            self.ignoreHover = false;\n        });\n        addEvent(\n            dropdown,\n            \"mouseenter\",\n            (e) => {\n                var target_match = parentMatch(\n                    e.target,\n                    \"[data-selectable]\",\n                    dropdown\n                );\n                if (target_match) self.onOptionHover(e, target_match);\n            },\n            {\n                capture: true,\n            }\n        ); // clicking on an option should select it\n\n        addEvent(dropdown, \"click\", (evt) => {\n            const option = parentMatch(evt.target, \"[data-selectable]\");\n\n            if (option) {\n                self.onOptionSelect(evt, option);\n                preventDefault(evt, true);\n            }\n        });\n        addEvent(control, \"click\", (evt) => {\n            var target_match = parentMatch(\n                evt.target,\n                \"[data-ts-item]\",\n                control\n            );\n\n            if (target_match && self.onItemSelect(evt, target_match)) {\n                preventDefault(evt, true);\n                return;\n            } // retain focus (see control_input mousedown)\n\n            if (control_input.value != \"\") {\n                return;\n            }\n\n            self.onClick();\n            preventDefault(evt, true);\n        }); // keydown on focus_node for arrow_down/arrow_up\n\n        addEvent(focus_node, \"keydown\", (e) => self.onKeyDown(e)); // keypress and input/keyup\n\n        addEvent(control_input, \"keypress\", (e) => self.onKeyPress(e));\n        addEvent(control_input, \"input\", (e) => self.onInput(e));\n        addEvent(focus_node, \"blur\", (e) => self.onBlur(e));\n        addEvent(focus_node, \"focus\", (e) => self.onFocus(e));\n        addEvent(control_input, \"paste\", (e) => self.onPaste(e));\n\n        const doc_mousedown = (evt) => {\n            // blur if target is outside of this instance\n            // dropdown is not always inside wrapper\n            const target = evt.composedPath()[0];\n\n            if (!wrapper.contains(target) && !dropdown.contains(target)) {\n                if (self.isFocused) {\n                    self.blur();\n                }\n\n                self.inputState();\n                return;\n            } // retain focus by preventing native handling. if the\n            // event target is the input it should not be modified.\n            // otherwise, text selection within the input won't work.\n            // Fixes bug #212 which is no covered by tests\n\n            if (target == control_input && self.isOpen) {\n                evt.stopPropagation(); // clicking anywhere in the control should not blur the control_input (which would close the dropdown)\n            } else {\n                preventDefault(evt, true);\n            }\n        };\n\n        const win_scroll = () => {\n            if (self.isOpen) {\n                self.positionDropdown();\n            }\n        };\n\n        addEvent(document, \"mousedown\", doc_mousedown);\n        addEvent(window, \"scroll\", win_scroll, passive_event);\n        addEvent(window, \"resize\", win_scroll, passive_event);\n\n        this._destroy = () => {\n            document.removeEventListener(\"mousedown\", doc_mousedown);\n            window.removeEventListener(\"scroll\", win_scroll);\n            window.removeEventListener(\"resize\", win_scroll);\n            if (label) label.removeEventListener(\"click\", label_click);\n        }; // store original html and tab index so that they can be\n        // restored when the destroy() method is called.\n\n        this.revertSettings = {\n            innerHTML: input.innerHTML,\n            tabIndex: input.tabIndex,\n        };\n        input.tabIndex = -1;\n        input.insertAdjacentElement(\"afterend\", self.wrapper);\n        self.sync(false);\n        settings.items = [];\n        delete settings.optgroups;\n        delete settings.options;\n        addEvent(input, \"invalid\", () => {\n            if (self.isValid) {\n                self.isValid = false;\n                self.isInvalid = true;\n                self.refreshState();\n            }\n        });\n        self.updateOriginalInput();\n        self.refreshItems();\n        self.close(false);\n        self.inputState();\n        self.isSetup = true;\n\n        if (input.disabled) {\n            self.disable();\n        } else {\n            self.enable(); //sets tabIndex\n        }\n\n        self.on(\"change\", this.onChange);\n        // addClasses(input, \"tomselected\", \"ts-hidden-accessible\");\n        // input.style.display = 'none';\n        self.trigger(\"initialize\"); // preload options\n\n        if (settings.preload === true) {\n            self.preload();\n        }\n    }\n    /**\n     * Register options and optgroups\n     *\n     */\n\n    setupOptions(options = [], optgroups = []) {\n        // build options table\n        this.addOptions(options); // build optgroup table\n\n        iterate$1(optgroups, (optgroup) => {\n            this.registerOptionGroup(optgroup);\n        });\n    }\n    /**\n     * Sets up default rendering functions.\n     */\n\n    setupTemplates() {\n        var self = this;\n        var field_label = self.settings.labelField;\n        var field_optgroup = self.settings.optgroupLabelField;\n        var templates = {\n            optgroup: (data) => {\n                let optgroup = document.createElement(\"div\");\n                optgroup.className = \"optgroup\";\n                optgroup.appendChild(data.options);\n                return optgroup;\n            },\n            optgroup_header: (data, escape) => {\n                return (\n                    '<div class=\"optgroup-header\">' +\n                    escape(data[field_optgroup]) +\n                    \"</div>\"\n                );\n            },\n            option: (data, escape) => {\n                return \"<div>\" + escape(data[field_label]) + \"</div>\";\n            },\n            item: (data, escape) => {\n                return \"<div>\" + escape(data[field_label]) + \"</div>\";\n            },\n            option_create: (data, escape) => {\n                return (\n                    '<div class=\"create\">Add <strong>' +\n                    escape(data.input) +\n                    \"</strong>&hellip;</div>\"\n                );\n            },\n            no_results: () => {\n                return '<div class=\"no-results\">No results found</div>';\n            },\n            loading: () => {\n                return '<div class=\"spinner\"></div>';\n            },\n            not_loading: () => { },\n            dropdown: () => {\n                return \"<div></div>\";\n            },\n        };\n        self.settings.render = Object.assign(\n            {},\n            templates,\n            self.settings.render\n        );\n    }\n    /**\n     * Maps fired events to callbacks provided\n     * in the settings used when creating the control.\n     */\n\n    setupCallbacks() {\n        var key, fn;\n        var callbacks = {\n            initialize: \"onInitialize\",\n            change: \"onChange\",\n            item_add: \"onItemAdd\",\n            item_remove: \"onItemRemove\",\n            item_select: \"onItemSelect\",\n            clear: \"onClear\",\n            option_add: \"onOptionAdd\",\n            option_remove: \"onOptionRemove\",\n            option_clear: \"onOptionClear\",\n            optgroup_add: \"onOptionGroupAdd\",\n            optgroup_remove: \"onOptionGroupRemove\",\n            optgroup_clear: \"onOptionGroupClear\",\n            dropdown_open: \"onDropdownOpen\",\n            dropdown_close: \"onDropdownClose\",\n            type: \"onType\",\n            load: \"onLoad\",\n            focus: \"onFocus\",\n            blur: \"onBlur\",\n        };\n\n        for (key in callbacks) {\n            fn = this.settings[callbacks[key]];\n            if (fn) this.on(key, fn);\n        }\n    }\n    /**\n     * Sync the Tom Select instance with the original input or select\n     *\n     */\n\n    sync(get_settings = true) {\n        const self = this;\n        const settings = get_settings\n            ? getSettings(self.input, {\n                delimiter: self.settings.delimiter,\n            })\n            : self.settings;\n        self.setupOptions(settings.options, settings.optgroups);\n        self.setValue(settings.items || [], true); // silent prevents recursion\n\n        self.lastQuery = null; // so updated options will be displayed in dropdown\n    }\n    /**\n     * Triggered when the main control element\n     * has a click event.\n     *\n     */\n\n    onClick() {\n        var self = this;\n\n        if (self.activeItems.length > 0) {\n            self.clearActiveItems();\n            self.focus();\n            return;\n        }\n\n        if (self.isFocused && self.isOpen) {\n            self.blur();\n        } else {\n            self.focus();\n        }\n    }\n    /**\n     * @deprecated v1.7\n     *\n     */\n\n    onMouseDown() { }\n    /**\n     * Triggered when the value of the control has been changed.\n     * This should propagate the event to the original DOM\n     * input / select element.\n     */\n\n    onChange() {\n        triggerEvent(this.input, \"input\");\n        triggerEvent(this.input, \"change\");\n    }\n    /**\n     * Triggered on <input> paste.\n     *\n     */\n\n    onPaste(e) {\n        var self = this;\n\n        if (self.isInputHidden || self.isLocked) {\n            preventDefault(e);\n            return;\n        } // If a regex or string is included, this will split the pasted\n        // input and create Items for each separate value\n\n        if (!self.settings.splitOn) {\n            return;\n        } // Wait for pasted text to be recognized in value\n\n        setTimeout(() => {\n            var pastedText = self.inputValue();\n\n            if (!pastedText.match(self.settings.splitOn)) {\n                return;\n            }\n\n            var splitInput = pastedText.trim().split(self.settings.splitOn);\n            iterate$1(splitInput, (piece) => {\n                const hash = hash_key(piece);\n\n                if (hash) {\n                    if (this.options[piece]) {\n                        self.addItem(piece);\n                    } else {\n                        self.createItem(piece);\n                    }\n                }\n            });\n        }, 0);\n    }\n    /**\n     * Triggered on <input> keypress.\n     *\n     */\n\n    onKeyPress(e) {\n        var self = this;\n\n        if (self.isLocked) {\n            preventDefault(e);\n            return;\n        }\n\n        var character = String.fromCharCode(e.keyCode || e.which);\n\n        if (\n            self.settings.create &&\n            self.settings.mode === \"multi\" &&\n            character === self.settings.delimiter\n        ) {\n            self.createItem();\n            preventDefault(e);\n            return;\n        }\n    }\n    /**\n     * Triggered on <input> keydown.\n     *\n     */\n\n    onKeyDown(e) {\n        var self = this;\n        self.ignoreHover = true;\n\n        if (self.isLocked) {\n            if (e.keyCode !== KEY_TAB) {\n                preventDefault(e);\n            }\n\n            return;\n        }\n\n        switch (e.keyCode) {\n            // ctrl+A: select all\n            case KEY_A:\n                if (isKeyDown(KEY_SHORTCUT, e)) {\n                    if (self.control_input.value == \"\") {\n                        preventDefault(e);\n                        self.selectAll();\n                        return;\n                    }\n                }\n\n                break;\n            // esc: close dropdown\n\n            case KEY_ESC:\n                if (self.isOpen) {\n                    preventDefault(e, true);\n                    self.close();\n                }\n\n                self.clearActiveItems();\n                return;\n            // down: open dropdown or move selection down\n\n            case KEY_DOWN:\n                if (!self.isOpen && self.hasOptions) {\n                    self.open();\n                } else if (self.activeOption) {\n                    let next = self.getAdjacent(self.activeOption, 1);\n                    if (next) self.setActiveOption(next);\n                }\n\n                preventDefault(e);\n                return;\n            // up: move selection up\n\n            case KEY_UP:\n                if (self.activeOption) {\n                    let prev = self.getAdjacent(self.activeOption, -1);\n                    if (prev) self.setActiveOption(prev);\n                }\n\n                preventDefault(e);\n                return;\n            // return: select active option\n\n            case KEY_RETURN:\n                if (self.canSelect(self.activeOption)) {\n                    self.onOptionSelect(e, self.activeOption);\n                    preventDefault(e); // if the option_create=null, the dropdown might be closed\n                } else if (self.settings.create && self.createItem()) {\n                    preventDefault(e); // don't submit form when searching for a value\n                } else if (\n                    document.activeElement == self.control_input &&\n                    self.isOpen\n                ) {\n                    preventDefault(e);\n                }\n\n                return;\n            // left: modifiy item selection to the left\n\n            case KEY_LEFT:\n                self.advanceSelection(-1, e);\n                return;\n            // right: modifiy item selection to the right\n\n            case KEY_RIGHT:\n                self.advanceSelection(1, e);\n                return;\n            // tab: select active option and/or create item\n\n            case KEY_TAB:\n                if (self.settings.selectOnTab) {\n                    if (self.canSelect(self.activeOption)) {\n                        self.onOptionSelect(e, self.activeOption); // prevent default [tab] behaviour of jump to the next field\n                        // if select isFull, then the dropdown won't be open and [tab] will work normally\n\n                        preventDefault(e);\n                    }\n\n                    if (self.settings.create && self.createItem()) {\n                        preventDefault(e);\n                    }\n                }\n\n                return;\n            // delete|backspace: delete items\n\n            case KEY_BACKSPACE:\n            case KEY_DELETE:\n                self.deleteSelection(e);\n                return;\n        } // don't enter text in the control_input when active items are selected\n\n        if (self.isInputHidden && !isKeyDown(KEY_SHORTCUT, e)) {\n            preventDefault(e);\n        }\n    }\n    /**\n     * Triggered on <input> keyup.\n     *\n     */\n\n    onInput(e) {\n        var self = this;\n\n        if (self.isLocked) {\n            return;\n        }\n\n        var value = self.inputValue();\n\n        if (self.lastValue !== value) {\n            self.lastValue = value;\n\n            if (self.settings.shouldLoad.call(self, value)) {\n                self.load(value);\n            }\n\n            self.refreshOptions();\n            self.trigger(\"type\", value);\n        }\n    }\n    /**\n     * Triggered when the user rolls over\n     * an option in the autocomplete dropdown menu.\n     *\n     */\n\n    onOptionHover(evt, option) {\n        if (this.ignoreHover) return;\n        this.setActiveOption(option, false);\n    }\n    /**\n     * Triggered on <input> focus.\n     *\n     */\n\n    onFocus(e) {\n        var self = this;\n        var wasFocused = self.isFocused;\n\n        if (self.isDisabled) {\n            self.blur();\n            preventDefault(e);\n            return;\n        }\n\n        if (self.ignoreFocus) return;\n        self.isFocused = true;\n        if (self.settings.preload === \"focus\") self.preload();\n        if (!wasFocused) self.trigger(\"focus\");\n\n        if (!self.activeItems.length) {\n            self.showInput();\n            self.refreshOptions(!!self.settings.openOnFocus);\n        }\n\n        self.refreshState();\n    }\n    /**\n     * Triggered on <input> blur.\n     *\n     */\n\n    onBlur(e) {\n        if (document.hasFocus() === false) return;\n        var self = this;\n        if (!self.isFocused) return;\n        self.isFocused = false;\n        self.ignoreFocus = false;\n\n        var deactivate = () => {\n            self.close();\n            self.setActiveItem();\n            self.setCaret(self.items.length);\n            self.trigger(\"blur\");\n        };\n\n        if (self.settings.create && self.settings.createOnBlur) {\n            self.createItem(null, deactivate);\n        } else {\n            deactivate();\n        }\n    }\n    /**\n     * Triggered when the user clicks on an option\n     * in the autocomplete dropdown menu.\n     *\n     */\n\n    onOptionSelect(evt, option) {\n        var value,\n            self = this; // should not be possible to trigger a option under a disabled optgroup\n\n        if (\n            option.parentElement &&\n            option.parentElement.matches(\"[data-disabled]\")\n        ) {\n            return;\n        }\n\n        if (option.classList.contains(\"create\")) {\n            self.createItem(null, () => {\n                if (self.settings.closeAfterSelect) {\n                    self.close();\n                }\n            });\n        } else {\n            value = option.dataset.value;\n\n            if (typeof value !== \"undefined\") {\n                self.lastQuery = null;\n                self.addItem(value);\n\n                if (self.settings.closeAfterSelect) {\n                    self.close();\n                }\n\n                if (\n                    !self.settings.hideSelected &&\n                    evt.type &&\n                    /click/.test(evt.type)\n                ) {\n                    self.setActiveOption(option);\n                }\n            }\n        }\n    }\n    /**\n     * Return true if the given option can be selected\n     *\n     */\n\n    canSelect(option) {\n        if (this.isOpen && option && this.dropdown_content.contains(option)) {\n            return true;\n        }\n\n        return false;\n    }\n    /**\n     * Triggered when the user clicks on an item\n     * that has been selected.\n     *\n     */\n\n    onItemSelect(evt, item) {\n        var self = this;\n\n        if (!self.isLocked && self.settings.mode === \"multi\") {\n            preventDefault(evt);\n            self.setActiveItem(item, evt);\n            return true;\n        }\n\n        return false;\n    }\n    /**\n     * Determines whether or not to invoke\n     * the user-provided option provider / loader\n     *\n     * Note, there is a subtle difference between\n     * this.canLoad() and this.settings.shouldLoad();\n     *\n     *\t- settings.shouldLoad() is a user-input validator.\n     *\tWhen false is returned, the not_loading template\n     *\twill be added to the dropdown\n     *\n     *\t- canLoad() is lower level validator that checks\n     * \tthe Tom Select instance. There is no inherent user\n     *\tfeedback when canLoad returns false\n     *\n     */\n\n    canLoad(value) {\n        if (!this.settings.load) return false;\n        if (this.loadedSearches.hasOwnProperty(value)) return false;\n        return true;\n    }\n    /**\n     * Invokes the user-provided option provider / loader.\n     *\n     */\n\n    load(value) {\n        const self = this;\n        if (!self.canLoad(value)) return;\n        addClasses(self.wrapper, self.settings.loadingClass);\n        self.loading++;\n        const callback = self.loadCallback.bind(self);\n        self.settings.load.call(self, value, callback);\n    }\n    /**\n     * Invoked by the user-provided option provider\n     *\n     */\n\n    loadCallback(options, optgroups) {\n        const self = this;\n        self.loading = Math.max(self.loading - 1, 0);\n        self.lastQuery = null;\n        self.clearActiveOption(); // when new results load, focus should be on first option\n\n        self.setupOptions(options, optgroups);\n        self.refreshOptions(self.isFocused && !self.isInputHidden);\n\n        if (!self.loading) {\n            removeClasses(self.wrapper, self.settings.loadingClass);\n        }\n\n        self.trigger(\"load\", options, optgroups);\n    }\n\n    preload() {\n        var classList = this.wrapper.classList;\n        if (classList.contains(\"preloaded\")) return;\n        classList.add(\"preloaded\");\n        this.load(\"\");\n    }\n    /**\n     * Sets the input field of the control to the specified value.\n     *\n     */\n\n    setTextboxValue(value = \"\") {\n        var input = this.control_input;\n        var changed = input.value !== value;\n\n        if (changed) {\n            input.value = value;\n            triggerEvent(input, \"update\");\n            this.lastValue = value;\n        }\n    }\n    /**\n     * Returns the value of the control. If multiple items\n     * can be selected (e.g. <select multiple>), this returns\n     * an array. If only one item can be selected, this\n     * returns a string.\n     *\n     */\n\n    getValue() {\n        if (this.is_select_tag && this.input.hasAttribute(\"multiple\")) {\n            return this.items;\n        }\n\n        return this.items.join(this.settings.delimiter);\n    }\n    /**\n     * Resets the selected items to the given value.\n     *\n     */\n\n    setValue(value, silent) {\n        var events = silent ? [] : [\"change\"];\n        debounce_events(this, events, () => {\n            this.clear(silent);\n            this.addItems(value, silent);\n        });\n    }\n    /**\n     * Resets the number of max items to the given value\n     *\n     */\n\n    setMaxItems(value) {\n        if (value === 0) value = null; //reset to unlimited items.\n\n        this.settings.maxItems = value;\n        this.refreshState();\n    }\n    /**\n     * Sets the selected item.\n     *\n     */\n\n    setActiveItem(item, e) {\n        var self = this;\n        var eventName;\n        var i, begin, end, swap;\n        var last;\n        if (self.settings.mode === \"single\") return; // clear the active selection\n\n        if (!item) {\n            self.clearActiveItems();\n\n            if (self.isFocused) {\n                self.showInput();\n            }\n\n            return;\n        } // modify selection\n\n        eventName = e && e.type.toLowerCase();\n\n        if (\n            eventName === \"click\" &&\n            isKeyDown(\"shiftKey\", e) &&\n            self.activeItems.length\n        ) {\n            last = self.getLastActive();\n            begin = Array.prototype.indexOf.call(self.control.children, last);\n            end = Array.prototype.indexOf.call(self.control.children, item);\n\n            if (begin > end) {\n                swap = begin;\n                begin = end;\n                end = swap;\n            }\n\n            for (i = begin; i <= end; i++) {\n                item = self.control.children[i];\n\n                if (self.activeItems.indexOf(item) === -1) {\n                    self.setActiveItemClass(item);\n                }\n            }\n\n            preventDefault(e);\n        } else if (\n            (eventName === \"click\" && isKeyDown(KEY_SHORTCUT, e)) ||\n            (eventName === \"keydown\" && isKeyDown(\"shiftKey\", e))\n        ) {\n            if (item.classList.contains(\"active\")) {\n                self.removeActiveItem(item);\n            } else {\n                self.setActiveItemClass(item);\n            }\n        } else {\n            self.clearActiveItems();\n            self.setActiveItemClass(item);\n        } // ensure control has focus\n\n        self.hideInput();\n\n        if (!self.isFocused) {\n            self.focus();\n        }\n    }\n    /**\n     * Set the active and last-active classes\n     *\n     */\n\n    setActiveItemClass(item) {\n        const self = this;\n        const last_active = self.control.querySelector(\".last-active\");\n        if (last_active) removeClasses(last_active, \"last-active\");\n        addClasses(item, \"active last-active\");\n        item.setAttribute('aria-selected', true);\n        self.trigger(\"item_select\", item);\n\n        if (self.activeItems.indexOf(item) == -1) {\n            self.activeItems.push(item);\n        }\n    }\n    /**\n     * Remove active item\n     *\n     */\n\n    removeActiveItem(item) {\n        var idx = this.activeItems.indexOf(item);\n        this.activeItems.splice(idx, 1);\n        removeClasses(item, \"active\");\n        item.setAttribute('aria-selected', false);\n    }\n    /**\n     * Clears all the active items\n     *\n     */\n\n    clearActiveItems() {\n        removeClasses(this.activeItems, \"active\");\n        this.activeItems.forEach((item) => {\n            item.setAttribute('aria-selected', false);\n        });\n        this.activeItems = [];\n    }\n    /**\n     * Sets the selected item in the dropdown menu\n     * of available options.\n     *\n     */\n\n    setActiveOption(option, scroll = true) {\n        if (option === this.activeOption) {\n            return;\n        }\n\n        this.clearActiveOption();\n        if (!option) return;\n        this.activeOption = option;\n        setAttr(this.focus_node, {\n            \"aria-activedescendant\": option.getAttribute(\"id\"),\n        });\n        setAttr(option, {\n            \"aria-selected\": \"true\",\n        });\n        addClasses(option, \"active\");\n        if (scroll) this.scrollToOption(option);\n    }\n    /**\n     * Sets the dropdown_content scrollTop to display the option\n     *\n     */\n\n    scrollToOption(option, behavior) {\n        if (!option) return;\n        const content = this.dropdown_content;\n        const height_menu = content.clientHeight;\n        const scrollTop = content.scrollTop || 0;\n        const height_item = option.offsetHeight;\n        const y =\n            option.getBoundingClientRect().top -\n            content.getBoundingClientRect().top +\n            scrollTop;\n\n        if (y + height_item > height_menu + scrollTop) {\n            this.scroll(y - height_menu + height_item, behavior);\n        } else if (y < scrollTop) {\n            this.scroll(y, behavior);\n        }\n    }\n    /**\n     * Scroll the dropdown to the given position\n     *\n     */\n\n    scroll(scrollTop, behavior) {\n        const content = this.dropdown_content;\n\n        if (behavior) {\n            content.style.scrollBehavior = behavior;\n        }\n\n        content.scrollTop = scrollTop;\n        content.style.scrollBehavior = \"\";\n    }\n    /**\n     * Clears the active option\n     *\n     */\n\n    clearActiveOption() {\n        if (this.activeOption) {\n            removeClasses(this.activeOption, \"active\");\n            setAttr(this.activeOption, {\n                \"aria-selected\": null,\n            });\n        }\n\n        this.activeOption = null;\n        setAttr(this.focus_node, {\n            \"aria-activedescendant\": null,\n        });\n    }\n    /**\n     * Selects all items (CTRL + A).\n     */\n\n    selectAll() {\n        const self = this;\n        if (self.settings.mode === \"single\") return;\n        const activeItems = self.controlChildren();\n        if (!activeItems.length) return;\n        self.hideInput();\n        self.close();\n        self.activeItems = activeItems;\n        iterate$1(activeItems, (item) => {\n            self.setActiveItemClass(item);\n        });\n    }\n    /**\n     * Determines if the control_input should be in a hidden or visible state\n     *\n     */\n\n    inputState() {\n        var self = this;\n        if (!self.control.contains(self.control_input)) return;\n        setAttr(self.control_input, {\n            placeholder: self.settings.placeholder,\n        });\n\n        if (\n            self.activeItems.length > 0 ||\n            (!self.isFocused &&\n                self.settings.hidePlaceholder &&\n                self.items.length > 0)\n        ) {\n            self.setTextboxValue();\n            setAttr(self.control_input, {\n                placeholder: \"\",\n            });\n            self.isInputHidden = true;\n        } else {\n            if (self.settings.hidePlaceholder && self.items.length > 0) {\n                setAttr(self.control_input, {\n                    placeholder: \"\",\n                });\n            }\n\n            self.isInputHidden = false;\n        }\n\n        if (self.settings.mode === 'single' && self.items.length > 0) {\n            setAttr(self.control_input, {\n                placeholder: \"\",\n            });\n        }\n\n        self.wrapper.classList.toggle(\"input-hidden\", self.isInputHidden);\n    }\n    /**\n     * Hides the input element out of view, while\n     * retaining its focus.\n     * @deprecated 1.3\n     */\n\n    hideInput() {\n        this.inputState();\n    }\n    /**\n     * Restores input visibility.\n     * @deprecated 1.3\n     */\n\n    showInput() {\n        this.inputState();\n    }\n    /**\n     * Get the input value\n     */\n\n    inputValue() {\n        return this.control_input.value.trim();\n    }\n    /**\n     * Gives the control focus.\n     */\n\n    focus() {\n        var self = this;\n        if (self.isDisabled) return;\n        self.ignoreFocus = true;\n\n        if (self.control_input.offsetWidth) {\n            self.control_input.focus();\n        } else {\n            self.focus_node.focus();\n        }\n\n        setTimeout(() => {\n            self.ignoreFocus = false;\n            self.onFocus();\n        }, 0);\n    }\n    /**\n     * Forces the control out of focus.\n     *\n     */\n\n    blur() {\n        this.focus_node.blur();\n        this.onBlur();\n    }\n    /**\n     * Returns a function that scores an object\n     * to show how good of a match it is to the\n     * provided query.\n     *\n     * @return {function}\n     */\n\n    getScoreFunction(query) {\n        return this.sifter.getScoreFunction(query, this.getSearchOptions());\n    }\n    /**\n     * Returns search options for sifter (the system\n     * for scoring and sorting results).\n     *\n     * @see https://github.com/orchidjs/sifter.js\n     * @return {object}\n     */\n\n    getSearchOptions() {\n        var settings = this.settings;\n        var sort = settings.sortField;\n\n        if (typeof settings.sortField === \"string\") {\n            sort = [\n                {\n                    field: settings.sortField,\n                },\n            ];\n        }\n\n        return {\n            fields: settings.searchField,\n            conjunction: settings.searchConjunction,\n            sort: sort,\n            nesting: settings.nesting,\n        };\n    }\n    /**\n     * Searches through available options and returns\n     * a sorted array of matches.\n     *\n     */\n\n    search(query) {\n        var result, calculateScore;\n        var self = this;\n        var options = this.getSearchOptions(); // validate user-provided result scoring function\n\n        if (self.settings.score) {\n            calculateScore = self.settings.score.call(self, query);\n\n            if (typeof calculateScore !== \"function\") {\n                throw new Error(\n                    'Tom Select \"score\" setting must be a function that returns a function'\n                );\n            }\n        } // perform search\n\n        if (query !== self.lastQuery) {\n            self.lastQuery = query;\n            result = self.sifter.search(\n                query,\n                Object.assign(options, {\n                    score: calculateScore,\n                })\n            );\n            self.currentResults = result;\n        } else {\n            result = Object.assign({}, self.currentResults);\n        } // filter out selected items\n\n        if (self.settings.hideSelected) {\n            result.items = result.items.filter((item) => {\n                let hashed = hash_key(item.id);\n                return !(hashed && self.items.indexOf(hashed) !== -1);\n            });\n        }\n\n        return result;\n    }\n    /**\n     * Refreshes the list of available options shown\n     * in the autocomplete dropdown menu.\n     *\n     */\n\n    refreshOptions(triggerDropdown = true) {\n        var i,\n            j,\n            k,\n            n,\n            optgroup,\n            optgroups,\n            html,\n            has_create_option,\n            active_group;\n        var create;\n        const groups = {};\n        const groups_order = [];\n        var self = this;\n        var query = self.inputValue();\n        const same_query =\n            query === self.lastQuery || (query == \"\" && self.lastQuery == null);\n        var results = self.search(query);\n        var active_option = null;\n        var show_dropdown = self.settings.shouldOpen || false;\n        var dropdown_content = self.dropdown_content;\n\n        if (same_query) {\n            active_option = self.activeOption;\n\n            if (active_option) {\n                active_group = active_option.closest(\"[data-group]\");\n            }\n        } // build markup\n\n        n = results.items.length;\n\n        if (typeof self.settings.maxOptions === \"number\") {\n            n = Math.min(n, self.settings.maxOptions);\n        }\n\n        if (n > 0) {\n            show_dropdown = true;\n        } // render and group available options individually\n\n        for (i = 0; i < n; i++) {\n            // get option dom element\n            let item = results.items[i];\n            if (!item) continue;\n            let opt_value = item.id;\n            let option = self.options[opt_value];\n            if (option === undefined) continue;\n            let opt_hash = get_hash(opt_value);\n            let option_el = self.getOption(opt_hash, true); // toggle 'selected' class\n\n            if (!self.settings.hideSelected) {\n                option_el.classList.toggle(\n                    \"selected\",\n                    self.items.includes(opt_hash)\n                );\n            }\n\n            optgroup = option[self.settings.optgroupField] || \"\";\n            optgroups = Array.isArray(optgroup) ? optgroup : [optgroup];\n\n            for (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n                optgroup = optgroups[j];\n\n                if (!self.optgroups.hasOwnProperty(optgroup)) {\n                    optgroup = \"\";\n                }\n\n                let group_fragment = groups[optgroup];\n\n                if (group_fragment === undefined) {\n                    group_fragment = document.createDocumentFragment();\n                    groups_order.push(optgroup);\n                } // nodes can only have one parent, so if the option is in mutple groups, we need a clone\n\n                if (j > 0) {\n                    option_el = option_el.cloneNode(true);\n                    setAttr(option_el, {\n                        id: option.$id + \"-clone-\" + j,\n                        \"aria-selected\": null,\n                    });\n                    option_el.classList.add(\"ts-cloned\");\n                    removeClasses(option_el, \"active\"); // make sure we keep the activeOption in the same group\n\n                    if (\n                        self.activeOption &&\n                        self.activeOption.dataset.value == opt_value\n                    ) {\n                        if (\n                            active_group &&\n                            active_group.dataset.group === optgroup.toString()\n                        ) {\n                            active_option = option_el;\n                        }\n                    }\n                }\n\n                group_fragment.appendChild(option_el);\n                groups[optgroup] = group_fragment;\n            }\n        } // sort optgroups\n\n        if (self.settings.lockOptgroupOrder) {\n            groups_order.sort((a, b) => {\n                const grp_a = self.optgroups[a];\n                const grp_b = self.optgroups[b];\n                const a_order = (grp_a && grp_a.$order) || 0;\n                const b_order = (grp_b && grp_b.$order) || 0;\n                return a_order - b_order;\n            });\n        } // render optgroup headers & join groups\n\n        html = document.createDocumentFragment();\n        iterate$1(groups_order, (optgroup) => {\n            let group_fragment = groups[optgroup];\n            if (!group_fragment || !group_fragment.children.length) return;\n            let group_heading = self.optgroups[optgroup];\n\n            if (group_heading !== undefined) {\n                let group_options = document.createDocumentFragment();\n                let header = self.render(\"optgroup_header\", group_heading);\n                append(group_options, header);\n                append(group_options, group_fragment);\n                let group_html = self.render(\"optgroup\", {\n                    group: group_heading,\n                    options: group_options,\n                });\n                append(html, group_html);\n            } else {\n                append(html, group_fragment);\n            }\n        });\n        dropdown_content.innerHTML = \"\";\n        append(dropdown_content, html); // highlight matching terms inline\n\n        if (self.settings.highlight) {\n            removeHighlight(dropdown_content);\n\n            if (results.query.length && results.tokens.length) {\n                iterate$1(results.tokens, (tok) => {\n                    highlight(dropdown_content, tok.regex, self.settings.highlightClass);\n                });\n            }\n        } // helper method for adding templates to dropdown\n\n        var add_template = (template) => {\n            let content = self.render(template, {\n                input: query,\n            });\n\n            if (content) {\n                show_dropdown = true;\n                dropdown_content.insertBefore(\n                    content,\n                    dropdown_content.firstChild\n                );\n            }\n\n            return content;\n        }; // add loading message\n\n        if (self.loading) {\n            add_template(\"loading\"); // invalid query\n        } else if (!self.settings.shouldLoad.call(self, query)) {\n            add_template(\"not_loading\"); // add no_results message\n        } else if (results.items.length === 0) {\n            add_template(\"no_results\");\n        } // add create option\n\n        has_create_option = self.canCreate(query);\n\n        if (has_create_option) {\n            create = add_template(\"option_create\");\n        } // activate\n\n        self.hasOptions = results.items.length > 0 || has_create_option;\n\n        if (show_dropdown) {\n            if (results.items.length > 0) {\n                if (\n                    !active_option &&\n                    self.settings.mode === \"single\" &&\n                    self.items[0] != undefined\n                ) {\n                    active_option = self.getOption(self.items[0]);\n                }\n\n                if (!dropdown_content.contains(active_option)) {\n                    let active_index = 0;\n\n                    if (create && !self.settings.addPrecedence) {\n                        active_index = 1;\n                    }\n\n                    active_option = self.selectable()[active_index];\n                }\n            } else if (create) {\n                active_option = create;\n            }\n\n            if (triggerDropdown && !self.isOpen) {\n                self.open();\n                self.scrollToOption(active_option, \"auto\");\n            }\n\n            self.setActiveOption(active_option);\n        } else {\n            self.clearActiveOption();\n\n            if (triggerDropdown && self.isOpen) {\n                self.close(false); // if create_option=null, we want the dropdown to close but not reset the textbox value\n            }\n        }\n    }\n    /**\n     * Return list of selectable options\n     *\n     */\n\n    selectable() {\n        return this.dropdown_content.querySelectorAll(\"[data-selectable]\");\n    }\n    /**\n     * Adds an available option. If it already exists,\n     * nothing will happen. Note: this does not refresh\n     * the options list dropdown (use `refreshOptions`\n     * for that).\n     *\n     * Usage:\n     *\n     *   this.addOption(data)\n     *\n     */\n\n    addOption(data, user_created = false) {\n        const self = this; // @deprecated 1.7.7\n        // use addOptions( array, user_created ) for adding multiple options\n\n        if (Array.isArray(data)) {\n            self.addOptions(data, user_created);\n            return false;\n        }\n\n        const key = hash_key(data[self.settings.valueField]);\n\n        if (key === null || self.options.hasOwnProperty(key)) {\n            return false;\n        }\n\n        data.$order = data.$order || ++self.order;\n        data.$id = self.inputId + \"-opt-\" + data.$order;\n        self.options[key] = data;\n        self.lastQuery = null;\n\n        if (user_created) {\n            self.userOptions[key] = user_created;\n            self.trigger(\"option_add\", key, data);\n        }\n\n        return key;\n    }\n    /**\n     * Add multiple options\n     *\n     */\n\n    addOptions(data, user_created = false) {\n        iterate$1(data, (dat) => {\n            this.addOption(dat, user_created);\n        });\n    }\n    /**\n     * @deprecated 1.7.7\n     */\n\n    registerOption(data) {\n        return this.addOption(data);\n    }\n    /**\n     * Registers an option group to the pool of option groups.\n     *\n     * @return {boolean|string}\n     */\n\n    registerOptionGroup(data) {\n        var key = hash_key(data[this.settings.optgroupValueField]);\n        if (key === null) return false;\n        data.$order = data.$order || ++this.order;\n        this.optgroups[key] = data;\n        return key;\n    }\n    /**\n     * Registers a new optgroup for options\n     * to be bucketed into.\n     *\n     */\n\n    addOptionGroup(id, data) {\n        var hashed_id;\n        data[this.settings.optgroupValueField] = id;\n\n        if ((hashed_id = this.registerOptionGroup(data))) {\n            this.trigger(\"optgroup_add\", hashed_id, data);\n        }\n    }\n    /**\n     * Removes an existing option group.\n     *\n     */\n\n    removeOptionGroup(id) {\n        if (this.optgroups.hasOwnProperty(id)) {\n            delete this.optgroups[id];\n            this.clearCache();\n            this.trigger(\"optgroup_remove\", id);\n        }\n    }\n    /**\n     * Clears all existing option groups.\n     */\n\n    clearOptionGroups() {\n        this.optgroups = {};\n        this.clearCache();\n        this.trigger(\"optgroup_clear\");\n    }\n    /**\n     * Updates an option available for selection. If\n     * it is visible in the selected items or options\n     * dropdown, it will be re-rendered automatically.\n     *\n     */\n\n    updateOption(value, data) {\n        const self = this;\n        var item_new;\n        var index_item;\n        const value_old = hash_key(value);\n        const value_new = hash_key(data[self.settings.valueField]); // sanity checks\n\n        if (value_old === null) return;\n        const data_old = self.options[value_old];\n        if (data_old == undefined) return;\n        if (typeof value_new !== \"string\")\n            throw new Error(\"Value must be set in option data\");\n        const option = self.getOption(value_old);\n        const item = self.getItem(value_old);\n        data.$order = data.$order || data_old.$order;\n        delete self.options[value_old]; // invalidate render cache\n        // don't remove existing node yet, we'll remove it after replacing it\n\n        self.uncacheValue(value_new);\n        self.options[value_new] = data; // update the option if it's in the dropdown\n\n        if (option) {\n            if (self.dropdown_content.contains(option)) {\n                const option_new = self._render(\"option\", data);\n\n                replaceNode(option, option_new);\n\n                if (self.activeOption === option) {\n                    self.setActiveOption(option_new);\n                }\n            }\n\n            option.remove();\n        } // update the item if we have one\n\n        if (item) {\n            index_item = self.items.indexOf(value_old);\n\n            if (index_item !== -1) {\n                self.items.splice(index_item, 1, value_new);\n            }\n\n            item_new = self._render(\"item\", data);\n            if (item.classList.contains(\"active\"))\n                addClasses(item_new, \"active\");\n            replaceNode(item, item_new);\n        } // invalidate last query because we might have updated the sortField\n\n        self.lastQuery = null;\n    }\n    /**\n     * Removes a single option.\n     *\n     */\n\n    removeOption(value, silent) {\n        const self = this;\n        value = get_hash(value);\n        self.uncacheValue(value);\n        delete self.userOptions[value];\n        delete self.options[value];\n        self.lastQuery = null;\n        self.trigger(\"option_remove\", value);\n        self.removeItem(value, silent);\n    }\n    /**\n     * Clears all options.\n     */\n\n    clearOptions(filter) {\n        const boundFilter = (filter || this.clearFilter).bind(this);\n        this.loadedSearches = {};\n        this.userOptions = {};\n        this.clearCache();\n        const selected = {};\n        iterate$1(this.options, (option, key) => {\n            if (boundFilter(option, key)) {\n                selected[key] = option;\n            }\n        });\n        this.options = this.sifter.items = selected;\n        this.lastQuery = null;\n        this.trigger(\"option_clear\");\n    }\n    /**\n     * Used by clearOptions() to decide whether or not an option should be removed\n     * Return true to keep an option, false to remove\n     *\n     */\n\n    clearFilter(option, value) {\n        if (this.items.indexOf(value) >= 0) {\n            return true;\n        }\n\n        return false;\n    }\n    /**\n     * Returns the dom element of the option\n     * matching the given value.\n     *\n     */\n\n    getOption(value, create = false) {\n        const hashed = hash_key(value);\n        if (hashed === null) return null;\n        const option = this.options[hashed];\n\n        if (option != undefined) {\n            if (option.$div) {\n                return option.$div;\n            }\n\n            if (create) {\n                return this._render(\"option\", option);\n            }\n        }\n\n        return null;\n    }\n    /**\n     * Returns the dom element of the next or previous dom element of the same type\n     * Note: adjacent options may not be adjacent DOM elements (optgroups)\n     *\n     */\n\n    getAdjacent(option, direction, type = \"option\") {\n        var self = this,\n            all;\n\n        if (!option) {\n            return null;\n        }\n\n        if (type == \"item\") {\n            all = self.controlChildren();\n        } else {\n            all = self.dropdown_content.querySelectorAll(\"[data-selectable]\");\n        }\n\n        for (let i = 0; i < all.length; i++) {\n            if (all[i] != option) {\n                continue;\n            }\n\n            if (direction > 0) {\n                return all[i + 1];\n            }\n\n            return all[i - 1];\n        }\n\n        return null;\n    }\n    /**\n     * Returns the dom element of the item\n     * matching the given value.\n     *\n     */\n\n    getItem(item) {\n        if (typeof item == \"object\") {\n            return item;\n        }\n\n        var value = hash_key(item);\n        return value !== null\n            ? this.control.querySelector(`[data-value=\"${addSlashes(value)}\"]`)\n            : null;\n    }\n    /**\n     * \"Selects\" multiple items at once. Adds them to the list\n     * at the current caret position.\n     *\n     */\n\n    addItems(values, silent) {\n        var self = this;\n        var items = Array.isArray(values) ? values : [values];\n        items = items.filter((x) => self.items.indexOf(x) === -1);\n        const last_item = items[items.length - 1];\n        items.forEach((item) => {\n            self.isPending = item !== last_item;\n            self.addItem(item, silent);\n        });\n    }\n    /**\n     * \"Selects\" an item. Adds it to the list\n     * at the current caret position.\n     *\n     */\n\n    addItem(value, silent) {\n        var events = silent ? [] : [\"change\", \"dropdown_close\"];\n        debounce_events(this, events, () => {\n            var item, wasFull;\n            const self = this;\n            const inputMode = self.settings.mode;\n            const hashed = hash_key(value);\n\n            if (hashed && self.items.indexOf(hashed) !== -1) {\n                if (inputMode === \"single\") {\n                    self.close();\n                }\n\n                if (inputMode === \"single\" || !self.settings.duplicates) {\n                    return;\n                }\n            }\n\n            if (hashed === null || !self.options.hasOwnProperty(hashed)) return;\n            if (inputMode === \"single\") self.clear(silent);\n            if (inputMode === \"multi\" && self.isFull()) return;\n            item = self._render(\"item\", self.options[hashed]);\n\n            if (self.control.contains(item)) {\n                // duplicates\n                item = item.cloneNode(true);\n            }\n\n            wasFull = self.isFull();\n            self.items.splice(self.caretPos, 0, hashed);\n            self.insertAtCaret(item);\n\n            if (self.isSetup) {\n                // update menu / remove the option (if this is not one item being added as part of series)\n                if (!self.isPending && self.settings.hideSelected) {\n                    let option = self.getOption(hashed);\n                    let next = self.getAdjacent(option, 1);\n\n                    if (next) {\n                        self.setActiveOption(next);\n                    }\n                } // refreshOptions after setActiveOption(),\n                // otherwise setActiveOption() will be called by refreshOptions() with the wrong value\n\n                if (!self.isPending && !self.settings.closeAfterSelect) {\n                    self.refreshOptions(\n                        self.isFocused && inputMode !== \"single\"\n                    );\n                } // hide the menu if the maximum number of items have been selected or no options are left\n\n                if (self.settings.closeAfterSelect != false && self.isFull()) {\n                    self.close();\n                } else if (!self.isPending) {\n                    self.positionDropdown();\n                }\n\n                self.trigger(\"item_add\", hashed, item);\n\n                if (!self.isPending) {\n                    self.updateOriginalInput({\n                        silent: silent,\n                    });\n                }\n            }\n\n            if (!self.isPending || (!wasFull && self.isFull())) {\n                self.inputState();\n                self.refreshState();\n            }\n        });\n    }\n    /**\n     * Removes the selected item matching\n     * the provided value.\n     *\n     */\n\n    removeItem(item = null, silent) {\n        const self = this;\n        item = self.getItem(item);\n        if (!item) return;\n        var i, idx;\n        const value = item.dataset.value;\n        i = nodeIndex(item);\n        item.remove();\n\n        if (item.classList.contains(\"active\")) {\n            idx = self.activeItems.indexOf(item);\n            self.activeItems.splice(idx, 1);\n            removeClasses(item, \"active\");\n        }\n\n        self.items.splice(i, 1);\n        self.lastQuery = null;\n\n        if (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n            self.removeOption(value, silent);\n        }\n\n        if (i < self.caretPos) {\n            self.setCaret(self.caretPos - 1);\n        }\n\n        self.updateOriginalInput({\n            silent: silent,\n        });\n        self.refreshState();\n        self.positionDropdown();\n        self.trigger(\"item_remove\", value, item);\n    }\n    /**\n     * Invokes the `create` method provided in the\n     * TomSelect options that should provide the data\n     * for the new item, given the user input.\n     *\n     * Once this completes, it will be added\n     * to the item list.\n     *\n     */\n\n    createItem(input = null, callback = () => { }) {\n        // triggerDropdown parameter @deprecated 2.1.1\n        if (arguments.length === 3) {\n            callback = arguments[2];\n        }\n\n        if (typeof callback != \"function\") {\n            callback = () => { };\n        }\n\n        var self = this;\n        var caret = self.caretPos;\n        var output;\n        input = input || self.inputValue();\n\n        if (!self.canCreate(input)) {\n            callback();\n            return false;\n        }\n\n        self.lock();\n        var created = false;\n\n        var create = (data) => {\n            self.unlock();\n            if (!data || typeof data !== \"object\") return callback();\n            var value = hash_key(data[self.settings.valueField]);\n\n            if (typeof value !== \"string\") {\n                return callback();\n            }\n\n            self.setTextboxValue();\n            self.addOption(data, true);\n            self.setCaret(caret);\n            self.addItem(value);\n            callback(data);\n            created = true;\n        };\n\n        if (typeof self.settings.create === \"function\") {\n            output = self.settings.create.call(this, input, create);\n        } else {\n            output = {\n                [self.settings.labelField]: input,\n                [self.settings.valueField]: input,\n            };\n        }\n\n        if (!created) {\n            create(output);\n        }\n\n        return true;\n    }\n    /**\n     * Re-renders the selected item lists.\n     */\n\n    refreshItems() {\n        var self = this;\n        self.lastQuery = null;\n\n        if (self.isSetup) {\n            self.addItems(self.items);\n        }\n\n        self.updateOriginalInput();\n        self.refreshState();\n    }\n    /**\n     * Updates all state-dependent attributes\n     * and CSS classes.\n     */\n\n    refreshState() {\n        const self = this;\n        self.refreshValidityState();\n        const isFull = self.isFull();\n        const isLocked = self.isLocked;\n        self.wrapper.classList.toggle(\"rtl\", self.rtl);\n        const wrap_classList = self.wrapper.classList;\n        wrap_classList.toggle(\"focus\", self.isFocused);\n        wrap_classList.toggle(\"disabled\", self.isDisabled);\n        wrap_classList.toggle(\"required\", self.isRequired);\n        wrap_classList.toggle(\"invalid\", !self.isValid);\n        wrap_classList.toggle(\"locked\", isLocked);\n        wrap_classList.toggle(\"full\", isFull);\n        wrap_classList.toggle(\n            \"input-active\",\n            self.isFocused && !self.isInputHidden\n        );\n        wrap_classList.toggle(\"dropdown-active\", self.isOpen);\n        wrap_classList.toggle(\"has-options\", isEmptyObject(self.options));\n        wrap_classList.toggle(\"has-items\", self.items.length > 0);\n    }\n    /**\n     * Update the `required` attribute of both input and control input.\n     *\n     * The `required` property needs to be activated on the control input\n     * for the error to be displayed at the right place. `required` also\n     * needs to be temporarily deactivated on the input since the input is\n     * hidden and can't show errors.\n     */\n\n    refreshValidityState() {\n        var self = this;\n\n        if (!self.input.validity) {\n            return;\n        }\n\n        self.isValid = self.input.validity.valid;\n        self.isInvalid = !self.isValid;\n    }\n    /**\n     * Determines whether or not more items can be added\n     * to the control without exceeding the user-defined maximum.\n     *\n     * @returns {boolean}\n     */\n\n    isFull() {\n        return (\n            this.settings.maxItems !== null &&\n            this.items.length >= this.settings.maxItems\n        );\n    }\n    /**\n     * Refreshes the original <select> or <input>\n     * element to reflect the current state.\n     *\n     */\n\n    updateOriginalInput(opts = {}) {\n        const self = this;\n        var option, label;\n        const empty_option = self.input.querySelector('option[value=\"\"]');\n\n        if (self.is_select_tag) {\n            const selected = [];\n            const has_selected =\n                self.input.querySelectorAll(\"option:checked\").length;\n\n            function AddSelected(option_el, value, label) {\n                if (!option_el) {\n                    option_el = getDom(\n                        '<option value=\"' +\n                        escape_html(value) +\n                        '\">' +\n                        escape_html(label) +\n                        \"</option>\"\n                    );\n                } // don't move empty option from top of list\n                // fixes bug in firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1725293\n\n                if (option_el != empty_option) {\n                    self.input.append(option_el);\n                }\n\n                selected.push(option_el); // marking empty option as selected can break validation\n                // fixes https://github.com/orchidjs/tom-select/issues/303\n\n                if (option_el != empty_option || has_selected > 0) {\n                    option_el.selected = true;\n                }\n\n                return option_el;\n            } // unselect all selected options\n\n            self.input\n                .querySelectorAll(\"option:checked\")\n                .forEach((option_el) => {\n                    option_el.selected = false;\n                }); // nothing selected?\n\n            if (self.items.length == 0 && self.settings.mode == \"single\") {\n                AddSelected(empty_option, \"\", \"\"); // order selected <option> tags for values in self.items\n            } else {\n                self.items.forEach((value) => {\n                    option = self.options[value];\n                    label = option[self.settings.labelField] || \"\";\n\n                    if (selected.includes(option.$option)) {\n                        const reuse_opt = self.input.querySelector(\n                            `option[value=\"${addSlashes(value)}\"]:not(:checked)`\n                        );\n                        AddSelected(reuse_opt, value, label);\n                    } else {\n                        option.$option = AddSelected(\n                            option.$option,\n                            value,\n                            label\n                        );\n                    }\n                });\n            }\n        } else {\n            self.input.value = self.getValue();\n        }\n\n        if (self.isSetup) {\n            if (!opts.silent) {\n                self.trigger(\"change\", self.getValue());\n            }\n        }\n    }\n    /**\n     * Shows the autocomplete dropdown containing\n     * the available options.\n     */\n\n    open() {\n        var self = this;\n        if (\n            self.isLocked ||\n            self.isOpen ||\n            (self.settings.mode === \"multi\" && self.isFull())\n        )\n            return;\n        self.isOpen = true;\n        setAttr(self.focus_node, {\n            \"aria-expanded\": \"true\",\n        });\n        self.refreshState();\n        applyCSS(self.dropdown, {\n            visibility: \"hidden\",\n            display: \"block\",\n        });\n        self.positionDropdown();\n        applyCSS(self.dropdown, {\n            visibility: \"visible\",\n            display: \"block\",\n        });\n        self.focus();\n        self.trigger(\"dropdown_open\", self.dropdown);\n    }\n    /**\n     * Closes the autocomplete dropdown menu.\n     */\n\n    close(setTextboxValue = true) {\n        var self = this;\n        var trigger = self.isOpen;\n\n        if (setTextboxValue) {\n            // before blur() to prevent form onchange event\n            self.setTextboxValue();\n\n            if (self.settings.mode === \"single\" && self.items.length) {\n                self.hideInput();\n            }\n        }\n\n        self.isOpen = false;\n        setAttr(self.focus_node, {\n            \"aria-expanded\": \"false\",\n        });\n        applyCSS(self.dropdown, {\n            display: \"none\",\n        });\n\n        if (self.settings.hideSelected) {\n            self.clearActiveOption();\n        }\n\n        self.refreshState();\n        if (trigger) self.trigger(\"dropdown_close\", self.dropdown);\n    }\n    /**\n     * Calculates and applies the appropriate\n     * position of the dropdown if dropdownParent = 'body'.\n     * Otherwise, position is determined by css\n     */\n\n    positionDropdown() {\n        if (this.settings.dropdownParent !== \"body\") {\n            return;\n        }\n\n        var context = this.control;\n        var rect = context.getBoundingClientRect();\n        var top = context.offsetHeight + rect.top + window.scrollY;\n        var left = rect.left + window.scrollX;\n        applyCSS(this.dropdown, {\n            width: rect.width + \"px\",\n            top: top + \"px\",\n            left: left + \"px\",\n        });\n    }\n    /**\n     * Resets / clears all selected items\n     * from the control.\n     *\n     */\n\n    clear(silent) {\n        var self = this;\n        if (!self.items.length) return;\n        var items = self.controlChildren();\n        iterate$1(items, (item) => {\n            self.removeItem(item, true);\n        });\n        self.showInput();\n        if (!silent) self.updateOriginalInput();\n        self.trigger(\"clear\");\n    }\n    /**\n     * A helper method for inserting an element\n     * at the current caret position.\n     *\n     */\n\n    insertAtCaret(el) {\n        const self = this;\n        const caret = self.caretPos;\n        const target = self.control;\n        target.insertBefore(el, target.children[caret] || null);\n        self.setCaret(caret + 1);\n    }\n    /**\n     * Removes the current selected item(s).\n     *\n     */\n\n    deleteSelection(e) {\n        var direction, selection, caret, tail;\n        var self = this;\n        direction = e && e.keyCode === KEY_BACKSPACE ? -1 : 1;\n        selection = getSelection(self.control_input); // determine items that will be removed\n\n        const rm_items = [];\n\n        if (self.activeItems.length) {\n            tail = getTail(self.activeItems, direction);\n            caret = nodeIndex(tail);\n\n            if (direction > 0) {\n                caret++;\n            }\n\n            iterate$1(self.activeItems, (item) => rm_items.push(item));\n        } else if (\n            (self.isFocused || self.settings.mode === \"single\") &&\n            self.items.length\n        ) {\n            const items = self.controlChildren();\n            let rm_item;\n\n            if (\n                direction < 0 &&\n                selection.start === 0 &&\n                selection.length === 0\n            ) {\n                rm_item = items[self.caretPos - 1];\n            } else if (\n                direction > 0 &&\n                selection.start === self.inputValue().length\n            ) {\n                rm_item = items[self.caretPos];\n            }\n\n            if (rm_item !== undefined) {\n                rm_items.push(rm_item);\n            }\n        }\n\n        if (!self.shouldDelete(rm_items, e)) {\n            return false;\n        }\n\n        preventDefault(e, true); // perform removal\n\n        if (typeof caret !== \"undefined\") {\n            self.setCaret(caret);\n        }\n\n        while (rm_items.length) {\n            self.removeItem(rm_items.pop());\n        }\n\n        self.showInput();\n        self.positionDropdown();\n        self.refreshOptions(false);\n        return true;\n    }\n    /**\n     * Return true if the items should be deleted\n     */\n\n    shouldDelete(items, evt) {\n        const values = items.map((item) => item.dataset.value); // allow the callback to abort\n\n        if (\n            !values.length ||\n            (typeof this.settings.onDelete === \"function\" &&\n                this.settings.onDelete(values, evt) === false)\n        ) {\n            return false;\n        }\n\n        return true;\n    }\n    /**\n     * Selects the previous / next item (depending on the `direction` argument).\n     *\n     * > 0 - right\n     * < 0 - left\n     *\n     */\n\n    advanceSelection(direction, e) {\n        var last_active,\n            adjacent,\n            self = this;\n        if (self.rtl) direction *= -1;\n        if (self.inputValue().length) return; // add or remove to active items\n\n        if (isKeyDown(KEY_SHORTCUT, e) || isKeyDown(\"shiftKey\", e)) {\n            last_active = self.getLastActive(direction);\n\n            if (last_active) {\n                if (!last_active.classList.contains(\"active\")) {\n                    adjacent = last_active;\n                } else {\n                    adjacent = self.getAdjacent(last_active, direction, \"item\");\n                } // if no active item, get items adjacent to the control input\n            } else if (direction > 0) {\n                adjacent = self.control_input.nextElementSibling;\n            } else {\n                adjacent = self.control_input.previousElementSibling;\n            }\n\n            if (adjacent) {\n                if (adjacent.classList.contains(\"active\")) {\n                    self.removeActiveItem(last_active);\n                }\n\n                self.setActiveItemClass(adjacent); // mark as last_active !! after removeActiveItem() on last_active\n            } // move caret to the left or right\n        } else {\n            self.moveCaret(direction);\n        }\n    }\n\n    moveCaret(direction) { }\n    /**\n     * Get the last active item\n     *\n     */\n\n    getLastActive(direction) {\n        let last_active = this.control.querySelector(\".last-active\");\n\n        if (last_active) {\n            return last_active;\n        }\n\n        var result = this.control.querySelectorAll(\".active\");\n\n        if (result) {\n            return getTail(result, direction);\n        }\n    }\n    /**\n     * Moves the caret to the specified index.\n     *\n     * The input must be moved by leaving it in place and moving the\n     * siblings, due to the fact that focus cannot be restored once lost\n     * on mobile webkit devices\n     *\n     */\n\n    setCaret(new_pos) {\n        this.caretPos = this.items.length;\n    }\n    /**\n     * Return list of item dom elements\n     *\n     */\n\n    controlChildren() {\n        return Array.from(this.control.querySelectorAll(\"[data-ts-item]\"));\n    }\n    /**\n     * Disables user input on the control. Used while\n     * items are being asynchronously created.\n     */\n\n    lock() {\n        this.isLocked = true;\n        this.refreshState();\n    }\n    /**\n     * Re-enables user input on the control.\n     */\n\n    unlock() {\n        this.isLocked = false;\n        this.refreshState();\n    }\n    /**\n     * Disables user input on the control completely.\n     * While disabled, it cannot receive focus.\n     */\n\n    disable() {\n        var self = this;\n        self.input.disabled = true;\n        self.control_input.disabled = true;\n        self.focus_node.tabIndex = -1;\n        self.isDisabled = true;\n        this.close();\n        self.lock();\n    }\n    /**\n     * Enables the control so that it can respond\n     * to focus and user input.\n     */\n\n    enable() {\n        var self = this;\n        self.input.disabled = false;\n        self.control_input.disabled = false;\n        self.focus_node.tabIndex = self.tabIndex;\n        self.isDisabled = false;\n        self.unlock();\n    }\n    /**\n     * Completely destroys the control and\n     * unbinds all event listeners so that it can\n     * be garbage collected.\n     */\n\n    destroy() {\n        var self = this;\n        var revertSettings = self.revertSettings;\n        self.trigger(\"destroy\");\n        self.off();\n        self.wrapper.remove();\n        self.dropdown.remove();\n        self.input.innerHTML = revertSettings.innerHTML;\n        self.input.tabIndex = revertSettings.tabIndex;\n        removeClasses(self.input, \"tomselected\", \"ts-hidden-accessible\");\n\n        self._destroy();\n\n        delete self.input.tomselect;\n    }\n    /**\n     * A helper method for rendering \"item\" and\n     * \"option\" templates, given the data.\n     *\n     */\n\n    render(templateName, data) {\n        var id, html;\n        const self = this;\n\n        if (typeof this.settings.render[templateName] !== \"function\") {\n            return null;\n        } // render markup\n\n        html = self.settings.render[templateName].call(this, data, escape_html);\n\n        if (!html) {\n            return null;\n        }\n\n        html = getDom(html); // add mandatory attributes\n\n        if (templateName === \"option\" || templateName === \"option_create\") {\n            if (data[self.settings.disabledField]) {\n                setAttr(html, {\n                    \"aria-disabled\": \"true\",\n                });\n            } else {\n                setAttr(html, {\n                    \"data-selectable\": \"\",\n                });\n            }\n        } else if (templateName === \"optgroup\") {\n            id = data.group[self.settings.optgroupValueField];\n            setAttr(html, {\n                \"data-group\": id,\n            });\n\n            if (data.group[self.settings.disabledField]) {\n                setAttr(html, {\n                    \"data-disabled\": \"\",\n                });\n            }\n        }\n\n        if (templateName === \"option\" || templateName === \"item\") {\n            const value = get_hash(data[self.settings.valueField]);\n            setAttr(html, {\n                \"data-value\": value,\n            }); // make sure we have some classes if a template is overwritten\n\n            if (templateName === \"item\") {\n                addClasses(html, self.settings.itemClass);\n                setAttr(html, {\n                    \"data-ts-item\": \"\",\n                    \"aria-selected\": \"false\"\n                });\n            } else {\n                addClasses(html, self.settings.optionClass);\n                setAttr(html, {\n                    role: \"option\",\n                    id: data.$id,\n                }); // update cache\n\n                data.$div = html;\n                self.options[value] = data;\n            }\n        }\n\n        return html;\n    }\n    /**\n     * Type guarded rendering\n     *\n     */\n\n    _render(templateName, data) {\n        const html = this.render(templateName, data);\n\n        if (html == null) {\n            throw \"HTMLElement expected\";\n        }\n\n        return html;\n    }\n    /**\n     * Clears the render cache for a template. If\n     * no template is given, clears all render\n     * caches.\n     *\n     */\n\n    clearCache() {\n        iterate$1(this.options, (option) => {\n            if (option.$div) {\n                option.$div.remove();\n                delete option.$div;\n            }\n        });\n    }\n    /**\n     * Removes a value from item and option caches\n     *\n     */\n\n    uncacheValue(value) {\n        const option_el = this.getOption(value);\n        if (option_el) option_el.remove();\n    }\n    /**\n     * Determines whether or not to display the\n     * create item prompt, given a user input.\n     *\n     */\n\n    canCreate(input) {\n        return (\n            this.settings.create &&\n            input.length > 0 &&\n            this.settings.createFilter.call(this, input)\n        );\n    }\n    /**\n     * Wraps this.`method` so that `new_fn` can be invoked 'before', 'after', or 'instead' of the original method\n     *\n     * this.hook('instead','onKeyDown',function( arg1, arg2 ...){\n     *\n     * });\n     */\n\n    hook(when, method, new_fn) {\n        var self = this;\n        var orig_method = self[method];\n\n        self[method] = function () {\n            var result, result_new;\n\n            if (when === \"after\") {\n                result = orig_method.apply(self, arguments);\n            }\n\n            result_new = new_fn.apply(self, arguments);\n\n            if (when === \"instead\") {\n                return result_new;\n            }\n\n            if (when === \"before\") {\n                result = orig_method.apply(self, arguments);\n            }\n\n            return result;\n        };\n    }\n}\n\nexport { TomSelect as default };\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\nconst accent_pat = '[\\u0300-\\u036F\\u{b7}\\u{2be}\\u{2bc}]';\n/** @type {TUnicodeMap} */\n\nconst latin_convert = {};\n/** @type {TUnicodeMap} */\n\nconst latin_condensed = {\n  '/': '⁄∕',\n  '0': '߀',\n  \"a\": \"ⱥɐɑ\",\n  \"aa\": \"ꜳ\",\n  \"ae\": \"æǽǣ\",\n  \"ao\": \"ꜵ\",\n  \"au\": \"ꜷ\",\n  \"av\": \"ꜹꜻ\",\n  \"ay\": \"ꜽ\",\n  \"b\": \"ƀɓƃ\",\n  \"c\": \"ꜿƈȼↄ\",\n  \"d\": \"đɗɖᴅƌꮷԁɦ\",\n  \"e\": \"ɛǝᴇɇ\",\n  \"f\": \"ꝼƒ\",\n  \"g\": \"ǥɠꞡᵹꝿɢ\",\n  \"h\": \"ħⱨⱶɥ\",\n  \"i\": \"ɨı\",\n  \"j\": \"ɉȷ\",\n  \"k\": \"ƙⱪꝁꝃꝅꞣ\",\n  \"l\": \"łƚɫⱡꝉꝇꞁɭ\",\n  \"m\": \"ɱɯϻ\",\n  \"n\": \"ꞥƞɲꞑᴎлԉ\",\n  \"o\": \"øǿɔɵꝋꝍᴑ\",\n  \"oe\": \"œ\",\n  \"oi\": \"ƣ\",\n  \"oo\": \"ꝏ\",\n  \"ou\": \"ȣ\",\n  \"p\": \"ƥᵽꝑꝓꝕρ\",\n  \"q\": \"ꝗꝙɋ\",\n  \"r\": \"ɍɽꝛꞧꞃ\",\n  \"s\": \"ßȿꞩꞅʂ\",\n  \"t\": \"ŧƭʈⱦꞇ\",\n  \"th\": \"þ\",\n  \"tz\": \"ꜩ\",\n  \"u\": \"ʉ\",\n  \"v\": \"ʋꝟʌ\",\n  \"vy\": \"ꝡ\",\n  \"w\": \"ⱳ\",\n  \"y\": \"ƴɏỿ\",\n  \"z\": \"ƶȥɀⱬꝣ\",\n  \"hv\": \"ƕ\"\n};\n\nfor (let latin in latin_condensed) {\n  let unicode = latin_condensed[latin] || '';\n\n  for (let i = 0; i < unicode.length; i++) {\n    let char = unicode.substring(i, i + 1);\n    latin_convert[char] = latin;\n  }\n}\n\nnew RegExp(Object.keys(latin_convert).join('|') + '|' + accent_pat, 'gu');\n\n/**\n * Return a dom element from either a dom query string, jQuery object, a dom element or html string\n * https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro/35385518#35385518\n *\n * param query should be {}\n */\n\nconst getDom = query => {\n  if (query.jquery) {\n    return query[0];\n  }\n\n  if (query instanceof HTMLElement) {\n    return query;\n  }\n\n  if (isHtmlString(query)) {\n    var tpl = document.createElement('template');\n    tpl.innerHTML = query.trim(); // Never return a text node of whitespace as the result\n\n    return tpl.content.firstChild;\n  }\n\n  return document.querySelector(query);\n};\nconst isHtmlString = arg => {\n  if (typeof arg === 'string' && arg.indexOf('<') > -1) {\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * Converts a scalar to its best string representation\n * for hash keys and HTML attribute values.\n *\n * Transformations:\n *   'str'     -> 'str'\n *   null      -> ''\n *   undefined -> ''\n *   true      -> '1'\n *   false     -> '0'\n *   0         -> '0'\n *   1         -> '1'\n *\n */\n/**\n * Escapes a string for use within HTML.\n *\n */\n\nconst escape_html = str => {\n  return (str + '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n};\n/**\n * Prevent default\n *\n */\n\nconst preventDefault = (evt, stop = false) => {\n  if (evt) {\n    evt.preventDefault();\n\n    if (stop) {\n      evt.stopPropagation();\n    }\n  }\n};\n/**\n * Add event helper\n *\n */\n\nconst addEvent = (target, type, callback, options) => {\n  target.addEventListener(type, callback, options);\n};\n\n/**\n * Plugin: \"remove_button\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin (userOptions) {\n  const options = Object.assign({\n    label: '&times;',\n    title: 'Remove',\n    className: 'remove',\n    append: true\n  }, userOptions); //options.className = 'remove-single';\n\n  var self = this; // override the render method to add remove button to each item\n\n  if (!options.append) {\n    return;\n  }\n\n  const disabled = self.input.disabled ? 'disabled' : '';\n\n  var html = `<button type=\"button\" class=\"${options.className}\" tabindex=\"-1\" title=\"${escape_html(options.title)}\" ${disabled}>${options.label}</button>`;\n  self.hook('after', 'setupTemplates', () => {\n    var orig_render_item = self.settings.render.item;\n\n    self.settings.render.item = (data, escape) => {\n      var item = getDom(orig_render_item.call(self, data, escape));\n      var close_button = getDom(html);\n      item.appendChild(close_button);\n      addEvent(close_button, 'mousedown', evt => {\n        preventDefault(evt, true);\n      });\n      addEvent(close_button, 'click', evt => {\n        // propagating will trigger the dropdown to show for single mode\n        preventDefault(evt, true);\n        if (self.isLocked) return;\n        if (!self.shouldDelete([item], evt)) return;\n        self.removeItem(item);\n        self.refreshOptions(false);\n        self.inputState();\n      });\n      return item;\n    };\n  });\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\nconst accent_pat = '[\\u0300-\\u036F\\u{b7}\\u{2be}\\u{2bc}]';\n/** @type {TUnicodeMap} */\n\nconst latin_convert = {};\n/** @type {TUnicodeMap} */\n\nconst latin_condensed = {\n  '/': '⁄∕',\n  '0': '߀',\n  \"a\": \"ⱥɐɑ\",\n  \"aa\": \"ꜳ\",\n  \"ae\": \"æǽǣ\",\n  \"ao\": \"ꜵ\",\n  \"au\": \"ꜷ\",\n  \"av\": \"ꜹꜻ\",\n  \"ay\": \"ꜽ\",\n  \"b\": \"ƀɓƃ\",\n  \"c\": \"ꜿƈȼↄ\",\n  \"d\": \"đɗɖᴅƌꮷԁɦ\",\n  \"e\": \"ɛǝᴇɇ\",\n  \"f\": \"ꝼƒ\",\n  \"g\": \"ǥɠꞡᵹꝿɢ\",\n  \"h\": \"ħⱨⱶɥ\",\n  \"i\": \"ɨı\",\n  \"j\": \"ɉȷ\",\n  \"k\": \"ƙⱪꝁꝃꝅꞣ\",\n  \"l\": \"łƚɫⱡꝉꝇꞁɭ\",\n  \"m\": \"ɱɯϻ\",\n  \"n\": \"ꞥƞɲꞑᴎлԉ\",\n  \"o\": \"øǿɔɵꝋꝍᴑ\",\n  \"oe\": \"œ\",\n  \"oi\": \"ƣ\",\n  \"oo\": \"ꝏ\",\n  \"ou\": \"ȣ\",\n  \"p\": \"ƥᵽꝑꝓꝕρ\",\n  \"q\": \"ꝗꝙɋ\",\n  \"r\": \"ɍɽꝛꞧꞃ\",\n  \"s\": \"ßȿꞩꞅʂ\",\n  \"t\": \"ŧƭʈⱦꞇ\",\n  \"th\": \"þ\",\n  \"tz\": \"ꜩ\",\n  \"u\": \"ʉ\",\n  \"v\": \"ʋꝟʌ\",\n  \"vy\": \"ꝡ\",\n  \"w\": \"ⱳ\",\n  \"y\": \"ƴɏỿ\",\n  \"z\": \"ƶȥɀⱬꝣ\",\n  \"hv\": \"ƕ\"\n};\n\nfor (let latin in latin_condensed) {\n  let unicode = latin_condensed[latin] || '';\n\n  for (let i = 0; i < unicode.length; i++) {\n    let char = unicode.substring(i, i + 1);\n    latin_convert[char] = latin;\n  }\n}\n\nnew RegExp(Object.keys(latin_convert).join('|') + '|' + accent_pat, 'gu');\n\n/**\n * Return a dom element from either a dom query string, jQuery object, a dom element or html string\n * https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro/35385518#35385518\n *\n * param query should be {}\n */\n\nconst getDom = query => {\n  if (query.jquery) {\n    return query[0];\n  }\n\n  if (query instanceof HTMLElement) {\n    return query;\n  }\n\n  if (isHtmlString(query)) {\n    var tpl = document.createElement('template');\n    tpl.innerHTML = query.trim(); // Never return a text node of whitespace as the result\n\n    return tpl.content.firstChild;\n  }\n\n  return document.querySelector(query);\n};\nconst isHtmlString = arg => {\n  if (typeof arg === 'string' && arg.indexOf('<') > -1) {\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * Plugin: \"dropdown_header\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin (userOptions) {\n  const self = this;\n  const options = Object.assign({\n    className: 'clear-button',\n    title: 'Clear All',\n    html: data => {\n      return `<div class=\"${data.className}\" title=\"${data.title}\">&#10799;</div>`;\n    }\n  }, userOptions);\n  self.on('initialize', () => {\n    var button = getDom(options.html(options));\n    button.addEventListener('click', evt => {\n      if (self.isDisabled || self.isLocked) {\n        return;\n      }\n\n      self.clear();\n\n      if (self.settings.mode === 'single' && self.settings.allowEmptyOption) {\n        self.addItem('');\n      }\n\n      evt.preventDefault();\n      evt.stopPropagation();\n    });\n    self.control.appendChild(button);\n  });\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/**\n * Converts a scalar to its best string representation\n * for hash keys and HTML attribute values.\n *\n * Transformations:\n *   'str'     -> 'str'\n *   null      -> ''\n *   undefined -> ''\n *   true      -> '1'\n *   false     -> '0'\n *   0         -> '0'\n *   1         -> '1'\n *\n */\nconst hash_key = value => {\n  if (typeof value === 'undefined' || value === null) return null;\n  return get_hash(value);\n};\nconst get_hash = value => {\n  if (typeof value === 'boolean') return value ? '1' : '0';\n  return value + '';\n};\n/**\n * Prevent default\n *\n */\n\nconst preventDefault = (evt, stop = false) => {\n  if (evt) {\n    evt.preventDefault();\n\n    if (stop) {\n      evt.stopPropagation();\n    }\n  }\n};\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\nconst accent_pat = '[\\u0300-\\u036F\\u{b7}\\u{2be}\\u{2bc}]';\n/** @type {TUnicodeMap} */\n\nconst latin_convert = {};\n/** @type {TUnicodeMap} */\n\nconst latin_condensed = {\n  '/': '⁄∕',\n  '0': '߀',\n  \"a\": \"ⱥɐɑ\",\n  \"aa\": \"ꜳ\",\n  \"ae\": \"æǽǣ\",\n  \"ao\": \"ꜵ\",\n  \"au\": \"ꜷ\",\n  \"av\": \"ꜹꜻ\",\n  \"ay\": \"ꜽ\",\n  \"b\": \"ƀɓƃ\",\n  \"c\": \"ꜿƈȼↄ\",\n  \"d\": \"đɗɖᴅƌꮷԁɦ\",\n  \"e\": \"ɛǝᴇɇ\",\n  \"f\": \"ꝼƒ\",\n  \"g\": \"ǥɠꞡᵹꝿɢ\",\n  \"h\": \"ħⱨⱶɥ\",\n  \"i\": \"ɨı\",\n  \"j\": \"ɉȷ\",\n  \"k\": \"ƙⱪꝁꝃꝅꞣ\",\n  \"l\": \"łƚɫⱡꝉꝇꞁɭ\",\n  \"m\": \"ɱɯϻ\",\n  \"n\": \"ꞥƞɲꞑᴎлԉ\",\n  \"o\": \"øǿɔɵꝋꝍᴑ\",\n  \"oe\": \"œ\",\n  \"oi\": \"ƣ\",\n  \"oo\": \"ꝏ\",\n  \"ou\": \"ȣ\",\n  \"p\": \"ƥᵽꝑꝓꝕρ\",\n  \"q\": \"ꝗꝙɋ\",\n  \"r\": \"ɍɽꝛꞧꞃ\",\n  \"s\": \"ßȿꞩꞅʂ\",\n  \"t\": \"ŧƭʈⱦꞇ\",\n  \"th\": \"þ\",\n  \"tz\": \"ꜩ\",\n  \"u\": \"ʉ\",\n  \"v\": \"ʋꝟʌ\",\n  \"vy\": \"ꝡ\",\n  \"w\": \"ⱳ\",\n  \"y\": \"ƴɏỿ\",\n  \"z\": \"ƶȥɀⱬꝣ\",\n  \"hv\": \"ƕ\"\n};\n\nfor (let latin in latin_condensed) {\n  let unicode = latin_condensed[latin] || '';\n\n  for (let i = 0; i < unicode.length; i++) {\n    let char = unicode.substring(i, i + 1);\n    latin_convert[char] = latin;\n  }\n}\n\nnew RegExp(Object.keys(latin_convert).join('|') + '|' + accent_pat, 'gu');\n\n/**\n * Return a dom element from either a dom query string, jQuery object, a dom element or html string\n * https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro/35385518#35385518\n *\n * param query should be {}\n */\n\nconst getDom = query => {\n  if (query.jquery) {\n    return query[0];\n  }\n\n  if (query instanceof HTMLElement) {\n    return query;\n  }\n\n  if (isHtmlString(query)) {\n    var tpl = document.createElement('template');\n    tpl.innerHTML = query.trim(); // Never return a text node of whitespace as the result\n\n    return tpl.content.firstChild;\n  }\n\n  return document.querySelector(query);\n};\nconst isHtmlString = arg => {\n  if (typeof arg === 'string' && arg.indexOf('<') > -1) {\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * Plugin: \"restore_on_backspace\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin (userOptions) {\n    const self = this;\n    const options = Object.assign({\n      className: ''\n    }, userOptions);\n\n  var orig_onOptionSelect = self.onOptionSelect;\n  self.settings.hideSelected = false; // update the checkbox for an option\n\n  var UpdateCheckbox = function UpdateCheckbox(option) {\n    setTimeout(() => {\n      var checkbox = option.querySelector('input');\n\n      if (checkbox instanceof HTMLInputElement) {\n        if (option.classList.contains('selected')) {\n          checkbox.checked = true;\n        } else {\n          checkbox.checked = false;\n        }\n      }\n    }, 1);\n  }; // add checkbox to option template\n\n\n  self.hook('after', 'setupTemplates', () => {\n    var orig_render_option = self.settings.render.option;\n\n    self.settings.render.option = (data, escape_html) => {\n      var rendered = getDom(orig_render_option.call(self, data, escape_html));\n      var checkbox = document.createElement('input');\n      checkbox.className = options.className;\n      checkbox.addEventListener('click', function (evt) {\n        preventDefault(evt);\n      });\n      checkbox.type = 'checkbox';\n      const hashed = hash_key(data[self.settings.valueField]);\n\n      if (hashed && self.items.indexOf(hashed) > -1) {\n        checkbox.checked = true;\n      }\n\n      rendered.prepend(checkbox);\n      return rendered;\n    };\n  }); // uncheck when item removed\n\n  self.on('item_remove', value => {\n    var option = self.getOption(value);\n\n    if (option) {\n      // if dropdown hasn't been opened yet, the option won't exist\n      option.classList.remove('selected'); // selected class won't be removed yet\n\n      UpdateCheckbox(option);\n    }\n  }); // check when item added\n\n  self.on('item_add', value => {\n    var option = self.getOption(value);\n\n    if (option) {\n      // if dropdown hasn't been opened yet, the option won't exist\n      UpdateCheckbox(option);\n    }\n  }); // remove items when selected option is clicked\n\n  self.hook('instead', 'onOptionSelect', (evt, option) => {\n    if (option.classList.contains('selected')) {\n      option.classList.remove('selected');\n      self.removeItem(option.dataset.value);\n      self.refreshOptions();\n      preventDefault(evt, true);\n      return;\n    }\n\n    orig_onOptionSelect.call(self, evt, option);\n    UpdateCheckbox(option);\n  });\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\nconst accent_pat = '[\\u0300-\\u036F\\u{b7}\\u{2be}\\u{2bc}]';\n/** @type {TUnicodeMap} */\n\nconst latin_convert = {};\n/** @type {TUnicodeMap} */\n\nconst latin_condensed = {\n  '/': '⁄∕',\n  '0': '߀',\n  \"a\": \"ⱥɐɑ\",\n  \"aa\": \"ꜳ\",\n  \"ae\": \"æǽǣ\",\n  \"ao\": \"ꜵ\",\n  \"au\": \"ꜷ\",\n  \"av\": \"ꜹꜻ\",\n  \"ay\": \"ꜽ\",\n  \"b\": \"ƀɓƃ\",\n  \"c\": \"ꜿƈȼↄ\",\n  \"d\": \"đɗɖᴅƌꮷԁɦ\",\n  \"e\": \"ɛǝᴇɇ\",\n  \"f\": \"ꝼƒ\",\n  \"g\": \"ǥɠꞡᵹꝿɢ\",\n  \"h\": \"ħⱨⱶɥ\",\n  \"i\": \"ɨı\",\n  \"j\": \"ɉȷ\",\n  \"k\": \"ƙⱪꝁꝃꝅꞣ\",\n  \"l\": \"łƚɫⱡꝉꝇꞁɭ\",\n  \"m\": \"ɱɯϻ\",\n  \"n\": \"ꞥƞɲꞑᴎлԉ\",\n  \"o\": \"øǿɔɵꝋꝍᴑ\",\n  \"oe\": \"œ\",\n  \"oi\": \"ƣ\",\n  \"oo\": \"ꝏ\",\n  \"ou\": \"ȣ\",\n  \"p\": \"ƥᵽꝑꝓꝕρ\",\n  \"q\": \"ꝗꝙɋ\",\n  \"r\": \"ɍɽꝛꞧꞃ\",\n  \"s\": \"ßȿꞩꞅʂ\",\n  \"t\": \"ŧƭʈⱦꞇ\",\n  \"th\": \"þ\",\n  \"tz\": \"ꜩ\",\n  \"u\": \"ʉ\",\n  \"v\": \"ʋꝟʌ\",\n  \"vy\": \"ꝡ\",\n  \"w\": \"ⱳ\",\n  \"y\": \"ƴɏỿ\",\n  \"z\": \"ƶȥɀⱬꝣ\",\n  \"hv\": \"ƕ\"\n};\n\nfor (let latin in latin_condensed) {\n  let unicode = latin_condensed[latin] || '';\n\n  for (let i = 0; i < unicode.length; i++) {\n    let char = unicode.substring(i, i + 1);\n    latin_convert[char] = latin;\n  }\n}\n\nnew RegExp(Object.keys(latin_convert).join('|') + '|' + accent_pat, 'gu');\n\n/**\n * Iterates over arrays and hashes.\n *\n * ```\n * iterate(this.items, function(item, id) {\n *    // invoked for each item\n * });\n * ```\n *\n */\n\nconst iterate = (object, callback) => {\n  if (Array.isArray(object)) {\n    object.forEach(callback);\n  } else {\n    for (var key in object) {\n      if (object.hasOwnProperty(key)) {\n        callback(object[key], key);\n      }\n    }\n  }\n};\n\n/**\n * Remove css classes\n *\n */\n\nconst removeClasses = (elmts, ...classes) => {\n  var norm_classes = classesArray(classes);\n  elmts = castAsArray(elmts);\n  elmts.map(el => {\n    norm_classes.map(cls => {\n      el.classList.remove(cls);\n    });\n  });\n};\n/**\n * Return arguments\n *\n */\n\nconst classesArray = args => {\n  var classes = [];\n  iterate(args, _classes => {\n    if (typeof _classes === 'string') {\n      _classes = _classes.trim().split(/[\\11\\12\\14\\15\\40]/);\n    }\n\n    if (Array.isArray(_classes)) {\n      classes = classes.concat(_classes);\n    }\n  });\n  return classes.filter(Boolean);\n};\n/**\n * Create an array from arg if it's not already an array\n *\n */\n\nconst castAsArray = arg => {\n  if (!Array.isArray(arg)) {\n    arg = [arg];\n  }\n\n  return arg;\n};\n/**\n * Get the index of an element amongst sibling nodes of the same type\n *\n */\n\nconst nodeIndex = (el, amongst) => {\n  if (!el) return -1;\n  amongst = amongst || el.nodeName;\n  var i = 0;\n\n  while (el = el.previousElementSibling) {\n    if (el.matches(amongst)) {\n      i++;\n    }\n  }\n\n  return i;\n};\n\n/**\n * Plugin: \"dropdown_input\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin () {\n  var self = this;\n  /**\n   * Moves the caret to the specified index.\n   *\n   * The input must be moved by leaving it in place and moving the\n   * siblings, due to the fact that focus cannot be restored once lost\n   * on mobile webkit devices\n   *\n   */\n\n  self.hook('instead', 'setCaret', new_pos => {\n    if (self.settings.mode === 'single' || !self.control.contains(self.control_input)) {\n      new_pos = self.items.length;\n    } else {\n        const clearButton = self.control.querySelector('[data-ts-clear]');\n        const loader = self.control.querySelector('[data-ts-loader]');\n      new_pos = Math.max(0, Math.min(self.items.length, new_pos));\n\n      if (new_pos != self.caretPos && !self.isPending) {\n        self.controlChildren().forEach((child, j) => {\n          if (j < new_pos) {\n            self.control_input.insertAdjacentElement('beforebegin', child);\n          } else {\n            if (loader) {\n                loader.insertAdjacentElement('beforebegin', child);\n            } else if (clearButton) {\n                clearButton.insertAdjacentElement('beforebegin', child);\n            } else {\n                self.control.appendChild(child);\n            }\n          }\n        });\n      }\n    }\n\n    self.caretPos = new_pos;\n  });\n  self.hook('instead', 'moveCaret', direction => {\n    if (!self.isFocused) return; // move caret before or after selected items\n\n    const last_active = self.getLastActive(direction);\n\n    if (last_active) {\n      const idx = nodeIndex(last_active);\n      self.setCaret(direction > 0 ? idx + 1 : idx);\n      self.setActiveItem();\n      removeClasses(last_active, 'last-active'); // move caret left or right of current position\n    } else {\n      self.setCaret(self.caretPos + direction);\n    }\n  });\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/**\n * Converts a scalar to its best string representation\n * for hash keys and HTML attribute values.\n *\n * Transformations:\n *   'str'     -> 'str'\n *   null      -> ''\n *   undefined -> ''\n *   true      -> '1'\n *   false     -> '0'\n *   0         -> '0'\n *   1         -> '1'\n *\n */\n/**\n * Add event helper\n *\n */\n\nconst addEvent = (target, type, callback, options) => {\n  target.addEventListener(type, callback, options);\n};\n\n/**\n * Plugin: \"input_autogrow\" (Tom Select)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin () {\n  var self = this;\n  self.on('initialize', () => {\n    var test_input = document.createElement('span');\n    var control = self.control_input;\n    test_input.style.cssText = 'position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ';\n    self.wrapper.appendChild(test_input);\n    var transfer_styles = ['letterSpacing', 'fontSize', 'fontFamily', 'fontWeight', 'textTransform'];\n\n    for (const style_name of transfer_styles) {\n      // @ts-ignore TS7015 https://stackoverflow.com/a/50506154/697576\n      test_input.style[style_name] = control.style[style_name];\n    }\n    /**\n     * Set the control width\n     *\n     */\n\n\n    var resize = () => {\n      test_input.textContent = control.value;\n      control.style.width = test_input.clientWidth + 'px';\n    };\n\n    resize();\n    self.on('update item_add item_remove', resize);\n    addEvent(control, 'input', resize);\n    addEvent(control, 'keyup', resize);\n    addEvent(control, 'blur', resize);\n    addEvent(control, 'update', resize);\n  });\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/**\n * Plugin: \"no_active_items\" (Tom Select)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin () {\n  this.hook('instead', 'setActiveItem', () => {});\n  this.hook('instead', 'selectAll', () => {});\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/**\n * Plugin: \"input_autogrow\" (Tom Select)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin () {\n  var self = this;\n  var orig_deleteSelection = self.deleteSelection;\n  this.hook('instead', 'deleteSelection', evt => {\n    if (self.activeItems.length) {\n      return orig_deleteSelection.call(self, evt);\n    }\n\n    return false;\n  });\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","import './core.js';\r\nimport Accordion from './components/accordion.js'; \r\nimport Autogrow from './components/autogrow.js'; \r\nimport Checkbox from './components/checkbox.js'; \r\nimport Clipboard from './components/clipboard.js';\r\nimport DataTable from './components/datatable.js';\r\nimport Datepicker from './components/datepicker.js'; \r\nimport Dismiss from './components/dismiss.js';\r\nimport Dropdown from './components/dropdown.js';\r\nimport DropzoneUploader from './components/dropzone.js';\r\nimport Fetch from './components/fetch.js';\r\nimport Highlight from './components/highlight.js';\r\nimport Input from './components/input.js';\r\nimport Modal from './components/modal.js';\r\nimport Offcanvas from './components/offcanvas.js';\r\nimport Password from './components/password.js';\r\nimport Pincode from './components/pincode.js';\r\nimport Tab from './components/tab.js';\r\nimport Theme from  './components/theme.js';\r\nimport Toast from './components/toast.js';\r\nimport Toggle from './components/toggle.js';\r\nimport Tooltip from './components/tooltip.js';\r\nimport Scroll from './components/scroll.js';\r\nimport Scrollspy from './components/scrollspy.js';\r\nimport Select from './components/select.js';\r\n\r\n// Register components for auto loading\r\nUIkit.register({\r\n    'accordion': Accordion,\r\n    'autogrow': Autogrow,\r\n    'checkbox': Checkbox,\r\n    'clipboard': Clipboard,\r\n    'datatable': DataTable,\r\n    'datepicker': Datepicker,\r\n    'dismiss': Dismiss,\r\n    'dropdown': Dropdown,\r\n    'dropzone': DropzoneUploader,\r\n    'fetch': Fetch,\r\n    'highlight': Highlight,\r\n    'input': Input,\r\n    'modal': Modal,\r\n    'offcanvas': Offcanvas,\r\n    'password': Password,\r\n    'pincode': Pincode,\r\n    'tab': Tab,\r\n    'theme': Theme,\r\n    'toast': Toast,\r\n    'toggle': Toggle,\r\n    'tooltip': Tooltip,\r\n    'scroll': Scroll,\r\n    'scrollspy': Scrollspy,\r\n    'select': Select\r\n});","import { \r\n    randomNumber, \r\n    removeClass, \r\n    hideElement, \r\n    showElement, \r\n    setAttributes \r\n} from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Accordion extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            toggle: false,\r\n            trigger: 'data-trigger',\r\n            panel: 'data-panel',\r\n            classes: {\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'accordion',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        this._data = [];\r\n        const id = this._element.id !== '' ? this._element.id : 'accordion-' + randomNumber(4);\r\n        const triggers = this._element.querySelectorAll(`[${this._config.trigger}]`);\r\n        const panels = this._element.querySelectorAll(`[${this._config.panel}]`);\r\n\r\n        /**\r\n         * Data returned through events\r\n         * \r\n         * @param {number} index \r\n         * @returns \r\n         */\r\n        const eventData = (index) => {\r\n            return {\r\n                trigger: this._data[index].tab,\r\n                panel: this._data[index].panel,\r\n                opened: this._data[index].isVisible\r\n            };\r\n        };\r\n\r\n        /**\r\n         * Remove animation styles \r\n         * \r\n         * @param {HTMLElement} element \r\n         */\r\n        const removeAnimationStyles = (element) => {\r\n            element.style.height = null;\r\n        };\r\n\r\n        /**\r\n         * Show panel\r\n         * \r\n         * @param {number} index \r\n         */\r\n        const show = (index) => {\r\n            const data = this._data[index];\r\n\r\n            if (!data) return;\r\n\r\n            if (this._config.toggle) {\r\n                hideAll(index);\r\n            }\r\n\r\n            this._dispatchEvent('show', eventData(index));\r\n\r\n            data.isVisible = !data.isVisible;\r\n            setAttributes(data.trigger, {\r\n                ariaExpanded: true\r\n            });\r\n\r\n            showElement(data.panel);\r\n            \r\n            const transitioned = this._transition('transitionEnter', data.panel, (e) => {\r\n                showElement(data.panel, null);\r\n                removeAnimationStyles(data.panel);\r\n                this._dispatchEvent('shown', eventData(index));\r\n            });\r\n\r\n            if (transitioned) {\r\n                window.requestAnimationFrame(() => {\r\n                    const panelHeight = data.panel.offsetHeight;\r\n                    data.panel.style.height = `0px`;\r\n\r\n                    window.requestAnimationFrame(() => {\r\n                        data.panel.style.height = `${panelHeight}px`;\r\n                    });\r\n                });\r\n\r\n                return;\r\n            }\r\n\r\n            this._dispatchEvent('shown', eventData(index));\r\n        };\r\n\r\n        /**\r\n         * Hide panel\r\n         * \r\n         * @param {number} index \r\n         */\r\n        const hide = (index) => {\r\n            const data = this._data[index];\r\n\r\n            if (!data) return;\r\n\r\n            this._dispatchEvent('hide', eventData(index));\r\n\r\n            data.isVisible = !data.isVisible;\r\n            setAttributes(data.trigger, {\r\n                ariaExpanded: false\r\n            });\r\n\r\n            if (this._hasTransition) {                \r\n                data.panel.style.height = `${data.panel.offsetHeight}px`;\r\n    \r\n                window.requestAnimationFrame(() => {\r\n                    data.panel.style.height = `0px`;\r\n                });\r\n            }\r\n\r\n            const transitioned = this._transition('transitionLeave', data.panel, (e) => {\r\n                hideElement(data.panel);\r\n                removeAnimationStyles(data.panel);\r\n                this._dispatchEvent('hidden', eventData(index));\r\n            });\r\n\r\n            if (transitioned) {\r\n                return;\r\n            }\r\n\r\n            hideElement(data.panel);\r\n            this._dispatchEvent('hidden', eventData(index));\r\n        };\r\n\r\n        /**\r\n         * Hide all visible panels \r\n         * \r\n         * @param {number} excludeIndex \r\n         */\r\n        const hideAll = (excludeIndex) => {\r\n            const current = this._data[excludeIndex];\r\n\r\n            for (const data of this._data) {\r\n                if (data.isVisible && data.index !== excludeIndex && current.parent === data.parent) {\r\n                    hide(data.index);\r\n                }\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Show/hide panel\r\n         * \r\n         * @param {number} index \r\n         */\r\n        const toggle = (index) => {\r\n            if (this._component.isTransitioning) return;\r\n\r\n            const data = this._data[index];\r\n\r\n            if (!data) return;\r\n\r\n            if (data.isVisible) {\r\n                hide(data.index);\r\n\r\n                return;\r\n            }\r\n\r\n            show(data.index);\r\n        };\r\n\r\n        // Set attributes and states\r\n        triggers.forEach((trigger, index) => {\r\n            const panel = panels[index];\r\n            const panelSuffix = '-panel';\r\n\r\n            let isVisible = panel.offsetParent !== null \r\n                ? true \r\n                : false\r\n\r\n            const name = trigger.getAttribute(this._config.trigger) == '' \r\n                ?   `${id}-${index}` \r\n                : trigger.getAttribute(this._config.trigger);\r\n\r\n            setAttributes(trigger, {\r\n                id: name,\r\n                ariaControls: name + panelSuffix\r\n            });\r\n\r\n            if (!trigger.hasAttribute('aria-expanded')) {\r\n                trigger.setAttribute('aria-expanded', isVisible);\r\n            } else {\r\n                isVisible = trigger.getAttribute('aria-expanded') === 'true';\r\n            }\r\n\r\n            setAttributes(panel, {\r\n                role: 'region',\r\n                id: name + panelSuffix,\r\n                ariaLabelledby: name\r\n            });\r\n\r\n            // Remove display class and hide panels\r\n            if (panel.classList.contains(this._config.classes.display)) {                \r\n                hideElement(panel);\r\n                removeClass(panel, this._config.classes.display);\r\n            }\r\n\r\n            // Store accordion data\r\n            this._data.push({\r\n                index,\r\n                trigger,\r\n                panel,\r\n                isVisible,\r\n                parent: trigger.closest(`[${this._config.panel}]`)\r\n            });\r\n\r\n            // Attach click event\r\n            this._on(trigger, 'click', (e) => {\r\n                e.preventDefault();\r\n                toggle(index);\r\n            });\r\n        });\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Accordion;","import Component from '../component.js';\r\n\r\nclass Autogrow extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            type: null\r\n        };\r\n\r\n        const _component = {\r\n            name: 'autogrow',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element || !this._config.type) return;\r\n\r\n        const textareaInput = () => {\r\n            this._element.style.minHeight = 'auto';\r\n\t\t    this._element.style.minHeight = this._element.scrollHeight + 'px';\r\n        };\r\n\r\n        if (this._config.type == 'textarea') {\r\n            this._on(this._element, 'input', textareaInput);\r\n\r\n            this._setTimeout(textareaInput);\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Autogrow;","// import { addClass, removeClass } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Checkbox extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            target: null,\r\n            total: null,\r\n            checked: null,\r\n            related: 'data-related'\r\n        };\r\n\r\n        const _component = {\r\n            name: 'checkbox',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element || !this._config.target) return;\r\n\r\n        this._checkboxes = document.querySelectorAll(this._config.target);\r\n        this._checkboxes = [...this._checkboxes].filter((checkbox) => {\r\n            return checkbox.disabled === false;\r\n        });\r\n        this._total = this._checkboxes.length;\r\n        this._totalChecked = 0;\r\n        this._config.checked = document.querySelectorAll(this._config.checked);\r\n        this._config.total = document.querySelectorAll(this._config.total);\r\n\r\n        if (this._config.total.length > 0) {\r\n            this._config.total.forEach((element) => {\r\n                element.innerHTML = this._total;\r\n            });\r\n        }\r\n\r\n        const updateCheckedCount = () => {\r\n            if (this._config.checked.length > 0) {\r\n                this._config.checked.forEach((element) => {\r\n                    element.innerHTML = this._totalChecked;\r\n                });\r\n            }\r\n        };\r\n\r\n        const updateTotalChecked = () => {\r\n            const filtered = [...this._checkboxes].filter((checkbox) => {\r\n                return checkbox.checked === true;\r\n            });\r\n\r\n            this._totalChecked = filtered.length;\r\n            updateCheckedCount();\r\n        };\r\n\r\n        const updateParent = () => {\r\n            if (this._totalChecked > 0 && this._totalChecked < this._total) {\r\n                this._element.indeterminate = true;\r\n            }\r\n    \r\n            if (this._total === this._totalChecked) {\r\n                this._element.checked = true;\r\n                this._element.indeterminate = false;\r\n            }    \r\n    \r\n            if (this._totalChecked === 0) {\r\n                this._element.checked = false;\r\n                this._element.indeterminate = false;\r\n            }    \r\n        };\r\n\r\n        this._checkboxes.forEach((checkbox) => {\r\n\r\n            this._on(checkbox, 'change', (e) => {\r\n                if (checkbox.hasAttribute(this._config.related)) {\r\n                    const related = checkbox.getAttribute(this._config.related);\r\n                    const targets = document.querySelectorAll(related);\r\n    \r\n                    if (targets.length > 0) {\r\n                        const filtered = [...targets].filter((item) => {\r\n                            return item.disabled === false;\r\n                        });\r\n    \r\n                        filtered.forEach((relatedCheckbox) => {\r\n                            if (checkbox.checked) {\r\n                                relatedCheckbox.checked = true;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n\r\n                updateTotalChecked();\r\n                updateParent();\r\n            });\r\n        });\r\n\r\n        this._on(this._element, 'change', (e) => {\r\n            const state = this._element.checked;\r\n            const filtered = [...this._checkboxes].filter((checkbox) => {\r\n                return checkbox.disabled === false;\r\n            });\r\n\r\n            filtered.forEach((checkbox) => {\r\n                checkbox.checked = state;\r\n            });\r\n            \r\n            updateTotalChecked();\r\n        });\r\n\r\n        if (this._element.form) {\r\n            this._on(this._element.form, 'reset', () => {\r\n                this._element.indeterminate = false;\r\n                this._totalChecked = 0;\r\n                updateCheckedCount();\r\n            });\r\n        }\r\n\r\n        updateTotalChecked();\r\n        updateParent();\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Checkbox;","import Component from '../component.js';\r\n\r\nclass Clipboard extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            action: 'copy',\r\n            parent: null,\r\n            target: null,\r\n            text: null,\r\n            attribute: null,\r\n            container: null,\r\n            clearSelection: false\r\n        };\r\n\r\n        const _component = {\r\n            name: 'clipboard',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config\r\n        };\r\n\r\n        super(_component);\r\n   \r\n        if (!this._element || typeof ClipboardJS !== 'function') return;\r\n\r\n        this._target = null;\r\n        this._container = this._config.container \r\n            ? document.querySelector(this._config.container) \r\n            : document.body;\r\n\r\n        this._target = (trigger) => {\r\n            if (this._config.target == 'next') {\r\n                return this._element.nextElementSibling.firstElementChild;\r\n            }\r\n\r\n            if (this._config.target == 'previous') {\r\n                return this._element.previousElementSibling.firstElementChild;\r\n            }\r\n\r\n            if (this._config.parent && this._config.target) {\r\n                let parent = trigger.closest(this._config.parent);\r\n\r\n                this._target = parent.querySelector(this._config.target);\r\n            }\r\n\r\n            if (!this._config.parent && this._config.target) {\r\n                this._target = document.querySelector(this._config.target);\r\n            }\r\n\r\n            return this._target ? this._target : trigger;\r\n        };\r\n\r\n        this._text = (trigger) => {\r\n            if (this._config.attribute) {\r\n                return trigger.getAttribute(this._config.attribute);\r\n            }\r\n            \r\n            if (this._config.text) {\r\n                return this._config.text;\r\n            }\r\n\r\n            if (this._target && this._target.offsetParent == null) {\r\n                return this._target.textContent;\r\n            }\r\n        };\r\n\r\n        this._clipboard = new ClipboardJS(this._element, {\r\n            action: this._config.action,\r\n            container: this._container,\r\n            target: this._target,\r\n            text: this._text\r\n        });\r\n\r\n        this._clipboard.on('success', (e) => {\r\n            this._dispatchEvent('success', e);\r\n\r\n            if (this._config.clearSelection) {\r\n                e.clearSelection();\r\n            }\r\n        });\r\n            \r\n        this._clipboard.on('error', (e) => {\r\n            this._dispatchEvent('error');\r\n        });\r\n    }\r\n\r\n    destroy() {\r\n        this._clipboard.destroy();\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Clipboard;","import { deepClone, stringToDom, showElement, hideElement, camelCase, addClass, removeClass } from '../utils.js';\r\nimport Component from '../component.js';\r\nimport { Idiomorph } from './../plugins/idiomorph/0.3.0/idiomorph.js';\r\n\r\nclass DataTable extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            id: null,\r\n            url: null,\r\n            saveState: true,\r\n            autoUpdate: false,\r\n            autoUpdateInterval: 60000,\r\n            table: null,\r\n            search: null,\r\n            searchInput: null,\r\n            searchDelay: 750,\r\n            checkbox: null,\r\n            pagination: null,\r\n            info: null,\r\n            length: null,\r\n            region: null,\r\n            loader: null,\r\n            loaderLabel: null,\r\n            pageLength: null,\r\n            index: null,\r\n            order: null,\r\n            direction: null,\r\n            request: {\r\n                page: 'page',\r\n                search: 'search',\r\n                orderColumn: 'order_column',\r\n                orderDirection: 'order_direction',\r\n                perPage: 'per_page'\r\n            },\r\n            classes: {\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'datatable',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            storage: true,\r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element || !this._config.url) return;\r\n\r\n        // Id attribute on element if not set \r\n        if (!this._element.hasAttribute('id') && this._config.id) {\r\n            this._element.id = this._config.id\r\n        }\r\n\r\n        let controller,\r\n            loadCount = 0;\r\n        this._isLoading = false;\r\n        this._sections = {\r\n            table: this._element.querySelector(`[${this._config.table}]`), \r\n            search: this._element.querySelector(`[${this._config.search}]`), \r\n            length: this._element.querySelector(`[${this._config.length}]`), \r\n            info: this._element.querySelector(`[${this._config.info}]`), \r\n            pagination: this._element.querySelector(`[${this._config.pagination}]`), \r\n            loader: this._element.querySelector(`[${this._config.loader}]`),\r\n            region: this._element.querySelectorAll(`[${this._config.region}]`)\r\n        };\r\n\r\n        // Append loader if available\r\n        if (this._sections.loader && this._config.loaderLabel) {\r\n            this._sections.loader.appendChild(stringToDom(this._config.loaderLabel));\r\n        }\r\n\r\n        /**\r\n         * Retrieves or modifies URL parameters\r\n         * \r\n         * @param {string} url \r\n         * @param {object} param \r\n         * @returns {URL}\r\n         */\r\n        const parseUrl = (url, param) => {\r\n            const instance = new URL(url);\r\n\r\n            if (param instanceof Object) {\r\n                for (const key in param) {\r\n                    if (param[key] === null) {\r\n                        instance.searchParams.delete(key);\r\n                    } else {\r\n                        instance.searchParams.set(key, param[key]);\r\n                    }\r\n                }\r\n            }\r\n\r\n            return instance;\r\n        };\r\n\r\n        /**\r\n         * Get the value of a search parameter by key\r\n         * \r\n         * @param {string} key \r\n         * @param {string} defaultValue \r\n         * @returns {?string}\r\n         */\r\n        const getRequest = (key, defaultValue) => {\r\n            const url = parseUrl(this._config.url);\r\n\r\n            return url.searchParams.get(key) ?? defaultValue ?? null;\r\n        };\r\n\r\n        /**\r\n         * Auto update table after the set interval\r\n         */\r\n        const autoReload = () => {\r\n            if (!this._config.autoUpdate) return;\r\n\r\n            this._setTimeout(() => {\r\n                if (this._element.isConnected) {\r\n                    this._reload();\r\n                }\r\n            }, this._config.autoUpdateInterval);\r\n        };\r\n\r\n        /**\r\n         * Retrieves a dataset value from an element\r\n         * \r\n         * @param {HTMLElement} element \r\n         * @param {string} key \r\n         * @returns {?string}\r\n         */\r\n        const getDataset = (element, key) => {\r\n            key = camelCase(key.replace('data-', '')).replaceAll('-', '');\r\n\r\n            return element.dataset[key] || null;\r\n        };\r\n\r\n        /**\r\n         * Show or hide loader\r\n         * \r\n         * @param {boolean} hide \r\n         */\r\n        const loading = (hide = false) => {\r\n            if (hide) {\r\n                hideElement(this._sections.loader);\r\n\r\n                return\r\n            }\r\n            \r\n            showElement(this._sections.loader);\r\n        };\r\n\r\n        /**\r\n         * Get all child checkboxes\r\n         * \r\n         * @returns {NodeList}\r\n         */\r\n        const getCheckboxes = () => {    \r\n            return this._element.querySelectorAll(`[${this._config.checkbox}=child]:not(:disabled)`);\r\n        };\r\n\r\n        /**\r\n         * Get all checked checkboxes\r\n         * \r\n         * @returns {NodeList}\r\n         */\r\n        const getChecked = () => {    \r\n            return this._element.querySelectorAll(`[${this._config.checkbox}=child]:checked:not(:disabled)`);\r\n        };\r\n\r\n        /**\r\n         * Get all unchecked checkboxes\r\n         * \r\n         * @returns {NodeList}\r\n         */\r\n        const getUnchecked = () => {    \r\n            return this._element.querySelectorAll(`[${this._config.checkbox}=child]:not(:checked):not(:disabled)`);\r\n        };\r\n\r\n        /**\r\n         * Get the parent checkbox\r\n         * \r\n         * @returns {?HTMLElement}\r\n         */\r\n        const getParentCheckbox = () => {    \r\n            return this._element.querySelector(`[${this._config.checkbox}=parent]`);\r\n        };\r\n\r\n        /**\r\n         * Get the form data for all checked checkbox\r\n         * \r\n         * @returns {FormData}\r\n         */\r\n        const getCheckedFormData = () => {    \r\n            const formData = new FormData();\r\n\r\n            getChecked().forEach((checkbox) => {\r\n                formData.append(checkbox.name, checkbox.value);\r\n            });\r\n\r\n            return formData;\r\n        };\r\n\r\n        /**\r\n         * Check if datatable is loading for the first time\r\n         * \r\n         * @returns {boolean}\r\n         */\r\n        const isInitialLoad = () => {    \r\n            return loadCount == 1;\r\n        };\r\n\r\n        /**\r\n         * Check all unchecked checkboxes\r\n         */\r\n        this._select = () => {    \r\n            getUnchecked().forEach((checkbox) => {\r\n                checkbox.checked = true;\r\n            });\r\n\r\n            if (getParentCheckbox()) {\r\n                getParentCheckbox().checked = true;\r\n                getParentCheckbox().indeterminate = false;\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Uncheck all checked checkboxes\r\n         */\r\n        this._deselect = () => {    \r\n            getChecked().forEach((checkbox) => {\r\n                checkbox.checked = false;\r\n            });\r\n\r\n            if (getParentCheckbox()) {\r\n                getParentCheckbox().checked = false;\r\n                getParentCheckbox().indeterminate = false;\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Changes to a set pageText\r\n         * \r\n         * @param {number} index \r\n         */\r\n        this._goToIndex = (index) => {  \r\n            this._abort();\r\n\r\n            this._config.url = parseUrl(this._config.url, {\r\n                [this._config.request.page]: index || ''\r\n            }).href;\r\n\r\n            this._draw();\r\n        };\r\n\r\n        /**\r\n         * Changes the current page to display\r\n         * \r\n         * @param {number} page \r\n         */\r\n        this._index = (page) => {  \r\n            this._abort();\r\n\r\n            this._config.url = parseUrl(this._config.url, {\r\n                [this._config.request.page]: page\r\n            }).href;\r\n\r\n            this._draw();\r\n        };\r\n\r\n        /**\r\n         * Changes the number of records to display\r\n         * \r\n         * @param {number} length \r\n         */\r\n        this._pageLength = (length) => {  \r\n            this._abort();\r\n\r\n            this._config.url = parseUrl(this._config.url, {\r\n                [this._config.request.page]: null,\r\n                [this._config.request.perPage]: length || ''\r\n            }).href;\r\n\r\n            this._draw();\r\n        };\r\n\r\n        /**\r\n         * Changes the order of records\r\n         * \r\n         * @param {string} column \r\n         * @param {string} direction \r\n         */\r\n        this._orderColumn = (column, direction) => {  \r\n            this._abort();\r\n\r\n            this._config.url = parseUrl(this._config.url, {\r\n                [this._config.request.orderColumn]: column || '',\r\n                [this._config.request.orderDirection]: direction || '',\r\n            }).href;\r\n\r\n            this._draw();\r\n        };\r\n\r\n        /**\r\n         * Searches for records\r\n         * \r\n         * @param {string} keyword \r\n         */\r\n        this._search = (keyword) => {    \r\n            this._abort();\r\n\r\n            this._config.url = parseUrl(this._config.url, {\r\n                [this._config.request.page]: null,\r\n                [this._config.request.search]: keyword || '',\r\n            }).href;\r\n\r\n            this._draw();\r\n        };\r\n\r\n        /*const populateSearch = (data) => {\r\n            if (!this._sections.search) return;\r\n            \r\n            if (!this._sections.search.hasAttribute('data-populated') && data.has_records) {\r\n                this._sections.search.innerHTML = data.html.search;\r\n                this._sections.search.setAttribute('data-populated', true);\r\n                const searchInput = this._element.querySelector(`[${this._config.searchInput}]`);\r\n    \r\n                this._on(searchInput, 'input', (e) => {\r\n                    this._setTimeout(() => {\r\n                        this._search(searchInput.value);\r\n                    }, this._config.searchDelay);\r\n                });\r\n\r\n                return;\r\n            }\r\n\r\n            const searchInput = this._element.querySelector(`[${this._config.searchInput}]`);\r\n\r\n            if (!searchInput) return;\r\n\r\n            if (!getRequest(this._config.request.search) && searchInput.value != '') {\r\n                searchInput.value = '';\r\n            }\r\n        };*/\r\n\r\n        const populateSearch = (data) => {\r\n            if (!this._sections.search) return;\r\n\r\n            Idiomorph.morph(this._sections.search, data.html.search, {\r\n                morphStyle: 'innerHTML',\r\n                ignoreActiveValue: true\r\n            });\r\n\r\n            if (isInitialLoad()) {                \r\n                const searchInput = this._sections.search.querySelector(`[${this._config.searchInput}]`);\r\n    \r\n                this._on(searchInput, 'input', (e) => {\r\n                    this._setTimeout(() => {\r\n                        this._search(searchInput.value);\r\n                    }, this._config.searchDelay);\r\n                });\r\n            }\r\n        };\r\n\r\n        const populateTable = (data) => {\r\n            if (!this._sections.table) return;\r\n\r\n            this._sections.table.innerHTML = data.html.table;\r\n            const triggers = this._sections.table.querySelectorAll(`[${this._config.order}]`);\r\n\r\n            triggers.forEach((element) => {\r\n                this._on(element, 'click', (e) => {\r\n                    e.preventDefault();\r\n                    const column = getDataset(element, this._config.order);\r\n                    const direction = getDataset(element, this._config.direction);\r\n                    this._orderColumn(column, direction);\r\n                });\r\n            });\r\n        };\r\n\r\n        const populateInfo = (data) => {\r\n            if (!this._sections.info) return;\r\n\r\n            this._sections.info.innerHTML = data.has_records ? data.html.info : '';\r\n        };\r\n\r\n        const populatePagination = (data) => {\r\n            if (!this._sections.pagination) return;\r\n\r\n            this._sections.pagination.innerHTML = data.has_records ? data.html.pagination : '';\r\n            const triggers = this._sections.pagination.querySelectorAll(`[${this._config.index}]`);\r\n\r\n            triggers.forEach((element) => {\r\n                this._on(element, 'click', (e) => {\r\n                    e.preventDefault();\r\n                    const index = getDataset(element, this._config.index);\r\n                    this._goToIndex(index);\r\n                });\r\n            });\r\n        };\r\n\r\n        const populateLength = (data) => {\r\n            if (!this._sections.length) return;\r\n\r\n            this._sections.length.innerHTML = data.has_records ? data.html.length : '';\r\n            const triggers = this._sections.length.querySelectorAll(`[${this._config.pageLength}]`);\r\n\r\n            triggers.forEach((element) => {\r\n                this._on(element, 'click', (e) => {\r\n                    e.preventDefault();\r\n                    const length = getDataset(element, this._config.pageLength);\r\n                    this._pageLength(length);\r\n                });\r\n            });\r\n        };\r\n\r\n        const regionVisibility = (data) => {\r\n            this._sections.region = this._element.querySelectorAll(`[${this._config.region}]`);\r\n\r\n            this._sections.region.forEach((element) => {\r\n                if (data.has_records) {\r\n                    removeClass(element, this._config.classes.display);\r\n                } else {\r\n                    addClass(element, this._config.classes.display);\r\n                }\r\n            });\r\n        };\r\n\r\n        const rowSelection = () => {\r\n            const parent = getParentCheckbox();\r\n            const children = getCheckboxes();\r\n            const total = children.length;\r\n            const onSelectEventData = () => {\r\n                return {\r\n                    formData: getCheckedFormData(),\r\n                    selected: getChecked(),\r\n                    deselected: getUnchecked()\r\n                }\r\n            };\r\n\r\n            children.forEach((checkbox) => {\r\n                this._on(checkbox, 'change', (e) => {\r\n                    const totalChecked = getChecked().length;\r\n                    const totalUnchecked = getUnchecked().length;\r\n                    parent.indeterminate = totalUnchecked > 0 && totalUnchecked !== total;\r\n                    \r\n                    if (checkbox.checked) {\r\n                        parent.checked = totalUnchecked === 0;\r\n                    } else {\r\n                        parent.checked = totalChecked === total;\r\n                    }\r\n\r\n                    this._dispatchEvent('select', onSelectEventData());\r\n                });\r\n            });\r\n\r\n            if (getUnchecked().length > 0 && getUnchecked().length !== total) {\r\n                parent.indeterminate = true;\r\n            }\r\n\r\n            if (parent) {                \r\n                this._on(parent, 'change', (e) => {\r\n                    if (parent.checked) {\r\n                        this._select();\r\n                    } else {\r\n                        this._deselect();\r\n                    }\r\n    \r\n                    this._dispatchEvent('select', onSelectEventData());\r\n                });\r\n            }\r\n        };\r\n\r\n        this._abort = () => {\r\n            if (this._isLoading) {\r\n                controller.abort();\r\n            }\r\n        };\r\n\r\n        this._draw = async (url) => {\r\n            controller = new AbortController();\r\n            const signal = controller.signal;\r\n\r\n            url = url || this._config.url;\r\n            this._events = {};\r\n            loading();\r\n            this._isLoading = true;\r\n            loadCount++;\r\n            this._dispatchEvent('processing');\r\n\r\n            await fetch(url, { signal: signal }) \r\n                .then(response => {\r\n                    if (!response.ok) {\r\n                        throw new Error(response.statusText);\r\n                    }\r\n\r\n                    return response.json();\r\n                })\r\n                .then(data => {\r\n                    populateSearch(data);\r\n                    populateTable(data);\r\n                    populateInfo(data)\r\n                    populatePagination(data);\r\n                    populateLength(data);\r\n                    regionVisibility(data)\r\n                    rowSelection();\r\n                    loading(true);\r\n                    this._isLoading = false;\r\n                    this._dispatchEvent('processing');\r\n                    autoReload();\r\n\r\n                    if (this._config.saveState) {   \r\n                        if (data.options.request.save instanceof Array) {\r\n                            this._storage.remove(this._element.id);\r\n                        } else {\r\n                            this._storage.set(this._element.id, JSON.stringify(data.options.request.save));\r\n                        }                   \r\n                    }\r\n                })\r\n                .finally(() => {\r\n                    this._dispatchEvent('draw');\r\n                })\r\n                .catch((message) => {\r\n                    this._debug(message);\r\n                });\r\n        };\r\n\r\n        this._reload = () => {\r\n            this._draw();\r\n        };\r\n\r\n        // Update URL when save state is true\r\n        if (this._config.saveState) {                    \r\n            const params = JSON.parse(this._storage.get(this._element.id));\r\n            this._config.url = parseUrl(this._config.url, params).href;\r\n        } else {\r\n            this._storage.remove(this._element.id);\r\n        }\r\n\r\n        // Initialize\r\n        this._draw();\r\n        this._location = deepClone(window.location);\r\n        this._dispatchEvent('initialize');\r\n\r\n        // Listen fetch abort event\r\n        controller.signal.addEventListener('abort', () => {\r\n            loading(true);\r\n            this._isLoading = false;\r\n            this._dispatchEvent('processing');\r\n        });\r\n\r\n        this._on(window, 'popstate', this._onPopstate);\r\n    }\r\n\r\n    reload() {\r\n        this._reload();\r\n    }\r\n\r\n    perPage(length) {\r\n        this._pageLength(length);\r\n    }\r\n\r\n    index(page) {\r\n        page = parseInt(page) || 1;\r\n        this._index(page);\r\n    }\r\n\r\n    select() {\r\n        this._select();\r\n    }\r\n\r\n    deselect() {\r\n        this._deselect();\r\n    }\r\n\r\n    order(column, direction) {\r\n        this._orderColumn(column, direction);\r\n    }\r\n\r\n    search(keyword) {\r\n        this._search(keyword);\r\n    }\r\n\r\n    isLoading() {\r\n        return this._isLoading;\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default DataTable;","import { isNumber } from '../utils.js';\r\nimport Component from '../component.js';\r\nimport Pikaday from  '../plugins/pikaday/1.8.2/pikaday.js';\r\nimport { computePosition, offset, flip, shift, limitShift, autoUpdate } from '@floating-ui/dom';\r\n\r\nclass Datepicker extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            bound: undefined,\r\n            trigger: null,\r\n            container: undefined,\r\n            startRange: null,\r\n            endRange: null,\r\n            startRangeTarget: null,\r\n            endRangeTarget: null,\r\n            format: null,\r\n            minDate: null,\r\n            maxDate: null,\r\n            toString: null,\r\n            parse: null,\r\n            defaultDate: null,\r\n            setDefaultDate: false,\r\n            firstDay: 0,\r\n            yearRange: 10,\r\n            showOtherDays: false,\r\n            otherDaysSelection: false,\r\n            focus : false,\r\n            clearOnReset: true,\r\n            title: null,\r\n            autoClose: true,\r\n            showButtons: false,\r\n            buttonsPlacement: 'bottom',\r\n            previous: 'Previous',\r\n            next: 'Next',\r\n            buttons: ['cancel', 'apply'],\r\n            clear: 'Clear',\r\n            today: 'Today',\r\n            cancel: 'Cancel',\r\n            apply: 'Apply',\r\n            offset: 8,\r\n            placement: 'bottom-start',\r\n            shortWeekdays: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\r\n            months: [\r\n                'January', \r\n                'February',\r\n                'March',\r\n                'April',\r\n                'May',\r\n                'June',\r\n                'July',\r\n                'August',\r\n                'September',\r\n                'October',\r\n                'November',\r\n                'December'\r\n            ],\r\n            weekdays: [\r\n                'Sunday', \r\n                'Monday', \r\n                'Tuesday', \r\n                'Wednesday', \r\n                'Thursday', \r\n                'Friday', \r\n                'Saturday'\r\n            ],\r\n            events: [],\r\n            disableDay: null,\r\n            classes: {\r\n                wrapper: '',\r\n                header: '',\r\n                title: '',\r\n                weekday: '',\r\n                days: '',\r\n                day: '',\r\n                previous: '',\r\n                next: '',\r\n                month: '',\r\n                year: '',\r\n                buttons: '',\r\n                clear: '',\r\n                today: '',\r\n                cancel: '',\r\n                apply: ''\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'datepicker',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        let autoUpdatePosition = () => void 0;\r\n        \r\n        this._config.trigger = typeof this._config.trigger == 'string'\r\n            ? document.querySelector(this._config.trigger)\r\n            : this._config.trigger;\r\n        \r\n        this._config.container = typeof this._config.container == 'string'\r\n            ? document.querySelector(this._config.container)\r\n            : this._config.container;\r\n        \r\n        this._config.startRangeTarget = this._config.endRangeTarget == null && typeof this._config.startRangeTarget == 'string'\r\n            ? document.querySelector(this._config.startRangeTarget)\r\n            : this._config.startRangeTarget;\r\n        \r\n        this._config.endRangeTarget = this._config.startRangeTarget == null && typeof this._config.endRangeTarget == 'string'\r\n            ? document.querySelector(this._config.endRangeTarget)\r\n            : this._config.endRangeTarget;\r\n\r\n        this._config.shortWeekdays = typeof this._config.shortWeekdays == 'string'\r\n            ? this._config.shortWeekdays.split(' ')\r\n            : this._config.shortWeekdays;\r\n\r\n        this._config.weekdays = typeof this._config.weekdays == 'string'\r\n            ? this._config.weekdays.split(' ')\r\n            : this._config.weekdays;\r\n\r\n        this._config.months = typeof this._config.months == 'string'\r\n            ? this._config.months.split(' ')\r\n            : this._config.months;\r\n\r\n        this._config.buttons = typeof this._config.buttons == 'string'\r\n            ? this._config.buttons.split(' ')\r\n            : this._config.buttons;\r\n\r\n        this._config.minDate = typeof this._config.minDate == 'string'\r\n            ? new Date(Date.parse(this._config.minDate))\r\n            : this._config.minDate;\r\n\r\n        this._config.maxDate = typeof this._config.maxDate == 'string'\r\n            ? new Date(Date.parse(this._config.maxDate))\r\n            : this._config.maxDate;\r\n\r\n        this._config.yearRange = typeof this._config.yearRange == 'string'\r\n            ? this._config.yearRange.split(' ')\r\n            : this._config.yearRange;\r\n\r\n        this._config.yearRange = this._config.yearRange instanceof Array\r\n            ? this._config.yearRange\r\n            : this._config.yearRange;\r\n\r\n        this._config.defaultDate = typeof this._config.defaultDate == 'string'\r\n            ? new Date(Date.parse(this._config.defaultDate))\r\n            : this._config.defaultDate;\r\n\r\n        this._hasMoment = typeof moment === 'function';\r\n        this._hasDayjs = typeof dayjs === 'function';\r\n\r\n        this._isRangePicker = () => {\r\n            if (this._config.startRangeTarget || this._config.endRangeTarget) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        };\r\n\r\n        const updateRangeDate = () => {\r\n            if (!this._isRangePicker()) return;\r\n\r\n            const date = this._pikaday.getDate();\r\n            const range = UIkit.datepicker(this._config.startRangeTarget || this._config.endRangeTarget);\r\n\r\n            if (this._config.endRangeTarget) {  \r\n                range.hide();  \r\n                this._pikaday.setStartRange(date);\r\n                range.setStartRange(date);\r\n                range.setMinDate(date);\r\n                \r\n                if (!range.getDate()) {\r\n                    range.gotoDate(date);\r\n                }\r\n\r\n                if (range.getDate()) {\r\n                    this._pikaday.setEndRange(range.getDate());\r\n                }\r\n            } \r\n            \r\n            if (this._config.startRangeTarget) {\r\n                range.hide();\r\n                this._pikaday.setEndRange(date);\r\n                range.setEndRange(date);\r\n                range.setMaxDate(date);\r\n                \r\n                if (!range.getDate()) {\r\n                    range.gotoDate(date);\r\n                }\r\n\r\n                if (range.getDate()) {\r\n                    this._pikaday.setStartRange(range.getDate());\r\n                }\r\n            }\r\n        };\r\n\r\n        const getOrdinalNumber = (number) => {\r\n            const length = number.length - 1;\r\n            number = parseInt(number).toString();\r\n            const index = number.substring(length);\r\n            const ordinals = {\r\n                1: 'st',\r\n                2: 'nd',\r\n                3: 'rd'\r\n            };\r\n\r\n            return ordinals[index] ? number + ordinals[index] : number + 'th';\r\n        };\r\n        \r\n        // Pikaday options\r\n        let options = {\r\n            field: this._element,\r\n            reposition: false,\r\n            bound: this._config.bound,\r\n            trigger: this._config.trigger,\r\n            container: this._config.container,\r\n            startRange: this._config.startRange,\r\n            endRange: this._config.endRange,\r\n            format: this._config.format,\r\n            minDate: this._config.minDate,\r\n            maxDate: this._config.maxDate,\r\n            toString: this._config.toString,\r\n            parse: this._config.parse,\r\n            defaultDate: this._config.defaultDate,\r\n            setDefaultDate: this._config.setDefaultDate,\r\n            firstDay: this._config.firstDay,\r\n            yearRange: this._config.yearRange,\r\n            showDaysInNextAndPreviousMonths: this._config.showOtherDays,\r\n            enableSelectionDaysInNextAndPreviousMonths: this._config.otherDaysSelection,\r\n            disableDayFn: this._config.disableDay,\r\n            blurFieldOnSelect : !this._config.focus,\r\n            title: this._config.title,\r\n            autoClose: this._config.autoClose,\r\n            showButtons: this._config.showButtons,\r\n            buttonsPlacement: this._config.buttonsPlacement,\r\n            previous: this._config.previous,\r\n            next: this._config.next,\r\n            buttons: this._config.buttons,\r\n            clear: this._config.clear,\r\n            today: this._config.today,\r\n            cancel: this._config.cancel,\r\n            apply: this._config.apply,\r\n            events: this._config.events,\r\n            calendarClass: this._config.classes.wrapper,\r\n            headerClass: this._config.classes.header,\r\n            titleClass: this._config.classes.title,\r\n            weekdayClass: this._config.classes.weekday,\r\n            daysClass: this._config.classes.days,\r\n            dayClass: this._config.classes.day,\r\n            previousClass: this._config.classes.previous,\r\n            nextClass: this._config.classes.next,\r\n            monthClass: this._config.classes.month,\r\n            yearClass: this._config.classes.year,\r\n            buttonsClass: this._config.classes.buttons,\r\n            clearClass: this._config.classes.clear,\r\n            todayClass: this._config.classes.today,\r\n            cancelClass: this._config.classes.cancel,\r\n            applyClass: this._config.classes.apply,\r\n            i18n: {\r\n                previousMonth: this._config.previous,\r\n                nextMonth: this._config.next,\r\n                months: this._config.months,\r\n                weekdays: this._config.weekdays,\r\n                weekdaysShort: this._config.shortWeekdays\r\n            }\r\n        }\r\n\r\n\r\n        options.onInitialize = () => {\r\n            this._dispatchEvent('initialize');\r\n        };\r\n\r\n        options.onBeforeOpen = () => {\r\n\r\n            const setPosition = () => {\r\n                computePosition(this._element, this._pikaday.el, {\r\n                    placement: this._config.placement,\r\n                    middleware: [ \r\n                        offset(this._config.offset),\r\n                        flip(),\r\n                        shift({ \r\n                            padding: this._config.offset,\r\n                            limiter: limitShift()\r\n                        })\r\n                    ]\r\n                }).then(({ x, y, placement, middlewareData }) => {\r\n                    const { offset, flip, shift, hide } = middlewareData;\r\n    \r\n                    Object.assign(this._pikaday.el.style, {\r\n                        left: `${x}px`,\r\n                        top: `${y}px`,\r\n                        zIndex: 9999\r\n                    });\r\n                });\r\n            };\r\n    \r\n            const updatePosition = () => { \r\n                if (!this._pikaday || this._config.bound == false) return;\r\n\r\n                return autoUpdate(this._element, this._pikaday.el, setPosition);\r\n            };\r\n\r\n            autoUpdatePosition = updatePosition();\r\n            updateRangeDate();\r\n            this._dispatchEvent('show');\r\n        };\r\n\r\n        options.onOpen = () => {\r\n            if (this._config.bound != false) {                \r\n                this._transition('transitionEnter', this._pikaday.el, (e) => {\r\n                    this._dispatchEvent('shown');\r\n                });\r\n            }\r\n        };\r\n\r\n        options.onBeforeClose = () => {\r\n            this._dispatchEvent('hide');\r\n\r\n            if (this._config.bound != false) {\r\n                const transitioned = this._transition('transitionLeave', this._pikaday.el, (e) => {\r\n                    this._dispatchEvent('hidden');\r\n                    autoUpdatePosition();\r\n                    this._pikaday.el.style.display = 'none';\r\n                });\r\n\r\n                if (!transitioned) {\r\n                    this._pikaday.el.style.display = 'none';\r\n                    this._dispatchEvent('hidden');\r\n                    autoUpdatePosition();\r\n                }\r\n            }\r\n        };\r\n\r\n        // options.onClose = () => {\r\n            \r\n        // };\r\n\r\n        options.onDraw = () => {\r\n            this._dispatchEvent('draw');\r\n        };\r\n\r\n        options.onSelect = (date, hasEvent) => {\r\n            updateRangeDate();\r\n            this._dispatchEvent('select', { date, hasEvent });\r\n        };\r\n\r\n        if (!this._config.toString && this._config.format && (!this._hasMoment || !this._hasDayjs)) {\r\n            options.toString = (date, format) => {\r\n\r\n                let formattedDate = '';\r\n                const tokens = {\r\n                    ddd: options.i18n.weekdays[date.getDay()].slice(0, 3),\r\n                    dddd: options.i18n.weekdays[date.getDay()],\r\n                    D: date.getDate().toString(),\r\n                    DD: date.getDate().toString().padStart(2, '0'),\r\n                    Do: getOrdinalNumber(date.getDate().toString()),\r\n                    M: (date.getMonth() + 1).toString(),\r\n                    MM: (date.getMonth() + 1).toString().padStart(2, '0'),\r\n                    MMM: options.i18n.months[date.getMonth()].slice(0, 3),\r\n                    MMMM: options.i18n.months[date.getMonth()],\r\n                    YY: date.getFullYear().toString().slice(2),\r\n                    YYYY: date.getFullYear().toString()\r\n                };\r\n\r\n                const delimiters = format.trim().match(/\\W+/g);\r\n\r\n                const parts = format.trim()\r\n                    .replaceAll(/\\W+/g, ' ')\r\n                    .split(' ')\r\n                    .filter(str => str.length > 0);\r\n\r\n                const replacedParts = parts.map((part) => {\r\n                        return tokens[part];\r\n                }).filter(part => part);\r\n\r\n                replacedParts.forEach((part, index) => {\r\n                    if (delimiters && delimiters.length > 0) {\r\n                        formattedDate += part + (delimiters[index] && index < (replacedParts.length - 1) ? delimiters[index] : '');\r\n\r\n                        return;\r\n                    }\r\n\r\n                    formattedDate += part;\r\n                });\r\n\r\n                return formattedDate;\r\n            };\r\n        }\r\n\r\n        if (!this._config.parse && this._config.format && (!this._hasMoment || !this._hasDayjs)) {\r\n            options.parse = (dateString, format) => {\r\n                let day = '', \r\n                    month = '', \r\n                    year = '';\r\n\r\n                let dateParts = dateString.trim()\r\n                .replaceAll(/\\W+/g, ' ')\r\n                .split(' ')\r\n                .filter(str => str.length > 0);\r\n\r\n                let formatParts = format.trim()\r\n                .replaceAll(/\\W+/g, ' ')\r\n                .split(' ')\r\n                .filter(str => str.length > 0)\r\n                .map(str => str.charAt(0));\r\n\r\n                formatParts.forEach((part, index) => {\r\n                    switch (part) {\r\n                        case 'Y':\r\n                            year = dateParts[index] || '';\r\n                            break;\r\n                            \r\n                        case 'M':\r\n                            if (isNumber(dateParts[index])) {\r\n                                month = dateParts[index] ? parseInt(dateParts[index]) - 1 : dateParts[index];\r\n                            } else {\r\n                                month = dateParts[index] || '';\r\n                            }\r\n                            break;\r\n\r\n                        case 'D':\r\n                            day = parseInt(dateParts[index]) || '';\r\n                            break;\r\n                    }\r\n                });\r\n\r\n                const date = (`${year} ${month} ${day}`).trim();\r\n\r\n                return new Date(Date.parse(date));\r\n            }\r\n        }\r\n\r\n        // Day.js toString function\r\n        if (!this._config.toString && this._config.format && this._hasDayjs) {\r\n            options.toString = (date, format) => {\r\n                return dayjs(date).format(format);\r\n            };\r\n        }\r\n\r\n        // Day.js parse function\r\n        if (!this._config.parse && this._config.format && this._hasDayjs) {\r\n            options.parse = (dateString, format) => {\r\n                return dayjs(dateString, format).toDate();\r\n            }\r\n        }\r\n\r\n        // Init Pikaday\r\n        this._pikaday = new Pikaday(options);\r\n\r\n        this._on(this._element, 'blur', (e) => {\r\n            if (this._pikaday.el.contains(e.relatedTarget)) return;\r\n            this.hide();\r\n        });\r\n\r\n        // Clear on form reset\r\n        if (this._config.clearOnReset) {              \r\n            if (this._element.form) {\r\n                this._on(this._element.form, 'reset', () => {\r\n                    this._pikaday.clear();\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    toString(format) {\r\n        if (this._hasMoment) {\r\n            return moment(this._pikaday.getDate()).format(format);\r\n        } else if (this._hasDayjs) {\r\n            return dayjs(this._pikaday.getDate()).format(format);\r\n        } else {\r\n            return this._pikaday.toString(format);\r\n        }\r\n    }\r\n\r\n    getDate() {\r\n        if (this._hasMoment) {\r\n            return this._pikaday.getDate() ? moment(this._pikaday.getDate()) : null;\r\n        } else if (this._hasDayjs) {\r\n            return this._pikaday.getDate() ? dayjs(this._pikaday.getDate()) : null;\r\n        } else {\r\n            return this._pikaday.getDate();\r\n        }\r\n    }\r\n\r\n    setDate(date, silent = false) {\r\n\r\n        if (this._isRangePicker()) {\r\n            this._pikaday._o.minDate = null;\r\n            this._pikaday._o.maxDate = null;\r\n        }\r\n        \r\n        if (this._hasMoment || this._hasDayjs) {\r\n            this._pikaday.setDate(date.toDate(), silent);\r\n        } else {\r\n            this._pikaday.setDate(date, silent);\r\n        }\r\n    }\r\n\r\n    gotoDate(date) {\r\n        if (this._hasMoment || this._hasDayjs) {\r\n            this._pikaday.gotoDate(date.toDate());\r\n        } else {\r\n            this._pikaday.gotoDate(date);\r\n        }\r\n    }\r\n\r\n    gotoToday() {\r\n        this._pikaday.gotoDate(new Date());\r\n    }\r\n\r\n    gotoMonth(month) {\r\n        month = parseInt(month) || month;\r\n        this._pikaday.gotoMonth(month);\r\n    }\r\n\r\n    gotoYear(year) {\r\n        if (year.toString().length != 4) return;\r\n\r\n        this._pikaday.gotoYear(year);\r\n    }\r\n\r\n    setMinDate(date) {\r\n        if (this._hasMoment || this._hasDayjs) {\r\n            this._pikaday.setMinDate(date.toDate());\r\n        } else {\r\n            date = typeof date == 'string' ? new Date(Date.parse(date)) : date;\r\n            this._pikaday.setMinDate(date);\r\n        }\r\n    }\r\n\r\n    setMaxDate(date) {\r\n        if (this._hasMoment || this._hasDayjs) {\r\n            this._pikaday.setMaxDate(date.toDate());\r\n        } else {\r\n            date = typeof date == 'string' ? new Date(Date.parse(date)) : date;\r\n            this._pikaday.setMaxDate(date);\r\n        }\r\n    }\r\n\r\n    setStartRange(date) {\r\n        if (this._hasMoment || this._hasDayjs) {\r\n            this._pikaday.setStartRange(date.toDate());\r\n        } else {\r\n            date = typeof date == 'string' ? new Date(Date.parse(date)) : date;\r\n            this._pikaday.setStartRange(date);\r\n        }\r\n    }\r\n\r\n    setEndRange(date) {\r\n        if (this._hasMoment || this._hasDayjs) {\r\n            this._pikaday.setEndRange(date.toDate());\r\n        } else {\r\n            date = typeof date == 'string' ? new Date(Date.parse(date)) : date;\r\n            this._pikaday.setEndRange(date);\r\n        }\r\n    }\r\n\r\n    nextMonth() {\r\n        this._pikaday.nextMonth();\r\n    }\r\n\r\n    previousMonth() {\r\n        this._pikaday.prevMonth();\r\n    }\r\n\r\n    show() {\r\n        this._pikaday.show();\r\n    }\r\n\r\n    hide() {\r\n        this._pikaday.hide();\r\n    }\r\n\r\n    clear() {\r\n        this._pikaday.clear();\r\n    }\r\n\r\n    update() {\r\n        this._pikaday.draw();\r\n    }\r\n\r\n    destroy() {\r\n        this._pikaday.destroy()\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Datepicker;","import { hideElement } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Dismiss extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            target: null,\r\n            remove: false,\r\n            delay: 0\r\n        };\r\n\r\n        const _component = {\r\n            name: 'dismiss',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n        \r\n        let timeout;\r\n        this._config.delay = parseInt(this._config.delay);\r\n\r\n        this._config.target = typeof this._config.target == 'string'\r\n            ? this._element.closest(this._config.target) \r\n            : this._config.target;\r\n        \r\n        this._target = this._config.target instanceof HTMLElement\r\n            ? this._config.target\r\n            : this._element.parentNode;\r\n\r\n        const eventData = { \r\n            target: this._target, \r\n            config: this._config\r\n        };\r\n\r\n        const removeTarget = () => {\r\n            if (this._config.remove) {\r\n                this._target.remove();\r\n            }\r\n        };\r\n\r\n        if (!this._element.hasAttribute('aria-label')) {\r\n            this._element.setAttribute('aria-label', 'Close');\r\n        }\r\n\r\n        this._close = () => {\r\n            this._dispatchEvent('hide', eventData);\r\n\r\n            const transitioned = this._transition('transitionLeave', this._target, (e) => {\r\n                this._dispatchEvent('hidden', eventData);\r\n                hideElement(this._target);\r\n                removeTarget();\r\n            });\r\n\r\n            if (transitioned) return;\r\n\r\n            hideElement(this._target);\r\n            removeTarget();\r\n            this._dispatchEvent('hidden', eventData);\r\n        };\r\n\r\n        const onClose = (e) => {\r\n            e.preventDefault();\r\n            this._close(e);\r\n        };\r\n\r\n        this._on(this._element, 'click', onClose);\r\n\r\n        if (this._config.delay != 0 && this._config.delay >= 3000) {           \r\n            clearTimeout(timeout); \r\n            setTimeout(() => {\r\n                this._close();\r\n            }, this._config.delay);\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    close() {\r\n        this._close();\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Dismiss;","import { styles, addClass, removeClass, getElements } from '../utils.js';\r\nimport Component from '../component.js';\r\nimport { computePosition, offset, flip, shift, limitShift, autoUpdate } from '@floating-ui/dom';\r\n\r\nclass Dropdown extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            target: null,\r\n            reference: null,\r\n            autoClose: true,\r\n            placement: 'bottom-start',\r\n            placementMobile: null,\r\n            autoPlacement: true,\r\n            offset: 8,\r\n            alignmentOffset: 0,\r\n            offsetMobile: null,\r\n            alignmentOffsetMobile: null,\r\n            shift: 8,\r\n            zindex: 1000,\r\n            close: 'data-close',\r\n            classes: {\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'dropdown',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n        \r\n        if (!this._element) return;\r\n\r\n        this._isOpened = false;\r\n\r\n        this._dropdown = this._config.target \r\n            ? document.querySelector(this._config.target) \r\n            : this._element.nextElementSibling;\r\n\r\n        this._reference = this._config.reference instanceof HTMLElement \r\n            ? this._config.reference \r\n            : document.querySelector(this._config.reference);\r\n\r\n        this._reference = this._reference \r\n            ? this._reference \r\n            : this._element;\r\n\r\n        this._config.placement = this._config.placementMobile && this._isMobile() \r\n            ? this._config.placementMobile \r\n            : this._config.placement;\r\n\r\n        this._config.offset = this._config.offsetMobile && this._isMobile() \r\n            ? this._config.offsetMobile \r\n            : this._config.offset;\r\n\r\n        this._config.alignmentOffset = this._config.alignmentOffsetMobile && this._isMobile() \r\n            ? this._config.alignmentOffsetMobile \r\n            : this._config.alignmentOffset;\r\n\r\n        const closeTriggers = getElements(`[${this._config.close}]`, this._dropdown);\r\n            \r\n        let autoUpdatePosition = () => void 0;\r\n\r\n        this._element.setAttribute('aria-expanded', this._isOpened);\r\n\r\n        const setPosition = () => {\r\n            computePosition(this._reference, this._dropdown, {\r\n                placement: this._config.placement,\r\n                middleware: [ \r\n                    offset({\r\n                        mainAxis: this._config.offset,\r\n                        crossAxis: this._config.alignmentOffset,\r\n                        alignmentAxis: null\r\n                    }),\r\n                    flip(),\r\n                    shift({ \r\n                        padding: this._config.shift,\r\n                        limiter: limitShift()\r\n                    })\r\n                ]\r\n            }).then(({ x, y, placement, middlewareData }) => {\r\n                const { offset, flip, shift, hide } = middlewareData;\r\n\r\n                Object.assign(this._dropdown.style, {\r\n                    left: `${x}px`,\r\n                    top: `${y}px`,\r\n                    zIndex: this._config.zindex\r\n                });\r\n            });\r\n        };\r\n\r\n        const updatePosition = () => { \r\n            return autoUpdate(this._reference, this._dropdown, setPosition);\r\n        };\r\n\r\n        const resetPositionStyles = () => {\r\n            styles(this._dropdown, {\r\n                top: null,\r\n                left: null,\r\n                zIndex: null\r\n            });\r\n        };\r\n\r\n        const eventData = {\r\n            dropdown: this._dropdown\r\n        };\r\n\r\n        const onClickToggle = (e) => {\r\n            e.preventDefault();\r\n            this.toggle();\r\n        };\r\n\r\n        const onClickHide = (e) => {\r\n            const clicked = e.target;\r\n\r\n            if (this._element.contains(clicked)) {\r\n                return;\r\n            }\r\n    \r\n            if ([true, 'inside'].includes(this._config.autoClose) && this._dropdown.contains(clicked) && this._isOpened) {\r\n                this.hide();\r\n    \r\n                return;\r\n            }\r\n    \r\n            if ([true, 'outside'].includes(this._config.autoClose) && !this._dropdown.contains(clicked) && this._isOpened) {\r\n                this.hide();\r\n    \r\n                return;\r\n            }\r\n        };\r\n    \r\n        const onKeydown = (e) => {\r\n            if (e.key === 'Escape' && this._config.autoClose != false && this._isOpened) {\r\n                this.hide();\r\n            }\r\n        };\r\n\r\n        this._show = () => {\r\n            autoUpdatePosition = updatePosition();\r\n            this._isOpened = true;\r\n            this._dispatchEvent('show', eventData);\r\n            this._element.setAttribute('aria-expanded', this._isOpened);\r\n            removeClass(this._dropdown, this._config.classes.display);\r\n\r\n            const transitioned = this._transition('transitionEnter', this._dropdown, (e) => {\r\n                this._dispatchEvent('shown', eventData);\r\n            });\r\n\r\n            if (transitioned) return;\r\n    \r\n            this._dispatchEvent('shown', eventData);\r\n        };\r\n\r\n        this._hide = () => {\r\n            this._isOpened = false;\r\n            this._dispatchEvent('hide', eventData);\r\n            this._element.setAttribute('aria-expanded', this._isOpened);\r\n\r\n            const transitioned = this._transition('transitionLeave', this._dropdown, (e) => {\r\n                this._isOpened = false;\r\n                this._dispatchEvent('hidden', eventData);\r\n                autoUpdatePosition();\r\n                resetPositionStyles();\r\n                addClass(this._dropdown, this._config.classes.display);\r\n            });\r\n\r\n            if (transitioned) return;\r\n    \r\n            addClass(this._dropdown, this._config.classes.display);\r\n            autoUpdatePosition();\r\n            resetPositionStyles();\r\n            this._dispatchEvent('hidden', eventData);\r\n        };\r\n\r\n        this._on(this._reference, 'click', onClickToggle);\r\n        this._on(this._reference, 'keydown', onKeydown);\r\n        this._on(document, 'click', onClickHide);\r\n\r\n        for (const close of closeTriggers) {\r\n            this._on(close, 'click', this._hide);\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    toggle() {\r\n        if (this._isOpened) {\r\n            this._hide();\r\n\r\n            return;\r\n        }\r\n\r\n        this._show();\r\n    }\r\n\r\n    show() {\r\n        this._show();\r\n    }\r\n\r\n    hide() {\r\n        this._hide();\r\n    }\r\n\r\n    destroy() {\r\n        this.hide();\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Dropdown;","import { getElement } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass DropzoneUploader extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            url: null,\r\n            method: 'post',\r\n            create: null,\r\n            template: null,\r\n            customTemplate: null,\r\n            autoProcessQueue: false,\r\n            maxFiles: null,\r\n            csrfToken: null,\r\n            headers: null,\r\n            previewsContainer: null,\r\n            resizeWidth: null,\r\n            resizeHeight: null,\r\n            clickable: true,\r\n            parallelUploads: 2,\r\n            disablePreviews: false,\r\n            maxFilesize: 256,\r\n            filesizeBase: 1000,\r\n            hiddenInputContainer: 'body'\r\n        };\r\n\r\n        const _component = {\r\n            name: 'dropzone',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element || !this._config.url) return;\r\n\r\n        this._config.create = this._config.create ? this._config.create : () => void 0;\r\n        this._config.url = this._config.url != null ? this._config.url : this._element.form.action;\r\n\r\n        this._config.previewsContainer = getElement(this._config.previewsContainer);\r\n\r\n        const getTemplate = () => {\r\n            return this._config.create[this._config.template](this._config);\r\n        };\r\n\r\n        if (this._config.csrfToken) {\r\n            this._config.headers = Object.assign(this._config.headers ?? {}, {\r\n                'X-CSRF-TOKEN': this._config.csrfToken\r\n            });\r\n        }\r\n\r\n        if (this._config.template) {\r\n            this._config.previewTemplate = getTemplate();\r\n        }\r\n\r\n        if (this._config.customTemplate) {\r\n            this._config.previewTemplate = this._config.customTemplate;\r\n        }\r\n\r\n        this._dropzone = new Dropzone(this._element, this._config);\r\n\r\n        // this._on(this._dropzone.hiddenFileInput, 'input', (e) => {\r\n\r\n        //     if (this._config.maxFiles == 1) {\r\n        //         this._dropzone.previewsContainer.innerHTML = '';\r\n        //     }\r\n\r\n        //     this._dispatchEvent('select', { target: e.target });\r\n        // });\r\n\r\n        this._dropzone.on('addedfile', (file) => {\r\n            // const queued = this._dropzone.getQueuedFiles();\r\n\r\n            // if (queued.length > 0 && this._config.maxFiles == 1) {\r\n            //     this._dropzone.removeFile(queued[0]);\r\n            // }\r\n\r\n            this._dispatchEvent('addedFile', { file });\r\n        });\r\n\r\n        // this._dropzone.on('addedfiles', (files) => {\r\n        //     console.log(files);\r\n        // });\r\n\r\n        this._dropzone.on('uploadprogress', (file, progress, bytesSent) => {\r\n            this._dispatchEvent('uploadProgress', { file, progress, bytesSent });\r\n        });\r\n\r\n        this._dropzone.on('totaluploadprogress', (totalUploadProgress, totalBytes, totalBytesSent) => {\r\n            this._dispatchEvent('totalUploadProgress', { totalUploadProgress, totalBytes, totalBytesSent });\r\n        });\r\n\r\n        this._dropzone.on('removedfile', (file) => this._dispatchEvent('removedFile', { file }));\r\n        this._dropzone.on('error', (file, message) => this._dispatchEvent('error', { file, message }));\r\n        this._dropzone.on('errormultiple', (files) => this._dispatchEvent('errorMultiple', { files }));\r\n        this._dropzone.on('sending', (file, xhr, formData) => this._dispatchEvent('sending', { file, xhr, formData }));\r\n        this._dropzone.on('sendingmultiple', (files) => this._dispatchEvent('sendingMultiple', { files }));\r\n        this._dropzone.on('processing', (file) => this._dispatchEvent('processing', { file }));\r\n        this._dropzone.on('processingmultiple', (files) => this._dispatchEvent('processingMultiple', { files }));\r\n        this._dropzone.on('complete', (file) => this._dispatchEvent('complete', { file }));\r\n        this._dropzone.on('completemultiple', (file) => this._dispatchEvent('completeMultiple', { file }));\r\n        this._dropzone.on('cancel', (file) => this._dispatchEvent('cancel', { file }));\r\n        this._dropzone.on('canceledmultiple', (file) => this._dispatchEvent('canceledMultiple', { file }));\r\n        this._dropzone.on('queuecomplete', () => this._dispatchEvent('queueComplete'));\r\n        this._dropzone.on('drop', () => this._dispatchEvent('drop'));\r\n        this._dropzone.on('dragstart', () => this._dispatchEvent('dragstart'));\r\n        this._dropzone.on('dragend', () => this._dispatchEvent('dragend'));\r\n        this._dropzone.on('dragenter', () => this._dispatchEvent('dragenter'));\r\n        this._dropzone.on('dragover', () => this._dispatchEvent('dragover'));\r\n        this._dropzone.on('dragleave', () => this._dispatchEvent('dragleave'));\r\n        this._dropzone.on('paste', () => this._dispatchEvent('paste'));\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    getQueuedFiles() {\r\n        return this._dropzone.getQueuedFiles();\r\n    }\r\n\r\n    getAcceptedFiles() {\r\n        return this._dropzone.getAcceptedFiles();\r\n    }\r\n\r\n    getRejectedFiles() {\r\n        return this._dropzone.getRejectedFiles();\r\n    }\r\n\r\n    /**\r\n     * Get queued or uploading files\r\n     */\r\n    getActiveFiles() {\r\n        return this._dropzone.getActiveFiles();\r\n    }\r\n\r\n    getAddedFiles() {\r\n        return this._dropzone.getAddedFiles();\r\n    }\r\n\r\n    getUploadingFiles() {\r\n        return this._dropzone.getUploadingFiles();\r\n    }\r\n\r\n    getFiles() {\r\n        return this._dropzone.files;\r\n    }\r\n\r\n    getFilesWithStatus(status) {\r\n        return this._dropzone.getFilesWithStatus(status);\r\n    }\r\n\r\n    addFile(mockFile, imageUrl, callback, crossOrigin, resizeThumbnail) {\r\n        if (imageUrl === undefined && mockFile.dataURL) {\r\n            imageUrl = mockFile.dataURL;\r\n        }\r\n\r\n        this._dropzone.displayExistingFile(mockFile, imageUrl, callback, crossOrigin, resizeThumbnail);\r\n    }\r\n\r\n    removeFile(file) {\r\n        this._dropzone.removeFile(file);\r\n    }\r\n\r\n    removeAllFiles(cancelUpload = false) {\r\n        this._dropzone.removeAllFiles(cancelUpload);\r\n    }\r\n    \r\n    destroy() {\r\n        this._dropzone.disable();\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default DropzoneUploader;","import { getElement } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Fetch extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            url: null,\r\n            method: 'get',\r\n            data: null,\r\n            delay: 1000,\r\n            csrfToken: null,\r\n            contentType: 'application/json',\r\n            value: 'value',\r\n            target: null\r\n        };\r\n\r\n        const _component = {\r\n            name: 'fetch',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element || !this._config.url) return;\r\n\r\n        this._config.target = getElement(this._config.target); \r\n        this._isLoading = false;\r\n        this._response = null;\r\n\r\n        this._fetch = async () => {\r\n            this._isLoading = true;\r\n            this._dispatchEvent('send');\r\n            const response = await fetch(this._config.url, {\r\n                method: this._config.method,\r\n                headers: {\r\n                    'Content-Type': this._config.contentType,\r\n                    'X-CSRF-TOKEN': this._config.csrfToken\r\n                },\r\n                body: this._config.data ? JSON.stringify(this._config.data) : null\r\n            }).catch((message) => {\r\n                this._debug(message);\r\n            }).finally(() => {\r\n                this._isLoading = false;\r\n            });\r\n\r\n            if (response.status != 200) {\r\n                this._dispatchEvent('fail', { message: response.statusText, response });\r\n            }\r\n\r\n            if (response.status == 200) {\r\n                this._dispatchEvent('success', { response });\r\n            }\r\n\r\n            this._response = response;\r\n        \r\n            return await response.json();\r\n        };\r\n\r\n        const onClick = (e) => {\r\n            if (this._isLoading) return;\r\n\r\n            this._fetch().then((data) => {\r\n                if (this._config.target instanceof HTMLElement && data[this._config.value]) {\r\n                    this._config.target.innerHTML = data[this._config.value];\r\n                }\r\n\r\n                this._dispatchEvent('done', { data, response: this._response });\r\n            });\r\n        };\r\n\r\n        if (this._element.type == 'button') {\r\n            this._on(this._element, 'click', onClick);\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Fetch;","import Component from '../component.js';\r\n\r\nclass Highlight extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {};\r\n\r\n        const _component = {\r\n            name: 'highlight',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config\r\n        };\r\n\r\n        super(_component);\r\n\r\n        // Prevent highlighting twice\r\n        if (this._element.classList.contains('hljs')) {\r\n            return;\r\n        }\r\n\r\n        // Store original code before highlighting \r\n        this._code = this._element.innerHTML;\r\n\r\n        hljs.highlightElement(this._element);\r\n    }\r\n\r\n    destroy() {\r\n        this._element.innerHTML = this._code;\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Highlight;\r\n","import { getElement } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Input extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            \r\n        };\r\n\r\n        const _component = {\r\n            name: 'input',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        const types = {};\r\n        const actions = {};\r\n\r\n        const guessType = () => {\r\n            if (['radio', 'checkbox', 'select-one'].includes(this._element.type)) {\r\n                return  {\r\n                    event: 'change',\r\n                    type: this._element.type\r\n                };\r\n            }\r\n\r\n            if (['input'].includes(this._element.localName)) {\r\n                return  {\r\n                    event: 'input',\r\n                    type: this._element.localName\r\n                };\r\n            }\r\n        };\r\n\r\n        actions['Enable'] = (selector) => {\r\n            const target = getElement(selector);\r\n            target.disabled = false;\r\n        };\r\n\r\n        actions['Disable'] = (selector) => {\r\n            const target = getElement(selector);\r\n            target.disabled = true;\r\n        };\r\n\r\n        types['select-one'] = (e) => {\r\n            const data = e.target.selectedOptions[0].dataset;\r\n\r\n            for (const key in data) {\r\n                const newKey = key.replace(this._component.name, '');\r\n\r\n                if (typeof actions[newKey] === 'function') {\r\n                    actions[newKey](data[key]);\r\n                }\r\n            }\r\n        };\r\n\r\n        this._on(this._element, guessType().event, types[guessType().type]);\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Input;","import Modal from './modal.js';\r\n\r\nclass Offcanvas extends Modal {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            target: null,\r\n            keyboard: true,\r\n            focus: false,\r\n            backdropFadeDuration: 200,\r\n            backdropClose: true,\r\n            hideBackdrop: false,\r\n            dialog: 'data-dialog',\r\n            content: 'data-content',\r\n            close: 'data-close',\r\n            backdrop: 'data-backdrop',\r\n            autoCloseDelay: 0,\r\n            history: false,\r\n            allowScroll: false,\r\n            zindex: 1045,\r\n            namespace: 'offcanvas',\r\n            classes: {\r\n                backdrop: null,\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        super(\r\n            element, \r\n            Object.assign(_defaults, config), \r\n            { \r\n                name: 'offcanvas'\r\n            }\r\n        );\r\n\r\n        // this._lockConfig({\r\n        //     autoCloseDelay: 0\r\n        // });\r\n    }\r\n}\r\n\r\nexport default Offcanvas;","import { getElement, getElements } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Password extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            letters: true,\r\n            mixed: false,\r\n            numbers: true,\r\n            symbols: true,\r\n            length: 8,\r\n            toggle: null,\r\n            progress: null,\r\n            confirm: null,\r\n            clearOnReset: true,\r\n            hint: 'data-password-hint'\r\n        };\r\n\r\n        const _component = {\r\n            name: 'password',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        this._totalScore = 1;\r\n        this._score = 0;\r\n        this._visible = false;\r\n        this._checked = [];\r\n        this._config.letters = this._config.mixed ? false : this._config.letters;\r\n        this._config.mixed = this._config.letters ? false : this._config.mixed;\r\n\r\n        this._config.toggle = typeof this._config.toggle === 'string' \r\n            ? getElement(this._config.toggle) \r\n            : this._config.toggle;\r\n\r\n        this._config.progress = typeof this._config.progress === 'string' \r\n            ? getElement(this._config.progress)\r\n            : this._config.progress;\r\n\r\n        this._config.confirm = typeof this._config.confirm === 'string' \r\n            ? getElement(this._config.confirm)\r\n            : this._config.confirm;\r\n\r\n        this._hints = getElements(`[${this._config.hint}]`);\r\n\r\n        const regex = {\r\n            letters: /(.*[a-zA-Z])/,\r\n            mixed: /([a-z].*[A-Z])|([A-Z].*[a-z])/,\r\n            numbers: /([0-9])/,\r\n            symbols: /([!,%,&,@,#,$,^,*,?,_,~])/ \r\n        };\r\n\r\n        for (const key in regex) {\r\n            if (this._config[key]) {\r\n                this._totalScore += 1;\r\n            }\r\n        }\r\n\r\n        if (this._config.progress instanceof HTMLElement) {\r\n            this._config.progress.style.width = `0%`;\r\n            this._config.progress.setAttribute('data-strength', 'weak');\r\n        }\r\n\r\n        if (this._config.toggle instanceof HTMLElement) {\r\n            this._config.toggle.setAttribute('aria-pressed', false);\r\n        }\r\n\r\n        if (this._config.confirm instanceof HTMLInputElement) {\r\n            this._element.setAttribute('data-match', false);\r\n            this._config.confirm.setAttribute('data-match', false);\r\n        }\r\n\r\n        const calculateStrength = () => {\r\n            if (this._element.value.length > (this._config.length - 1)) {\r\n                this._score += 1;\r\n                this._checked.push('length');\r\n            }\r\n\r\n            if (this._config.letters && this._element.value.match(regex.letters)) {\r\n                this._score += 1;\r\n                this._checked.push('letters');\r\n            }\r\n\r\n            if (this._config.mixed && this._element.value.match(regex.mixed)) {\r\n                this._score += 1;\r\n                this._checked.push('mixed');\r\n            }\r\n\r\n            if (this._config.numbers && this._element.value.match(regex.numbers)) {\r\n                this._score += 1;\r\n                this._checked.push('numbers');\r\n            }\r\n\r\n            if (this._config.symbols && this._element.value.match(regex.symbols)) {\r\n                this._score += 1;\r\n                this._checked.push('symbols');\r\n            }\r\n        };\r\n\r\n        const updateCheckedHint = () => {\r\n            if (this._hints.length === 0) return; \r\n\r\n            this._hints.forEach((hint) => {\r\n                if (this._checked.includes(hint.getAttribute(this._config.hint))) {\r\n                    hint.setAttribute('data-checked', true);\r\n                } else {\r\n                    hint.setAttribute('data-checked', false);\r\n                }\r\n            });\r\n        };\r\n\r\n        const onToggle = () => {\r\n            if (!this._config.toggle) return;\r\n\r\n            if(this._visible){\r\n                this._element.setAttribute('type', 'password');\r\n                this._config.toggle.setAttribute('aria-pressed', false);\r\n                this._visible = false;\r\n\r\n                return;\r\n            }\r\n                \r\n            this._element.setAttribute('type', 'text');\r\n            this._config.toggle.setAttribute('aria-pressed', true);\r\n            this._visible = true;\r\n        };\r\n\r\n        const onInput = () => {\r\n            this._score = 0;\r\n            this._checked = [];\r\n            calculateStrength();\r\n            const level = 100/3;\r\n            const multiplier = 100/this._totalScore;\r\n            const percentage = this._score * multiplier;\r\n\r\n            if (this._config.progress instanceof HTMLElement) {\r\n                this._config.progress.style.width = `${percentage}%`;\r\n\r\n                if (percentage > level * 2) {\r\n                    this._config.progress.setAttribute('data-strength', 'strong');\r\n                }\r\n                \r\n                if (percentage > level && percentage <= level * 2) {\r\n                    this._config.progress.setAttribute('data-strength', 'medium');\r\n                }\r\n                \r\n                if (percentage < level) {\r\n                    this._config.progress.setAttribute('data-strength', 'weak');\r\n                }\r\n            }\r\n\r\n            if (this._config.confirm instanceof HTMLInputElement) {\r\n                const match = this._element.value == this._config.confirm.value;\r\n                this._element.setAttribute('data-match', match);\r\n                this._config.confirm.setAttribute('data-match', match);\r\n            }\r\n\r\n            updateCheckedHint();\r\n        };\r\n\r\n        this._on(this._element, 'input', onInput);\r\n\r\n        if (this._config.toggle instanceof HTMLElement) {\r\n            this._on(this._config.toggle, 'click', onToggle);\r\n        }\r\n\r\n        if (this._config.confirm instanceof HTMLInputElement) {\r\n            this._on(this._config.confirm, 'input', () => {\r\n                const match = this._element.value == this._config.confirm.value;\r\n                this._element.setAttribute('data-match', match);\r\n                this._config.confirm.setAttribute('data-match', match);\r\n            });\r\n        }\r\n\r\n        if (this._config.clearOnReset) {           \r\n            if (this._element.form) {\r\n                this._on(this._element.form, 'reset', () => {\r\n                    this._element.value = '';\r\n                    onInput();\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Password;","import { setAttributes } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Pincode extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            target: 'input',\r\n            numeric: true,\r\n            type: 'number',\r\n            mask: true,\r\n            maskDelay: 500,\r\n            focus: true,\r\n            autoSubmit: false\r\n        };\r\n\r\n        const _component = {\r\n            name: 'pincode',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        const targets = this._element.querySelectorAll(this._config.target);\r\n        this._config.type = !this._config.numeric ? 'text' : this._config.type;\r\n        this._config.maskDelay = parseInt(this._config.maskDelay);\r\n        this._data = [];\r\n        this._total = targets.length;\r\n        this._filled = 0;\r\n        this._value = '';\r\n        this._index = 0;\r\n        this._form = this._element.closest('form');\r\n\r\n        targets.forEach((target, index) => {\r\n\r\n            // Set attributes\r\n            setAttributes(target, {\r\n                autocomplete: 'off',\r\n                ariaInvalid: false,\r\n                dataIndex: index,\r\n                required: target.required ? '' : ''\r\n            });\r\n\r\n            // Set input type if numeric\r\n            if (this._config.numeric && target.type !== this._config.type) {\r\n                target.type = this._config.type;\r\n            }\r\n\r\n            // Focus if input is first\r\n            if (this._config.focus && index === 0) {\r\n                target.focus();\r\n            }\r\n\r\n            // Enable editing only for first input on load\r\n            if (index !== 0) {\r\n                target.disabled = true;\r\n            }\r\n\r\n            this._data.push({\r\n                filled: false,\r\n                invalid: false,\r\n                input: target,\r\n                index: index,\r\n                value: target.value\r\n            });\r\n        });\r\n\r\n        const maskValue = (input) => {\r\n            if (!this._config.mask || !input) return;\r\n\r\n            setTimeout(() => {\r\n                input.type = input.value.length > 0 ? 'password' : this._config.type;\r\n            }, this._config.maskDelay);\r\n        };\r\n\r\n        const getValue = (input) => {\r\n            return input.value.slice(-1); \r\n        };\r\n\r\n        const combineValues = () => {\r\n            let value = '';\r\n\r\n            this._data.forEach((data) => {\r\n                value += data.value;\r\n            });\r\n\r\n            this._filled = this._data.filter((data) => data.filled).length;\r\n\r\n            this._value = value;\r\n        };\r\n\r\n        const setValue = (reverse = false) => {\r\n            const index = this._index;\r\n            const current = this._data[index].input;\r\n            const previous = this._total > index && index !== 0 \r\n                ? this._data[index - 1].input\r\n                : null;\r\n            const next = index < (this._total - 1) && current.value.length > 0 \r\n                ? this._data[index + 1].input\r\n                : null;\r\n\r\n            current.value = reverse ? '' : getValue(current);\r\n            this._data[index].filled = current.value.length > 0 ? true : false;\r\n            this._data[index].value = current.value;\r\n\r\n            if (reverse && previous) {\r\n                previous.value = '';\r\n                previous.focus();\r\n                this._data[index - 1].filled = false;\r\n                this._data[index - 1].value = previous.value;\r\n                current.disabled = true;\r\n            }\r\n            \r\n            if (!reverse && next) {\r\n                next.disabled = false;\r\n                next.focus();\r\n            }\r\n\r\n            maskValue(reverse ? previous : current);\r\n            combineValues();\r\n        };\r\n\r\n        const emitInputEvent = () => {\r\n            this._dispatchEvent('input', { \r\n                filled: this._total === this._filled,\r\n                value: this._value \r\n            });\r\n        };\r\n\r\n        const emitFilledEvent = () => {\r\n            if (this._total === this._filled) {\r\n                this._dispatchEvent('filled', { value: this._value });\r\n\r\n                if (this._config.autoSubmit && this._form) {\r\n                    const submitter = this._form.querySelector('[type=submit]');\r\n                    this._form.requestSubmit(submitter);\r\n                }\r\n            }\r\n        };\r\n\r\n        const onInput = (e) => {\r\n            setValue();\r\n            emitInputEvent();\r\n            emitFilledEvent();\r\n        };\r\n\r\n        const onFocus = (e) => {\r\n            this._index = parseInt(e.target.dataset.index);\r\n        };\r\n\r\n        const onBlur = (e) => {\r\n            //\r\n        };\r\n\r\n        const onKeyup = (e) => {\r\n            if (['Backspace', 'Delete'].includes(e.key)) {\r\n                setValue(true);\r\n            }\r\n        };\r\n\r\n        const onReset = (e) => {\r\n            this._index = 0;\r\n            this._filled = 0;\r\n            this._value = '';\r\n\r\n            this._data.forEach((data, index) => {\r\n                data.filled = false;\r\n                data.invalid = false;\r\n                data.value = '';\r\n\r\n                // Focus if input is first\r\n                if (this._config.focus && index === 0) {\r\n                    data.input.focus();\r\n                }\r\n            });\r\n        };\r\n\r\n        this._data.forEach((data) => {\r\n            this._on(data.input, 'input', onInput);\r\n            this._on(data.input, 'focus', onFocus);\r\n            this._on(data.input, 'blur', onBlur);\r\n            this._on(data.input, 'keyup', onKeyup);\r\n        });\r\n\r\n        if (this._form) {            \r\n            this._on(this._form, 'reset', onReset);\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Pincode;","import { randomNumber, addClass, removeClass, setAttributes } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Tab extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            tab: 'data-tab',\r\n            panel: 'data-panel',\r\n            selected: 'data-selected',\r\n            disabled: 'data-disabled',\r\n            classes: {\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'tab',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        this._data = [];\r\n        this._selectedIndex = 0;\r\n        const id = this._element.id !== '' ? this._element.id : 'tab-' + randomNumber(4);\r\n        const tabs = this._element.querySelectorAll(`[${this._config.tab}]`);\r\n        const panels = this._element.querySelectorAll(`[${this._config.panel}]`);\r\n        this._lastIndex = tabs.length > 0 ? tabs.length - 1 : 0; \r\n        this._totalTabs = tabs.length;\r\n\r\n        /**\r\n         * Data returned through events\r\n         * \r\n         * @param {number} index \r\n         * @returns \r\n         */\r\n        const eventData = (index) => {\r\n            return {\r\n                index: index,\r\n                total: this._totalTabs,\r\n                next: this._data[index].active.next,\r\n                previous: this._data[index].active.previous,\r\n                tab: this._data[index].tab,\r\n                panel: this._data[index].panel\r\n            };\r\n        };\r\n\r\n        /**\r\n         * Get a tab panel by name \r\n         * \r\n         * @param {string} name \r\n         * @returns {null|object}\r\n         */\r\n        const getPanel = (name) => {\r\n            let result = null;\r\n\r\n            for (const panel of panels) {\r\n                if (panel.getAttribute(this._config.panel) == name) {\r\n                    result = panel;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return result;\r\n        };\r\n\r\n        /**\r\n         * Remove disabled tabs\r\n         * \r\n         * @returns {array}\r\n         */\r\n        const filter = () => {\r\n            return this._data.map((data) => {\r\n                if (data.disabled) {\r\n                    return;\r\n                }\r\n\r\n                return data.current;\r\n            }).filter(data => data !== undefined);\r\n        };\r\n\r\n        /**\r\n         * Get the next tab index\r\n         * \r\n         * @param {number} index\r\n         * @returns {number}\r\n         */\r\n        this._next = (index = null) => {\r\n            const filtered = filter();\r\n            index = index ? index : this._selectedIndex;\r\n\r\n            if (filtered.includes(index)) {\r\n                return index < (filtered.length - 1) \r\n                    ? filtered[filtered.indexOf(index) + 1] \r\n                    : 0;\r\n            }\r\n\r\n            return index;\r\n        };\r\n    \r\n        /**\r\n         * Get the previous tab index\r\n         * \r\n         * @param {number} index\r\n         * @returns {number}\r\n         */\r\n        this._previous = (index = null) => {\r\n            const filtered = filter();\r\n            index = index ? index : this._selectedIndex;\r\n\r\n            if (filtered.includes(index)) {\r\n                return index > 0\r\n                    ? filtered[filtered.indexOf(index) - 1] \r\n                    : filtered[filtered.length - 1];\r\n            }\r\n\r\n            return index;\r\n        };\r\n\r\n        /**\r\n         * hide all tabs \r\n         */\r\n        const hideAll = () => {\r\n            this._data.forEach((data, index) => {\r\n                const previous = data.selected ? data.current : null;\r\n\r\n                if (previous !== null) {\r\n                    this._dispatchEvent('hide', eventData(index));\r\n                }\r\n                \r\n                addClass(data.panel, this._config.classes.display);\r\n\r\n                data.selected = false;\r\n                setAttributes(data.tab, {\r\n                    tabindex: -1,\r\n                    ariaSelected: false\r\n                });\r\n\r\n                if (previous !== null) {\r\n                    this._dispatchEvent('hidden', eventData(index));\r\n                }\r\n            });\r\n        };\r\n\r\n        /**\r\n         * Show a tab \r\n         * \r\n         * @param {number} index \r\n         * @param {boolean} focus\r\n         */\r\n        this._show = (index, focus = false) => {\r\n            const data = this._data[index];\r\n            \r\n            if (!data || data.disabled) {\r\n                return;\r\n            }\r\n\r\n            hideAll();\r\n\r\n            this._dispatchEvent('show', eventData(index));\r\n\r\n            data.selected = true;\r\n            this._selectedIndex = index;\r\n            setAttributes(data.tab, {\r\n                tabindex: 0,\r\n                ariaSelected: true\r\n            });\r\n\r\n            if (focus) {\r\n                data.tab.focus();\r\n            }\r\n\r\n            removeClass(data.panel, this._config.classes.display);\r\n\r\n            const transitioned = this._transition('transitionEnter', data.panel, data.onTransitionEnterEnd);\r\n\r\n            if (transitioned) return;\r\n\r\n            this._dispatchEvent('shown', eventData(index));\r\n        };\r\n\r\n        /**\r\n         * Disable a single tab or all tabs\r\n         * \r\n         * @param {number} index \r\n         */\r\n        this._disable = (index) => {\r\n            const disable = (data) => {\r\n                setAttributes(data.tab, {\r\n                    tabindex: -1,\r\n                    ariaDisabled: true\r\n                });\r\n\r\n                if (data.tab.disabled !== undefined) {\r\n                    data.tab.disabled = true;\r\n                }\r\n            };\r\n\r\n            if (index != undefined) {\r\n                disable(this._data[index]);\r\n                this._data[index].disabled = true;\r\n            } else {\r\n                this._data.forEach((data) => {\r\n                    disable(data);\r\n                    data.disabled = true;\r\n                });\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Enable a single tab or all tabs\r\n         * \r\n         * @param {number} index \r\n         */\r\n        this._enable = (index) => {\r\n            const enable = (data) => {\r\n                setAttributes(data.tab, {\r\n                    tabindex: 0,\r\n                    ariaDisabled: false\r\n                });\r\n\r\n                if (data.tab.disabled !== undefined) {\r\n                    data.tab.disabled = false;\r\n                }\r\n            };\r\n\r\n            if (index != undefined) {\r\n                enable(this._data[index]);\r\n                this._data[index].disabled = false;\r\n            } else {\r\n                this._data.forEach((data) => {\r\n                    enable(data);\r\n                    data.disabled = false;\r\n                });\r\n            }\r\n        };\r\n\r\n        // Set tablist element attributes\r\n        setAttributes(this._element, {\r\n            role: 'tablist',\r\n            id: id\r\n        });\r\n\r\n        // Set attributes and states for tabs and panels\r\n        tabs.forEach((tab, index) => {\r\n            const panelSuffix = '-pane';\r\n            const name = tab.getAttribute(this._config.tab) == '' \r\n                ?   `${id}-${index}` \r\n                : tab.getAttribute(this._config.tab);\r\n\r\n            setAttributes(tab, {\r\n                role: 'tab',\r\n                id: name,\r\n                tabindex: -1,\r\n                ariaControls: name + panelSuffix,\r\n                ariaSelected: tab.hasAttribute(this._config.selected) ? true : false,\r\n                ariaDisabled: tab.hasAttribute(this._config.disabled) ? true : false,\r\n                dataIndex: index\r\n            });\r\n\r\n            if (tab.disabled === true && !tab.hasAttribute(this._config.disabled)) {\r\n                setAttributes(tab, {\r\n                    ariaDisabled: tab.disabled\r\n                });\r\n            }\r\n\r\n            if (tab.disabled === false && tab.hasAttribute(this._config.disabled)) {\r\n                tab.disabled = true;\r\n            }\r\n\r\n            if (tab.getAttribute('aria-selected') == 'true') {\r\n                this._selectedIndex = index;\r\n            }\r\n\r\n            let panel = getPanel(name);\r\n            panel = panel ? panel : panels[index];\r\n\r\n            setAttributes(panel, {\r\n                role: 'tabpanel',\r\n                id: name + panelSuffix,\r\n                tabindex: 0,\r\n                ariaLabelledby: name,\r\n                dataIndex: index\r\n            });\r\n\r\n            this._data.push({\r\n                current: index,\r\n                previous: index > 0 ? index - 1 : tabs.length - 1,\r\n                next: index < (tabs.length - 1) ? index + 1 : 0,\r\n                disabled: tab.getAttribute('aria-disabled') == 'true' ? true : false,\r\n                tab: tab,\r\n                panel: panel,\r\n                onClick: (e) => {\r\n                    e.preventDefault();\r\n                    this._show(index);\r\n                },\r\n                onTransitionEnterEnd: (e) => {\r\n                    this._dispatchEvent('shown', eventData(index));\r\n                },\r\n                onKeydown: (e) => {\r\n                    if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {\r\n                        e.preventDefault();\r\n                        this._show(this._next(), true);\r\n                    }\r\n            \r\n                    if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {\r\n                        e.preventDefault();\r\n                        this._show(this._previous(), true);\r\n                    }\r\n\r\n                    if (e.key === 'Home') {\r\n                        e.preventDefault();\r\n                        this._show(0, true);\r\n                    }\r\n\r\n                    if (e.key === 'End') {\r\n                        e.preventDefault();\r\n                        this._show(this._lastIndex, true);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        // After the data object is created, do the following\r\n        tabs.forEach((tab, index) => {\r\n            this._data[index]['selected'] = this._selectedIndex == index ? true : false;  \r\n            this._data[index]['active'] = {\r\n                next: !this._data[index]['disabled'] ? this._next(index) : -1,\r\n                previous: !this._data[index]['disabled'] ? this._previous(index) : -1\r\n            };\r\n        });\r\n\r\n        // Add events\r\n        this._data.forEach((data) => {\r\n            this._on(data.tab, 'click', data.onClick);\r\n            this._on(data.tab, 'keydown', data.onKeydown);\r\n        });\r\n\r\n        // Select default tab \r\n        this._show(this._selectedIndex);\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    show(index = 0) {\r\n        this._show(parseInt(index));\r\n    }\r\n\r\n    first() {\r\n        this._show(0);\r\n    }\r\n\r\n    last() {\r\n        this._show(this._lastIndex);\r\n    }\r\n\r\n    next() {\r\n        this._show(this._next());\r\n    }\r\n\r\n    previous() {\r\n        this._show(this._previous());\r\n    }\r\n\r\n    enable(index) {\r\n        this._enable(index);\r\n    }\r\n\r\n    disable(index) {\r\n        this._disable(index);\r\n    }\r\n\r\n    destroy() {\r\n        this._data = [];\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Tab;","import { addClass, removeClass } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Theme extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            theme: 'system',\r\n            target: document.documentElement,\r\n            optionAttribute: 'color-theme',\r\n            attribute: 'data-theme',\r\n            class: 'dark',\r\n            storage: 'theme'\r\n        };\r\n\r\n        const _component = {\r\n            name: 'theme',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config\r\n        };\r\n\r\n        super(_component);\r\n\r\n        this._theme = this._config.theme;\r\n        this._target = this._config.target instanceof HTMLElement ? this._config.target : document.querySelector(this._config.target);\r\n\r\n        this._updateTheme = () => { \r\n            this._target.setAttribute(this._config.optionAttribute, this._theme);\r\n\r\n            if (this._theme != 'system') {\r\n                if (this._theme == 'dark') {\r\n                    addClass(this._target, this._config.class);\r\n                } else {\r\n                    removeClass(this._target, this._config.class);\r\n                }\r\n\r\n                localStorage.setItem(this._config.storage, this._theme);\r\n                this._target.setAttribute(this._config.attribute, this._theme);\r\n                this._dispatchEvent('change', { theme: this._theme }, document);\r\n\r\n                return;\r\n            }\r\n\r\n            if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\r\n                addClass(this._target, this._config.class);\r\n                this._target.setAttribute(this._config.attribute, 'dark');\r\n            } else {\r\n                removeClass(this._target, this._config.class);\r\n                this._target.setAttribute(this._config.attribute, 'light');\r\n            }\r\n\r\n            localStorage.removeItem(this._config.storage);\r\n            this._dispatchEvent('change', { theme: this._theme }, document);\r\n        };\r\n\r\n        this._onClickChangeTheme = (e) => {\r\n            e.preventDefault();\r\n            this._updateTheme();\r\n            this._dispatchEvent('broadcast', { theme: this._theme }, document);\r\n        };\r\n\r\n        if (this._element) {   \r\n            this._on(this._element, 'click', this._onClickChangeTheme);\r\n        }\r\n    }\r\n\r\n    theme(theme) {\r\n        this._theme = theme || this._theme;\r\n        this._updateTheme();\r\n    }\r\n\r\n    destroy() {\r\n        this._target.removeAttribute(this._config.optionAttribute);\r\n        this._target.removeAttribute(this._config.attribute);\r\n        removeClass(this._target, this._config.class);\r\n        localStorage.removeItem(this._config.storage);\r\n        super.destroy();\r\n\r\n        if (this._element) {   \r\n            this._off(this._element, 'click', this._onClickChangeTheme);\r\n        }\r\n    }\r\n}\r\n\r\nexport default Theme;","import { isNumber, styles, addClass, setAttributes, showElement, hideElement, getElement } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Toast extends Component {\r\n    constructor(config) {\r\n\r\n        const _defaults = {\r\n            placement: 'bottom-start',\r\n            offset: ['24', '24'],\r\n            gap: 16,\r\n            delay: 5000,\r\n            stack: false,\r\n            create: null,\r\n            template: null,\r\n            container: null,\r\n            id: null,\r\n            zindex: 1090,\r\n            dismiss: 'data-dismiss',\r\n            classes: {\r\n                wrapper: null,\r\n                placement: null\r\n            },\r\n            onAction: null,\r\n            onClose: null\r\n        };\r\n\r\n        const _component = {\r\n            name: 'toast',\r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        this._config.create = this._config.create ? this._config.create : () => void 0;\r\n        this._container = getElement(this._config.container) || document.body;\r\n        this._config.zindex = parseInt(this._config.zindex) || 0;\r\n        this._config.delay = parseInt(this._config.delay);\r\n        this.isVisible = false;\r\n        let timeout;\r\n\r\n        this._config.offset = isNumber(this._config.offset)\r\n            ? [this._config.offset, this._config.offset]\r\n            : this._config.offset;\r\n\r\n        this._config.offset = typeof this._config.offset == 'string'\r\n            ? this._config.offset.split(' ')\r\n            : this._config.offset;\r\n\r\n        this._config.gap = parseInt(this._config.gap) || 16;\r\n        const stackingPosition = this._config.placement.includes('top') ? 'afterbegin' : 'beforeend';\r\n\r\n        const getTemplate = () => {\r\n            return this._config.create[this._config.template](this._config);\r\n        };\r\n\r\n        this._hide = () => {\r\n            clearTimeout(timeout);\r\n\r\n            const hide = () => {\r\n                hideElement(this._toast);\r\n                this._toast.remove();\r\n                this.isVisible = false;\r\n\r\n                if (this._placementGroup.childNodes.length == 0) {\r\n                    this._placementGroup.remove();\r\n                }\r\n\r\n                if (typeof this._config.onClose === 'function') {\r\n                    this._config.onClose()\r\n                }\r\n\r\n                this._removeEvent();\r\n            };\r\n            \r\n            const transitioned = this._transition('transitionLeave', this._toast, (e) => {\r\n                hide();\r\n            });\r\n\r\n            if (transitioned) return;\r\n\r\n            hide();\r\n        };\r\n\r\n        const show = () => {\r\n            if (!this._config.template) return;\r\n\r\n            this._placementGroup = this._container.querySelector(`[data-toast-group][data-placement=${this._config.placement}]`);\r\n\r\n            if (!this._placementGroup) {\r\n                const alignment = this._config.placement.split('-');\r\n\r\n                this._placementGroup = document.createElement('div');\r\n                setAttributes(this._placementGroup, {\r\n                    'data-toast-group': '',\r\n                    'data-placement': this._config.placement,\r\n                    'data-position': alignment[0],\r\n                    'data-align': alignment[1] || 'center'\r\n                });\r\n                styles(this._placementGroup, {\r\n                    position: `fixed`,\r\n                    visibility: 'hidden',\r\n                    inset: '0px',\r\n                    zIndex: this._config.zindex\r\n                });\r\n                addClass(this._placementGroup, this._config.classes.placement);\r\n\r\n                this._container.appendChild(this._placementGroup);\r\n            }\r\n            \r\n            if (!this.isVisible) {    \r\n                // Create toast           \r\n                this._toast = document.createElement('div');\r\n                this._toast.innerHTML = getTemplate(this._config);\r\n                this._toast.style.visibility = 'visible';\r\n\r\n                if (this._config.id) {\r\n                   this._toast.id = this._config.id; \r\n                }\r\n\r\n                hideElement(this._toast);\r\n                addClass(this._toast, this._config.classes.wrapper);\r\n                setAttributes(this._toast, {\r\n                    role: 'alert'\r\n                });\r\n\r\n                const dismissTriggers = this._toast.querySelectorAll(`[${this._config.dismiss}]`);\r\n                const actionTriggers = this._toast.querySelectorAll(`button:not([${this._config.dismiss}])`);\r\n                \r\n                dismissTriggers.forEach((trigger) => {\r\n                    if (!trigger.hasAttribute('aria-label')) {\r\n                        trigger.setAttribute('aria-label', 'Close');\r\n                    }\r\n\r\n                    this._on(trigger, 'click', this._hide);\r\n                });\r\n    \r\n                actionTriggers.forEach((trigger) => {\r\n                    this._on(trigger, 'click', () => {\r\n                        if (typeof this._config.onAction === 'function') {\r\n                            this._config.onAction(trigger)\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n\r\n            if (!this._config.stack) {\r\n                this._placementGroup.innerHTML = '';\r\n            }\r\n\r\n            this._placementGroup.insertAdjacentElement(stackingPosition, this._toast);\r\n            showElement(this._toast);\r\n            this.isVisible = true;\r\n\r\n            const transitioned = this._transition('transitionEnter', this._toast);\r\n\r\n            if (this._config.delay >= 3000) {                \r\n                timeout = setTimeout(this._hide, this._config.delay);\r\n            }\r\n            \r\n            if (transitioned) return;\r\n        };\r\n\r\n        show();\r\n    }\r\n\r\n    hide() {\r\n        this._hide();\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Toast;","import { addClass, removeClass, setAttributes } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Toggle extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            addClass: null,\r\n            removeClass: null,\r\n            target: null\r\n        };\r\n\r\n        const _component = {\r\n            name: 'toggle',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config\r\n        };\r\n\r\n        super(_component);\r\n        \r\n        if (!this._element) return;\r\n\r\n        this._config.create = typeof this._config.create == 'string'\r\n            ? this._config.create.split(' ')\r\n            : this._config.create;\r\n\r\n        const toggles = this._createConfig(this._config.create, [\r\n            'addClass', \r\n            'removeClass', \r\n            'target'\r\n        ]);\r\n\r\n        this._toggled = false;\r\n        setAttributes(this._element, {\r\n            ariaPressed: this._toggled,\r\n            role: 'button'\r\n        });\r\n\r\n        const toggleState = (options) => {\r\n            options.targets.forEach((target) => {\r\n                const eventName = parseFloat(window.getComputedStyle(target).animationDuration) > 0\r\n                    ? 'animationend'\r\n                    : parseFloat(window.getComputedStyle(target).transitionDuration) > 0\r\n                        ? 'transitionend'\r\n                        : null;\r\n\r\n                this._dispatchEvent('toggle', { toggled: this._toggled, config: this._config }, target);\r\n\r\n                if (target.dataset.toggled == 'true') {\r\n                    this._toggled = false;\r\n                    this._element.setAttribute('aria-pressed', this._toggled);\r\n                    target.setAttribute('data-toggled', false);\r\n                    addClass(target, options.removeClass);\r\n                    removeClass(target, options.addClass);\r\n                } else {\r\n                    this._toggled = true;\r\n                    this._element.setAttribute('aria-pressed', this._toggled);\r\n                    target.setAttribute('data-toggled', true);\r\n                    removeClass(target, options.removeClass);\r\n                    addClass(target, options.addClass);\r\n                }\r\n\r\n                if (eventName) {  \r\n                    this._one(target, eventName, () => {\r\n                        this._dispatchEvent('toggled', { toggled: this._toggled, config: this._config }, target);\r\n                    });\r\n\r\n                    return;\r\n                }\r\n\r\n                this._dispatchEvent('toggled', { toggled: this._toggled, config: this._config }, target);\r\n            });    \r\n        };\r\n        \r\n        this._toggle = () => {\r\n            for (const key in toggles) {\r\n                const options = {\r\n                    addClass: this._config[toggles[key]['addClass']],\r\n                    removeClass: this._config[toggles[key]['removeClass']],\r\n                    targets: this._config[toggles[key]['target']] \r\n                        ? document.querySelectorAll(this._config[toggles[key]['target']])\r\n                        : [ this._element ]\r\n                };\r\n                \r\n                toggleState(options);\r\n            }           \r\n        };\r\n\r\n        const toggle = (e) => {\r\n            e.preventDefault();\r\n            this._toggle();\r\n        };\r\n\r\n        this._on(this._element, 'click', toggle);\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    toggle() {\r\n        this._toggle();\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Toggle;","import { randomNumber, removeClass, showElement, hideElement } from '../utils.js';\r\nimport Component from '../component.js';\r\nimport { computePosition, offset, inline, flip, shift, limitShift, arrow, autoUpdate } from '@floating-ui/dom';\r\n\r\nclass Tooltip extends Component {\r\n    constructor(element, config) {\r\n        \r\n        const _defaults = {\r\n            target: null,\r\n            content: '',\r\n            placement: 'top',\r\n            container: null,\r\n            offset: 8,\r\n            shift: 8,\r\n            showDelay: 0,\r\n            hideDelay: 0,\r\n            trigger: ['hover', 'focus'],\r\n            arrow: true,\r\n            arrowPadding: 8,\r\n            html: false,\r\n            zindex: 1080,\r\n            classes: {\r\n                wrapper: null,\r\n                arrow: null,\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'tooltip',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        this._config.target = typeof this._config.target == 'string'\r\n            ? document.querySelector(this._config.target)\r\n            : null;\r\n\r\n        this._config.container = typeof this._config.container == 'string'\r\n            ? document.querySelector(this._config.container)\r\n            : this._config.container instanceof HTMLElement\r\n            ? this._config.container\r\n            : document.body;\r\n\r\n        this._config.trigger = typeof this._config.trigger == 'string' \r\n            ? this._config.trigger.split(' ') \r\n            : this._config.trigger instanceof Array \r\n            ? this._config.trigger \r\n            : [];\r\n\r\n        this._config.showDelay = parseInt(this._config.showDelay);\r\n        this._config.hideDelay = parseInt(this._config.hideDelay);\r\n        this._content = this._config.content; \r\n        this._contentType = 'innerText';\r\n        this._isShown = false;\r\n        const _id = 'tooltip-' + randomNumber(4);\r\n        let tooltip, tooltipContent, tooltipArrow;\r\n\r\n        if (this._element.hasAttribute('title')) {\r\n            this._content = this._element.title;\r\n            this._element.setAttribute('data-tooltip-original-title', this._element.title);\r\n            this._element.removeAttribute('title');\r\n        }\r\n\r\n        if (this._element.hasAttribute('aria-label') && !this._element.hasAttribute('title')) {\r\n            this._content = this._element.getAttribute('aria-label');\r\n        }\r\n        \r\n        // Create tooltip\r\n        if (this._config.target) {\r\n            tooltip = this._config.target;\r\n\r\n            tooltip.setAttribute('id', tooltip.hasAttribute('id') ? tooltip.id : _id);\r\n            tooltip.style.display = 'none';\r\n            tooltip.style.zIndex = this._config.zindex;\r\n            removeClass(tooltip, this._config.classes.display);\r\n\r\n            tooltipContent = tooltip.querySelector('[data-content]');\r\n            tooltipArrow = tooltip.querySelector('[data-arrow]');\r\n\r\n            if (!this._config.arrow && tooltipArrow) {\r\n                tooltipArrow.style.display = 'none';\r\n            }\r\n\r\n            this._content = tooltipContent?.innerHTML || this._content; \r\n            this._contentType = 'innerHTML';\r\n            tooltip.remove();\r\n        } else {\r\n            const type = this._config.html ? 'innerHTML' : 'innerText'\r\n            this._contentType = type;\r\n            tooltip = document.createElement('div');\r\n            tooltip.id = _id;\r\n            tooltip.style.display = 'none';\r\n            tooltip.style.position = 'absolute';\r\n            tooltip.style.top = 0;\r\n            tooltip.style.left = 0;\r\n            tooltip.style.zIndex = this._config.zindex;\r\n            tooltip.className = this._config.classes.wrapper ? this._config.classes.wrapper : '';\r\n            tooltip.setAttribute('role', 'tooltip');\r\n\r\n            tooltipContent = document.createElement('div');\r\n            tooltipContent[type] = this._content;\r\n            tooltipContent.setAttribute('data-content', '');\r\n            tooltip.appendChild(tooltipContent);\r\n\r\n            if (this._config.arrow) {\r\n                tooltipArrow = document.createElement('div');\r\n                tooltipArrow.style.position = 'absolute';\r\n                tooltipArrow.style.transform = 'rotate(45deg)';\r\n                tooltipArrow.style.backgroundColor = 'inherit';\r\n                tooltipArrow.style.width = '8px';\r\n                tooltipArrow.style.height = '8px';\r\n                tooltipArrow.style.zIndex = '-1';\r\n                tooltipArrow.className = this._config.classes.arrow ? this._config.classes.arrow : '';\r\n                tooltipArrow.setAttribute('data-arrow', '');\r\n                tooltip.appendChild(tooltipArrow);\r\n            }\r\n        }\r\n\r\n        if (this._content.length == 0) return;\r\n\r\n        this._tooltip = tooltip;\r\n        this._tooltipContent = tooltipContent;\r\n        this._tooltipArrow = this._config.arrow ? tooltipArrow : null;\r\n\r\n        this._element.setAttribute('aria-describedby', _id);\r\n\r\n        let autoUpdatePosition = () => void 0;\r\n\r\n        const setPosition = () => {\r\n            computePosition(this._element, this._tooltip, {\r\n                placement: this._config.placement,\r\n                middleware: [ \r\n                    offset(this._config.offset),\r\n                    inline(),\r\n                    flip(),\r\n                    shift({ \r\n                        padding: this._config.shift,\r\n                        limiter: limitShift()\r\n                    }),\r\n                    arrow({ \r\n                        element: this._tooltipArrow,\r\n                        padding: this._config.arrowPadding\r\n                    })\r\n                ]\r\n            }).then(({ x, y, placement, middlewareData }) => {\r\n                const { offset, flip, shift, arrow } = middlewareData;\r\n\r\n                Object.assign(this._tooltip.style, {\r\n                    left: `${x}px`,\r\n                    top: `${y}px`,\r\n                });\r\n\r\n                const staticSide = {\r\n                    top: 'bottom',\r\n                    right: 'left',\r\n                    bottom: 'top',\r\n                    left: 'right',\r\n                }[placement.split('-')[0]];\r\n\r\n                if (this._tooltipArrow) {                    \r\n                    Object.assign(this._tooltipArrow.style, {\r\n                        left: arrow.x != null ? `${arrow.x}px` : '',\r\n                        top: arrow.y != null ? `${arrow.y}px` : '',\r\n                        right: '',\r\n                        bottom: '',\r\n                        [staticSide]: `${-this._tooltipArrow.offsetHeight / 2}px`,\r\n                    });\r\n                }\r\n            });\r\n        };\r\n\r\n        const updatePosition = () => { \r\n            return autoUpdate(this._element, this._tooltip, setPosition);\r\n        };\r\n\r\n        this._show = () => {\r\n            this._setTimeout(() => {\r\n                this._dispatchEvent('show');\r\n\r\n                if (!this._config.container.contains(this._tooltip)) {\r\n                    this._config.container.appendChild(this._tooltip);\r\n                }\r\n\r\n                autoUpdatePosition = updatePosition();\r\n                showElement(this._tooltip);\r\n                this._isShown = true;\r\n\r\n                const transitioned = this._transition('transitionEnter', this._tooltip, (e) => {\r\n                    this._dispatchEvent('shown');\r\n                });\r\n\r\n                if (transitioned) {\r\n                    return;\r\n                }\r\n    \r\n                showElement(this._tooltip);\r\n                this._dispatchEvent('shown');\r\n\r\n            }, this._config.showDelay);\r\n        };\r\n\r\n        this._hide = () => {\r\n            if (!this._isShown) {\r\n                clearTimeout(this._timeout);\r\n\r\n                return;\r\n            }\r\n            \r\n            this._setTimeout(() => {\r\n                this._dispatchEvent('hide');\r\n\r\n                const transitioned = this._transition('transitionLeave', this._tooltip, (e) => {\r\n                    this._dispatchEvent('hidden');\r\n                    autoUpdatePosition();\r\n                    hideElement(this._tooltip);\r\n                    this._isShown = false;\r\n                    this._tooltip.remove();\r\n                });\r\n\r\n                if (transitioned) {\r\n                    return;\r\n                }\r\n    \r\n                hideElement(this._tooltip);\r\n                this._isShown = false;\r\n                this._tooltip.remove();\r\n                this._dispatchEvent('hidden');\r\n\r\n            }, this._config.hideDelay);\r\n        };\r\n\r\n        this._toggle = (e) => {\r\n            if (this._isShown) {\r\n                this._hide();\r\n\r\n                return;\r\n            }\r\n\r\n            this._show();\r\n        }\r\n\r\n        const onKeydown = (e) => {\r\n            if (e.key === 'Escape' && this._isShown) {\r\n                this._hide();\r\n            }\r\n        };\r\n\r\n        const onHoverDestroy = (e) => {\r\n            this.destroy();\r\n        };\r\n\r\n        for (let i = 0; i < this._config.trigger.length; i++) {\r\n            if (!['click', 'focus', 'hover', 'once'].includes(this._config.trigger[i])) {\r\n                break;\r\n            }\r\n\r\n            if (this._config.trigger[i] == 'click') {\r\n                this._on(this._element, 'click', this._toggle);\r\n            }\r\n\r\n            if (this._config.trigger[i] == 'hover') {                \r\n                this._on(this._element, 'mouseenter', this._show);\r\n                this._on(this._element, 'mouseleave', this._hide);\r\n            }\r\n\r\n            if (this._config.trigger[i] == 'focus') {\r\n                this._on(this._element, 'focusin', this._show);\r\n                this._on(this._element, 'focusout', this._hide);\r\n            }\r\n\r\n            if (i == 0 && this._config.trigger[i] == 'once') {                \r\n                this._on(this._element, 'mouseenter', onHoverDestroy);\r\n                this._on(this._element, 'focusin', onHoverDestroy);\r\n            }\r\n        }\r\n\r\n        this._on(document, 'keydown', onKeydown);\r\n\r\n        this._dispatchEvent('initialize');\r\n\r\n        if (this._config.trigger.length == 1 && this._config.trigger[0] == 'once') {                \r\n            this.show();\r\n        }\r\n    }\r\n\r\n    toggle() {\r\n        this._toggle();\r\n    }\r\n\r\n    show() {\r\n        this._show();\r\n    }\r\n\r\n    hide() {\r\n        this._hide();\r\n    }\r\n\r\n    content(content) {\r\n        content = content || '';\r\n        this._tooltipContent[this._contentType] = content;\r\n    }\r\n\r\n    reset() {\r\n        this._tooltipContent[this._contentType] = this._content;\r\n    }\r\n\r\n    destroy() {\r\n        this._hide();\r\n\r\n        if (this._element.hasAttribute('data-tooltip-original-title')) {\r\n            this._element.setAttribute('title', this._content);\r\n            this._element.removeAttribute('data-tooltip-original-title');\r\n        }\r\n\r\n        this._element.removeAttribute('aria-describedby');\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Tooltip;","import Component from '../component.js';\r\n\r\nclass Scroll extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            trigger: 'auto',\r\n            target: null,\r\n            container: null\r\n        };\r\n\r\n        const _component = {\r\n            name: 'scroll',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config\r\n        };\r\n\r\n        super(_component);\r\n\r\n        const handler = {};\r\n        const container = this._config.container ? document.querySelector(this._config.container) : this._element;\r\n        const target = container.querySelector(this._config.target);\r\n\r\n        handler['auto'] = () => {\r\n            if (target) {\r\n                const middle = container.offsetHeight / 2;\r\n                container.scrollTop = target.offsetTop - middle;\r\n            }\r\n        };\r\n\r\n        handler[this._config.trigger]();\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Scroll;","import Component from '../component.js';\r\n\r\nclass Scrollspy extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            type: 'navigation',\r\n            root: document,\r\n            rootMargin: '0px',\r\n            threshold: 0,\r\n            offset: 0,\r\n            trigger: null,\r\n            target: null\r\n        };\r\n\r\n        const _component = {\r\n            name: 'scrollspy',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config\r\n        };\r\n\r\n        super(_component);\r\n\r\n        this._triggers = document.querySelectorAll(this._config.trigger);\r\n        this._targets = document.querySelectorAll(this._config.target);\r\n        this._activeNav = null;\r\n\r\n        this._scroller = this._config.root == window || this._config.root == document\r\n            ? window \r\n            : document.querySelector(this._config.root);\r\n\r\n        this._config.root = this._scroller == window \r\n            ? document.documentElement \r\n            : this._scroller;\r\n\r\n        const callback = {};\r\n        let initialScrollPosition = this._config.root.scrollTop;\r\n\r\n        this._setActiveNavState = () => {\r\n            for (const target of this._targets) {\r\n                if (target.hash == '#' + this._activeNav) {\r\n                    target.setAttribute('aria-current', true);\r\n                } else {\r\n                    target.setAttribute('aria-current', false);\r\n                }\r\n            }\r\n        };\r\n\r\n        this._onScrollNavigation = (e) => {\r\n            this._setTimeout(() => {  \r\n                const scrollPosition = this._config.root.scrollTop;\r\n\r\n                if (this._triggers.length > 0) {      \r\n                    if (scrollPosition < (this._triggers[0].offsetTop - this._config.offset)) {\r\n                        this._activeNav = null;\r\n                        this._setActiveNavState();\r\n                    } else {\r\n                        for (const trigger of this._triggers) {\r\n                            if (scrollPosition >= (trigger.offsetTop - this._config.offset)) {\r\n                                this._activeNav = trigger.id;\r\n                                this._setActiveNavState();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }, 50);\r\n        };\r\n\r\n        // Type: Navigation\r\n        if (this._config.type === 'navigation') { \r\n            this._onScrollNavigation();   \r\n            this._on(this._scroller, 'scroll', this._onScrollNavigation);\r\n        }\r\n\r\n        // Navigation callback\r\n        /* callback.navigation = (entries, observer) => {\r\n            const skippedEntries = entries.filter(entry => entry.boundingClientRect.top < 0);\r\n            const skippedEntriesTop = skippedEntries.map(entry => entry.boundingClientRect.top);\r\n            const lastSkippedEntry = Math.max(...skippedEntriesTop);\r\n            const lastSkippedEntryIndex = skippedEntriesTop.indexOf(lastSkippedEntry);\r\n            const lastEntry = lastSkippedEntryIndex != -1 ? skippedEntries[lastSkippedEntryIndex] : null;\r\n\r\n            for (const entry of entries) {\r\n                const currentScrollPosition = window.scrollY;\r\n\r\n                // On load\r\n                if (currentScrollPosition == initialScrollPosition) {\r\n                    let initialEntry = null;\r\n\r\n\r\n                    for (const loadedEntry of entries) {\r\n                        if (loadedEntry.isIntersecting) {\r\n                            initialEntry = loadedEntry;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (initialEntry) {\r\n                        this._setActiveNavState(initialEntry.target.id);\r\n                        break;\r\n                    }\r\n\r\n                    if (lastEntry && !initialEntry) {\r\n                        this._setActiveNavState(lastEntry.target.id);\r\n                        break;\r\n                    }\r\n                } \r\n\r\n                // Scrolling down\r\n                if (currentScrollPosition > initialScrollPosition) {\r\n                    if (entry.isIntersecting) {\r\n                        this._setActiveNavState(entry.target.id);\r\n                    }\r\n                } \r\n                \r\n                // Scrolling up\r\n                if (currentScrollPosition < initialScrollPosition) {\r\n                    if (entry.isIntersecting) {\r\n                        this._setActiveNavState(entry.target.id);\r\n                    } else {\r\n                        const index = [...this._triggers].indexOf(entry.target);\r\n                        const current = index > 0 ? this._triggers[index - 1].id : null;\r\n                        this._setActiveNavState(current);\r\n                    }\r\n                }\r\n\r\n                initialScrollPosition = currentScrollPosition;\r\n            }\r\n        };\r\n        \r\n        this._observer = new IntersectionObserver(callback[this._config.type], this._config);  \r\n\r\n        this._triggers.forEach((item) => {\r\n            this._observer.observe(item);\r\n        }); */\r\n    }\r\n\r\n    destroy() {\r\n        // this._setActiveNavState();\r\n        // this._triggers.forEach((item) => {\r\n        //     this._observer.unobserve(item);\r\n        // });\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Scrollspy;","import { styles, stringToDom, showElement, hideElement } from '../utils.js';\r\nimport Component from '../component.js';\r\nimport { computePosition, offset, flip, autoUpdate } from '@floating-ui/dom';\r\nimport TomSelect from '../plugins/tomselect/2.2.2/tom-select.js';\r\nimport TomSelect_remove_button from '../plugins/tomselect/2.2.2/plugins/remove_button/plugin.js';\r\nimport TomSelect_clear_button from '../plugins/tomselect/2.2.2/plugins/clear_button/plugin.js';\r\nimport TomSelect_checkbox_options from '../plugins/tomselect/2.2.2/plugins/checkbox_options/plugin.js';\r\nimport TomSelect_caret_position from '../plugins/tomselect/2.2.2/plugins/caret_position/plugin.js';\r\nimport TomSelect_input_autogrow from '../plugins/tomselect/2.2.2/plugins/input_autogrow/plugin.js';\r\nimport TomSelect_no_active_items from '../plugins/tomselect/2.2.2/plugins/no_active_items/plugin.js';\r\nimport TomSelect_no_backspace_delete from '../plugins/tomselect/2.2.2/plugins/no_backspace_delete/plugin.js';\r\n\r\nclass Select extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            remote: null,\r\n            loadOnce: false,\r\n            loadFresh: false,\r\n            preload: false,\r\n            valueField: \"value\",\r\n            labelField: \"text\",\r\n            searchField: [\"text\"],\r\n            sortField: \"$order\",\r\n            maxOptions: 50,\r\n            maxItems: null,\r\n            lock: false,\r\n            placeholder: null,\r\n            persist: true,\r\n            create: false,\r\n            allowEmptyOption: false,\r\n            clearOnReset: true,\r\n            offset: 8,\r\n            zindex: 1000,\r\n            arrowLabel: null,\r\n            hidePlaceholder: false,\r\n            loader: null,\r\n            removeButton: false,\r\n            removeButtonTitle: '',\r\n            removeButtonLabel: '&times;',\r\n            clearButton: false,\r\n            clearButtonTitle: '',\r\n            clearButtonLabel: '&times;',\r\n            checkbox: false,\r\n            caretPosition: false,\r\n            backspaceDelete: true,\r\n            itemSelection: true,\r\n            disableSearch: false,\r\n            blurOnSelect: false,\r\n            createFilter: null,\r\n            createNotFound: false,\r\n            classes: {\r\n                wrapper: '',\r\n                input: '',\r\n                dropdownWrapper: '',\r\n                dropdown: '',\r\n                item: '',\r\n                itemSingle: '',\r\n                option: '',\r\n                optgroup: '',\r\n                optgroupLabel: '',\r\n                createOption: '',\r\n                highlight: '',\r\n                arrow: '',\r\n                removeButton: '',\r\n                clearButton: '',\r\n                checkbox: '',\r\n                noResults: '',\r\n                loading: '',\r\n                loader: ''\r\n            },\r\n            createText: 'Add <strong>:value...</strong>',\r\n            searchText: 'No results found for \":value\"'\r\n        };\r\n\r\n        const _component = {\r\n            name: 'select',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        // Load plugins\r\n        TomSelect.define('remove_button', TomSelect_remove_button);\r\n        TomSelect.define('clear_button', TomSelect_clear_button);\r\n        TomSelect.define('checkbox_options', TomSelect_checkbox_options);\r\n        TomSelect.define('caret_position', TomSelect_caret_position);\r\n        TomSelect.define('input_autogrow', TomSelect_input_autogrow);\r\n        TomSelect.define('no_active_items', TomSelect_no_active_items);\r\n        TomSelect.define('no_backspace_delete', TomSelect_no_backspace_delete);\r\n\r\n        if (!this._element) return;\r\n\r\n        const mode = ['select-one'].includes(this._element.type) ? 'single' : 'multi';\r\n        let autoUpdatePosition = () => void 0;\r\n        let plugins = {};\r\n        this._selectedRemote = [];\r\n\r\n        this._config.searchField = this._config.searchField instanceof Array \r\n            ? this._config.searchField \r\n            : this._config.searchField.split(' ');\r\n\r\n        const setPosition = () => {\r\n            computePosition(this._tomSelect.control, this._tomSelect.dropdown_content, {\r\n                placement: 'bottom-start',\r\n                middleware: [ \r\n                    offset(this._config.offset),\r\n                    flip()\r\n                ]\r\n            }).then(({ x, y, placement, middlewareData }) => {\r\n                const { offset, flip } = middlewareData;\r\n\r\n                Object.assign(this._tomSelect.dropdown_content.style, {\r\n                    left: `${x}px`,\r\n                    top: `${y}px`,\r\n                    zIndex: this._config.zindex\r\n                });\r\n            });\r\n        };\r\n\r\n        const updatePosition = () => { \r\n            return autoUpdate(this._tomSelect.control, this._tomSelect.dropdown_content, setPosition);\r\n        };\r\n\r\n        const resetPositionStyles = () => {\r\n            styles(this._tomSelect.dropdown_content, {\r\n                top: null,\r\n                left: null,\r\n                zIndex: null\r\n            });\r\n        };\r\n\r\n        const clearButtonVisibility = () => {\r\n            if (this._config.clearButton) {\r\n                const clearButton = this._tomSelect.control.querySelector('[data-ts-clear]');\r\n                \r\n                if (this._tomSelect.items.length > 0) {\r\n                    showElement(clearButton);\r\n                } else {\r\n                    hideElement(clearButton);\r\n                }\r\n            }\r\n        };\r\n\r\n        const showLoader = (show = true) => {\r\n            if (!this._config.remote) return;\r\n\r\n            const loader = this._tomSelect.control.querySelector('[data-ts-loader]');\r\n\r\n            if (loader) {\r\n                if (show) {\r\n                    showElement(loader);\r\n                } else {\r\n                    hideElement(loader);\r\n                }\r\n            }\r\n        };\r\n\r\n        const getText = (key, value) => {\r\n            return this._config[key].replace(':value', value);\r\n        };\r\n\r\n        const hasValue = (value) => {\r\n            let result = false;\r\n\r\n            for (const key in this._tomSelect.options) {\r\n                if (value.toLowerCase() == key.toLowerCase()) {\r\n                    result = true;\r\n\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return result;\r\n        };\r\n\r\n        // Enable caret position and auto grow plugin\r\n        if (this._config.caretPosition) {\r\n            plugins.caret_position = {};\r\n            plugins.input_autogrow = {};\r\n        }\r\n\r\n        // Enable plugin to disable selection of items\r\n        if (!this._config.itemSelection) {\r\n            plugins.no_active_items = {};\r\n        }\r\n\r\n        // Enable plugin to disable deleting items with backspace key\r\n        if (!this._config.backspaceDelete) {\r\n            plugins.no_backspace_delete = {};\r\n        }\r\n\r\n        // Show/hide remove button plugin\r\n        if (this._config.removeButton && mode === 'multi') {\r\n            plugins.remove_button = {\r\n                label: this._config.removeButtonLabel,\r\n                title: this._config.removeButtonTitle,\r\n                className: this._config.classes.removeButton\r\n            };\r\n        }\r\n\r\n        // Show/hide clear button plugin\r\n        if (this._config.clearButton) {\r\n            plugins.clear_button = {\r\n                html: () => {\r\n                    const disabled = this._element.disabled ? 'disabled' : '';\r\n                    \r\n                    return `<button type=\"button\" class=\"${this._config.classes.clearButton}\" title=\"${this._config.clearButtonTitle}\" aria-label=\"clear\" data-multiple=\"${mode === 'multi'}\" ${disabled} data-ts-clear style=\"display: none\">${this._config.clearButtonLabel}</button>`;\r\n                }\r\n            };\r\n        }\r\n\r\n        // Show/hide option checkbox plugin\r\n        if (this._config.checkbox && mode === 'multi') {\r\n            plugins.checkbox_options = {\r\n                className: this._config.classes.checkbox\r\n            };\r\n        }\r\n\r\n        // Get selected options when using remote data \r\n        if (this._config.remote && this._config.loadOnce && this._element.tagName === 'SELECT') {\r\n            [...this._element.selectedOptions].forEach((option) => {\r\n                this._selectedRemote.push({\r\n                    [this._config.valueField]: option.value,\r\n                    [this._config.labelField]: option.label\r\n                });\r\n\r\n                // Remove option \r\n                option.remove();\r\n            });\r\n        }\r\n\r\n        // Create if option is not found \r\n        if (this._config.createNotFound) {\r\n            this._config.create = (input, callback) => {\r\n                if (hasValue(input)) return false;\r\n                \r\n                callback({value:input, text:input});\r\n            };\r\n        }\r\n\r\n        let options = {\r\n            valueField: this._config.valueField,\r\n            labelField: this._config.labelField,\r\n            searchField: this._config.searchField,\r\n            sortField: this._config.sortField,\r\n            maxOptions: this._config.maxOptions,\r\n            maxItems: mode === 'single' ? 1 : this._config.maxItems,\r\n            preload: this._config.preload,\r\n            create: this._config.create,\r\n            persist: this._config.persist,\r\n            allowEmptyOption: this._config.allowEmptyOption,\r\n            createFilter: this._config.createFilter,\r\n            controlClass: this._config.classes.wrapper,\r\n            controlInput: `<input type=\"text\" autocomplete=\"off\" size=\"1\" class=\"${this._config.classes.input}\" ${this._config.disableSearch ? 'readonly' : ''} />`,\r\n            dropdownContentClass: this._config.classes.dropdown,\r\n            dropdownClass: this._config.classes.dropdownWrapper,\r\n            itemClass: mode === 'multi' ? this._config.classes.item : this._config.classes.itemSingle,\r\n            optionClass: this._config.classes.option,\r\n            hidePlaceholder: this._config.hidePlaceholder,\r\n            highlightClass: this._config.classes.highlight,\r\n            plugins: plugins\r\n        };\r\n\r\n        if (this._config.placeholder) {\r\n            options.placeholder = this._config.placeholder;\r\n        }\r\n\r\n        options.onFocus = () => {  \r\n            if (this._config.caretPosition && this._tomSelect.settings.mode === 'multi') {\r\n                this._tomSelect.control_input.style.minWidth = '1px';\r\n                this._tomSelect.control_input.setAttribute('data-minimize', true);\r\n                this._tomSelect.settings.placeholder = '';\r\n                this._tomSelect.inputState();\r\n            }\r\n\r\n            this._dispatchEvent('focus');\r\n        };\r\n\r\n        options.onBlur = () => {  \r\n            if (this._config.caretPosition && this._tomSelect.settings.mode === 'multi') {\r\n                this._tomSelect.control_input.style.minWidth = null;\r\n                this._tomSelect.control_input.setAttribute('data-minimize', false);\r\n                this._tomSelect.settings.placeholder = this._config.placeholder;\r\n                this._tomSelect.inputState();\r\n            }\r\n\r\n            // Restore hidden selected item\r\n            if (this._tomSelect.items.length === 1 && this._tomSelect.settings.mode === 'single') {\r\n                showElement(this._tomSelect.control.firstElementChild);\r\n            }\r\n\r\n            this._dispatchEvent('blur');\r\n        };\r\n\r\n        options.onType = (string) => {\r\n            // Hide selected item when typing and is single select\r\n            if (this._tomSelect.items.length === 1 && this._tomSelect.settings.mode === 'single') {\r\n                if (string.length > 0) {\r\n                    hideElement(this._tomSelect.control.firstElementChild);\r\n                } else {\r\n                    showElement(this._tomSelect.control.firstElementChild);\r\n                }\r\n            }\r\n\r\n            this._dispatchEvent('type', { string });\r\n        };\r\n\r\n        options.onChange = (value) => {  \r\n            // Show/hide clear button based on number of items\r\n            clearButtonVisibility();\r\n\r\n            if (this._config.blurOnSelect && this._tomSelect.settings.mode === 'single') {\r\n                this._tomSelect.blur();\r\n            }\r\n\r\n            this._dispatchEvent('change', { value });\r\n        };\r\n\r\n        options.onDropdownOpen = (dropdown) => {\r\n            autoUpdatePosition = updatePosition();\r\n\r\n            if (this._arrow) this._arrow.setAttribute('data-opened', true);\r\n\r\n            this._dispatchEvent('dropdownOpen', { dropdown });\r\n        };\r\n\r\n        options.onDropdownClose = (dropdown) => {\r\n            autoUpdatePosition();\r\n            resetPositionStyles();\r\n\r\n            if (this._arrow) this._arrow.setAttribute('data-opened', false);\r\n\r\n            if (this._config.remote && this._config.loadFresh && !this._config.loadOnce) {                            \r\n                this._tomSelect.clearOptions();\r\n            }\r\n\r\n            this._dispatchEvent('dropdownClose', { dropdown });\r\n        };\r\n\r\n        options.onItemAdd = (value, item) => {\r\n            this._dispatchEvent('itemAdd', { value, item, data: this._tomSelect.options[value] });\r\n        };\r\n\r\n        options.onItemRemove = (value, item) => {\r\n            if (this._config.remote && this._config.loadFresh && !this._config.loadOnce) {                            \r\n                this._tomSelect.removeOption(value);\r\n                this._tomSelect.refreshOptions();\r\n            }\r\n\r\n            this._dispatchEvent('itemRemove', { value, item, data: this._tomSelect.options[value] });\r\n        };\r\n\r\n        options.onLoad = (options, optgroup) => {\r\n            showLoader(false);\r\n\r\n            this._dispatchEvent('load', { options, optgroup });\r\n        };\r\n\r\n        options.render = {\r\n            option: (data, escape) => {\r\n                return `<div>${escape(data[this._config.labelField])}</div>`;\r\n            },\r\n            item: (data, escape) => {\r\n                return `<div>${escape(data[this._config.labelField])}</div>`;\r\n            },\r\n            option_create: (data, escape) => {\r\n                if (this._config.createNotFound && hasValue(escape(data.input))) return;\r\n\r\n                return `<div class=\"create ${this._config.classes.createOption}\">${getText('createText', escape(data.input))}</div>`;\r\n            },\r\n            no_results: (data, escape) => {\r\n                return `<div class=\"${this._config.classes.noResults}\">${getText('searchText', escape(data.input))}</div>`;\r\n            },\r\n            not_loading: (data, escape) => {\r\n                // no default content\r\n            },\r\n            optgroup: (data) => {\r\n                const optgroup = document.createElement('div');\r\n                optgroup.className = this._config.classes.optgroup;\r\n                optgroup.appendChild(data.options);\r\n\r\n                return optgroup;\r\n            },\r\n            optgroup_header: (data, escape) => {\r\n                return `<div class=\"${this._config.classes.optgroupLabel}\">${escape(data.label)}</div>`;\r\n            },\r\n            loading: (data, escape) => {\r\n                return `<div class=\"${this._config.classes.loading}\">Loading...</div>`;\r\n            },\r\n            dropdown: () => {\r\n                return `<div></div>`;\r\n            }\r\n        };\r\n\r\n        // If remote url is set \r\n        if (this._config.remote) {\r\n            options.load = async (query, callback) => {\r\n                const columns = this._config.searchField.join(',');\r\n                const url = `${this._config.remote}?q=${encodeURIComponent(query)}&columns=${columns}`;\r\n                showLoader();\r\n\r\n                await fetch(url)\r\n                    .then(response => response.json())\r\n                    .then(json => {\r\n                        callback(json);\r\n\r\n                        // Set selected items after load\r\n                        if (this._config.remote && this._config.loadOnce && this._element.tagName === 'SELECT') {                      \r\n\r\n                            if (this._tomSelect.settings.mode === 'single') {\r\n                                this._tomSelect.addOption(this._selectedRemote[0]);\r\n                                this._tomSelect.addItem(this._selectedRemote[0][this._config.valueField]);\r\n                            } else {\r\n                                const selectedItems = [];\r\n\r\n                                for (const item of this._selectedRemote) {\r\n                                    selectedItems.push(item[this._config.valueField]);\r\n                                }\r\n\r\n                                this._tomSelect.addOptions(this._selectedRemote);\r\n                                this._tomSelect.addItems(selectedItems);\r\n                            }\r\n\r\n                            this._tomSelect.refreshOption();\r\n                        }\r\n\r\n                        // showLoader(false);\r\n                    }).catch(()=>{\r\n                        callback();\r\n                    });\r\n            };\r\n\r\n            options.shouldLoad = (query) => {\r\n                if (this._config.loadOnce) return;\r\n            \r\n                if (this._config.loadOnce) {\r\n                    return true;\r\n                }\r\n\r\n                return query.length > 1;\r\n            };\r\n        }\r\n\r\n        // Init TomSelect\r\n        this._tomSelect = new TomSelect(this._element, options);\r\n\r\n        // Sync placeholder\r\n        this._config.placeholder = this._config.placeholder || this._tomSelect.settings.placeholder;\r\n\r\n        // Set a data minimize attribute for caret position plugin\r\n        this._tomSelect.control_input.setAttribute('data-minimize', false);\r\n\r\n        // Show arrow if single select \r\n        if (this._config.arrowLabel && this._tomSelect.settings.mode === 'single') {\r\n            const arrow = stringToDom(`<div data-ts-arrow data-opened=\"false\"></div>`);\r\n            arrow.className = this._config.classes.arrow;\r\n            arrow.innerHTML = this._config.arrowLabel;\r\n\r\n            this._tomSelect.control.appendChild(arrow);\r\n            this._arrow = arrow;\r\n        }\r\n\r\n        // Add loader to control element\r\n        if (this._config.remote && this._config.loader) {\r\n            const multiple = this._tomSelect.settings.mode === 'multi';\r\n            const fragment = `<div class=\"${this._config.classes.loader}\" data-multiple=\"${multiple}\" data-ts-loader style=\"display:none\">${this._config.loader}</div>`;\r\n            this._tomSelect.control_input.insertAdjacentHTML('afterend', fragment);\r\n        }\r\n\r\n        // Show/hide clear button based on number of items\r\n        clearButtonVisibility();\r\n\r\n        // Call the lock() method if lock option is true\r\n        if (this._config.lock) this._tomSelect.lock();\r\n\r\n        // Clear on form reset\r\n        if (this._config.clearOnReset) {              \r\n            if (this._tomSelect.input.form) {\r\n                this._on(this._tomSelect.input.form, 'reset', () => {\r\n                    this._tomSelect.clear();\r\n                });\r\n            }\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    addItem(value, silent = false) {\r\n        this._tomSelect.addItem(value, silent);\r\n    }\r\n\r\n    clear(silent = false) {\r\n        this._tomSelect.clear(silent);\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Select;"],"names":["config","prefix","elementPropName","parseNestedDatasetKey","keys","value","data","key","substr","toLowerCase","length","splice","extend","options","extended","deep","i","merge","obj","prop","Object","prototype","hasOwnProperty","call","toString","deepClone","clone","assign","forEach","Array","isArray","from","stringToDom","html","HTMLElement","string","indexOf","template","document","createElement","innerHTML","trim","content","firstChild","isNumber","isNaN","parseFloat","isFinite","showElement","element","display","style","hideElement","styles","styleName","setAttributes","attributes","attribute","setAttribute","kebabCase","addClass","classNames","split","classList","add","removeClass","remove","getElement","selector","context","querySelector","getElements","NodeList","querySelectorAll","capitalize","charAt","toUpperCase","slice","replace","letter","randomNumber","String","Date","now","Math","random","sort","join","shuffle","substring","window","UIkit","storeUikitInstance","component","instance","this","globalConfig","store","events","components","setConfig","register","name","args","undefined","destroy","push","autoload","filter","componentName","error","console","Component","constructor","_component","defaultConfig","classes","debug","maxMobileWidth","storage","transitions","enter","leave","_element","_timeout","getDatasetConfig","dataset","splat","JSON","parse","parseNestedDataset","object","search","entries","map","fromEntries","replaceObjectKeys","configFactory","existingClasses","_config","x","includes","filteredClasses","_lockConfig","_isTransitioning","_events","_storage","set","setItem","get","getItem","removeItem","transitionEnter","transitionEnterStart","transitionEnterEnd","transitionLeave","transitionLeaveStart","transitionLeaveEnd","_hasTransition","_transition","type","callback","transitionEvent","transition","transitionCleanup","animationDuration","getComputedStyle","_one","e","requestAnimationFrame","_storeEvent","target","eventName","handler","eventItem","once","passive","useCapture","listener","_removeEvent","item","removeEventListener","_prefixedEventName","_createConfig","configNames","allowedOptions","items","option","newName","_isMobile","matchMedia","matches","_debug","message","_removeInstance","_dispatchEvent","detail","callbackName","self","Function","setTimeout","dispatchEvent","CustomEvent","_on","addEventListener","_off","_setTimeout","timeout","clearTimeout","eventArray","on","off","one","Idiomorph","EMPTY_SET","Set","defaults","morphStyle","callbacks","beforeNodeAdded","noOp","afterNodeAdded","beforeNodeMorphed","afterNodeMorphed","beforeNodeRemoved","afterNodeRemoved","beforeAttributeUpdated","head","shouldPreserve","elt","getAttribute","shouldReAppend","shouldRemove","afterHeadMorphed","morphNormalizedContent","oldNode","normalizedNewContent","ctx","block","oldHead","newHead","promises","handleHeadElement","Promise","all","then","ignore","morphChildren","children","bestMatch","newContent","currentElement","bestElement","score","newScore","scoreElement","nextSibling","findBestNodeMatch","previousSibling","morphedNode","morphOldNodeTo","stack","added","node","pop","parentElement","insertBefore","insertSiblings","ignoreValueOfActiveElement","possibleActiveElement","ignoreActiveValue","activeElement","body","ignoreActive","isSoftMatch","HTMLHeadElement","to","nodeType","fromAttributes","toAttributes","fromAttribute","ignoreAttribute","toAttribute","hasAttribute","removeAttribute","nodeValue","HTMLInputElement","fromValue","toValue","syncBooleanAttribute","HTMLOptionElement","HTMLTextAreaElement","syncInputValue","syncNodeFrom","replaceChild","newParent","oldParent","newChild","nextNewChild","insertionPoint","appendChild","removeIdsFromConsideration","isIdSetMatch","idSetMatch","findIdSetMatch","removeNodesBetween","softMatch","findSoftMatch","tempNode","removeNode","attr","updateType","attributeName","ignoreUpdate","newHeadTag","currentHead","removed","preserved","nodesToAppend","headMergeStyle","srcToNewHeadNodes","Map","newHeadChild","outerHTML","currentHeadElt","inNewContent","has","isReAppended","isPreserved","delete","values","newNode","newElt","createRange","createContextualFragment","href","src","resolve","promise","_resolve","removedElement","removeChild","kept","node1","node2","tagName","id","getIdIntersectionCount","startInclusive","endExclusive","newChildPotentialIdCount","potentialMatch","otherMatchCount","potentialSoftMatch","siblingSoftMatchCount","isIdInConsideration","deadIds","idIsWithinNode","targetNode","idMap","idSet","sourceSet","matchCount","populateIdMapForNode","nodeParent","idElements","current","createIdMap","oldContent","morph","Document","documentElement","parser","DOMParser","contentWithSvgsRemoved","match","parseFromString","generatedByIdiomorph","htmlElement","parseContent","normalizedContent","Node","dummyParent","append","normalizeContent","finalConfig","mergeDefaults","createMorphContext","root","factory","moment","exports","require","module","define","amd","req","Pikaday","hasMoment","hasEventListeners","sto","addEvent","el","capture","attachEvent","removeEvent","detachEvent","hasClass","cn","className","str","test","isDate","getTime","isWeekend","date","day","getDay","isLeapYear","year","getDaysInMonth","month","setToStartOfDay","setHours","compareDates","a","b","overwrite","hasProp","nodeName","fireEvent","ev","createEvent","initEvent","createEventObject","adjustCalendar","calendar","ceil","abs","floor","field","bound","ariaLabel","position","reposition","format","defaultDate","setDefaultDate","firstDay","firstWeekOfYearMinDays","formatStrict","minDate","maxDate","yearRange","showWeekNumber","pickWholeWeek","minYear","maxYear","minMonth","maxMonth","startRange","endRange","isRTL","yearSuffix","showMonthAfterYear","showDaysInNextAndPreviousMonths","enableSelectionDaysInNextAndPreviousMonths","numberOfMonths","mainCalendar","container","blurFieldOnSelect","i18n","previousMonth","nextMonth","months","weekdays","weekdaysShort","theme","onInitialize","onSelect","onBeforeOpen","onOpen","onBeforeClose","onClose","onDraw","keyboardInput","heading","autoClose","showButtons","buttonsPlacement","buttons","clear","today","cancel","apply","calendarClass","headerClass","monthClass","yearClass","titleClass","previousClass","nextClass","weekdayClass","daysClass","dayClass","buttonsClass","clearClass","todayClass","cancelClass","applyClass","renderDayName","opts","abbr","renderDay","arr","ariaSelected","isEmpty","isDisabled","isToday","isSelected","hasEvent","isInRange","isStartRange","isEndRange","renderWeek","d","m","y","week","isoWeek","yearDay","getDate","weekDay","dayInFirstWeek","dayShift","prevWeekDay","setDate","jan4th","getFullYear","daysBetween","round","renderRow","days","isRowSelected","reverse","renderTitle","c","refYear","randId","j","monthHtml","yearHtml","_o","isMinYear","isMaxYear","prev","next","renderTable","renderHead","renderHeading","title","renderFoot","button","_onMouseDown","_v","event","srcElement","toDateString","hide","blur","getMonth","parentNode","prevMonth","_c","preventDefault","returnValue","_onChange","gotoMonth","gotoYear","_onKeyChange","isVisible","adjustDate","_parseFieldValue","isValid","toDate","_onInputChange","firedBy","_onInputFocus","show","_onInputClick","_onInputBlur","pEl","_b","_onClick","onchange","trigger","defDate","gotoDate","disableWeekends","disableDayFn","nom","parseInt","setMinDate","setMaxDate","fallback","_d","getMoment","setMoment","preventOnSelect","isMoment","draw","min","max","newCalendar","calendars","firstVisibleDate","lastVisibleDate","visibleDate","setMonth","adjustCalendars","sign","newDay","difference","valueOf","gotoToday","setStartRange","setEndRange","force","_y","_m","render","focus","adjustPosition","width","height","viewportWidth","viewportHeight","scrollTop","left","top","clientRect","leftAligned","bottomAligned","offsetWidth","offsetHeight","innerWidth","clientWidth","innerHeight","clientHeight","pageYOffset","getBoundingClientRect","pageXOffset","bottom","offsetLeft","offsetTop","offsetParent","before","row","yearOfPreviousMonth","yearOfNextMonth","daysInPreviousMonth","cells","after","isWeekSelected","r","dayNumber","monthNumber","yearNumber","dayConfig","unshift","v","Pikaday$1","createCoords","oppositeSideMap","right","oppositeAlignmentMap","start","end","clamp","evaluate","param","getSide","placement","getAlignment","getOppositeAxis","axis","getAxisLength","getSideAxis","getAlignmentAxis","getOppositeAlignmentPlacement","alignment","getOppositePlacement","side","getPaddingObject","padding","expandPaddingObject","rectToClientRect","rect","computeCoordsFromPlacement","_ref","rtl","reference","floating","sideAxis","alignmentAxis","alignLength","isVertical","commonX","commonY","commonAlign","coords","async","detectOverflow","state","_await$platform$isEle","platform","rects","elements","strategy","boundary","rootBoundary","elementContext","altBoundary","paddingObject","clippingClientRect","getClippingRect","isElement","contextElement","getDocumentElement","getOffsetParent","offsetScale","getScale","elementClientRect","convertOffsetParentRelativeRectToViewportRelativeRect","getBoundingRect","minX","minY","offset","fn","_middlewareData$offse","_middlewareData$arrow","middlewareData","diffCoords","mainAxisMulti","crossAxisMulti","rawValue","mainAxis","crossAxis","convertValueToCoords","arrow","alignmentOffset","getNodeName","isNode","getWindow","_node$ownerDocument","ownerDocument","defaultView","Element","isHTMLElement","isShadowRoot","ShadowRoot","isOverflowElement","overflow","overflowX","overflowY","isTableElement","isContainingBlock","webkit","isWebKit","css","transform","perspective","containerType","backdropFilter","some","willChange","contain","getContainingBlock","currentNode","getParentNode","isLastTraversableNode","CSS","supports","getNodeScroll","scrollLeft","result","assignedSlot","host","getNearestOverflowAncestor","getOverflowAncestors","list","traverseIframes","_node$ownerDocument2","scrollableAncestor","isBody","win","concat","visualViewport","frameElement","getCssDimensions","hasOffset","shouldFallback","$","unwrapElement","domElement","Number","noOffsets","getVisualOffsets","includeScale","isFixedStrategy","scale","visualOffsets","isFixed","floatingOffsetParent","shouldAddVisualOffsets","offsetWin","currentIFrame","iframeScale","iframeRect","clientLeft","paddingLeft","clientTop","paddingTop","topLayerSelectors","topLayer","isTopLayer","setIsTopLayer","containingBlock","getWindowScrollBarX","getClientRectFromClippingAncestor","clippingAncestor","visualViewportBased","getViewportRect","scroll","scrollWidth","scrollHeight","direction","getDocumentRect","getInnerBoundingClientRect","hasFixedPositionAncestor","stopNode","getRectRelativeToOffsetParent","isOffsetParentAnElement","offsets","offsetRect","topLayerX","topLayerY","getTrueOffsetParent","polyfill","clippingAncestors","cache","cachedResult","currentContainingBlockComputedStyle","elementIsFixed","computedStyle","currentNodeIsContaining","ancestor","getClippingElementAncestors","firstClippingAncestor","clippingRect","reduce","accRect","getElementRects","getOffsetParentFn","getDimensionsFn","getDimensions","getClientRects","autoUpdate","update","ancestorScroll","ancestorResize","elementResize","ResizeObserver","layoutShift","IntersectionObserver","animationFrame","referenceEl","ancestors","cleanupIo","onMove","timeoutId","io","cleanup","_io","disconnect","refresh","skip","threshold","rootMargin","isFirstUpdate","handleObserve","ratio","intersectionRatio","observe","observeMove","frameId","reobserveFrame","resizeObserver","firstEntry","unobserve","cancelAnimationFrame","_resizeObserver","prevRefRect","frameLoop","nextRefRect","_resizeObserver2","shift","checkMainAxis","checkCrossAxis","limiter","detectOverflowOptions","mainAxisCoord","crossAxisCoord","maxSide","limitedCoords","flip","_middlewareData$flip","initialPlacement","fallbackPlacements","specifiedFallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment","isBasePlacement","oppositePlacement","getExpandedPlacements","isStart","lr","rl","tb","bt","getSideList","getOppositeAxisPlacements","placements","overflows","overflowsData","sides","mainAlignmentSide","getAlignmentSides","every","_middlewareData$flip2","_overflowsData$filter","nextIndex","index","nextPlacement","reset","resetPlacement","_overflowsData$map$so","acc","arrowDimensions","isYAxis","minProp","maxProp","clientProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","largestPossiblePadding","minPadding","maxPadding","min$1","center","shouldAddOffset","centerOffset","inline","nativeClientRects","clientRects","sortedRects","groups","prevRect","getRectsByLine","resetRects","find","firstRect","lastRect","isTop","isLeftSide","maxRight","minLeft","measureRects","limitShift","rawOffset","computedOffset","len","limitMin","limitMax","_middlewareData$offse2","isOriginSide","computePosition","mergedOptions","platformWithCache","middleware","validMiddleware","Boolean","statefulPlacement","resetCount","nextX","nextY","computePosition$1","Modal","componentSettings","super","keyboard","backdropFadeDuration","backdropClose","hideBackdrop","dialog","close","backdrop","autoCloseDelay","history","allowScroll","zindex","namespace","_isOpened","_previous","_modal","_dialog","_content","_initialFocus","_finalFocus","modalId","closeTriggers","tabindex","role","ariaModal","zIndex","innerText","eventData","onClickShow","_show","onClickHide","_hide","autoCloseModal","getFocusable","tabIndex","setFocus","focusable","total","storeModal","openedModals","firstModal","firstModalTrigger","removeModal","modal","getTotalModals","isFirstModal","getFirstModalTrigger","clearModals","getPreviousModal","previousModal","setOpenedDialogsAttribute","openedDialogs","removeOpenedDialogsAttribute","hideScrollbar","marginRight","restoreModalScrollbar","backgroundColor","opacity","showBackdrop","_backdrop","scrollBarWidth","transitionEndEvent","removeBackdrop","transitionDuration","previousInstance","shiftKey","contains","visible","_transitionCleanup","removeAttributes","forEvents","MicroEvent","fct","event_array","n","arguments","arrayToPattern","chars","maxValueLength","sequencePattern","array","hasDuplicates","pattern","prev_char_count","prev_pattern","char","setToPattern","toArray","size","escape_regex","longest","unicodeLength","p","allSubstrings","input","subresult","tmp","code_points","unicode_map","multi_char_reg","latin_convert","latin_condensed","aa","ae","ao","au","av","ay","f","g","h","k","l","o","oe","oi","oo","ou","q","s","t","th","tz","u","vy","w","z","hv","latin","unicode","convert_pat","RegExp","normalize","form","asciifold","_asciifold","generateSets","unicode_sets","addMatching","folded","to_add","folded_set","patt","code_point_min","code_point_max","composed","fromCharCode","code_point","generator","generateMap","multi_char","multi_char_patt","substringsToPattern","min_replacement","sub_pat","strings","chars_replaced","mapSequence","sequencesToPattern","sequences","sequence","seq","substrs","inSequences","needle_seq","needle_parts","parts","part","needle_part","Sequence","last","last_piece","stringify","last_part","last_substr","clone_last_len","getPattern","_code_points","match_str","overlapping","added_types","new_seq","old_seq","getAttr","getAttrNesting","names","scoreValue","token","weight","pos","regex","propToArray","iterate$1","cmp","Sifter","settings","diacritics","tokenize","query","respect_word_boundaries","weights","tokens","words","field_regex","word","field_match","getScoreFunction","prepareSearch","_getScoreFunction","token_count","fields","field_count","getAttrFn","scoreObject","sum","conjunction","getSortFunction","_getSortFunction","implicit_score","sort_flds","sort_empty","bind","get_field","fld","sort_fld","optsUser","nesting","fn_score","_","fn_sort","limit","iterate","getDom","jquery","isHtmlString","tpl","arg","triggerEvent","dom_el","event_name","applyCSS","addClasses","elmts","norm_classes","classesArray","castAsArray","cls","removeClasses","_classes","parentMatch","wrapper","getTail","nodeIndex","amongst","previousElementSibling","setAttr","attrs","val","replaceNode","existing","replacement","highlight","highlightClass","highlightRecursive","spannode","middlebit","splitText","middleclone","cloneNode","highlightText","childNodes","highlightChildren","KEY_SHORTCUT","navigator","userAgent","optgroups","plugins","delimiter","splitOn","persist","create","createOnBlur","createFilter","openOnFocus","shouldOpen","maxOptions","maxItems","hideSelected","duplicates","addPrecedence","selectOnTab","preload","allowEmptyOption","loadThrottle","loadingClass","dataAttr","optgroupField","valueField","labelField","disabledField","optgroupLabelField","optgroupValueField","lockOptgroupOrder","sortField","searchField","searchConjunction","mode","wrapperClass","controlClass","dropdownClass","dropdownContentClass","itemClass","optionClass","dropdownParent","controlInput","copyClassesToDropdown","placeholder","hidePlaceholder","shouldLoad","hash_key","get_hash","escape_html","loadDebounce","delay","loading","loadedSearches","debounce_events","types","event_args","evt","stop","stopPropagation","isKeyDown","key_name","altKey","ctrlKey","metaKey","getId","existing_id","addSlashes","parent","getSettings","settings_user","attr_data","field_label","field_value","field_disabled","field_optgroup","field_optgroup_label","field_optgroup_value","tag_name","textContent","optionsMap","group_count","readData","addOption","settings_element","json","group","option_data","disabled","$option","selected","child","optgroup","optgroup_data","data_raw","opt","init_textbox","instance_i","TomSelect","Interface","requested","loaded","initializePlugins","queue","plugin","loadPlugin","Error","MicroPlugin","input_arg","user_settings","dir","control_input","dropdown","control","dropdown_content","focus_node","order","is_select_tag","inputId","_destroy","sifter","isOpen","isRequired","isInvalid","isLocked","isFocused","isInputHidden","isSetup","ignoreFocus","ignoreHover","hasOptions","currentResults","lastValue","caretPos","activeOption","activeItems","userOptions","tomselect","getPropertyValue","required","setupCallbacks","setupTemplates","_render","inputMode","setup","passive_event","listboxId","control_id","escapeQuery","label","label_click","for","label_id","classes_plugins","multiple","load","target_match","onOptionHover","onOptionSelect","onItemSelect","onClick","onKeyDown","onKeyPress","onInput","onBlur","onFocus","onPaste","doc_mousedown","composedPath","inputState","win_scroll","positionDropdown","revertSettings","insertAdjacentElement","sync","refreshState","updateOriginalInput","refreshItems","disable","enable","onChange","setupOptions","addOptions","registerOptionGroup","templates","optgroup_header","escape","option_create","no_results","not_loading","initialize","change","item_add","item_remove","item_select","option_add","option_remove","option_clear","optgroup_add","optgroup_remove","optgroup_clear","dropdown_open","dropdown_close","get_settings","setValue","lastQuery","clearActiveItems","onMouseDown","pastedText","inputValue","splitInput","piece","addItem","createItem","character","keyCode","which","selectAll","open","getAdjacent","setActiveOption","canSelect","advanceSelection","deleteSelection","refreshOptions","wasFocused","showInput","hasFocus","deactivate","setActiveItem","setCaret","closeAfterSelect","canLoad","loadCallback","clearActiveOption","setTextboxValue","getValue","silent","addItems","setMaxItems","begin","swap","getLastActive","setActiveItemClass","removeActiveItem","hideInput","last_active","idx","scrollToOption","behavior","height_menu","height_item","scrollBehavior","controlChildren","toggle","getSearchOptions","calculateScore","hashed","triggerDropdown","has_create_option","active_group","groups_order","same_query","results","active_option","show_dropdown","closest","opt_value","opt_hash","option_el","getOption","group_fragment","createDocumentFragment","$id","grp_a","grp_b","$order","group_heading","group_options","header","group_html","tok","add_template","canCreate","active_index","selectable","user_created","dat","registerOption","addOptionGroup","hashed_id","removeOptionGroup","clearCache","clearOptionGroups","updateOption","item_new","index_item","value_old","value_new","data_old","uncacheValue","option_new","removeOption","clearOptions","boundFilter","clearFilter","$div","last_item","isPending","wasFull","isFull","insertAtCaret","output","caret","lock","created","unlock","refreshValidityState","wrap_classList","validity","valid","empty_option","has_selected","AddSelected","visibility","scrollY","scrollX","selection","tail","selectionStart","selectionEnd","rm_items","rm_item","shouldDelete","onDelete","adjacent","nextElementSibling","moveCaret","new_pos","templateName","hook","when","method","new_fn","orig_method","result_new","orig_render_item","close_button","orig_onOptionSelect","UpdateCheckbox","checkbox","checked","orig_render_option","rendered","prepend","clearButton","loader","test_input","cssText","style_name","resize","orig_deleteSelection","accordion","panel","_data","triggers","panels","tab","opened","removeAnimationStyles","hideAll","ariaExpanded","panelHeight","excludeIndex","isTransitioning","panelSuffix","ariaControls","ariaLabelledby","autogrow","textareaInput","minHeight","related","_checkboxes","_total","_totalChecked","updateCheckedCount","updateTotalChecked","filtered","updateParent","indeterminate","targets","relatedCheckbox","clipboard","action","text","clearSelection","ClipboardJS","_target","_container","firstElementChild","_text","_clipboard","datatable","url","saveState","autoUpdateInterval","table","searchInput","searchDelay","pagination","info","region","loaderLabel","pageLength","request","page","orderColumn","orderDirection","perPage","controller","loadCount","_isLoading","_sections","parseUrl","URL","searchParams","autoReload","isConnected","_reload","getDataset","replaceAll","getCheckboxes","getChecked","getUnchecked","getParentCheckbox","getCheckedFormData","formData","FormData","_select","_deselect","_goToIndex","_abort","_draw","_index","_pageLength","_orderColumn","column","_search","keyword","populateSearch","populateTable","populateInfo","has_records","populatePagination","populateLength","regionVisibility","rowSelection","onSelectEventData","deselected","totalChecked","totalUnchecked","abort","AbortController","signal","fetch","response","ok","statusText","save","finally","catch","params","_location","location","_onPopstate","reload","select","deselect","isLoading","datepicker","startRangeTarget","endRangeTarget","showOtherDays","otherDaysSelection","clearOnReset","previous","shortWeekdays","disableDay","weekday","autoUpdatePosition","_hasMoment","_hasDayjs","dayjs","_isRangePicker","updateRangeDate","_pikaday","range","getOrdinalNumber","number","ordinals","setPosition","updatePosition","formattedDate","ddd","dddd","D","DD","padStart","Do","M","MM","MMM","MMMM","YY","YYYY","delimiters","replacedParts","dateString","dateParts","relatedTarget","dismiss","removeTarget","_close","placementMobile","autoPlacement","offsetMobile","alignmentOffsetMobile","_dropdown","_reference","resetPositionStyles","clicked","dropzone","customTemplate","autoProcessQueue","maxFiles","csrfToken","headers","previewsContainer","resizeWidth","resizeHeight","clickable","parallelUploads","disablePreviews","maxFilesize","filesizeBase","hiddenInputContainer","getTemplate","previewTemplate","_dropzone","Dropzone","file","progress","bytesSent","totalUploadProgress","totalBytes","totalBytesSent","files","xhr","getQueuedFiles","getAcceptedFiles","getRejectedFiles","getActiveFiles","getAddedFiles","getUploadingFiles","getFiles","getFilesWithStatus","status","addFile","mockFile","imageUrl","crossOrigin","resizeThumbnail","dataURL","displayExistingFile","removeFile","removeAllFiles","cancelUpload","contentType","_response","_fetch","_code","hljs","highlightElement","actions","guessType","localName","selectedOptions","newKey","offcanvas","password","letters","mixed","numbers","symbols","confirm","hint","_totalScore","_score","_visible","_checked","_hints","calculateStrength","updateCheckedHint","onToggle","level","multiplier","percentage","pincode","numeric","mask","maskDelay","autoSubmit","_filled","_value","_form","autocomplete","ariaInvalid","dataIndex","filled","invalid","maskValue","combineValues","emitInputEvent","emitFilledEvent","submitter","requestSubmit","onKeyup","onReset","_selectedIndex","tabs","_lastIndex","_totalTabs","active","getPanel","_next","onTransitionEnterEnd","_disable","ariaDisabled","_enable","onKeydown","first","optionAttribute","class","_theme","_updateTheme","localStorage","_onClickChangeTheme","toast","gap","onAction","stackingPosition","_toast","_placementGroup","inset","dismissTriggers","actionTriggers","toggles","_toggled","ariaPressed","toggleState","toggled","_toggle","tooltip","showDelay","hideDelay","arrowPadding","_contentType","_isShown","_id","tooltipContent","tooltipArrow","_tooltip","_tooltipContent","_tooltipArrow","staticSide","onHoverDestroy","middle","scrollspy","_triggers","_targets","_activeNav","_scroller","_setActiveNavState","hash","_onScrollNavigation","scrollPosition","remote","loadOnce","loadFresh","arrowLabel","removeButton","removeButtonTitle","removeButtonLabel","clearButtonTitle","clearButtonLabel","caretPosition","backspaceDelete","itemSelection","disableSearch","blurOnSelect","createNotFound","dropdownWrapper","itemSingle","optgroupLabel","createOption","noResults","createText","searchText","TomSelect_remove_button","TomSelect_clear_button","TomSelect_checkbox_options","TomSelect_caret_position","TomSelect_input_autogrow","TomSelect_no_active_items","TomSelect_no_backspace_delete","_selectedRemote","_tomSelect","clearButtonVisibility","showLoader","getText","hasValue","caret_position","input_autogrow","no_active_items","no_backspace_delete","remove_button","clear_button","checkbox_options","minWidth","onType","onDropdownOpen","_arrow","onDropdownClose","onItemAdd","onItemRemove","onLoad","columns","encodeURIComponent","selectedItems","refreshOption","fragment","insertAdjacentHTML"],"mappings":"yBAAe,IAAAA,EAAA,CACXC,OAAQ,KACRC,gBAAiB,iBCCd,MAAMC,EAAwB,CAACC,EAAMC,EAAOC,KAClDA,EAAOA,GAAQ,GACf,IAAIC,EAAMH,EAAK,GAAGI,OAAQ,EAAG,GAAIC,cAAgBL,EAAK,GAAGI,OAAQ,GAajE,OAXKF,EAAKC,KACTD,EAAKC,GAAO,IAGTH,EAAKM,OAAS,GACjBN,EAAKO,OAAO,EAAG,GACfL,EAAKC,GAAOJ,EAAsBC,EAAMC,EAAOC,EAAKC,KAEpDD,EAAKC,GAAOF,EAGNC,CAAI,EA6DCM,EAAS,IAAIC,KACtB,IAAIC,EAAW,CAAA,EACXC,GAAO,EACPC,EAAI,EACJN,EAASG,EAAQH,OAGK,kBAAfG,EAAQ,KACfE,EAAOF,EAAQ,GACfG,KAIJ,IAAIC,EAASC,IACT,IAAK,MAAMC,KAAQD,EAASE,OAAOC,UAAUC,eAAeC,KAAKL,EAAKC,KAE9DJ,GAAsD,oBAA9CK,OAAOC,UAAUG,SAASD,KAAKL,EAAIC,IAC3CL,EAASK,GAAQP,GAAO,EAAME,EAASK,GAAOD,EAAIC,IAElDL,EAASK,GAAQD,EAAIC,GAE5B,EAIL,KAAOH,EAAIN,EAAQM,IAAK,CAEpBC,EADUJ,EAAQG,GAErB,CAED,OAAOF,CAAQ,EASNW,EAAaP,IACtB,GAAY,OAARA,EAAc,OAAO,KAEzB,IAAIQ,EAAQN,OAAOO,OAAO,CAAE,EAAET,GAM9B,OAJAE,OAAOhB,KAAKsB,GAAOE,SAASrB,GACjBmB,EAAMnB,GAA2B,iBAAbW,EAAIX,GAAoBkB,EAAUP,EAAIX,IAAQW,EAAIX,KAG7EsB,MAAMC,QAAQZ,IACdQ,EAAMhB,OAASQ,EAAIR,OAEZmB,MAAME,KAAKL,IAGfA,CAAK,EAwCHM,EAAeC,IAC3B,GAAIA,aAAgBC,YACb,OAAOD,EAGX,GAzBmB,iBADME,EA0BRF,IAzBcE,EAAOC,QAAQ,MAAQ,EAyB9B,CACpB,MAAMC,EAAWC,SAASC,cAAc,YAGxC,OAFAF,EAASG,UAAYP,EAAKQ,OAEnBJ,EAASK,QAAQC,UAC3B,CA/BuB,IAACR,EAiCzB,OAAO,IAAI,EAmDFS,EAAYvC,IACbwC,MAAMC,WAAWzC,KAAW0C,SAAS1C,GAMpC2C,EAAc,CAACC,EAASC,EAAU,aACtCD,IAELA,EAAQE,MAAMD,QAAUA,EAAO,EAMtBE,EAAc,CAACH,EAASC,EAAU,UACtCD,IAELA,EAAQE,MAAMD,QAAUA,EAAO,EAMtBG,EAAS,CAACJ,EAASI,EAAS,MACrC,GAAKJ,EAEL,IAAK,MAAMK,KAAaD,EACpBJ,EAAQE,MAAMG,GAAaD,EAAOC,EACrC,EAMQC,EAAgB,CAACN,EAASO,EAAa,MAChD,GAAKP,EAEL,IAAK,MAAMQ,KAAaD,EACpBP,EAAQS,aAAaC,EAAUF,GAAYD,EAAWC,GACzD,EAiBQG,EAAW,CAACX,EAASY,KACzBZ,GAAYY,IAEjBA,EAAaA,EAAaA,EAAWC,MAAM,KAAO,GAClDb,EAAQc,UAAUC,OAAOH,GAAW,EAM3BI,EAAc,CAAChB,EAASY,KAC5BZ,GAAYY,IAEjBA,EAAaA,EAAaA,EAAWC,MAAM,KAAO,GAClDb,EAAQc,UAAUG,UAAUL,GAAW,EA4C9BM,EAAa,CAACC,EAAUC,EAAU/B,WAC1C8B,aAAoBlC,YACVkC,EAGgB,iBAAbA,EACRC,EAAQC,cAAcF,GACtB,KAUGG,EAAc,CAACH,EAAUC,EAAU/B,WAC3C8B,aAAoBI,SACVJ,EAGJC,EAAQI,iBAAiBL,GAMvBM,EAAavC,GACfA,EAAOwC,OAAO,GAAGC,cAAgBzC,EAAO0C,MAAM,GAiB5ClB,EAAYxB,GACdA,EACF2C,QAAQ,UAAWC,GAAW,IAAIA,EAAOtE,kBA4CrCuE,EAAgBtE,IACzBA,EAASA,GAAU,GAAKA,GAAU,GAAKA,EAAS,GAEhD,IAAIyB,EAAS8C,OACTC,KAAKC,MAAM3D,WAAa4D,KAAKC,SAAS7D,YACxCsD,QAAQ,MAAO,IAGjB,OAFA3C,EA9BmBA,IACZ,IAAIA,GAAQmD,MAAK,IAAIF,KAAKC,SAAS,KAAIE,KAAK,IA6B1CC,CAAQrD,GAEVA,EAAOsD,UAAUtD,EAAOzB,OAASA,EAAO,ECjcnDgF,OAAOC,MAAQD,OAAOC,OAAS,GAE/BzD,YAAYb,UAAUuE,mBAAqB,SAASC,EAAWC,GACtDC,KAAK/F,EAAOE,mBACb6F,KAAK/F,EAAOE,iBAAmB,IAGnC6F,KAAK/F,EAAOE,iBAAiB2F,GAAaC,CAC9C,EAEAH,MAAM3F,OAASA,EACf2F,MAAMK,aAAe,CAAA,EACrBL,MAAMM,MAAQ,CAAA,EACdN,MAAMO,OAAS,CAAA,EACfP,MAAMQ,WAAa,GAEnBR,MAAMS,UAAavF,IACfA,EAAUA,aAAmBO,OAASP,EAAU,CAAA,EAChD8E,MAAMK,aAAepF,EAAO+E,MAAMK,aAAcnF,EAAQ,EAG5D8E,MAAMU,SAAYF,IACd,IAAK,MAAMG,KAAQH,EACfR,MAAMW,GAAQ,IAAIC,KACd,MAAMtD,EAAUsD,EAAK,aAAcrE,YAC7BqE,EAAK,GACc,iBAAZA,EAAK,GACZpC,EAAWoC,EAAK,IAChB,KAEA1F,EAAW0F,EAAK,aAAcnF,UAAamF,EAAK,aAAcrE,aAC9DqE,EAAK,GACW,IAAhBA,EAAK7F,QAAiB6F,EAAK,aAAcnF,UAAamF,EAAK,aAAcrE,aACzEqE,EAAK,QACLC,EAEN,GAAIvD,GACIA,EAAQjD,EAAOE,iBAAkB,CACjC,KAAMW,GAA2C,IAAhCO,OAAOhB,KAAKS,GAASH,SAAiBuC,EAAQjD,EAAOE,iBAAiBoG,GACnF,OAAOrD,EAAQjD,EAAOE,iBAAiBoG,GAGvCzF,GAAWO,OAAOhB,KAAKS,GAASH,OAAS,GAAKuC,EAAQjD,EAAOE,iBAAiBoG,IAC9ErD,EAAQjD,EAAOE,iBAAiBoG,IAAOG,SAE9C,CAGL,MAAMX,EAAYS,EAAK,aAAcnF,UAAamF,EAAK,aAAcrE,aAC/D,IAAIiE,EAAWG,GAAMzF,GACrB,IAAIsF,EAAWG,GAAMrD,EAASpC,GAMpC,OAJIoC,GACAA,EAAQ2C,mBAAmBU,EAAMR,GAG9BA,CAAQ,EAInBH,MAAMQ,WAAWO,KAAKJ,EACzB,EAGLX,MAAMgB,SAAW,CAACC,EAAQvC,KACtBA,EAAUA,GAAW/B,UACFsE,aAAkB/E,MAAQ+E,EAASjB,MAAMQ,YAEjDvE,SAASiE,IAChB,MAAMgB,EAAgBlD,EAAUkC,GACfxB,EAAQI,iBAAiB,SAASzE,EAAOC,UAAU4G,WAE3DjF,SAASqB,IACd,IACIyC,OAAOC,MAAME,GAAW5C,EAC3B,CAAC,MAAO6D,GACLC,QAAQD,MAAMA,EACjB,IACH,GACJ,ECxES,MAAME,EACjB,WAAAC,CAAYpG,GAKRkF,KAAKmB,WAAatG,GAAO,EAAM,CAC3B0F,KAAM,KACNrD,QAAS,KACTkE,cAAe,CACXC,QAAS,CAAE,EACXC,OAAO,EACPC,eAAgB,SAEpBtH,OAAQ,CAAE,EACVuH,SAAS,EACTC,YAAa,CACTC,OAAO,EACPC,OAAO,IAEZ7G,GAKH,MAAMmF,EAAeL,MAAMK,aAAaD,KAAKmB,WAAWZ,OAAS,GAKjEP,KAAK4B,SAAWxD,EAAW4B,KAAKmB,WAAWjE,SAK3C8C,KAAK6B,cAAWpB,EAKhB,MAAMqB,EAAmB,KACrB,MAAM7H,EAAS,CAAA,EACf,IAAI8H,EAAU/B,KAAK4B,SAAW5B,KAAK4B,SAASG,QAAU,KACtDA,EAAUA,EF7BY,CAACA,IAClC,IAAI1H,EAAOgB,OAAOhB,KAAK0H,GACnBxH,EAAO,CAAA,EACJD,EAAQ,KACf,IAAK,IAAIW,EAAI,EAAGA,EAAIZ,EAAKM,OAAQM,IAAK,CACrC,IAAIT,EAAMH,EAAKY,GACX+G,EAAQxH,EAAIuD,MAAM,KAEhB,IACIzD,EAAQ2H,KAAKC,MAAMH,EAAQvH,GAC9B,CAAC,MAAOuG,GACLzG,EAAQyH,EAAQvH,EACnB,CAEPD,EAAOH,EAAsB4H,EAAO1H,EAAOC,EAC3C,CAED,OAAOA,CAAI,EEYoB4H,CAAmBJ,GAAW,CAAA,EAElD,IAAK,MAAMvH,KAAOuH,EACVvH,EAAIkF,UAAU,EAAGM,KAAKmB,WAAWZ,KAAK5F,UAAYqF,KAAKmB,WAAWZ,OAClEtG,EAAOO,GAAOuH,EAAQvH,IAI9B,MF8EqB,EAAC4H,EAAQC,EAAQtD,EAAU,MAC3DqD,EAAS/G,OAAOiH,QAAQF,GAAQG,KAAI,EAAE/H,EAAKF,KAG7B,CADPE,GADAA,EAAMA,GAAO6H,EAAS7H,EAAMA,EAAIuE,QAAQsD,EAAQtD,IACtCH,OAAO,GAAGlE,cAAgBF,EAAIsE,MAAM,GACjCxE,KAGbe,OAAOmH,YAAYJ,IErFRK,CAAkBxI,EAAQ+F,KAAKmB,WAAWZ,KAAK,EASpDmC,EAAiBzI,IAMnB,GAJAa,EAAU,CACNuG,QAAS,CAAE,IAFfpH,EAASA,aAAkBoB,OAASpB,EAAS,CAAA,GAKnB,yBAAaoB,OAAQ,CAC3C,IAAK,MAAMb,KAAOP,EAAsB,cAAG,CACvC,MAAMoH,EAAUpH,EAAsB,cAAEO,GAAKuD,MAAM,MAAQ,GACrD4E,EAAuD,iBAA9B3C,KAAK4C,QAAQvB,QAAQ7G,GAC9CwF,KAAK4C,QAAQvB,QAAQ7G,GAAKuD,MAAM,KAChC,GAENjD,EAAQuG,QAAQ7G,GAAOmI,EAAgB9B,QAAOgC,IAAMxB,EAAQyB,SAASD,KAAIrD,KAAK,KAC9EQ,KAAK4C,QAAQvB,QAAQ7G,GAAgC,KAAzBM,EAAQuG,QAAQ7G,GAAcM,EAAQuG,QAAQ7G,GAAO,IACpF,QAEMP,EAAsB,aAChC,CAED,GAAIA,EAAmB,sBAAaoB,OAAQ,CACxC,IAAK,MAAMb,KAAOP,EAAmB,WAAG,CACpC,MAAMoH,EAAUpH,EAAmB,WAAEO,GAAKuD,MAAM,MAAQ,GAClD4E,EAAuD,iBAA9B3C,KAAK4C,QAAQvB,QAAQ7G,GAC9CwF,KAAK4C,QAAQvB,QAAQ7G,GAAKuD,MAAM,KAChC,GAEAgF,EAAkB1B,EAAQR,QAAOgC,IAAMF,EAAgBG,SAASD,KACtE7C,KAAK4C,QAAQvB,QAAQ7G,GAAOuI,EAAgBpI,OAAS,EAC/CqF,KAAK4C,QAAQvB,QAAQ7G,GAAO,IAAMuI,EAAgBvD,KAAK,KACvDQ,KAAK4C,QAAQvB,QAAQ7G,GAC3BM,EAAQuG,QAAQ7G,GAAOwF,KAAK4C,QAAQvB,QAAQ7G,EAC/C,QAEMP,EAAmB,UAC7B,CAED,IAAK,MAAMO,KAAOP,EACda,EAAQN,GAAOP,EAAOO,GAG1B,OAAOM,CAAO,EA8XlB,GAxXAkF,KAAK4C,QAAU/H,GAAO,EAAMmF,KAAKmB,WAAWC,cAAenB,GAE3DD,KAAK4C,QAAU/H,GACX,EACAmF,KAAK4C,QACLF,EAAc1C,KAAKmB,WAAWlH,QAC9ByI,EAAcZ,MAQlB9B,KAAKgD,YAAe/I,IAChBA,EAASA,aAAkBoB,OAASpB,EAAS,CAAA,EAE7C+F,KAAK4C,QAAU/H,GAAO,EAAMmF,KAAK4C,QAAS3I,EAAO,EAMrD+F,KAAKiD,kBAAmB,EAKxBjD,KAAKkD,QAAU,GAKXlD,KAAKmB,WAAWK,UAChBxB,KAAK4C,QAAU/H,EAAO,CAClB2G,QAAS,SACVxB,KAAK4C,SAER5C,KAAKmD,SAAW,CACZC,IAAK,CAAC5I,EAAKF,KACPE,EAAM,GAAGwF,KAAKmB,WAAWZ,QAAQ/F,IACjCmF,OAAO,GAAGK,KAAK4C,QAAQpB,kBAAkB6B,QAAQ7I,EAAKF,EAAM,EAEhEgJ,IAAM9I,IACFA,EAAM,GAAGwF,KAAKmB,WAAWZ,QAAQ/F,IAE1BmF,OAAO,GAAGK,KAAK4C,QAAQpB,kBAAkB+B,QAAQ/I,IAE5D2D,OAAS3D,IACLA,EAAM,GAAGwF,KAAKmB,WAAWZ,QAAQ/F,IACjCmF,OAAO,GAAGK,KAAK4C,QAAQpB,kBAAkBgC,WAAWhJ,EAAI,IAQhEwF,KAAKmB,WAAWM,YAAYC,QAC5B1B,KAAK4C,QAAU/H,EAAO,CAClB4I,gBAAiB,KACjBC,qBAAsB,KACtBC,mBAAoB,MACrB3D,KAAK4C,UAMR5C,KAAKmB,WAAWM,YAAYE,QAC5B3B,KAAK4C,QAAU/H,EAAO,CAClB+I,gBAAiB,KACjBC,qBAAsB,KACtBC,mBAAoB,MACrB9D,KAAK4C,UAMZ5C,KAAK+D,kBAAiB/D,KAAK4C,QAAQa,kBAAmBzD,KAAK4C,QAAQgB,iBAYnE5D,KAAKgE,YAAc,CAACC,EAAM/G,EAASgH,KAC/B,IAAIC,EAAkB,gBAGtB,GAFAD,EAAgC,mBAAbA,EAA0BA,EAAW,KAAY,GAE/DlE,KAAK4C,QAAQ,GAAGqB,KACjB,OAAO,EAGe,CAAC/G,IACvB,MAAMuE,EAAc,CAAC,kBAAmB,mBAExC,IAAK,MAAM2C,KAAc3C,EACrBvD,EAAYhB,EAAS8C,KAAK4C,QAAQ,GAAGwB,MACrClG,EAAYhB,EAAS8C,KAAK4C,QAAQ,GAAGwB,WACrClG,EAAYhB,EAAS8C,KAAK4C,QAAQ,GAAGwB,QACxC,EAGLC,CAAkBnH,GAClBW,EAASX,EAAS8C,KAAK4C,QAAQ,GAAGqB,MAClCpG,EAASX,EAAS8C,KAAK4C,QAAQ,GAAGqB,WAElC,IAAIK,EAAoBvH,WAAW4C,OAAO4E,iBAAiBrH,GAASoH,mBAEpEH,EAAkBrH,MAAMwH,IAAsBA,GAAqB,EAC7DH,EACA,eAoBN,OAXAnE,KAAKwE,KAAKtH,EAASiH,EAAgBpF,QAAQ,MAAO,UAAU,KACxDiB,KAAKiD,kBAAmB,CAAI,IAGhCjD,KAAKwE,KAAKtH,EAASiH,GAXDM,IACdzE,KAAKiD,kBAAmB,EACxBiB,EAASO,GACTvG,EAAYhB,EAAS8C,KAAK4C,QAAQ,GAAGqB,MACrC/F,EAAYhB,EAAS8C,KAAK4C,QAAQ,GAAGqB,QAAW,IASpDtE,OAAO+E,uBAAsB,KACzBxG,EAAYhB,EAAS8C,KAAK4C,QAAQ,GAAGqB,WACrCpG,EAASX,EAAS8C,KAAK4C,QAAQ,GAAGqB,QAAW,KAG1C,CAAI,EAYfjE,KAAK2E,YAAc,CAACC,EAAQC,EAAWC,EAAShK,KAE5C,MAAMiK,EAAYlK,EAAO,CACrBmK,MAAM,EACNC,SAAS,EACTC,YAAY,EACZjB,KAAMY,EACNM,SAAUL,EACVF,OAAQA,GAPZ9J,EAA6B,kBAAZA,EAAwB,CAAEoK,WAAYpK,GAAYA,GAUnE,GAAI8J,IAAWjF,SAAWC,MAAMO,OAAOH,KAAKmB,WAAWZ,MAInD,OAHAX,MAAMO,OAAOH,KAAKmB,WAAWZ,MAAO,CAAA,OACpCX,MAAMO,OAAOH,KAAKmB,WAAWZ,MAAMsE,GAAa,CAAEE,IAKlDH,IAAWjF,QAAUC,MAAMO,OAAOH,KAAKmB,WAAWZ,MAAMsE,GACxDjF,MAAMO,OAAOH,KAAKmB,WAAWZ,MAAMsE,GAAWlE,KAAKoE,GAKlD/E,KAAKkD,QAAQ2B,GAMlB7E,KAAKkD,QAAQ2B,GAAWlE,KAAKoE,GALzB/E,KAAKkD,QAAQ2B,GAAa,CAAEE,EAKO,EAS3C/E,KAAKoF,aAAe,CAACP,EAAY,KAAMD,EAAS,QAC5C,IAAK,MAAMrE,KAAQP,KAAKkD,QAEpB,GAAkB,OAAd2B,GAAsBA,IAActE,EAIxC,IAAK,MAAM8E,KAAQrF,KAAKkD,QAAQ3C,GAE5B8E,EAAKT,OAAOU,oBAAoBD,EAAKpB,KAAMoB,EAAKF,SAAU,CACtDH,KAAMK,EAAKL,KACXC,QAASI,EAAKJ,QACdC,WAAYG,EAAKH,aAGN,OAAXN,GAAmBA,IAAWS,EAAKT,SACnC5E,KAAKkD,QAAQ3C,GAAM3F,OAAOoF,KAAKkD,QAAQ3C,GAAMlE,QAAQgJ,GAAO,GAE1B,IAA9BrF,KAAKkD,QAAQ3C,GAAM5F,eACZqF,KAAKkD,QAAQ3C,GAInC,EASLP,KAAKuF,mBAAsBV,GAChBjF,MAAM3F,OAAOC,OAAS,IAAM8F,KAAKmB,WAAWZ,KAAO,IAAMsE,EAUpE7E,KAAKwF,cAAgB,CAACC,EAAc,GAAIC,EAAiB,MACrDD,EAAcA,aAAuB3J,MAAQ2J,EAAc,GAC3DC,EAAiBA,aAA0B5J,MAAQ4J,EAAiB,GACpED,EAAY9E,KAAK,IACjB,MAAM1G,EAAS,CAAA,EACT0L,EAAQ,CAAA,EAEd,IAAK,IAAIpF,KAAQkF,EAAa,CAC1BlF,EAAOA,EAAKxB,QAAQ,cAAe,IAAIrE,cAAcgC,OACrDiJ,EAAMpF,GAAQ,GAEd,IAAK,IAAIqF,KAAUF,EAAgB,CAC/B,MAAMG,EAAmB,KAATtF,EAAcA,EAAO5B,EAAWiH,GAAUA,EAC1D3L,EAAO4L,GAAW,KAClBF,EAAMpF,GAAMqF,GAAkB,IAARrF,EAAaqF,EAASC,CAC/C,CACJ,CASD,OAPA7F,KAAK4C,QAAU/H,GACX,EACAZ,EACA+F,KAAK4C,QACLd,KAGG6D,CAAK,EAMhB3F,KAAK8F,UAAY,IACNnG,OAAOoG,WAAW,eAAe/F,KAAK4C,QAAQrB,mBAAmByE,QAS5EhG,KAAKiG,OAAS,CAACC,EAASjC,EAAO,WACtBjE,KAAK4C,QAAQtB,OAElBN,QAAQiD,GAAMiC,EAAQ,EAS1BlG,KAAKmG,gBAAkB,CAACjJ,EAAS4C,KACxB5C,GAEDA,EAAQ0C,MAAM3F,OAAOE,yBACd+C,EAAQ0C,MAAM3F,OAAOE,iBAAiB2F,EAChD,EAULE,KAAKoG,eAAiB,CAACvB,EAAWwB,EAAQ/H,KACtC,MAAMpB,EAAUoB,GAAW0B,KAAK4B,SAC1B0E,EAAe,KAAO3H,EAAWkG,GACjCX,EAAWlE,KAAK4C,QAAQ0D,GAC9BD,EAASA,aAAkBhL,OACrB,CAAEgL,OAAQ,CAAEE,KAAMvG,QAASqG,IAC3B,CAAEA,OAAQ,CAAEE,KAAMvG,OAEpBkE,aAAoBsC,UACpBtC,EAASmC,EAAOA,QAGfnJ,GAELuJ,YAAW,KACPvJ,EAAQwJ,cAAc,IAAIC,YAAY3G,KAAKuF,mBAAmBV,GAAYwB,GAAQ,GACpF,EAWNrG,KAAK4G,IAAM,CAAChC,EAAQC,EAAWC,EAAShK,GAAU,KACzC8J,IAELA,EAAOiC,iBAAiBhC,EAAWC,EAAShK,GAE5C2L,YAAW,KACPzG,KAAK2E,YAAYC,EAAQC,EAAWC,EAAShK,EAAQ,IACvD,EAWNkF,KAAK8G,KAAO,CAAClC,EAAQC,EAAWC,EAAShK,GAAU,KAC1C8J,IAEL5E,KAAKoF,aAAaP,EAAWD,GAC7BA,EAAOU,oBAAoBT,EAAWC,EAAShK,GAAQ,EAU3DkF,KAAKwE,KAAO,CAACI,EAAQC,EAAWC,KACvBF,GAELA,EAAOiC,iBAAiBhC,EAAWC,EAAS,CAAEE,MAAO,GAAO,EAShEhF,KAAK+G,YAAc,CAACjC,EAASkC,KACzBC,aAAajH,KAAK6B,UAClB7B,KAAK6B,SAAW4E,WAAW3B,EAASkC,EAAQ,EAG5CpH,MAAMO,OAAOH,KAAKmB,WAAWZ,MAC7B,IAAK,MAAM/F,KAAOoF,MAAMO,OAAOH,KAAKmB,WAAWZ,MAAO,CAClD,MAAM2G,EAAatH,MAAMO,OAAOH,KAAKmB,WAAWZ,MAAM/F,GAEtD,IAAK,MAAM6K,KAAQ6B,EAEf7B,EAAKT,OAAOU,oBAAoBD,EAAKpB,KAAMoB,EAAKF,SAAU,CACtDH,KAAMK,EAAKL,KACXC,QAASI,EAAKJ,QACdC,WAAYG,EAAKH,aAGrBgC,EAAWtM,OAAOsM,EAAW7K,QAAQgJ,GAAO,GAElB,IAAtB6B,EAAWvM,eACJiF,MAAMO,OAAOH,KAAKmB,WAAWZ,KAG/C,CAER,CAKD,OAAAG,GACIV,KAAKoF,eACLpF,KAAKmG,gBAAgBnG,KAAK4B,SAAU5B,KAAKmB,WAAWZ,KACvD,CAQD,MAAAtG,CAAOO,EAAM,MACT,OAAIA,EACOwF,KAAK4C,QAAQpI,GAGjBwF,KAAK4C,OACf,CASD,EAAAuE,CAAGtC,EAAWC,EAAShK,GAAU,GACxBkF,KAAK4B,WAEV5B,KAAK4B,SAASiF,iBAAiB7G,KAAKuF,mBAAmBV,GAAYC,EAAShK,GAC5EkF,KAAK2E,YAAY3E,KAAK4B,SAAU5B,KAAKuF,mBAAmBV,GAAYC,EAAShK,GAChF,CASD,GAAAsM,CAAIvC,EAAWC,EAAShK,GAAU,GACzBkF,KAAK4B,gBAEMnB,IAAZqE,IAAqC,IAAZhK,GACzBkF,KAAKoF,aAAapF,KAAKuF,mBAAmBV,IAG9C7E,KAAK4B,SAAS0D,oBAAoBtF,KAAKuF,mBAAmBV,GAAYC,EAAShK,GAClF,CAQD,GAAAuM,CAAIxC,EAAWC,GACN9E,KAAK4B,UAEV5B,KAAK4B,SAASiF,iBAAiB7G,KAAKuF,mBAAmBV,GAAYC,EAAS,CAAEE,MAAO,GACxF,ECjkBL,IAAIsC,EAAY,WAMR,IAAIC,EAAY,IAAIC,IAGhBC,EAAW,CACXC,WAAY,YACZC,UAAY,CACRC,gBAAiBC,EACjBC,eAAgBD,EAChBE,kBAAmBF,EACnBG,iBAAkBH,EAClBI,kBAAmBJ,EACnBK,iBAAkBL,EAClBM,uBAAwBN,GAG5BO,KAAM,CACFhL,MAAO,QACPiL,eAAgB,SAAUC,GACtB,MAA2C,SAApCA,EAAIC,aAAa,cAC3B,EACDC,eAAgB,SAAUF,GACtB,MAA4C,SAArCA,EAAIC,aAAa,eAC3B,EACDE,aAAcZ,EACda,iBAAkBb,IAwB1B,SAASc,EAAuBC,EAASC,EAAsBC,GAC3D,GAAIA,EAAIV,KAAKW,MAAO,CAChB,IAAIC,EAAUJ,EAAQrK,cAAc,QAChC0K,EAAUJ,EAAqBtK,cAAc,QACjD,GAAIyK,GAAWC,EAAS,CACpB,IAAIC,EAAWC,EAAkBF,EAASD,EAASF,GAUnD,YARAM,QAAQC,IAAIH,GAAUI,MAAK,WACvBX,EAAuBC,EAASC,EAAsBxN,OAAOO,OAAOkN,EAAK,CACrEV,KAAM,CACFW,OAAO,EACPQ,QAAQ,KAGxC,GAEiB,CACJ,CAED,GAAuB,cAAnBT,EAAIpB,WAIJ,OADA8B,EAAcX,EAAsBD,EAASE,GACtCF,EAAQa,SAEZ,GAAuB,cAAnBX,EAAIpB,YAAgD,MAAlBoB,EAAIpB,WAAoB,CAGjE,IAAIgC,EAuoBZ,SAA2BC,EAAYf,EAASE,GAC5C,IAAIc,EACJA,EAAiBD,EAAW/M,WAC5B,IAAIiN,EAAcD,EACdE,EAAQ,EACZ,KAAOF,GAAgB,CACnB,IAAIG,EAAWC,EAAaJ,EAAgBhB,EAASE,GACjDiB,EAAWD,IACXD,EAAcD,EACdE,EAAQC,GAEZH,EAAiBA,EAAeK,WACnC,CACD,OAAOJ,CACV,CArpBuBK,CAAkBrB,EAAsBD,EAASE,GAG7DqB,EAAkBT,GAAWS,gBAC7BF,EAAcP,GAAWO,YAGzBG,EAAcC,EAAezB,EAASc,EAAWZ,GAErD,OAAIY,EAsmBZ,SAAwBS,EAAiBC,EAAaH,GAClD,IAAIK,EAAQ,GACRC,EAAQ,GACZ,KAA0B,MAAnBJ,GACHG,EAAM3J,KAAKwJ,GACXA,EAAkBA,EAAgBA,gBAEtC,KAAOG,EAAM3P,OAAS,GAAG,CACrB,IAAI6P,EAAOF,EAAMG,MACjBF,EAAM5J,KAAK6J,GACXJ,EAAYM,cAAcC,aAAaH,EAAMJ,EAChD,CACDG,EAAM5J,KAAKyJ,GACX,KAAsB,MAAfH,GACHK,EAAM3J,KAAKsJ,GACXM,EAAM5J,KAAKsJ,GACXA,EAAcA,EAAYA,YAE9B,KAAOK,EAAM3P,OAAS,GAClByP,EAAYM,cAAcC,aAAaL,EAAMG,MAAOL,EAAYH,aAEpE,OAAOM,CACV,CAznBkBK,CAAeT,EAAiBC,EAAaH,GAG7C,EAE3B,CACgB,KAAM,wCAA0CnB,EAAIpB,UAE3D,CAQD,SAASmD,EAA2BC,EAAuBhC,GACvD,OAAOA,EAAIiC,mBAAqBD,IAA0BvO,SAASyO,eAAiBF,IAA0BvO,SAAS0O,IAC1H,CAQD,SAASZ,EAAezB,EAASe,EAAYb,GACzC,IAAIA,EAAIoC,cAAgBtC,IAAYrM,SAASyO,cAEtC,OAAkB,MAAdrB,GAC0C,IAA7Cb,EAAInB,UAAUM,kBAAkBW,GAA2BA,GAE/DA,EAAQzK,SACR2K,EAAInB,UAAUO,iBAAiBU,GACxB,MACCuC,EAAYvC,EAASe,KASgC,IAAzDb,EAAInB,UAAUI,kBAAkBa,EAASe,KAEzCf,aAAmBwC,iBAAmBtC,EAAIV,KAAKmB,SAExCX,aAAmBwC,iBAAsC,UAAnBtC,EAAIV,KAAKhL,MACtD+L,EAAkBQ,EAAYf,EAASE,KAkInD,SAAsB9M,EAAMqP,EAAIvC,GAC5B,IAAI7E,EAAOjI,EAAKsP,SAIhB,GAAa,IAATrH,EAA+B,CAC/B,MAAMsH,EAAiBvP,EAAKyB,WACtB+N,EAAeH,EAAG5N,WACxB,IAAK,MAAMgO,KAAiBF,EACpBG,EAAgBD,EAAclL,KAAM8K,EAAI,SAAUvC,IAGlDuC,EAAG9C,aAAakD,EAAclL,QAAUkL,EAAcnR,OACtD+Q,EAAG1N,aAAa8N,EAAclL,KAAMkL,EAAcnR,OAI1D,IAAK,IAAIW,EAAIuQ,EAAa7Q,OAAS,EAAG,GAAKM,EAAGA,IAAK,CAC/C,MAAM0Q,EAAcH,EAAavQ,GAC7ByQ,EAAgBC,EAAYpL,KAAM8K,EAAI,SAAUvC,KAG/C9M,EAAK4P,aAAaD,EAAYpL,OAC/B8K,EAAGQ,gBAAgBF,EAAYpL,MAEtC,CACJ,CAGY,IAAT0D,GAAqC,IAATA,GACxBoH,EAAGS,YAAc9P,EAAK8P,YACtBT,EAAGS,UAAY9P,EAAK8P,WAIvBjB,EAA2BQ,EAAIvC,IAwCxC,SAAwB9M,EAAMqP,EAAIvC,GAC9B,GAAI9M,aAAgB+P,kBAChBV,aAAcU,kBACA,SAAd/P,EAAKiI,KAAiB,CAEtB,IAAI+H,EAAYhQ,EAAK1B,MACjB2R,EAAUZ,EAAG/Q,MAGjB4R,EAAqBlQ,EAAMqP,EAAI,UAAWvC,GAC1CoD,EAAqBlQ,EAAMqP,EAAI,WAAYvC,GAEtC9M,EAAK4P,aAAa,SAKZI,IAAcC,IAChBP,EAAgB,QAASL,EAAI,SAAUvC,KACxCuC,EAAG1N,aAAa,QAASqO,GACzBX,EAAG/Q,MAAQ0R,IAPVN,EAAgB,QAASL,EAAI,SAAUvC,KACxCuC,EAAG/Q,MAAQ,GACX+Q,EAAGQ,gBAAgB,SAQ3C,MAAmB,GAAI7P,aAAgBmQ,kBACvBD,EAAqBlQ,EAAMqP,EAAI,WAAYvC,QACxC,GAAI9M,aAAgBoQ,qBAAuBf,aAAce,oBAAqB,CACjF,IAAIJ,EAAYhQ,EAAK1B,MACjB2R,EAAUZ,EAAG/Q,MACjB,GAAIoR,EAAgB,QAASL,EAAI,SAAUvC,GACvC,OAEAkD,IAAcC,IACdZ,EAAG/Q,MAAQ0R,GAEXX,EAAGzO,YAAcyO,EAAGzO,WAAWkP,YAAcE,IAC7CX,EAAGzO,WAAWkP,UAAYE,EAEjC,CACJ,CA5EOK,CAAerQ,EAAMqP,EAAIvC,EAEhC,CAvKWwD,CAAa3C,EAAYf,EAASE,GAC7B+B,EAA2BjC,EAASE,IACrCU,EAAcG,EAAYf,EAASE,KAG3CA,EAAInB,UAAUK,iBAAiBY,EAASe,IAZmCf,IAR1B,IAA7CE,EAAInB,UAAUM,kBAAkBW,KACc,IAA9CE,EAAInB,UAAUC,gBAAgB+B,GAD6Bf,GAG/DA,EAAQ8B,cAAc6B,aAAa5C,EAAYf,GAC/CE,EAAInB,UAAUG,eAAe6B,GAC7Bb,EAAInB,UAAUO,iBAAiBU,GACxBe,EAiBd,CAwBD,SAASH,EAAcgD,EAAWC,EAAW3D,GAEzC,IAEI4D,EAFAC,EAAeH,EAAU5P,WACzBgQ,EAAiBH,EAAU7P,WAI/B,KAAO+P,GAAc,CAMjB,GAJAD,EAAWC,EACXA,EAAeD,EAASzC,YAGF,MAAlB2C,EAAwB,CACxB,IAAgD,IAA5C9D,EAAInB,UAAUC,gBAAgB8E,GAAqB,OAEvDD,EAAUI,YAAYH,GACtB5D,EAAInB,UAAUG,eAAe4E,GAC7BI,EAA2BhE,EAAK4D,GAChC,QACH,CAGD,GAAIK,EAAaL,EAAUE,EAAgB9D,GAAM,CAC7CuB,EAAeuC,EAAgBF,EAAU5D,GACzC8D,EAAiBA,EAAe3C,YAChC6C,EAA2BhE,EAAK4D,GAChC,QACH,CAGD,IAAIM,EAAaC,EAAeT,EAAWC,EAAWC,EAAUE,EAAgB9D,GAGhF,GAAIkE,EAAY,CACZJ,EAAiBM,EAAmBN,EAAgBI,EAAYlE,GAChEuB,EAAe2C,EAAYN,EAAU5D,GACrCgE,EAA2BhE,EAAK4D,GAChC,QACH,CAGD,IAAIS,EAAYC,EAAcZ,EAAWC,EAAWC,EAAUE,EAAgB9D,GAG9E,GAAIqE,EACAP,EAAiBM,EAAmBN,EAAgBO,EAAWrE,GAC/DuB,EAAe8C,EAAWT,EAAU5D,GACpCgE,EAA2BhE,EAAK4D,OAHpC,CASA,IAAgD,IAA5C5D,EAAInB,UAAUC,gBAAgB8E,GAAqB,OAEvDD,EAAU9B,aAAa+B,EAAUE,GACjC9D,EAAInB,UAAUG,eAAe4E,GAC7BI,EAA2BhE,EAAK4D,EAR/B,CASJ,CAGD,KAA0B,OAAnBE,GAAyB,CAE5B,IAAIS,EAAWT,EACfA,EAAiBA,EAAe3C,YAChCqD,EAAWD,EAAUvE,EACxB,CACJ,CAaD,SAAS4C,EAAgB6B,EAAMlC,EAAImC,EAAY1E,GAC3C,QAAY,UAATyE,IAAoBzE,EAAIiC,mBAAqBM,IAAO9O,SAASyO,iBAGM,IAA/DlC,EAAInB,UAAUQ,uBAAuBoF,EAAMlC,EAAImC,EACzD,CAyDD,SAAStB,EAAqBlQ,EAAMqP,EAAIoC,EAAe3E,GACnD,GAAI9M,EAAKyR,KAAmBpC,EAAGoC,GAAgB,CAC3C,IAAIC,EAAehC,EAAgB+B,EAAepC,EAAI,SAAUvC,GAC3D4E,IACDrC,EAAGoC,GAAiBzR,EAAKyR,IAEzBzR,EAAKyR,GACAC,GACDrC,EAAG1N,aAAa8P,EAAezR,EAAKyR,IAGnC/B,EAAgB+B,EAAepC,EAAI,SAAUvC,IAC9CuC,EAAGQ,gBAAgB4B,EAG9B,CACJ,CAuDD,SAAStE,EAAkBwE,EAAYC,EAAa9E,GAEhD,IAAIyB,EAAQ,GACRsD,EAAU,GACVC,EAAY,GACZC,EAAgB,GAEhBC,EAAiBlF,EAAIV,KAAKhL,MAG1B6Q,EAAoB,IAAIC,IAC5B,IAAK,MAAMC,KAAgBR,EAAWlE,SAClCwE,EAAkB7K,IAAI+K,EAAaC,UAAWD,GAIlD,IAAK,MAAME,KAAkBT,EAAYnE,SAAU,CAG/C,IAAI6E,EAAeL,EAAkBM,IAAIF,EAAeD,WACpDI,EAAe1F,EAAIV,KAAKI,eAAe6F,GACvCI,EAAc3F,EAAIV,KAAKC,eAAegG,GACtCC,GAAgBG,EACZD,EAEAX,EAAQlN,KAAK0N,IAIbJ,EAAkBS,OAAOL,EAAeD,WACxCN,EAAUnN,KAAK0N,IAGI,WAAnBL,EAGIQ,IACAX,EAAQlN,KAAK0N,GACbN,EAAcpN,KAAK0N,KAIuB,IAA1CvF,EAAIV,KAAKK,aAAa4F,IACtBR,EAAQlN,KAAK0N,EAI5B,CAIDN,EAAcpN,QAAQsN,EAAkBU,UAGxC,IAAIzF,EAAW,GACf,IAAK,MAAM0F,KAAWb,EAAe,CAEjC,IAAIc,EAAStS,SAASuS,cAAcC,yBAAyBH,EAAQR,WAAWxR,WAEhF,IAA8C,IAA1CkM,EAAInB,UAAUC,gBAAgBiH,GAAmB,CACjD,GAAIA,EAAOG,MAAQH,EAAOI,IAAK,CAC3B,IAAIC,EAAU,KACVC,EAAU,IAAI/F,SAAQ,SAAUgG,GAChCF,EAAUE,CACtC,IACwBP,EAAOhI,iBAAiB,QAAQ,WAC5BqI,GAC5B,IACwBhG,EAASvI,KAAKwO,EACjB,CACDvB,EAAYf,YAAYgC,GACxB/F,EAAInB,UAAUG,eAAe+G,GAC7BtE,EAAM5J,KAAKkO,EACd,CACJ,CAID,IAAK,MAAMQ,KAAkBxB,GAC+B,IAApD/E,EAAInB,UAAUM,kBAAkBoH,KAChCzB,EAAY0B,YAAYD,GACxBvG,EAAInB,UAAUO,iBAAiBmH,IAKvC,OADAvG,EAAIV,KAAKM,iBAAiBkF,EAAa,CAACrD,MAAOA,EAAOgF,KAAMzB,EAAWD,QAASA,IACzE3E,CACV,CAUD,SAASrB,IACR,CAwCD,SAASkF,EAAayC,EAAOC,EAAO3G,GAChC,OAAa,MAAT0G,GAA0B,MAATC,IAGjBD,EAAMlE,WAAamE,EAAMnE,UAAYkE,EAAME,UAAYD,EAAMC,UAC5C,KAAbF,EAAMG,IAAaH,EAAMG,KAAOF,EAAME,IAG/BC,EAAuB9G,EAAK0G,EAAOC,GAAS,GAI9D,CAED,SAAStE,EAAYqE,EAAOC,GACxB,OAAa,MAATD,GAA0B,MAATC,IAGdD,EAAMlE,WAAamE,EAAMnE,UAAYkE,EAAME,UAAYD,EAAMC,QACvE,CAED,SAASxC,EAAmB2C,EAAgBC,EAAchH,GACtD,KAAO+G,IAAmBC,GAAc,CACpC,IAAIzC,EAAWwC,EACfA,EAAiBA,EAAe5F,YAChCqD,EAAWD,EAAUvE,EACxB,CAED,OADAgE,EAA2BhE,EAAKgH,GACzBA,EAAa7F,WACvB,CAQD,SAASgD,EAAetD,EAAY8C,EAAWC,EAAUE,EAAgB9D,GAGrE,IAAIiH,EAA2BH,EAAuB9G,EAAK4D,EAAUD,GAKrE,GAAIsD,EAA2B,EAAG,CAC9B,IAAIC,EAAiBpD,EAKjBqD,EAAkB,EACtB,KAAyB,MAAlBD,GAAwB,CAG3B,GAAIjD,EAAaL,EAAUsD,EAAgBlH,GACvC,OAAOkH,EAKX,GADAC,GAAmBL,EAAuB9G,EAAKkH,EAAgBrG,GAC3DsG,EAAkBF,EAGlB,OAAO,KAIXC,EAAiBA,EAAe/F,WACnC,CACJ,CACD,OA7BqB,IA8BxB,CAQD,SAASmD,EAAczD,EAAY8C,EAAWC,EAAUE,EAAgB9D,GAEpE,IAAIoH,EAAqBtD,EACrB3C,EAAcyC,EAASzC,YACvBkG,EAAwB,EAE5B,KAA6B,MAAtBD,GAA4B,CAE/B,GAAIN,EAAuB9G,EAAKoH,EAAoBvG,GAAc,EAG9D,OAAO,KAIX,GAAIwB,EAAYuB,EAAUwD,GACtB,OAAOA,EAGX,GAAI/E,EAAYlB,EAAaiG,KAGzBC,IACAlG,EAAcA,EAAYA,YAItBkG,GAAyB,GACzB,OAAO,KAKfD,EAAqBA,EAAmBjG,WAC3C,CAED,OAAOiG,CACV,CAmGD,SAASlG,EAAawF,EAAOC,EAAO3G,GAChC,OAAIqC,EAAYqE,EAAOC,GACZ,GAAKG,EAAuB9G,EAAK0G,EAAOC,GAE5C,CACV,CAED,SAASnC,EAAWD,EAAUvE,GAC1BgE,EAA2BhE,EAAKuE,IACkB,IAA9CvE,EAAInB,UAAUM,kBAAkBoF,KAEpCA,EAASlP,SACT2K,EAAInB,UAAUO,iBAAiBmF,GAClC,CAMD,SAAS+C,EAAoBtH,EAAK6G,GAC9B,OAAQ7G,EAAIuH,QAAQ9B,IAAIoB,EAC3B,CAED,SAASW,EAAexH,EAAK6G,EAAIY,GAE7B,OADYzH,EAAI0H,MAAMlN,IAAIiN,IAAehJ,GAC5BgH,IAAIoB,EACpB,CAED,SAAS7C,EAA2BhE,EAAK0B,GACrC,IAAIiG,EAAQ3H,EAAI0H,MAAMlN,IAAIkH,IAASjD,EACnC,IAAK,MAAMoI,KAAMc,EACb3H,EAAIuH,QAAQpS,IAAI0R,EAEvB,CAED,SAASC,EAAuB9G,EAAK0G,EAAOC,GACxC,IAAIiB,EAAY5H,EAAI0H,MAAMlN,IAAIkM,IAAUjI,EACpCoJ,EAAa,EACjB,IAAK,MAAMhB,KAAMe,EAGTN,EAAoBtH,EAAK6G,IAAOW,EAAexH,EAAK6G,EAAIF,MACtDkB,EAGV,OAAOA,CACV,CAUD,SAASC,EAAqBpG,EAAMgG,GAChC,IAAIK,EAAarG,EAAKE,cAElBoG,EAAatG,EAAK9L,iBAAiB,QACvC,IAAK,MAAM4J,KAAOwI,EAAY,CAC1B,IAAIC,EAAUzI,EAGd,KAAOyI,IAAYF,GAAyB,MAAXE,GAAiB,CAC9C,IAAIN,EAAQD,EAAMlN,IAAIyN,GAET,MAATN,IACAA,EAAQ,IAAIjJ,IACZgJ,EAAMpN,IAAI2N,EAASN,IAEvBA,EAAMxS,IAAIqK,EAAIqH,IACdoB,EAAUA,EAAQrG,aACrB,CACJ,CACJ,CAYD,SAASsG,EAAYC,EAAYtH,GAC7B,IAAI6G,EAAQ,IAAItC,IAGhB,OAFA0C,EAAqBK,EAAYT,GACjCI,EAAqBjH,EAAY6G,GAC1BA,CACV,CAKD,MAAO,CACHU,MAtyBJ,SAAetI,EAASe,EAAY1P,EAAS,CAAA,GAErC2O,aAAmBuI,WACnBvI,EAAUA,EAAQwI,iBAGI,iBAAfzH,IACPA,EA4lBR,SAAsBA,GAClB,IAAI0H,EAAS,IAAIC,UAGbC,EAAyB5H,EAAW5K,QAAQ,uCAAwC,IAGxF,GAAIwS,EAAuBC,MAAM,aAAeD,EAAuBC,MAAM,aAAeD,EAAuBC,MAAM,YAAa,CAClI,IAAI7U,EAAU0U,EAAOI,gBAAgB9H,EAAY,aAEjD,GAAI4H,EAAuBC,MAAM,YAE7B,OADA7U,EAAQ+U,sBAAuB,EACxB/U,EACJ,CAEH,IAAIgV,EAAchV,EAAQC,WAC1B,OAAI+U,GACAA,EAAYD,sBAAuB,EAC5BC,GAEA,IAEd,CACjB,CAAmB,CAGH,IACIhV,EADc0U,EAAOI,gBAAgB,mBAAqB9H,EAAa,qBAAsB,aACvEsB,KAAK1M,cAAc,YAAY5B,QAEzD,OADAA,EAAQ+U,sBAAuB,EACxB/U,CACV,CACJ,CA3nBoBiV,CAAajI,IAG9B,IAAIkI,EA0nBR,SAA0BlI,GACtB,GAAkB,MAAdA,EAAoB,CAGpB,OADoBpN,SAASC,cAAc,MAE3D,CAAmB,GAAImN,EAAW+H,qBAElB,OAAO/H,EACJ,GAAIA,aAAsBmI,KAAM,CAEnC,MAAMC,EAAcxV,SAASC,cAAc,OAE3C,OADAuV,EAAYC,OAAOrI,GACZoI,CACvB,CAAmB,CAGH,MAAMA,EAAcxV,SAASC,cAAc,OAC3C,IAAK,MAAM8L,IAAO,IAAIqB,GAClBoI,EAAYC,OAAO1J,GAEvB,OAAOyJ,CACV,CACJ,CAhpB2BE,CAAiBtI,GAErCb,EAgdR,SAA4BF,EAASe,EAAY1P,GAE7C,OADAA,EAnBJ,SAAuBA,GACnB,IAAIiY,EAAc,CAAA,EAclB,OAZA7W,OAAOO,OAAOsW,EAAazK,GAC3BpM,OAAOO,OAAOsW,EAAajY,GAG3BiY,EAAYvK,UAAY,GACxBtM,OAAOO,OAAOsW,EAAYvK,UAAWF,EAASE,WAC9CtM,OAAOO,OAAOsW,EAAYvK,UAAW1N,EAAO0N,WAG5CuK,EAAY9J,KAAO,GACnB/M,OAAOO,OAAOsW,EAAY9J,KAAMX,EAASW,MACzC/M,OAAOO,OAAOsW,EAAY9J,KAAMnO,EAAOmO,MAChC8J,CACV,CAGYC,CAAclY,GAChB,CACH2K,OAAQgE,EACRe,WAAYA,EACZ1P,OAAQA,EACRyN,WAAYzN,EAAOyN,WACnBwD,aAAcjR,EAAOiR,aACrBH,kBAAmB9Q,EAAO8Q,kBAC1ByF,MAAOQ,EAAYpI,EAASe,GAC5B0G,QAAS,IAAI7I,IACbG,UAAW1N,EAAO0N,UAClBS,KAAMnO,EAAOmO,KAEpB,CA9dagK,CAAmBxJ,EAASiJ,EAAmB5X,GAEzD,OAAO0O,EAAuBC,EAASiJ,EAAmB/I,EAC7D,EAwxBGrB,WAEP,CA90BW,ICKf,SAAU4K,EAAMC,GAIb,IAAIC,EACJ,GAAuB,iBAAZC,QAAsB,CAG7B,IAAMD,EAASE,QAAQ,SAAY,CAAC,MAAOhO,GAAK,CAChDiO,OAAOF,QAAUF,EAAQC,EAC5B,KAA4B,mBAAXI,QAAyBA,OAAOC,IAE9CD,QAAO,SAAUE,GAIb,IAAMN,EAASM,EADN,SACgB,CAAC,MAAOpO,GAAK,CACtC,OAAO6N,EAAQC,EAC3B,IAEQF,EAAKS,QAAUR,EAAQD,EAAKE,OAEpC,CAtBA,CAsBEvS,QAAQL,QAAQ,SAAU4S,GAOxB,IAAIQ,EAA8B,mBAAXR,EAEvBS,IAAsBrT,OAAOkH,iBAE7BtK,EAAWoD,OAAOpD,SAElB0W,EAAMtT,OAAO8G,WAEbyM,EAAW,SAASC,EAAI1O,EAAGP,EAAUkP,GAE7BJ,EACAG,EAAGtM,iBAAiBpC,EAAGP,IAAYkP,GAEnCD,EAAGE,YAAY,KAAO5O,EAAGP,EAEhC,EAEDoP,EAAc,SAASH,EAAI1O,EAAGP,EAAUkP,GAEhCJ,EACAG,EAAG7N,oBAAoBb,EAAGP,IAAYkP,GAEtCD,EAAGI,YAAY,KAAO9O,EAAGP,EAEhC,EAODsP,EAAW,SAASL,EAAIM,GAEpB,OAA+D,KAAvD,IAAMN,EAAGO,UAAY,KAAKrX,QAAQ,IAAMoX,EAAK,IACxD,EAED5V,EAAW,SAASsV,EAAIM,GAEfD,EAASL,EAAIM,KACdN,EAAGO,UAA8B,KAAjBP,EAAGO,UAAoBD,EAAKN,EAAGO,UAAY,IAAMD,EAExE,EAEDvV,EAAc,SAASiV,EAAIM,GAjBpB,IAASE,EAmBZR,EAAGO,WAnBSC,GAmBS,IAAMR,EAAGO,UAAY,KAAK3U,QAAQ,IAAM0U,EAAK,IAAK,MAjB5D/W,KAAOiX,EAAIjX,OAASiX,EAAI5U,QAAQ,aAAa,GAkB3D,EAEDhD,EAAU,SAASZ,GAEf,MAAO,QAAUyY,KAAKvY,OAAOC,UAAUG,SAASD,KAAKL,GACxD,EAED0Y,EAAS,SAAS1Y,GAEd,MAAO,OAASyY,KAAKvY,OAAOC,UAAUG,SAASD,KAAKL,MAAU2B,MAAM3B,EAAI2Y,UAC3E,EAEDC,EAAY,SAASC,GAEjB,IAAIC,EAAMD,EAAKE,SACf,OAAe,IAARD,GAAqB,IAARA,CACvB,EAEDE,EAAa,SAASC,GAGlB,OAASA,EAAO,GAAM,GAAKA,EAAO,KAAQ,GAAMA,EAAO,KAAQ,CAClE,EAEDC,EAAiB,SAASD,EAAME,GAE5B,MAAO,CAAC,GAAIH,EAAWC,GAAQ,GAAK,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,IAAIE,EACnF,EAEDC,EAAkB,SAASP,GAEnBH,EAAOG,IAAOA,EAAKQ,SAAS,EAAE,EAAE,EAAE,EACzC,EAEDC,EAAe,SAASC,EAAEC,GAGtB,OAAOD,EAAEZ,YAAca,EAAEb,SAC5B,EAEDjZ,EAAS,SAASwQ,EAAIrP,EAAM4Y,GAExB,IAAIxZ,EAAMyZ,EACV,IAAKzZ,KAAQY,GACT6Y,OAAuBpU,IAAb4K,EAAGjQ,KACwB,iBAAfY,EAAKZ,IAAqC,OAAfY,EAAKZ,SAA0CqF,IAAxBzE,EAAKZ,GAAM0Z,SAC3EjB,EAAO7X,EAAKZ,IACRwZ,IACAvJ,EAAGjQ,GAAQ,IAAI+D,KAAKnD,EAAKZ,GAAM0Y,YAG9B/X,EAAQC,EAAKZ,IACdwZ,IACAvJ,EAAGjQ,GAAQY,EAAKZ,GAAM0D,MAAM,IAGhCuM,EAAGjQ,GAAQP,EAAO,CAAA,EAAImB,EAAKZ,GAAOwZ,IAE/BA,GAAcC,IACrBxJ,EAAGjQ,GAAQY,EAAKZ,IAGxB,OAAOiQ,CACV,EAED0J,EAAY,SAAS5B,EAAItO,EAAWtK,GAEhC,IAAIya,EAEAzY,EAAS0Y,cACTD,EAAKzY,EAAS0Y,YAAY,eACvBC,UAAUrQ,GAAW,GAAM,GAC9BmQ,EAAKna,EAAOma,EAAIza,GAChB4Y,EAAGzM,cAAcsO,IACVzY,EAAS4Y,oBAChBH,EAAKzY,EAAS4Y,oBACdH,EAAKna,EAAOma,EAAIza,GAChB4Y,EAAG4B,UAAU,KAAOlQ,EAAWmQ,GAEtC,EAEDI,EAAiB,SAASC,GAStB,OARIA,EAASf,MAAQ,IACjBe,EAASjB,MAAQ/U,KAAKiW,KAAKjW,KAAKkW,IAAIF,EAASf,OAAO,IACpDe,EAASf,OAAS,IAElBe,EAASf,MAAQ,KACjBe,EAASjB,MAAQ/U,KAAKmW,MAAMnW,KAAKkW,IAAIF,EAASf,OAAO,IACrDe,EAASf,OAAS,IAEfe,CACV,EAKD5N,EAAW,CAGPgO,MAAO,KAGPC,WAAOjV,EAGPkV,UAAW,oCAIXC,SAAU,cAGVC,YAAY,EAGZC,OAAQ,aAIRra,SAAU,KAGVyG,MAAO,KAGP6T,YAAa,KAGbC,gBAAgB,EAGhBC,SAAU,EAIVC,uBAAwB,EAGxBC,cAAc,EAGdC,QAAS,KAETC,QAAS,KAGTC,UAAW,GAGXC,gBAAgB,EAGhBC,eAAe,EAGfC,QAAS,EACTC,QAAS,KACTC,cAAUlW,EACVmW,cAAUnW,EAEVoW,WAAY,KACZC,SAAU,KAEVC,OAAO,EAGPC,WAAY,GAGZC,oBAAoB,EAGpBC,iCAAiC,EAGjCC,4CAA4C,EAG5CC,eAAgB,EAIhBC,aAAc,OAGdC,eAAW7W,EAGX8W,mBAAoB,EAGpBC,KAAM,CACFC,cAAgB,iBAChBC,UAAgB,aAChBC,OAAgB,CAAC,UAAU,WAAW,QAAQ,QAAQ,MAAM,OAAO,OAAO,SAAS,YAAY,UAAU,WAAW,YACpHC,SAAgB,CAAC,SAAS,SAAS,UAAU,YAAY,WAAW,SAAS,YAC7EC,cAAgB,CAAC,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,QAIzDC,MAAO,KAGP3X,OAAQ,GAGR4X,aAAc,KACdC,SAAU,KACVC,aAAc,KACdC,OAAQ,KACRC,cAAe,KACfC,QAAS,KACTC,OAAQ,KAGRC,eAAe,EAGfC,QAAS,KAGTC,WAAW,EAGXC,aAAa,EAGbC,iBAAkB,SAIlBC,QAAS,CAAC,QAAS,SAAU,QAAS,SAGtCC,MAAO,QAGPC,MAAO,QAGPC,OAAQ,SAGRC,MAAO,WAGPC,cAAe,KACfC,YAAa,GACbC,WAAY,GACZC,UAAW,GACXC,WAAY,GACZC,cAAe,GACfC,UAAW,GACXC,aAAc,GACdC,UAAW,GACXC,SAAU,GACVC,aAAc,GACdC,WAAY,GACZC,WAAY,GACZC,YAAa,GACbC,WAAY,IAOhBC,EAAgB,SAASC,EAAM/F,EAAKgG,GAGhC,IADAhG,GAAO+F,EAAK/D,SACLhC,GAAO,GACVA,GAAO,EAEX,OAAOgG,EAAOD,EAAKxC,KAAKK,cAAc5D,GAAO+F,EAAKxC,KAAKI,SAAS3D,EACnE,EAEDiG,EAAY,SAASF,EAAMzT,GAEvB,IAAIgH,EAAO,GACX,IAAI4M,EAAM,GACNC,EAAe,QACnB,GAAIJ,EAAKK,QAAS,CACd,IAAIL,EAAK9C,gCAUL,MAAO,uBAAuB3Q,EAAKiT,mBARnCjM,EAAK5M,KAAK,iBAENqZ,EAAK7C,4CAEL5J,EAAK5M,KAAK,WAMrB,CA+BD,OA9BIqZ,EAAKM,aACLH,EAAIxZ,KAAK,eACT4M,EAAK5M,KAAK,aAEVqZ,EAAKO,SAELhN,EAAK5M,KAAK,iBAEVqZ,EAAKQ,aACLL,EAAIxZ,KAAK,eACT4M,EAAK5M,KAAK,oBACVyZ,EAAe,QAEfJ,EAAKS,UAELlN,EAAK5M,KAAK,iBAEVqZ,EAAKU,WAELnN,EAAK5M,KAAK,iBAEVqZ,EAAKW,cAELpN,EAAK5M,KAAK,uBAEVqZ,EAAKY,YAELrN,EAAK5M,KAAK,qBAGP,iBAAiBqZ,EAAK/F,eAAekG,EAAI3a,KAAK,QAAQ+G,EAAKiT,6BAA6BY,4DACjD7T,EAAKkT,yCAAyCO,EAAK5F,wBAAwB4F,EAAK1F,uBAAuB0F,EAAK/F,QAAQ1G,EAAK/N,KAAK,kCAC1Jwa,EAAK/F,2DAG1B,EA0BD4G,EAAa,SAAUC,EAAGC,EAAGC,EAAG9E,GAC5B,IAAIlC,EAAO,IAAI7U,KAAK6b,EAAGD,EAAGD,GACtBG,EAAOlI,EAAYR,EAAOyB,GAAMkH,UA1B9B,SAASlH,EAAMkC,GAErBlC,EAAKQ,SAAS,EAAG,EAAG,EAAG,GAIvB,IAAI2G,EAAiBnH,EAAKoH,UACtBC,EAAiBrH,EAAKE,SACtBoH,EAAiBpF,EACjBqF,EAAiBD,EAAiB,EAElCE,EAAiB,SAASvH,GAAO,OAAQA,EADxB,EAC4C,GAD5C,GAIrBD,EAAKyH,QAAQN,EAAUI,EAAWC,EAAYH,IAE9C,IAAIK,EAAc,IAAIvc,KAAK6U,EAAK2H,cAAe,EAAGL,GAE9CM,GAAe5H,EAAKF,UAAY4H,EAAO5H,WADzB,MAIlB,OAFkB,EAAIzU,KAAKwc,OAAOD,EAAcL,EAAWC,EAAYE,EAAOxH,WATzD,EAYxB,CAImDgH,CAAQlH,EAAMkC,GAE9D,MAAO,uBAAyB+E,EAAO,OAC1C,EAEDa,EAAY,SAASC,EAAMhF,EAAOP,EAAewF,GAE7C,MAAO,qBAAuBxF,EAAgB,mBAAqB,KAAOwF,EAAgB,eAAiB,IAAM,MAAQjF,EAAQgF,EAAKE,UAAYF,GAAMvc,KAAK,IAAM,OACtK,EAmBD0c,EAAc,SAASnc,EAAUoc,EAAG/H,EAAME,EAAO8H,EAASC,GAEtD,IAAIphB,EAAGqhB,EAAGnC,EAKNoC,EACAC,EALAxC,EAAOja,EAAS0c,GAChBC,EAAYtI,IAAS4F,EAAKvD,QAC1BkG,EAAYvI,IAAS4F,EAAKtD,QAC1Bxa,EAAO,YAAcmgB,EAAS,qBAAuBrC,EAAKf,YAAc,uCAGxE2D,GAAO,EACPC,GAAO,EAEX,IAAK1C,EAAM,GAAIlf,EAAI,EAAGA,EAAI,GAAIA,IAC1Bkf,EAAIxZ,KAAK,mBAAqByT,IAASgI,EAAUnhB,EAAIkhB,EAAI,GAAKlhB,EAAIkhB,GAAK,KAClElhB,IAAMqZ,EAAQ,uBAAwB,KACrCoI,GAAazhB,EAAI+e,EAAKrD,UAAcgG,GAAa1hB,EAAI+e,EAAKpD,SAAY,uBAAyB,IAAM,IACvGoD,EAAKxC,KAAKG,OAAO1c,GAAK,aAc9B,IAXAshB,EAAY,wBAA0BvC,EAAKd,WAAa,KAAOc,EAAKxC,KAAKG,OAAOrD,GAAS,2DAA6D6F,EAAI3a,KAAK,IAAM,kBAGjKzD,EAAQie,EAAK1D,YACbrb,EAAI+e,EAAK1D,UAAU,GACnBgG,EAAItC,EAAK1D,UAAU,GAAK,IAExBrb,EAAImZ,EAAO4F,EAAK1D,UAChBgG,EAAI,EAAIlI,EAAO4F,EAAK1D,WAGnB6D,EAAM,GAAIlf,EAAIqhB,GAAKrhB,GAAK+e,EAAKtD,QAASzb,IACnCA,GAAK+e,EAAKvD,SACV0D,EAAIxZ,KAAK,kBAAoB1F,EAAI,KAAOA,IAAMmZ,EAAO,uBAAwB,IAAM,IAAO,EAAK,aA4BvG,OAzBAoI,EAAW,wBAA0BxC,EAAKb,UAAY,KAAO/E,EAAO4F,EAAKhD,WAAa,0DAA4DmD,EAAI3a,KAAK,IAAM,kBAG7Jkd,IAAwB,IAAVpI,GAAe0F,EAAKrD,UAAYrC,KAC9CsI,GAAO,GAGPD,IAAwB,KAAVrI,GAAgB0F,EAAKpD,UAAYtC,KAC/CuI,GAAO,GAGD,IAANV,IACAjgB,GAAQ,0BAA0B0gB,EAAO,GAAK,iBAAiB5C,EAAKX,gCAAgCuD,EAAO,GAAK,cAAc5C,EAAKxC,KAAKC,0BAGxIuC,EAAK/C,mBACL/a,GAAQsgB,EAAWD,EAEnBrgB,GAAQqgB,EAAYC,EAGpBL,IAAOpc,EAAS0c,GAAGrF,eAAiB,IACpClb,GAAQ,0BAA0B2gB,EAAO,GAAK,iBAAiB7C,EAAKV,4BAA4BuD,EAAO,GAAK,cAAc7C,EAAKxC,KAAKE,sBAGjIxb,EAAQ,QAClB,EAED4gB,EAAc,SAAS9C,EAAMzf,EAAM8hB,GAE/B,MAAO,wFAA0FA,EAAS,KA7EjG,SAASrC,GAElB,IAAI/e,EAAGkf,EAAM,GAIb,IAHIH,EAAKzD,gBACL4D,EAAIxZ,KAAK,aAER1F,EAAI,EAAGA,EAAI,EAAGA,IACfkf,EAAIxZ,KAAK,+BAAiCqZ,EAAKT,aAAe,YAAcQ,EAAcC,EAAM/e,GAAK,iBAAmB8e,EAAcC,EAAM/e,GAAK,KAAO8e,EAAcC,EAAM/e,GAAG,GAAQ,eAE3L,MAAO,eAAiB+e,EAAKjD,MAAQoD,EAAI8B,UAAY9B,GAAK3a,KAAK,IAAM,eACxE,CAmEoHud,CAAW/C,IAhFrH,UAgFwIzf,EAhFvHiF,KAAK,IAgFtB,mBACV,EAEDwd,EAAgB,SAAShD,GAErB,OAAIA,EAAKiD,MACE,+BAAiCjD,EAAKZ,WAAa,KAAOY,EAAKiD,MAAQ,SAG3E,EACV,EAEDC,EAAa,SAASlD,GAElB,IAAI9d,EAAO,GACPyc,EAAU,CACVC,MAAO,2BAA6BoB,EAAKL,WAAa,mBAAqBK,EAAKpB,MAAQ,YACxFE,OAAQ,4BAA8BkB,EAAKH,YAAc,mBAAqBG,EAAKlB,OAAS,YAC5FD,MAAO,2BAA6BmB,EAAKJ,WAAa,mBAAqBI,EAAKnB,MAAQ,YACxFE,MAAO,2BAA6BiB,EAAKF,WAAa,mBAAqBE,EAAKjB,MAAQ,aAW5F,OATIiB,EAAKvB,cACLvc,GAAQ,0BAA4B8d,EAAKN,aAAe,KAExDM,EAAKrB,QAAQ9c,SAASshB,IAClBjhB,GAAQyc,EAAQwE,EAAO,IAG3BjhB,GAAQ,UAELA,CACV,EAMD4W,EAAU,SAAShY,GAEf,IAAIyL,EAAOvG,KACPga,EAAOzT,EAAKtM,OAAOa,GAEvByL,EAAK6W,aAAe,SAAS3Y,GAEzB,GAAK8B,EAAK8W,GAAV,CAIA,IAAIzY,GADJH,EAAIA,GAAK9E,OAAO2d,OACD1Y,QAAUH,EAAE8Y,WAC3B,GAAK3Y,EAAL,CAIA,GAAIoV,EAAKvB,YAAa,CAGlB,GAAIjF,EAAS5O,EAAQ,YAAa,CAC9B,IAAIiU,EAAQ,IAAI1Z,KAEZoH,EAAKkW,GAAGhhB,SACR8K,EAAKkW,GAAGhH,MAAMnb,MAAQiM,EAAKkW,GAAGhhB,SAASod,EAAOtS,EAAKkW,GAAG3G,QAEtDvP,EAAKkW,GAAGhH,MAAMnb,MADPyY,EACeR,EAAOsG,GAAO/C,OAAOvP,EAAKkW,GAAG3G,QAE7B+C,EAAM2E,eAGhCjX,EAAKkX,OACDzD,EAAKvE,OAASuE,EAAKzC,mBACnByC,EAAKvE,MAAMiI,OAGfnX,EAAKkV,QAAQ,IAAItc,KAAK0Z,EAAM8C,cAAe9C,EAAM8E,WAAY9E,EAAMuC,WACtE,CAGG5H,EAAS5O,EAAQ,cACjB2B,EAAKkW,GAAGhH,MAAMnb,MAAQiM,EAAK9K,WAC3B8K,EAAKkX,OACDzD,EAAKvE,OAASuE,EAAKzC,mBACnByC,EAAKvE,MAAMiI,QAKflK,EAAS5O,EAAQ,eACjB2B,EAAKkX,OACDzD,EAAKvE,OAASuE,EAAKzC,mBACnByC,EAAKvE,MAAMiI,QAKflK,EAAS5O,EAAQ,cACjB2B,EAAKkX,OACDzD,EAAKvE,OAASuE,EAAKzC,mBACnByC,EAAKvE,MAAMiI,OAEfnX,EAAKqS,QAEZ,CAwBD,GAtBKpF,EAAS5O,EAAQ,kBACd4O,EAAS5O,EAAQ,cAAiB4O,EAAS5O,EAAQ,aAAgB4O,EAAS5O,EAAOgZ,WAAY,eAc1FpK,EAAS5O,EAAQ,WACtB2B,EAAKsX,YAEArK,EAAS5O,EAAQ,YACtB2B,EAAKmR,aAjBLnR,EAAKkV,QAAQ,IAAItc,KAAKyF,EAAO2D,aAAa,gBAAiB3D,EAAO2D,aAAa,iBAAkB3D,EAAO2D,aAAa,iBACjHyR,EAAKtE,OACLzC,GAAI,WAEI+G,EAAKxB,WACLjS,EAAKkX,OAELzD,EAAKzC,mBAAqByC,EAAKvE,OAC/BuE,EAAKvE,MAAMiI,MAElB,GAAE,OAUVlK,EAAS5O,EAAQ,aASlB2B,EAAKuX,IAAK,MATsB,CAEhC,IAAIrZ,EAAEsZ,eAIF,OADAtZ,EAAEuZ,aAAc,GACT,EAHPvZ,EAAEsZ,gBAKtB,CAjFa,CALA,CAyFb,EAEQxX,EAAK0X,UAAY,SAASxZ,GAGtB,IAAIG,GADJH,EAAIA,GAAK9E,OAAO2d,OACD1Y,QAAUH,EAAE8Y,WACtB3Y,IAGD4O,EAAS5O,EAAQ,mBACjB2B,EAAK2X,UAAUtZ,EAAOtK,OAEjBkZ,EAAS5O,EAAQ,mBACtB2B,EAAK4X,SAASvZ,EAAOtK,OAErC,EAEQiM,EAAK6X,aAAe,SAAS3Z,GAIzB,GAFAA,EAAIA,GAAK9E,OAAO2d,MAEZ/W,EAAK8X,YAGL,OAFA5Z,EAAEsZ,iBAEKtZ,EAAEjK,KACL,IAAK,QACL,IAAK,IACGwf,EAAKvE,QACLuE,EAAKvE,MAAMiI,OACXnX,EAAKkX,QAET,MACJ,IAAK,SACGlX,EAAK8X,aACL9X,EAAKkX,OAET,MACJ,IAAK,YACDlX,EAAK+X,WAAW,WAAY,GAC5B,MACJ,IAAK,UACD/X,EAAK+X,WAAW,WAAY,GAC5B,MACJ,IAAK,aACD/X,EAAK+X,WAAW,MAAO,GACvB,MACJ,IAAK,YACD/X,EAAK+X,WAAW,MAAO,GACvB,MACJ,IAAK,YACL,IAAK,SACD/X,EAAKkV,QAAQ,MAIrC,EAEQlV,EAAKgY,iBAAmB,WAEpB,GAAIvE,EAAK9X,MACL,OAAO8X,EAAK9X,MAAM8X,EAAKvE,MAAMnb,MAAO0f,EAAKlE,QACtC,GAAI/C,EAAW,CAClB,IAAIiB,EAAOzB,EAAOyH,EAAKvE,MAAMnb,MAAO0f,EAAKlE,OAAQkE,EAAK7D,cACtD,OAAQnC,GAAQA,EAAKwK,UAAaxK,EAAKyK,SAAW,IAClE,CACgB,OAAO,IAAItf,KAAKA,KAAK+C,MAAM8X,EAAKvE,MAAMnb,OAEtD,EAEQiM,EAAKmY,eAAiB,SAASja,GAE3B,IAAIuP,EAEAvP,EAAEka,UAAYpY,IAGlByN,EAAOzN,EAAKgY,mBACR1K,EAAOG,GACTzN,EAAKkV,QAAQzH,GAEXzN,EAAKqS,QAKrB,EAEQrS,EAAKqY,cAAgB,WAEjBrY,EAAKsY,MACjB,EAEQtY,EAAKuY,cAAgB,WAEjBvY,EAAKsY,MACjB,EAEQtY,EAAKwY,aAAe,WAGhB,IAAIC,EAAMziB,EAASyO,cACnB,GACI,GAAIwI,EAASwL,EAAK,aACd,aAGAA,EAAMA,EAAIpB,YAOZ5D,EAAKxB,YAAewB,EAAKxB,WAAcjS,EAAKuX,KAC9CvX,EAAK0Y,GAAKhM,GAAI,WACV1M,EAAKkX,MACR,GAAE,KAEPlX,EAAKuX,IAAK,CACtB,EAEQvX,EAAK2Y,SAAW,SAASza,GAGrB,IAAIG,GADJH,EAAIA,GAAK9E,OAAO2d,OACD1Y,QAAUH,EAAE8Y,WACvByB,EAAMpa,EACV,GAAKA,EAAL,EAGKoO,GAAqBQ,EAAS5O,EAAQ,eAClCA,EAAOua,WACRva,EAAOjH,aAAa,WAAY,WAChCuV,EAAStO,EAAQ,SAAU2B,EAAK0X,aAGxC,GACI,GAAIzK,EAASwL,EAAK,cAAgBA,IAAQhF,EAAKoF,QAC3C,aAGAJ,EAAMA,EAAIpB,YACdrX,EAAK8W,IAAMzY,IAAWoV,EAAKoF,SAAWJ,IAAQhF,EAAKoF,SACnD7Y,EAAKkX,MAdR,CAgBb,EAEQlX,EAAK4M,GAAK5W,EAASC,cAAc,OACjC,IAAIwc,EAAgBgB,EAAKhB,cAAgB,IAAMgB,EAAKhB,cAAgB,GACpEzS,EAAK4M,GAAGO,UAAY,aAAesG,EAAKjD,MAAQ,UAAY,KAAOiD,EAAKlC,MAAQ,IAAMkC,EAAKlC,MAAQ,IAAMkB,EAErGgB,EAAKtE,QACLnP,EAAK4M,GAAG/V,MAAMD,QAAU,QAG5B+V,EAAS3M,EAAK4M,GAAI,YAAa5M,EAAK6W,cAAc,GAClDlK,EAAS3M,EAAK4M,GAAI,WAAY5M,EAAK6W,cAAc,GACjDlK,EAAS3M,EAAK4M,GAAI,SAAU5M,EAAK0X,WAE7BjE,EAAK1B,eACLpF,EAAS3W,EAAU,UAAWgK,EAAK6X,cAGnCpE,EAAKvE,QACDuE,EAAK1C,UACL0C,EAAK1C,UAAUzK,YAAYtG,EAAK4M,IACzB6G,EAAKtE,MACZnZ,EAAS0O,KAAK4B,YAAYtG,EAAK4M,IAE/B6G,EAAKvE,MAAMmI,WAAWjT,aAAapE,EAAK4M,GAAI6G,EAAKvE,MAAMxL,aAE3DiJ,EAAS8G,EAAKvE,MAAO,SAAUlP,EAAKmY,gBAE/B1E,EAAKjE,cACNiE,EAAKjE,YAAcxP,EAAKgY,mBACxBvE,EAAKhE,gBAAiB,IAI9B,IAAIqJ,EAAUrF,EAAKjE,YAEflC,EAAOwL,GACHrF,EAAKhE,eACLzP,EAAKkV,QAAQ4D,GAAS,GAEtB9Y,EAAK+Y,SAASD,GAGlB9Y,EAAK+Y,SAAS,IAAIngB,MAGlB6a,EAAKtE,OACL1V,KAAKyd,OACLlX,EAAK4M,GAAGO,WAAa,YACrBR,EAAS8G,EAAKoF,QAAS,QAAS7Y,EAAKuY,eACrC5L,EAAS8G,EAAKoF,QAAS,QAAS7Y,EAAKqY,eACrC1L,EAAS8G,EAAKoF,QAAS,OAAQ7Y,EAAKwY,eAEpC/e,KAAK6e,OAG2B,mBAAzB7e,KAAKyc,GAAG1E,cACf/X,KAAKyc,GAAG1E,aAAavc,KAAKwE,KAEtC,EAmoBI,OA7nBA8S,EAAQxX,UAAY,CAMhBrB,OAAQ,SAASa,GAERkF,KAAKyc,KACNzc,KAAKyc,GAAK5hB,EAAO,CAAE,EAAE4M,GAAU,IAGnC,IAAIuS,EAAOnf,EAAOmF,KAAKyc,GAAI3hB,GAAS,GAEpCkf,EAAKjD,QAAUiD,EAAKjD,MAEpBiD,EAAKvB,cAAgBuB,EAAKvB,YAE1BuB,EAAKxB,YAAawB,EAAKvB,cAAeuB,EAAKrB,QAAQ7V,SAAS,aAAsBkX,EAAKxB,UAEvFwB,EAAKvE,MAASuE,EAAKvE,OAASuE,EAAKvE,MAAMX,SAAYkF,EAAKvE,MAAQ,KAEhEuE,EAAKlC,MAAgC,iBAAhBkC,EAAKlC,OAAuBkC,EAAKlC,MAAQkC,EAAKlC,MAAQ,KAE3EkC,EAAKtE,cAA0BjV,IAAfuZ,EAAKtE,MAAsBsE,EAAKvE,OAASuE,EAAKtE,MAAQsE,EAAKvE,OAE3EuE,EAAKoF,QAAWpF,EAAKoF,SAAWpF,EAAKoF,QAAQtK,SAAYkF,EAAKoF,QAAUpF,EAAKvE,MAE7EuE,EAAKuF,kBAAoBvF,EAAKuF,gBAE9BvF,EAAKwF,aAA8C,mBAAvBxF,EAAKwF,aAA+BxF,EAAKwF,aAAe,KAEpFxF,EAAK7Z,OAAS6Z,EAAK7Z,OAAOoC,KAAKyR,GAAS,IAAK7U,KAAKA,KAAK+C,MAAM8R,IAAQwJ,iBAErE,IAAIiC,EAAMC,SAAS1F,EAAK5C,eAAgB,KAAO,EAmB/C,GAlBA4C,EAAK5C,eAAiBqI,EAAM,EAAI,EAAIA,EAE/B5L,EAAOmG,EAAK5D,WACb4D,EAAK5D,SAAU,GAEdvC,EAAOmG,EAAK3D,WACb2D,EAAK3D,SAAU,GAEd2D,EAAK5D,SAAW4D,EAAK3D,SAAY2D,EAAK3D,QAAU2D,EAAK5D,UACtD4D,EAAK3D,QAAU2D,EAAK5D,SAAU,GAE9B4D,EAAK5D,SACLpW,KAAK2f,WAAW3F,EAAK5D,SAErB4D,EAAK3D,SACLrW,KAAK4f,WAAW5F,EAAK3D,SAGrBta,EAAQie,EAAK1D,WAAY,CACzB,IAAIuJ,GAAW,IAAI1gB,MAAOwc,cAAgB,GAC1C3B,EAAK1D,UAAU,GAAKoJ,SAAS1F,EAAK1D,UAAU,GAAI,KAAOuJ,EACvD7F,EAAK1D,UAAU,GAAKoJ,SAAS1F,EAAK1D,UAAU,GAAI,KAAOuJ,CACvE,MACgB7F,EAAK1D,UAAYjX,KAAKkW,IAAImK,SAAS1F,EAAK1D,UAAW,MAAQ7O,EAAS6O,UAChE0D,EAAK1D,UAAY,MACjB0D,EAAK1D,UAAY,KAIzB,OAAO0D,CACV,EAKDve,SAAU,SAASqa,GAGf,OADAA,EAASA,GAAU9V,KAAKyc,GAAG3G,OACtBjC,EAAO7T,KAAK8f,IAGb9f,KAAKyc,GAAGhhB,SACHuE,KAAKyc,GAAGhhB,SAASuE,KAAK8f,GAAIhK,GAE/B/C,EACKR,EAAOvS,KAAK8f,IAAIhK,OAAOA,GAEzB9V,KAAK8f,GAAGtC,eARJ,EASd,EAKDuC,UAAW,WAEP,OAAOhN,EAAYR,EAAOvS,KAAK8f,IAAM,IACxC,EAKDE,UAAW,SAAShM,EAAMiM,GAElBlN,GAAaR,EAAO2N,SAASlM,IAC7BhU,KAAKyb,QAAQzH,EAAKyK,SAAUwB,EAEnC,EAKD7E,QAAS,WAEL,OAAOvH,EAAO7T,KAAK8f,IAAM,IAAI3gB,KAAKa,KAAK8f,GAAGhM,WAAa,IAC1D,EAKD2H,QAAS,SAASzH,EAAMiM,GAEpB,IAAKjM,EAQD,OAPAhU,KAAK8f,GAAK,KAEN9f,KAAKyc,GAAGhH,QACRzV,KAAKyc,GAAGhH,MAAMnb,MAAQ,GACtBya,EAAU/U,KAAKyc,GAAGhH,MAAO,SAAU,CAAEkJ,QAAS3e,QAG3CA,KAAKmgB,OAKhB,GAHoB,iBAATnM,IACPA,EAAO,IAAI7U,KAAKA,KAAK+C,MAAM8R,KAE1BH,EAAOG,GAAZ,CAIA,IAAIoM,EAAMpgB,KAAKyc,GAAGrG,QACdiK,EAAMrgB,KAAKyc,GAAGpG,QAwBlB,GAtBIxC,EAAOuM,IAAQpM,EAAOoM,EACtBpM,EAAOoM,EACAvM,EAAOwM,IAAQrM,EAAOqM,IAC7BrM,EAAOqM,GAGXrgB,KAAK8f,GAAK,IAAI3gB,KAAK6U,EAAKF,WACxBS,EAAgBvU,KAAK8f,IACrB9f,KAAKsf,SAAStf,KAAK8f,IAEf9f,KAAKyc,GAAGhH,QAEHzV,KAAKyc,GAAGhE,cACTzY,KAAKyc,GAAGhH,MAAMnb,MAAQ0F,KAAKvE,YAG3BuE,KAAKyc,GAAGhE,cAAgBzY,KAAKyc,GAAG9D,QAAQ7V,SAAS,WACjD9C,KAAKyc,GAAGhH,MAAMnb,MAAQ0F,KAAKvE,YAG/BsZ,EAAU/U,KAAKyc,GAAGhH,MAAO,SAAU,CAAEkJ,QAAS3e,SAE7CigB,GAA+C,mBAArBjgB,KAAKyc,GAAGzE,SAAyB,CAC5D,IAAIyC,GAAW,EAEf,IAAK,MAAM6C,KAAStd,KAAKyc,GAAGtc,OACpBmd,GAAStd,KAAKob,WAAWoC,iBACzB/C,GAAW,GAInBza,KAAKyc,GAAGzE,SAASxc,KAAKwE,KAAMA,KAAKob,UAAWX,EAC/C,CArCA,CAsCJ,EAKD7B,MAAO,WAEH5Y,KAAKyb,QAAQ,KAChB,EAKD6D,SAAU,SAAStL,GAEf,IAAIsM,GAAc,EAElB,GAAKzM,EAAOG,GAAZ,CAIA,GAAIhU,KAAKugB,UAAW,CAChB,IAAIC,EAAmB,IAAIrhB,KAAKa,KAAKugB,UAAU,GAAGnM,KAAMpU,KAAKugB,UAAU,GAAGjM,MAAO,GAC7EmM,EAAkB,IAAIthB,KAAKa,KAAKugB,UAAUvgB,KAAKugB,UAAU5lB,OAAO,GAAGyZ,KAAMpU,KAAKugB,UAAUvgB,KAAKugB,UAAU5lB,OAAO,GAAG2Z,MAAO,GACxHoM,EAAc1M,EAAKF,UAEvB2M,EAAgBE,SAASF,EAAgB9C,WAAW,GACpD8C,EAAgBhF,QAAQgF,EAAgBrF,UAAU,GAClDkF,EAAeI,EAAcF,EAAiB1M,WAAa2M,EAAgB3M,UAAY4M,CAC1F,CAEGJ,IACAtgB,KAAKugB,UAAY,CAAC,CACdjM,MAAON,EAAK2J,WACZvJ,KAAMJ,EAAK2H,gBAEc,UAAzB3b,KAAKyc,GAAGpF,eACRrX,KAAKugB,UAAU,GAAGjM,OAAS,EAAItU,KAAKyc,GAAGrF,iBAI/CpX,KAAK4gB,iBAtBJ,CAuBJ,EAEDtC,WAAY,SAASuC,EAAM9E,GAEvB,IAGI+E,EAHA7M,EAAMjU,KAAKob,WAAa,IAAIjc,KAC5B4hB,EAA4B,GAAfrB,SAAS3D,GAAS,GAAG,GAAG,IAI5B,QAAT8E,EACAC,EAAS,IAAI3hB,KAAK8U,EAAI+M,UAAYD,GAClB,aAATF,IACPC,EAAS,IAAI3hB,KAAK8U,EAAI+M,UAAYD,IAGtC/gB,KAAKyb,QAAQqF,EAChB,EAEDF,gBAAiB,WACb5gB,KAAKugB,UAAU,GAAKnL,EAAepV,KAAKugB,UAAU,IAClD,IAAK,IAAIpE,EAAI,EAAGA,EAAInc,KAAKyc,GAAGrF,eAAgB+E,IACxCnc,KAAKugB,UAAUpE,GAAK/G,EAAe,CAC/Bd,MAAOtU,KAAKugB,UAAU,GAAGjM,MAAQ6H,EACjC/H,KAAMpU,KAAKugB,UAAU,GAAGnM,OAGhCpU,KAAKmgB,MACR,EAEDc,UAAW,WAEPjhB,KAAKsf,SAAS,IAAIngB,KACrB,EAKD+e,UAAW,SAAS5J,GAEXxX,MAAMwX,KACPtU,KAAKugB,UAAU,GAAGjM,MAAQoL,SAASpL,EAAO,IAC1CtU,KAAK4gB,kBAEZ,EAEDlJ,UAAW,WAEP1X,KAAKugB,UAAU,GAAGjM,QAClBtU,KAAK4gB,iBACR,EAED/C,UAAW,WAEP7d,KAAKugB,UAAU,GAAGjM,QAClBtU,KAAK4gB,iBACR,EAKDzC,SAAU,SAAS/J,GAEVtX,MAAMsX,KACPpU,KAAKugB,UAAU,GAAGnM,KAAOsL,SAAStL,EAAM,IACxCpU,KAAK4gB,kBAEZ,EAKDjB,WAAY,SAASrlB,GAEdA,aAAiB6E,MAChBoV,EAAgBja,GAChB0F,KAAKyc,GAAGrG,QAAU9b,EAClB0F,KAAKyc,GAAGhG,QAAWnc,EAAMqhB,cACzB3b,KAAKyc,GAAG9F,SAAWrc,EAAMqjB,aAEzB3d,KAAKyc,GAAGrG,QAAU3O,EAAS2O,QAC3BpW,KAAKyc,GAAGhG,QAAWhP,EAASgP,QAC5BzW,KAAKyc,GAAG9F,SAAWlP,EAASkP,SAC5B3W,KAAKyc,GAAG5F,WAAapP,EAASoP,YAGlC7W,KAAKmgB,MACR,EAKDP,WAAY,SAAStlB,GAEdA,aAAiB6E,MAChBoV,EAAgBja,GAChB0F,KAAKyc,GAAGpG,QAAU/b,EAClB0F,KAAKyc,GAAG/F,QAAUpc,EAAMqhB,cACxB3b,KAAKyc,GAAG7F,SAAWtc,EAAMqjB,aAEzB3d,KAAKyc,GAAGpG,QAAU5O,EAAS4O,QAC3BrW,KAAKyc,GAAG/F,QAAUjP,EAASiP,QAC3B1W,KAAKyc,GAAG7F,SAAWnP,EAASmP,SAC5B5W,KAAKyc,GAAG3F,SAAWrP,EAASqP,UAGhC9W,KAAKmgB,MACR,EAEDe,cAAe,SAAS5mB,GAEpB0F,KAAKyc,GAAG5F,WAAavc,CACxB,EAED6mB,YAAa,SAAS7mB,GAElB0F,KAAKyc,GAAG3F,SAAWxc,CACtB,EAKD6lB,KAAM,SAASiB,GAEX,GAAKphB,KAAKqd,IAAO+D,EAAjB,CAGA,IAMI/E,EANArC,EAAOha,KAAKyc,GACZhG,EAAUuD,EAAKvD,QACfC,EAAUsD,EAAKtD,QACfC,EAAWqD,EAAKrD,SAChBC,EAAWoD,EAAKpD,SAChB1a,EAAO,GAGP8D,KAAKqhB,IAAM5K,IACXzW,KAAKqhB,GAAK5K,GACL3Z,MAAM6Z,IAAa3W,KAAKshB,GAAK3K,IAC9B3W,KAAKshB,GAAK3K,IAGd3W,KAAKqhB,IAAM3K,IACX1W,KAAKqhB,GAAK3K,GACL5Z,MAAM8Z,IAAa5W,KAAKshB,GAAK1K,IAC9B5W,KAAKshB,GAAK1K,IAIlB,IAAK,IAAIuF,EAAI,EAAGA,EAAInC,EAAK5C,eAAgB+E,IACrCE,EAAS,YAAchd,KAAKC,SAAS7D,SAAS,IAAIsD,QAAQ,WAAY,IAAItE,OAAO,EAAG,GAEvD,OAAzBuf,EAAKtB,mBACLxc,GAAQghB,EAAWlD,IAGvB9d,GAAQ8gB,EAAchD,GACtB9d,GAAQ,0BAA4BggB,EAAYlc,KAAMmc,EAAGnc,KAAKugB,UAAUpE,GAAG/H,KAAMpU,KAAKugB,UAAUpE,GAAG7H,MAAOtU,KAAKugB,UAAU,GAAGnM,KAAMiI,GAAUrc,KAAKuhB,OAAOvhB,KAAKugB,UAAUpE,GAAG/H,KAAMpU,KAAKugB,UAAUpE,GAAG7H,MAAO+H,GAAU,SAEtL,UAAzBrC,EAAKtB,mBACLxc,GAAQghB,EAAWlD,IAI3Bha,KAAKmT,GAAG1W,UAAYP,EAEhB8d,EAAKtE,OACkB,WAApBsE,EAAKvE,MAAMxR,MACVgP,GAAI,WACA+G,EAAKoF,QAAQoC,OAChB,GAAE,GAImB,mBAAnBxhB,KAAKyc,GAAGpE,QACfrY,KAAKyc,GAAGpE,OAAOrY,MAGfga,EAAKtE,OAELsE,EAAKvE,MAAM9X,aAAa,aAAcqc,EAAKrE,UArD9C,CAuDJ,EAED8L,eAAgB,WAEZ,IAAIhM,EAAOuJ,EAAK0C,EAAOC,EAAQC,EAAeC,EAAgBC,EAAWC,EAAMC,EAAKC,EAAYC,EAAaC,EAE7G,IAAIniB,KAAKyc,GAAGnF,UAAZ,CAeA,GAbAtX,KAAKmT,GAAG/V,MAAMD,QAAU,QACxB6C,KAAKmT,GAAG/V,MAAMwY,SAAW,WAGzBoJ,EADAvJ,EAAQzV,KAAKyc,GAAG2C,QAEhBsC,EAAQ1hB,KAAKmT,GAAGiP,YAChBT,EAAS3hB,KAAKmT,GAAGkP,aACjBT,EAAgBjiB,OAAO2iB,YAAc/lB,EAAS6U,gBAAgBmR,YAC9DV,EAAiBliB,OAAO6iB,aAAejmB,EAAS6U,gBAAgBqR,aAChEX,EAAYniB,OAAO+iB,aAAenmB,EAAS0O,KAAK6W,WAAavlB,EAAS6U,gBAAgB0Q,UACtFI,GAAc,EACdC,GAAgB,EAE2B,mBAAhC1M,EAAMkN,sBAEbZ,GADAE,EAAaxM,EAAMkN,yBACDZ,KAAOpiB,OAAOijB,YAChCZ,EAAMC,EAAWY,OAASljB,OAAO+iB,iBAIjC,IAFAX,EAAO/C,EAAI8D,WACXd,EAAOhD,EAAI+D,UAAY/D,EAAIqD,aACpBrD,EAAMA,EAAIgE,cACbjB,GAAQ/C,EAAI8D,WACZd,GAAQhD,EAAI+D,WAKf/iB,KAAKyc,GAAG5G,YAAckM,EAAOL,EAAQE,GAElC5hB,KAAKyc,GAAG7G,SAASvZ,QAAQ,UAAY,GACrC0lB,EAAOL,EAAQjM,EAAM2M,YAAc,KAGvCL,EAAOA,EAAOL,EAAQjM,EAAM2M,YAC5BF,GAAc,IAEbliB,KAAKyc,GAAG5G,YAAcmM,EAAML,EAASE,EAAiBC,GAEnD9hB,KAAKyc,GAAG7G,SAASvZ,QAAQ,QAAU,GACnC2lB,EAAML,EAASlM,EAAM4M,aAAe,KAGxCL,EAAMA,EAAML,EAASlM,EAAM4M,aAC3BF,GAAgB,GAGhBJ,EAAO,IACPA,EAAO,GAGPC,EAAM,IACNA,EAAM,GAGVhiB,KAAKmT,GAAG/V,MAAM2kB,KAAOA,EAAO,KAC5B/hB,KAAKmT,GAAG/V,MAAM4kB,IAAMA,EAAM,KAE1BnkB,EAASmC,KAAKmT,GAAI+O,EAAc,eAAiB,iBACjDrkB,EAASmC,KAAKmT,GAAIgP,EAAgB,iBAAmB,eACrDjkB,EAAY8B,KAAKmT,GAAK+O,EAA+B,gBAAjB,gBACpChkB,EAAY8B,KAAKmT,GAAKgP,EAAmC,cAAnB,iBA9DR,CA+DjC,EAKDZ,OAAQ,SAASnN,EAAME,EAAO+H,GAE1B,IAAIrC,EAASha,KAAKyc,GACdrd,EAAS,IAAID,KACb4c,EAAS1H,EAAeD,EAAME,GAC9B2O,EAAS,IAAI9jB,KAAKiV,EAAME,EAAO,GAAGJ,SAClC3Z,EAAS,GACT2oB,EAAS,GACb3O,EAAgBnV,GACZ4a,EAAK/D,SAAW,IAChBgN,GAAUjJ,EAAK/D,UACF,IACTgN,GAAU,GAUlB,IAPA,IAAIxL,EAA0B,IAAVnD,EAAc,GAAKA,EAAQ,EAC3CoD,EAAsB,KAAVpD,EAAe,EAAIA,EAAQ,EACvC6O,EAAgC,IAAV7O,EAAcF,EAAO,EAAIA,EAC/CgP,EAA4B,KAAV9O,EAAeF,EAAO,EAAIA,EAC5CiP,EAAsBhP,EAAe8O,EAAqB1L,GAC1D6L,EAAQvH,EAAOkH,EACfM,EAAQD,EACNC,EAAQ,GACVA,GAAS,EAEbD,GAAS,EAAIC,EAEb,IADA,IAAIC,GAAiB,EACZvoB,EAAI,EAAGwoB,EAAI,EAAGxoB,EAAIqoB,EAAOroB,IAClC,CACI,IAAIgZ,EAAM,IAAI9U,KAAKiV,EAAME,EAAYrZ,EAAIgoB,EAAT,GAC5BzI,IAAa3G,EAAO7T,KAAK8f,KAAMrL,EAAaR,EAAKjU,KAAK8f,IACtDvF,EAAU9F,EAAaR,EAAK7U,GAC5Bqb,GAAwD,IAA7CT,EAAK7Z,OAAO9D,QAAQ4X,EAAIuJ,gBACnCnD,EAAUpf,EAAIgoB,GAAUhoB,GAAM8gB,EAAOkH,EACrCS,EAAiBzoB,EAAIgoB,EAAT,EACZU,EAAcrP,EACdsP,EAAaxP,EACbuG,EAAeX,EAAKnD,YAAcpC,EAAauF,EAAKnD,WAAY5C,GAChE2G,EAAaZ,EAAKlD,UAAYrC,EAAauF,EAAKlD,SAAU7C,GAC1DyG,EAAYV,EAAKnD,YAAcmD,EAAKlD,UAAYkD,EAAKnD,WAAa5C,GAAOA,EAAM+F,EAAKlD,SAMpFuD,IACIpf,EAAIgoB,GACJS,EAAYL,EAAsBK,EAClCC,EAAclM,EACdmM,EAAaT,IAEbO,GAAwB3H,EACxB4H,EAAcjM,EACdkM,EAAaR,IAIrB,IAAIS,EAAY,CACR5P,IAAKyP,EACLpP,MAAOqP,EACPvP,KAAMwP,EACNnJ,SAAUA,EACVD,WAAYA,EACZD,QAASA,EACTD,WAxBUN,EAAK5D,SAAWnC,EAAM+F,EAAK5D,SAC3B4D,EAAK3D,SAAWpC,EAAM+F,EAAK3D,SAC3B2D,EAAKuF,iBAAmBxL,EAAUE,IAClC+F,EAAKwF,cAAgBxF,EAAKwF,aAAavL,GAsBjDoG,QAASA,EACTM,aAAcA,EACdC,WAAYA,EACZF,UAAWA,EACXxD,gCAAiC8C,EAAK9C,gCACtCC,2CAA4C6C,EAAK7C,4CAGrD6C,EAAKxD,eAAiBgE,IACtBgJ,GAAiB,GAGrBN,EAAIviB,KAAKuZ,EAAU2J,EAAW7jB,KAAKyc,KAEvB,KAANgH,IACEzJ,EAAKzD,gBACL2M,EAAIY,QAAQjJ,EAAW5f,EAAIgoB,EAAQ3O,EAAOF,EAAM4F,EAAK9D,yBAEzD3b,EAAKoG,KAAKmb,EAAUoH,EAAKlJ,EAAKjD,MAAOiD,EAAKxD,cAAegN,IACzDN,EAAM,GACNO,EAAI,EACJD,GAAiB,EAExB,CACD,OAAO1G,EAAY9C,EAAMzf,EAAM8hB,EAClC,EAEDgC,UAAW,WAEP,OAAOre,KAAKqd,EACf,EAEDwB,KAAM,WAEG7e,KAAKqe,cACNre,KAAKqd,IAAK,EAC0B,mBAAzBrd,KAAKyc,GAAGxE,cACfjY,KAAKyc,GAAGxE,aAAazc,KAAKwE,MAE9BA,KAAKmgB,OACLjiB,EAAY8B,KAAKmT,GAAI,aACjBnT,KAAKyc,GAAG/G,QACRxC,EAAS3W,EAAU,QAASyD,KAAKkf,UAEjClf,KAAKmT,GAAG/V,MAAMD,QAAU,SAEE,mBAAnB6C,KAAKyc,GAAGvE,QACflY,KAAKyc,GAAGvE,OAAO1c,KAAKwE,MAG/B,EAEDyd,KAAM,WAEF,IAAIsG,EAAI/jB,KAAKqd,IACH,IAAN0G,SACUtjB,IAANsjB,GAAoD,mBAA1B/jB,KAAKyc,GAAGtE,eAClCnY,KAAKyc,GAAGtE,cAAc3c,KAAKwE,MAG3BA,KAAKyc,GAAG/G,OACRpC,EAAY/W,EAAU,QAASyD,KAAKkf,UAGnClf,KAAKyc,GAAGnF,YACTtX,KAAKmT,GAAG/V,MAAMwY,SAAW,YAK7B/X,EAASmC,KAAKmT,GAAI,aAClBnT,KAAKqd,IAAK,OACA5c,IAANsjB,GAA8C,mBAApB/jB,KAAKyc,GAAGrE,SAClCpY,KAAKyc,GAAGrE,QAAQ5c,KAAKwE,MAGhC,EAKDU,QAAS,WAEL,IAAIsZ,EAAOha,KAAKyc,GAEhBzc,KAAKyd,OACLnK,EAAYtT,KAAKmT,GAAI,YAAanT,KAAKod,cAAc,GACrD9J,EAAYtT,KAAKmT,GAAI,WAAYnT,KAAKod,cAAc,GACpD9J,EAAYtT,KAAKmT,GAAI,SAAUnT,KAAKie,WAChCjE,EAAK1B,eACLhF,EAAY/W,EAAU,UAAWyD,KAAKoe,cAEtCpE,EAAKvE,QACLnC,EAAY0G,EAAKvE,MAAO,SAAUzV,KAAK0e,gBACnC1E,EAAKtE,QACLpC,EAAY0G,EAAKoF,QAAS,QAASpf,KAAK8e,eACxCxL,EAAY0G,EAAKoF,QAAS,QAASpf,KAAK4e,eACxCtL,EAAY0G,EAAKoF,QAAS,OAAQpf,KAAK+e,gBAG3C/e,KAAKmT,GAAGyK,YACR5d,KAAKmT,GAAGyK,WAAWtO,YAAYtP,KAAKmT,GAE3C,GAIEL,CACX,IAEA,IAAAkR,EAAelR,QCn+Cf,MAAMsN,EAAM/gB,KAAK+gB,IACXC,EAAMhhB,KAAKghB,IACXxE,EAAQxc,KAAKwc,MACbrG,EAAQnW,KAAKmW,MACbyO,EAAeF,IAAM,CACzBlhB,EAAGkhB,EACH/I,EAAG+I,IAECG,EAAkB,CACtBnC,KAAM,QACNoC,MAAO,OACPtB,OAAQ,MACRb,IAAK,UAEDoC,EAAuB,CAC3BC,MAAO,MACPC,IAAK,SAEP,SAASC,EAAMF,EAAO/pB,EAAOgqB,GAC3B,OAAOjE,EAAIgE,EAAOjE,EAAI9lB,EAAOgqB,GAC/B,CACA,SAASE,EAASlqB,EAAOmqB,GACvB,MAAwB,mBAAVnqB,EAAuBA,EAAMmqB,GAASnqB,CACtD,CACA,SAASoqB,EAAQC,GACf,OAAOA,EAAU5mB,MAAM,KAAK,EAC9B,CACA,SAAS6mB,EAAaD,GACpB,OAAOA,EAAU5mB,MAAM,KAAK,EAC9B,CACA,SAAS8mB,EAAgBC,GACvB,MAAgB,MAATA,EAAe,IAAM,GAC9B,CACA,SAASC,EAAcD,GACrB,MAAgB,MAATA,EAAe,SAAW,OACnC,CACA,SAASE,EAAYL,GACnB,MAAO,CAAC,MAAO,UAAU7hB,SAAS4hB,EAAQC,IAAc,IAAM,GAChE,CACA,SAASM,EAAiBN,GACxB,OAAOE,EAAgBG,EAAYL,GACrC,CAkBA,SAASO,EAA8BP,GACrC,OAAOA,EAAU5lB,QAAQ,cAAcomB,GAAaf,EAAqBe,IAC3E,CA6BA,SAASC,EAAqBT,GAC5B,OAAOA,EAAU5lB,QAAQ,0BAA0BsmB,GAAQnB,EAAgBmB,IAC7E,CAUA,SAASC,EAAiBC,GACxB,MAA0B,iBAAZA,EAVhB,SAA6BA,GAC3B,MAAO,CACLvD,IAAK,EACLmC,MAAO,EACPtB,OAAQ,EACRd,KAAM,KACHwD,EAEP,CAEuCC,CAAoBD,GAAW,CAClEvD,IAAKuD,EACLpB,MAAOoB,EACP1C,OAAQ0C,EACRxD,KAAMwD,EAEV,CACA,SAASE,EAAiBC,GACxB,MAAO,IACFA,EACH1D,IAAK0D,EAAK1K,EACV+G,KAAM2D,EAAK7iB,EACXshB,MAAOuB,EAAK7iB,EAAI6iB,EAAKhE,MACrBmB,OAAQ6C,EAAK1K,EAAI0K,EAAK/D,OAE1B,CC3HA,SAASgE,EAA2BC,EAAMjB,EAAWkB,GACnD,IAAIC,UACFA,EAASC,SACTA,GACEH,EACJ,MAAMI,EAAWhB,EAAYL,GACvBsB,EAAgBhB,EAAiBN,GACjCuB,EAAcnB,EAAckB,GAC5BZ,EAAOX,EAAQC,GACfwB,EAA0B,MAAbH,EACbI,EAAUN,EAAUjjB,EAAIijB,EAAUpE,MAAQ,EAAIqE,EAASrE,MAAQ,EAC/D2E,EAAUP,EAAU9K,EAAI8K,EAAUnE,OAAS,EAAIoE,EAASpE,OAAS,EACjE2E,EAAcR,EAAUI,GAAe,EAAIH,EAASG,GAAe,EACzE,IAAIK,EACJ,OAAQlB,GACN,IAAK,MACHkB,EAAS,CACP1jB,EAAGujB,EACHpL,EAAG8K,EAAU9K,EAAI+K,EAASpE,QAE5B,MACF,IAAK,SACH4E,EAAS,CACP1jB,EAAGujB,EACHpL,EAAG8K,EAAU9K,EAAI8K,EAAUnE,QAE7B,MACF,IAAK,QACH4E,EAAS,CACP1jB,EAAGijB,EAAUjjB,EAAIijB,EAAUpE,MAC3B1G,EAAGqL,GAEL,MACF,IAAK,OACHE,EAAS,CACP1jB,EAAGijB,EAAUjjB,EAAIkjB,EAASrE,MAC1B1G,EAAGqL,GAEL,MACF,QACEE,EAAS,CACP1jB,EAAGijB,EAAUjjB,EACbmY,EAAG8K,EAAU9K,GAGnB,OAAQ4J,EAAaD,IACnB,IAAK,QACH4B,EAAON,IAAkBK,GAAeT,GAAOM,GAAc,EAAI,GACjE,MACF,IAAK,MACHI,EAAON,IAAkBK,GAAeT,GAAOM,GAAc,EAAI,GAGrE,OAAOI,CACT,CAqGAC,eAAeC,EAAeC,EAAO5rB,GACnC,IAAI6rB,OACY,IAAZ7rB,IACFA,EAAU,CAAA,GAEZ,MAAM+H,EACJA,EAACmY,EACDA,EAAC4L,SACDA,EAAQC,MACRA,EAAKC,SACLA,EAAQC,SACRA,GACEL,GACEM,SACJA,EAAW,oBAAmBC,aAC9BA,EAAe,WAAUC,eACzBA,EAAiB,WAAUC,YAC3BA,GAAc,EAAK5B,QACnBA,EAAU,GACRf,EAAS1pB,EAAS4rB,GAChBU,EAAgB9B,EAAiBC,GAEjCroB,EAAU4pB,EAASK,EADa,aAAnBD,EAAgC,YAAc,WACbA,GAC9CG,EAAqB5B,QAAuBmB,EAASU,gBAAgB,CACzEpqB,QAAiH,OAAtGypB,QAAqD,MAAtBC,EAASW,eAAoB,EAASX,EAASW,UAAUrqB,MAAqBypB,EAAgCzpB,EAAUA,EAAQsqB,sBAAyD,MAA/BZ,EAASa,wBAA6B,EAASb,EAASa,mBAAmBX,EAASf,WACxRiB,WACAC,eACAF,cAEIrB,EAA0B,aAAnBwB,EAAgC,IACxCL,EAAMd,SACTljB,IACAmY,KACE6L,EAAMf,UACJ9C,QAAkD,MAA5B4D,EAASc,qBAA0B,EAASd,EAASc,gBAAgBZ,EAASf,WACpG4B,QAA4C,MAAtBf,EAASW,eAAoB,EAASX,EAASW,UAAUvE,WAA+C,MAArB4D,EAASgB,cAAmB,EAAShB,EAASgB,SAAS5E,KAGlK,CACFngB,EAAG,EACHmY,EAAG,GAEC6M,EAAoBpC,EAAiBmB,EAASkB,4DAA8DlB,EAASkB,sDAAsD,CAC/KhB,WACApB,OACA1C,eACA+D,aACGrB,GACL,MAAO,CACL1D,KAAMqF,EAAmBrF,IAAM6F,EAAkB7F,IAAMoF,EAAcpF,KAAO2F,EAAY3M,EACxF6H,QAASgF,EAAkBhF,OAASwE,EAAmBxE,OAASuE,EAAcvE,QAAU8E,EAAY3M,EACpG+G,MAAOsF,EAAmBtF,KAAO8F,EAAkB9F,KAAOqF,EAAcrF,MAAQ4F,EAAY9kB,EAC5FshB,OAAQ0D,EAAkB1D,MAAQkD,EAAmBlD,MAAQiD,EAAcjD,OAASwD,EAAY9kB,EAEpG,CAmXA,SAASklB,EAAgBlB,GACvB,MAAMmB,EAAO5H,KAAOyG,EAAMtkB,KAAImjB,GAAQA,EAAK3D,QACrCkG,EAAO7H,KAAOyG,EAAMtkB,KAAImjB,GAAQA,EAAK1D,OAG3C,MAAO,CACLnf,EAAGmlB,EACHhN,EAAGiN,EACHvG,MALWrB,KAAOwG,EAAMtkB,KAAImjB,GAAQA,EAAKvB,SAK3B6D,EACdrG,OALWtB,KAAOwG,EAAMtkB,KAAImjB,GAAQA,EAAK7C,UAK1BoF,EAEnB,CAyKA,MAAMC,EAAS,SAAUptB,GAIvB,YAHgB,IAAZA,IACFA,EAAU,GAEL,CACLyF,KAAM,SACNzF,UACA,QAAMqtB,CAAGzB,GACP,IAAI0B,EAAuBC,EAC3B,MAAMxlB,EACJA,EAACmY,EACDA,EAAC2J,UACDA,EAAS2D,eACTA,GACE5B,EACE6B,QA7DZ/B,eAAoCE,EAAO5rB,GACzC,MAAM6pB,UACJA,EAASiC,SACTA,EAAQE,SACRA,GACEJ,EACEb,QAA+B,MAAlBe,EAAS7P,WAAgB,EAAS6P,EAAS7P,MAAM+P,EAASf,WACvEV,EAAOX,EAAQC,GACfQ,EAAYP,EAAaD,GACzBwB,EAAwC,MAA3BnB,EAAYL,GACzB6D,EAAgB,CAAC,OAAQ,OAAO1lB,SAASuiB,IAAS,EAAI,EACtDoD,EAAiB5C,GAAOM,GAAc,EAAI,EAC1CuC,EAAWlE,EAAS1pB,EAAS4rB,GACnC,IAAIiC,SACFA,EAAQC,UACRA,EAAS3C,cACTA,GACsB,iBAAbyC,EAAwB,CACjCC,SAAUD,EACVE,UAAW,EACX3C,cAAe,MACb,CACF0C,SAAU,EACVC,UAAW,EACX3C,cAAe,QACZyC,GAKL,OAHIvD,GAAsC,iBAAlBc,IACtB2C,EAA0B,QAAdzD,GAAuC,EAAjBc,EAAqBA,GAElDE,EAAa,CAClBtjB,EAAG+lB,EAAYH,EACfzN,EAAG2N,EAAWH,GACZ,CACF3lB,EAAG8lB,EAAWH,EACdxN,EAAG4N,EAAYH,EAEnB,CAwB+BI,CAAqBnC,EAAO5rB,GAIrD,OAAI6pB,KAAkE,OAAlDyD,EAAwBE,EAAeJ,aAAkB,EAASE,EAAsBzD,YAAgE,OAAjD0D,EAAwBC,EAAeQ,QAAkBT,EAAsBU,gBACjM,GAEF,CACLlmB,EAAGA,EAAI0lB,EAAW1lB,EAClBmY,EAAGA,EAAIuN,EAAWvN,EAClBzgB,KAAM,IACDguB,EACH5D,aAGL,EAEL,EC3xBA,SAASqE,EAAYxe,GACnB,OAAIye,EAAOze,IACDA,EAAKsK,UAAY,IAAIpa,cAKxB,WACT,CACA,SAASwuB,EAAU1e,GACjB,IAAI2e,EACJ,OAAgB,MAAR3e,GAA8D,OAA7C2e,EAAsB3e,EAAK4e,oBAAyB,EAASD,EAAoBE,cAAgB1pB,MAC5H,CACA,SAAS8nB,EAAmBjd,GAC1B,IAAIob,EACJ,OAA0F,OAAlFA,GAAQqD,EAAOze,GAAQA,EAAK4e,cAAgB5e,EAAKjO,WAAaoD,OAAOpD,eAAoB,EAASqpB,EAAKxU,eACjH,CACA,SAAS6X,EAAO3uB,GACd,OAAOA,aAAiBwX,MAAQxX,aAAiB4uB,EAAU5uB,GAAOwX,IACpE,CACA,SAASyV,EAAUjtB,GACjB,OAAOA,aAAiBgvB,SAAWhvB,aAAiB4uB,EAAU5uB,GAAOgvB,OACvE,CACA,SAASC,EAAcjvB,GACrB,OAAOA,aAAiB6B,aAAe7B,aAAiB4uB,EAAU5uB,GAAO6B,WAC3E,CACA,SAASqtB,EAAalvB,GAEpB,MAA0B,oBAAfmvB,aAGJnvB,aAAiBmvB,YAAcnvB,aAAiB4uB,EAAU5uB,GAAOmvB,WAC1E,CACA,SAASC,EAAkBxsB,GACzB,MAAMysB,SACJA,EAAQC,UACRA,EAASC,UACTA,EAAS1sB,QACTA,GACEoH,GAAiBrH,GACrB,MAAO,kCAAkC0W,KAAK+V,EAAWE,EAAYD,KAAe,CAAC,SAAU,YAAY9mB,SAAS3F,EACtH,CACA,SAAS2sB,EAAe5sB,GACtB,MAAO,CAAC,QAAS,KAAM,MAAM4F,SAASkmB,EAAY9rB,GACpD,CACA,SAAS6sB,EAAkB7sB,GACzB,MAAM8sB,EAASC,KACTC,EAAM3lB,GAAiBrH,GAG7B,MAAyB,SAAlBgtB,EAAIC,WAA4C,SAApBD,EAAIE,eAA2BF,EAAIG,eAAsC,WAAtBH,EAAIG,gBAAwCL,KAAWE,EAAII,gBAAwC,SAAvBJ,EAAII,iBAAuCN,KAAWE,EAAIrpB,QAAwB,SAAfqpB,EAAIrpB,QAA8B,CAAC,YAAa,cAAe,UAAU0pB,MAAKjwB,IAAU4vB,EAAIM,YAAc,IAAI1nB,SAASxI,MAAW,CAAC,QAAS,SAAU,SAAU,WAAWiwB,MAAKjwB,IAAU4vB,EAAIO,SAAW,IAAI3nB,SAASxI,IAC7b,CACA,SAASowB,EAAmBxtB,GAC1B,IAAIytB,EAAcC,GAAc1tB,GAChC,KAAOqsB,EAAcoB,KAAiBE,GAAsBF,IAAc,CACxE,GAAIZ,EAAkBY,GACpB,OAAOA,EAEPA,EAAcC,GAAcD,EAE/B,CACD,OAAO,IACT,CACA,SAASV,KACP,QAAmB,oBAARa,MAAwBA,IAAIC,WAChCD,IAAIC,SAAS,0BAA2B,OACjD,CACA,SAASF,GAAsBrgB,GAC7B,MAAO,CAAC,OAAQ,OAAQ,aAAa1H,SAASkmB,EAAYxe,GAC5D,CACA,SAASjG,GAAiBrH,GACxB,OAAOgsB,EAAUhsB,GAASqH,iBAAiBrH,EAC7C,CACA,SAAS8tB,GAAc9tB,GACrB,OAAIqqB,EAAUrqB,GACL,CACL+tB,WAAY/tB,EAAQ+tB,WACpBnJ,UAAW5kB,EAAQ4kB,WAGhB,CACLmJ,WAAY/tB,EAAQ0lB,YACpBd,UAAW5kB,EAAQwlB,YAEvB,CACA,SAASkI,GAAcpgB,GACrB,GAA0B,SAAtBwe,EAAYxe,GACd,OAAOA,EAET,MAAM0gB,EAEN1gB,EAAK2gB,cAEL3gB,EAAKoT,YAEL4L,EAAahf,IAASA,EAAK4gB,MAE3B3D,EAAmBjd,GACnB,OAAOgf,EAAa0B,GAAUA,EAAOE,KAAOF,CAC9C,CACA,SAASG,GAA2B7gB,GAClC,MAAMoT,EAAagN,GAAcpgB,GACjC,OAAIqgB,GAAsBjN,GACjBpT,EAAK4e,cAAgB5e,EAAK4e,cAAcne,KAAOT,EAAKS,KAEzDse,EAAc3L,IAAe8L,EAAkB9L,GAC1CA,EAEFyN,GAA2BzN,EACpC,CACA,SAAS0N,GAAqB9gB,EAAM+gB,EAAMC,GACxC,IAAIC,OACS,IAATF,IACFA,EAAO,SAEe,IAApBC,IACFA,GAAkB,GAEpB,MAAME,EAAqBL,GAA2B7gB,GAChDmhB,EAASD,KAAuE,OAA9CD,EAAuBjhB,EAAK4e,oBAAyB,EAASqC,EAAqBxgB,MACrH2gB,EAAM1C,EAAUwC,GACtB,OAAIC,EACKJ,EAAKM,OAAOD,EAAKA,EAAIE,gBAAkB,GAAIpC,EAAkBgC,GAAsBA,EAAqB,GAAIE,EAAIG,cAAgBP,EAAkBF,GAAqBM,EAAIG,cAAgB,IAE7LR,EAAKM,OAAOH,EAAoBJ,GAAqBI,EAAoB,GAAIF,GACtF,CCvHA,SAASQ,GAAiB9uB,GACxB,MAAMgtB,EAAM3lB,GAAiBrH,GAG7B,IAAIwkB,EAAQ3kB,WAAWmtB,EAAIxI,QAAU,EACjCC,EAAS5kB,WAAWmtB,EAAIvI,SAAW,EACvC,MAAMsK,EAAY1C,EAAcrsB,GAC1BklB,EAAc6J,EAAY/uB,EAAQklB,YAAcV,EAChDW,EAAe4J,EAAY/uB,EAAQmlB,aAAeV,EAClDuK,EAAiBrQ,EAAM6F,KAAWU,GAAevG,EAAM8F,KAAYU,EAKzE,OAJI6J,IACFxK,EAAQU,EACRT,EAASU,GAEJ,CACLX,QACAC,SACAwK,EAAGD,EAEP,CAEA,SAASE,GAAclvB,GACrB,OAAQqqB,EAAUrqB,GAAoCA,EAAzBA,EAAQsqB,cACvC,CAEA,SAASI,GAAS1qB,GAChB,MAAMmvB,EAAaD,GAAclvB,GACjC,IAAKqsB,EAAc8C,GACjB,OAAOpI,EAAa,GAEtB,MAAMyB,EAAO2G,EAAW1J,yBAClBjB,MACJA,EAAKC,OACLA,EAAMwK,EACNA,GACEH,GAAiBK,GACrB,IAAIxpB,GAAKspB,EAAItQ,EAAM6J,EAAKhE,OAASgE,EAAKhE,OAASA,EAC3C1G,GAAKmR,EAAItQ,EAAM6J,EAAK/D,QAAU+D,EAAK/D,QAAUA,EAUjD,OANK9e,GAAMypB,OAAOtvB,SAAS6F,KACzBA,EAAI,GAEDmY,GAAMsR,OAAOtvB,SAASge,KACzBA,EAAI,GAEC,CACLnY,IACAmY,IAEJ,CAEA,MAAMuR,GAAyBtI,EAAa,GAC5C,SAASuI,GAAiBtvB,GACxB,MAAM0uB,EAAM1C,EAAUhsB,GACtB,OAAK+sB,MAAe2B,EAAIE,eAGjB,CACLjpB,EAAG+oB,EAAIE,eAAehJ,WACtB9H,EAAG4Q,EAAIE,eAAe/I,WAJfwJ,EAMX,CAWA,SAAS5J,GAAsBzlB,EAASuvB,EAAcC,EAAiB1J,QAChD,IAAjByJ,IACFA,GAAe,QAEO,IAApBC,IACFA,GAAkB,GAEpB,MAAMzK,EAAa/kB,EAAQylB,wBACrB0J,EAAaD,GAAclvB,GACjC,IAAIyvB,EAAQ1I,EAAa,GACrBwI,IACEzJ,EACEuE,EAAUvE,KACZ2J,EAAQ/E,GAAS5E,IAGnB2J,EAAQ/E,GAAS1qB,IAGrB,MAAM0vB,EA7BR,SAAgC1vB,EAAS2vB,EAASC,GAIhD,YAHgB,IAAZD,IACFA,GAAU,MAEPC,GAAwBD,GAAWC,IAAyB5D,EAAUhsB,KAGpE2vB,CACT,CAqBwBE,CAAuBV,EAAYK,EAAiB1J,GAAgBwJ,GAAiBH,GAAcpI,EAAa,GACtI,IAAIphB,GAAKof,EAAWF,KAAO6K,EAAc/pB,GAAK8pB,EAAM9pB,EAChDmY,GAAKiH,EAAWD,IAAM4K,EAAc5R,GAAK2R,EAAM3R,EAC/C0G,EAAQO,EAAWP,MAAQiL,EAAM9pB,EACjC8e,EAASM,EAAWN,OAASgL,EAAM3R,EACvC,GAAIqR,EAAY,CACd,MAAMT,EAAM1C,EAAUmD,GAChBW,EAAYhK,GAAgBuE,EAAUvE,GAAgBkG,EAAUlG,GAAgBA,EACtF,IAAIiK,EAAgBrB,EAAIG,aACxB,KAAOkB,GAAiBjK,GAAgBgK,IAAcpB,GAAK,CACzD,MAAMsB,EAActF,GAASqF,GACvBE,EAAaF,EAActK,wBAC3BuH,EAAM3lB,GAAiB0oB,GACvBlL,EAAOoL,EAAWpL,MAAQkL,EAAcG,WAAarwB,WAAWmtB,EAAImD,cAAgBH,EAAYrqB,EAChGmf,EAAMmL,EAAWnL,KAAOiL,EAAcK,UAAYvwB,WAAWmtB,EAAIqD,aAAeL,EAAYlS,EAClGnY,GAAKqqB,EAAYrqB,EACjBmY,GAAKkS,EAAYlS,EACjB0G,GAASwL,EAAYrqB,EACrB8e,GAAUuL,EAAYlS,EACtBnY,GAAKkf,EACL/G,GAAKgH,EACLiL,EAAgB/D,EAAU+D,GAAelB,YAC1C,CACF,CACD,OAAOtG,EAAiB,CACtB/D,QACAC,SACA9e,IACAmY,KAEJ,CAEA,MAAMwS,GAAoB,CAAC,gBAAiB,UAC5C,SAASC,GAAS1H,GAChB,IAAI2H,GAAa,EACb7qB,EAAI,EACJmY,EAAI,EASR,GAHAwS,GAAkB3xB,SAAQwC,KAL1B,SAAuBA,GACrB,IACEqvB,EAAaA,GAAc3H,EAAS/f,QAAQ3H,EAClD,CAAM,MAAOoG,GAAK,CACf,CAECkpB,CAActvB,EAAS,IAErBqvB,EAAY,CACd,MAAME,EAAkBlD,EAAmB3E,GAC3C,GAAI6H,EAAiB,CACnB,MAAMlI,EAAOkI,EAAgBjL,wBAC7B9f,EAAI6iB,EAAK7iB,EACTmY,EAAI0K,EAAK1K,CACV,CACF,CACD,MAAO,CAAC0S,EAAY7qB,EAAGmY,EACzB,CA4CA,SAAS6S,GAAoB3wB,GAG3B,OAAOylB,GAAsB8E,EAAmBvqB,IAAU6kB,KAAOiJ,GAAc9tB,GAAS+tB,UAC1F,CAiEA,SAAS6C,GAAkC5wB,EAAS6wB,EAAkBhH,GACpE,IAAIrB,EACJ,GAAyB,aAArBqI,EACFrI,EA7CJ,SAAyBxoB,EAAS6pB,GAChC,MAAM6E,EAAM1C,EAAUhsB,GAChBhB,EAAOurB,EAAmBvqB,GAC1B4uB,EAAiBF,EAAIE,eAC3B,IAAIpK,EAAQxlB,EAAKqmB,YACbZ,EAASzlB,EAAKumB,aACd5f,EAAI,EACJmY,EAAI,EACR,GAAI8Q,EAAgB,CAClBpK,EAAQoK,EAAepK,MACvBC,EAASmK,EAAenK,OACxB,MAAMqM,EAAsB/D,OACvB+D,GAAuBA,GAAoC,UAAbjH,KACjDlkB,EAAIipB,EAAehJ,WACnB9H,EAAI8Q,EAAe/I,UAEtB,CACD,MAAO,CACLrB,QACAC,SACA9e,IACAmY,IAEJ,CAsBWiT,CAAgB/wB,EAAS6pB,QAC3B,GAAyB,aAArBgH,EACTrI,EAlEJ,SAAyBxoB,GACvB,MAAMhB,EAAOurB,EAAmBvqB,GAC1BgxB,EAASlD,GAAc9tB,GACvB+N,EAAO/N,EAAQksB,cAAcne,KAC7ByW,EAAQrB,EAAInkB,EAAKiyB,YAAajyB,EAAKqmB,YAAatX,EAAKkjB,YAAaljB,EAAKsX,aACvEZ,EAAStB,EAAInkB,EAAKkyB,aAAclyB,EAAKumB,aAAcxX,EAAKmjB,aAAcnjB,EAAKwX,cACjF,IAAI5f,GAAKqrB,EAAOjD,WAAa4C,GAAoB3wB,GACjD,MAAM8d,GAAKkT,EAAOpM,UAIlB,MAHyC,QAArCvd,GAAiB0G,GAAMojB,YACzBxrB,GAAKwd,EAAInkB,EAAKqmB,YAAatX,EAAKsX,aAAeb,GAE1C,CACLA,QACAC,SACA9e,IACAmY,IAEJ,CAiDWsT,CAAgB7G,EAAmBvqB,SACrC,GAAIqqB,EAAUwG,GACnBrI,EAvBJ,SAAoCxoB,EAAS6pB,GAC3C,MAAM9E,EAAaU,GAAsBzlB,GAAS,EAAmB,UAAb6pB,GAClD/E,EAAMC,EAAWD,IAAM9kB,EAAQowB,UAC/BvL,EAAOE,EAAWF,KAAO7kB,EAAQkwB,WACjCT,EAAQpD,EAAcrsB,GAAW0qB,GAAS1qB,GAAW+mB,EAAa,GAKxE,MAAO,CACLvC,MALYxkB,EAAQqlB,YAAcoK,EAAM9pB,EAMxC8e,OALazkB,EAAQulB,aAAekK,EAAM3R,EAM1CnY,EALQkf,EAAO4K,EAAM9pB,EAMrBmY,EALQgH,EAAM2K,EAAM3R,EAOxB,CAQWuT,CAA2BR,EAAkBhH,OAC/C,CACL,MAAM6F,EAAgBJ,GAAiBtvB,GACvCwoB,EAAO,IACFqI,EACHlrB,EAAGkrB,EAAiBlrB,EAAI+pB,EAAc/pB,EACtCmY,EAAG+S,EAAiB/S,EAAI4R,EAAc5R,EAEzC,CACD,OAAOyK,EAAiBC,EAC1B,CACA,SAAS8I,GAAyBtxB,EAASuxB,GACzC,MAAM7Q,EAAagN,GAAc1tB,GACjC,QAAI0gB,IAAe6Q,IAAalH,EAAU3J,IAAeiN,GAAsBjN,MAG9B,UAA1CrZ,GAAiBqZ,GAAYhI,UAAwB4Y,GAAyB5Q,EAAY6Q,GACnG,CA2EA,SAASC,GAA8BxxB,EAAS8lB,EAAc+D,EAAUhB,GACtE,MAAM4I,EAA0BpF,EAAcvG,GACxC5R,EAAkBqW,EAAmBzE,GACrC6J,EAAuB,UAAb9F,EACVrB,EAAO/C,GAAsBzlB,GAAS,EAAM2vB,EAAS7J,GAC3D,IAAIkL,EAAS,CACXjD,WAAY,EACZnJ,UAAW,GAEb,MAAM8M,EAAU3K,EAAa,GAC7B,GAAI0K,IAA4BA,IAA4B9B,EAI1D,IAHkC,SAA9B7D,EAAYhG,IAA4B0G,EAAkBtY,MAC5D8c,EAASlD,GAAchI,IAErB2L,EAAyB,CAC3B,MAAME,EAAalM,GAAsBK,GAAc,EAAM6J,EAAS7J,GACtE4L,EAAQ/rB,EAAIgsB,EAAWhsB,EAAImgB,EAAaoK,WACxCwB,EAAQ5T,EAAI6T,EAAW7T,EAAIgI,EAAasK,SACzC,MAAUlc,IACTwd,EAAQ/rB,EAAIgrB,GAAoBzc,IAGpC,IAAIvO,EAAI6iB,EAAK3D,KAAOmM,EAAOjD,WAAa2D,EAAQ/rB,EAC5CmY,EAAI0K,EAAK1D,IAAMkM,EAAOpM,UAAY8M,EAAQ5T,EAC9C,MAAO0S,EAAYoB,EAAWC,GAAatB,GAAS1H,GASpD,OARI2H,IACF7qB,GAAKisB,EACL9T,GAAK+T,EACDJ,IACF9rB,GAAKmgB,EAAaoK,WAClBpS,GAAKgI,EAAasK,YAGf,CACLzqB,IACAmY,IACA0G,MAAOgE,EAAKhE,MACZC,OAAQ+D,EAAK/D,OAEjB,CAEA,SAASqN,GAAoB9xB,EAAS+xB,GACpC,OAAK1F,EAAcrsB,IAAmD,UAAvCqH,GAAiBrH,GAAS0Y,SAGrDqZ,EACKA,EAAS/xB,GAEXA,EAAQ8lB,aALN,IAMX,CAIA,SAAS0E,GAAgBxqB,EAAS+xB,GAChC,MAAMtvB,EAASupB,EAAUhsB,GACzB,IAAKqsB,EAAcrsB,GACjB,OAAOyC,EAET,IAAIqjB,EAAegM,GAAoB9xB,EAAS+xB,GAChD,KAAOjM,GAAgB8G,EAAe9G,IAA6D,WAA5Cze,GAAiBye,GAAcpN,UACpFoN,EAAegM,GAAoBhM,EAAciM,GAEnD,OAAIjM,IAA+C,SAA9BgG,EAAYhG,IAA0D,SAA9BgG,EAAYhG,IAAwE,WAA5Cze,GAAiBye,GAAcpN,WAA0BmU,EAAkB/G,IACvKrjB,EAEFqjB,GAAgB0H,EAAmBxtB,IAAYyC,CACxD,CAmBA,MAAMinB,GAAW,CACfkB,sDAxSF,SAA+DlC,GAC7D,IAAIkB,SACFA,EAAQpB,KACRA,EAAI1C,aACJA,EAAY+D,SACZA,GACEnB,EACJ,MAAMxU,EAAkBqW,EAAmBzE,IACpC0K,GAAc5G,EAAW2G,GAAS3G,EAASf,UAAY,EAAC,GAC/D,GAAI/C,IAAiB5R,GAAmBsc,EACtC,OAAOhI,EAET,IAAIwI,EAAS,CACXjD,WAAY,EACZnJ,UAAW,GAET6K,EAAQ1I,EAAa,GACzB,MAAM2K,EAAU3K,EAAa,GACvB0K,EAA0BpF,EAAcvG,GAC9C,IAAI2L,IAA4BA,GAAwC,UAAb5H,MACvB,SAA9BiC,EAAYhG,IAA4B0G,EAAkBtY,MAC5D8c,EAASlD,GAAchI,IAErBuG,EAAcvG,IAAe,CAC/B,MAAM6L,EAAalM,GAAsBK,GACzC2J,EAAQ/E,GAAS5E,GACjB4L,EAAQ/rB,EAAIgsB,EAAWhsB,EAAImgB,EAAaoK,WACxCwB,EAAQ5T,EAAI6T,EAAW7T,EAAIgI,EAAasK,SACzC,CAEH,MAAO,CACL5L,MAAOgE,EAAKhE,MAAQiL,EAAM9pB,EAC1B8e,OAAQ+D,EAAK/D,OAASgL,EAAM3R,EAC5BnY,EAAG6iB,EAAK7iB,EAAI8pB,EAAM9pB,EAAIqrB,EAAOjD,WAAa0B,EAAM9pB,EAAI+rB,EAAQ/rB,EAC5DmY,EAAG0K,EAAK1K,EAAI2R,EAAM3R,EAAIkT,EAAOpM,UAAY6K,EAAM3R,EAAI4T,EAAQ5T,EAE/D,EAqQEyM,qBACAH,gBA7HF,SAAyB1B,GACvB,IAAI1oB,QACFA,EAAO8pB,SACPA,EAAQC,aACRA,EAAYF,SACZA,GACEnB,EACJ,MACMsJ,EAAoB,IADoB,sBAAblI,EAxCnC,SAAqC9pB,EAASiyB,GAC5C,MAAMC,EAAeD,EAAM7rB,IAAIpG,GAC/B,GAAIkyB,EACF,OAAOA,EAET,IAAIlE,EAASI,GAAqBpuB,EAAS,IAAI,GAAO2D,QAAOsS,GAAMoU,EAAUpU,IAA2B,SAApB6V,EAAY7V,KAC5Fkc,EAAsC,KAC1C,MAAMC,EAAwD,UAAvC/qB,GAAiBrH,GAAS0Y,SACjD,IAAI+U,EAAc2E,EAAiB1E,GAAc1tB,GAAWA,EAG5D,KAAOqqB,EAAUoD,KAAiBE,GAAsBF,IAAc,CACpE,MAAM4E,EAAgBhrB,GAAiBomB,GACjC6E,EAA0BzF,EAAkBY,GAC7C6E,GAAsD,UAA3BD,EAAc3Z,WAC5CyZ,EAAsC,OAEVC,GAAkBE,IAA4BH,GAAuCG,GAAsD,WAA3BD,EAAc3Z,UAA2ByZ,GAAuC,CAAC,WAAY,SAASvsB,SAASusB,EAAoCzZ,WAAa8T,EAAkBiB,KAAiB6E,GAA2BhB,GAAyBtxB,EAASytB,IAG5YO,EAASA,EAAOrqB,QAAO4uB,GAAYA,IAAa9E,IAGhD0E,EAAsCE,EAExC5E,EAAcC,GAAcD,EAC7B,CAED,OADAwE,EAAM/rB,IAAIlG,EAASguB,GACZA,CACT,CAWsEwE,CAA4BxyB,EAAS8C,KAAK8d,IAAM,GAAG+N,OAAO7E,GACtEC,GAClD0I,EAAwBT,EAAkB,GAC1CU,EAAeV,EAAkBW,QAAO,CAACC,EAAS/B,KACtD,MAAMrI,EAAOoI,GAAkC5wB,EAAS6wB,EAAkBhH,GAK1E,OAJA+I,EAAQ9N,IAAM3B,EAAIqF,EAAK1D,IAAK8N,EAAQ9N,KACpC8N,EAAQ3L,MAAQ/D,EAAIsF,EAAKvB,MAAO2L,EAAQ3L,OACxC2L,EAAQjN,OAASzC,EAAIsF,EAAK7C,OAAQiN,EAAQjN,QAC1CiN,EAAQ/N,KAAO1B,EAAIqF,EAAK3D,KAAM+N,EAAQ/N,MAC/B+N,CAAO,GACbhC,GAAkC5wB,EAASyyB,EAAuB5I,IACrE,MAAO,CACLrF,MAAOkO,EAAazL,MAAQyL,EAAa7N,KACzCJ,OAAQiO,EAAa/M,OAAS+M,EAAa5N,IAC3Cnf,EAAG+sB,EAAa7N,KAChB/G,EAAG4U,EAAa5N,IAEpB,EAsGE0F,mBACAqI,gBAtBsBvJ,eAAgBjsB,GACtC,MAAMy1B,EAAoBhwB,KAAK0nB,iBAAmBA,GAC5CuI,EAAkBjwB,KAAKkwB,cAC7B,MAAO,CACLpK,UAAW4I,GAA8Bn0B,EAAKurB,gBAAiBkK,EAAkBz1B,EAAKwrB,UAAWxrB,EAAKwsB,SAAUxsB,EAAKwrB,UACrHA,SAAU,CACRljB,EAAG,EACHmY,EAAG,WACOiV,EAAgB11B,EAAKwrB,WAGrC,EAYEoK,eAvQF,SAAwBjzB,GACtB,OAAOpB,MAAME,KAAKkB,EAAQizB,iBAC5B,EAsQED,cAvGF,SAAuBhzB,GACrB,MAAMwkB,MACJA,EAAKC,OACLA,GACEqK,GAAiB9uB,GACrB,MAAO,CACLwkB,QACAC,SAEJ,EA+FEiG,YACAL,YACAxQ,MAdF,SAAe7Z,GACb,MAA+C,QAAxCqH,GAAiBrH,GAASmxB,SACnC,GAkGA,SAAS+B,GAAWtK,EAAWC,EAAUsK,EAAQv1B,QAC/B,IAAZA,IACFA,EAAU,CAAA,GAEZ,MAAMw1B,eACJA,GAAiB,EAAIC,eACrBA,GAAiB,EAAIC,cACrBA,EAA0C,mBAAnBC,eAA6BC,YACpDA,EAA8C,mBAAzBC,qBAAmCC,eACxDA,GAAiB,GACf91B,EACE+1B,EAAczE,GAActG,GAC5BgL,EAAYR,GAAkBC,EAAiB,IAAKM,EAAcvF,GAAqBuF,GAAe,MAAQvF,GAAqBvF,IAAa,GACtJ+K,EAAUj1B,SAAQ4zB,IAChBa,GAAkBb,EAAS5oB,iBAAiB,SAAUwpB,EAAQ,CAC5DprB,SAAS,IAEXsrB,GAAkBd,EAAS5oB,iBAAiB,SAAUwpB,EAAO,IAE/D,MAAMU,EAAYF,GAAeH,EArGnC,SAAqBxzB,EAAS8zB,GAC5B,IACIC,EADAC,EAAK,KAET,MAAM7e,EAAOoV,EAAmBvqB,GAChC,SAASi0B,IACP,IAAIC,EACJnqB,aAAagqB,GACC,OAAbG,EAAMF,IAAeE,EAAIC,aAC1BH,EAAK,IACN,CA8DD,OA7DA,SAASI,EAAQC,EAAMC,QACR,IAATD,IACFA,GAAO,QAES,IAAdC,IACFA,EAAY,GAEdL,IACA,MAAMpP,KACJA,EAAIC,IACJA,EAAGN,MACHA,EAAKC,OACLA,GACEzkB,EAAQylB,wBAIZ,GAHK4O,GACHP,KAEGtP,IAAUC,EACb,OAEF,MAKM7mB,EAAU,CACd22B,YANejc,EAAMwM,GAIQ,OAHZxM,EAAMnD,EAAKkQ,aAAeR,EAAOL,IAGC,OAFjClM,EAAMnD,EAAKoQ,cAAgBT,EAAML,IAEuB,OAD1DnM,EAAMuM,GACyE,KAG/FyP,UAAWnR,EAAI,EAAGD,EAAI,EAAGoR,KAAe,GAE1C,IAAIE,GAAgB,EACpB,SAASC,EAAcrvB,GACrB,MAAMsvB,EAAQtvB,EAAQ,GAAGuvB,kBACzB,GAAID,IAAUJ,EAAW,CACvB,IAAKE,EACH,OAAOJ,IAEJM,EAKHN,GAAQ,EAAOM,GAJfX,EAAYxqB,YAAW,KACrB6qB,GAAQ,EAAO,KAAK,GACnB,IAIN,CACDI,GAAgB,CACjB,CAID,IACER,EAAK,IAAIP,qBAAqBgB,EAAe,IACxC72B,EAEHuX,KAAMA,EAAK+W,eAEd,CAAC,MAAO3kB,GACPysB,EAAK,IAAIP,qBAAqBgB,EAAe72B,EAC9C,CACDo2B,EAAGY,QAAQ50B,EACZ,CACDo0B,EAAQ,GACDH,CACT,CA6BiDY,CAAYlB,EAAaR,GAAU,KAClF,IAsBI2B,EAtBAC,GAAkB,EAClBC,EAAiB,KACjB1B,IACF0B,EAAiB,IAAIzB,gBAAe7K,IAClC,IAAKuM,GAAcvM,EACfuM,GAAcA,EAAWvtB,SAAWisB,GAAeqB,IAGrDA,EAAeE,UAAUrM,GACzBsM,qBAAqBJ,GACrBA,EAAiBvtB,uBAAsB,KACrC,IAAI4tB,EACkC,OAArCA,EAAkBJ,IAA2BI,EAAgBR,QAAQ/L,EAAS,KAGnFsK,GAAQ,IAENQ,IAAgBD,GAClBsB,EAAeJ,QAAQjB,GAEzBqB,EAAeJ,QAAQ/L,IAGzB,IAAIwM,EAAc3B,EAAiBjO,GAAsBmD,GAAa,KAatE,OAZI8K,GAGJ,SAAS4B,IACP,MAAMC,EAAc9P,GAAsBmD,IACtCyM,GAAgBE,EAAY5vB,IAAM0vB,EAAY1vB,GAAK4vB,EAAYzX,IAAMuX,EAAYvX,GAAKyX,EAAY/Q,QAAU6Q,EAAY7Q,OAAS+Q,EAAY9Q,SAAW4Q,EAAY5Q,QACtK0O,IAEFkC,EAAcE,EACdT,EAAUttB,sBAAsB8tB,EACjC,CATCA,GAUFnC,IACO,KACL,IAAIqC,EACJ5B,EAAUj1B,SAAQ4zB,IAChBa,GAAkBb,EAASnqB,oBAAoB,SAAU+qB,GACzDE,GAAkBd,EAASnqB,oBAAoB,SAAU+qB,EAAO,IAErD,MAAbU,GAAqBA,IACkB,OAAtC2B,EAAmBR,IAA2BQ,EAAiBrB,aAChEa,EAAiB,KACbtB,GACFyB,qBAAqBL,EACtB,CAEL,CAeA,MAAMW,GF4KQ,SAAU73B,GAItB,YAHgB,IAAZA,IACFA,EAAU,CAAA,GAEL,CACLyF,KAAM,QACNzF,UACA,QAAMqtB,CAAGzB,GACP,MAAM7jB,EACJA,EAACmY,EACDA,EAAC2J,UACDA,GACE+B,GAEFiC,SAAUiK,GAAgB,EAC1BhK,UAAWiK,GAAiB,EAAKC,QACjCA,EAAU,CACR3K,GAAIvC,IACF,IAAI/iB,EACFA,EAACmY,EACDA,GACE4K,EACJ,MAAO,CACL/iB,IACAmY,IACD,MAGF+X,GACDvO,EAAS1pB,EAAS4rB,GAChBH,EAAS,CACb1jB,IACAmY,KAEI2O,QAAiBlD,EAAeC,EAAOqM,GACvCnK,EAAY5D,EAAYN,EAAQC,IAChCgE,EAAW9D,EAAgB+D,GACjC,IAAIoK,EAAgBzM,EAAOoC,GACvBsK,EAAiB1M,EAAOqC,GAC5B,GAAIgK,EAAe,CACjB,MACMM,EAAuB,MAAbvK,EAAmB,SAAW,QAG9CqK,EAAgBzO,EAFJyO,EAAgBrJ,EAFC,MAAbhB,EAAmB,MAAQ,QAIhBqK,EADfA,EAAgBrJ,EAASuJ,GAEtC,CACD,GAAIL,EAAgB,CAClB,MACMK,EAAwB,MAAdtK,EAAoB,SAAW,QAG/CqK,EAAiB1O,EAFL0O,EAAiBtJ,EAFC,MAAdf,EAAoB,MAAQ,QAIhBqK,EADhBA,EAAiBtJ,EAASuJ,GAEvC,CACD,MAAMC,EAAgBL,EAAQ3K,GAAG,IAC5BzB,EACHiC,CAACA,GAAWqK,EACZpK,CAACA,GAAYqK,IAEf,MAAO,IACFE,EACH54B,KAAM,CACJsI,EAAGswB,EAActwB,EAAIA,EACrBmY,EAAGmY,EAAcnY,EAAIA,GAG1B,EAEL,EEvOMoY,GFzOO,SAAUt4B,GAIrB,YAHgB,IAAZA,IACFA,EAAU,CAAA,GAEL,CACLyF,KAAM,OACNzF,UACA,QAAMqtB,CAAGzB,GACP,IAAI2B,EAAuBgL,EAC3B,MAAM1O,UACJA,EAAS2D,eACTA,EAAczB,MACdA,EAAKyM,iBACLA,EAAgB1M,SAChBA,EAAQE,SACRA,GACEJ,GAEFiC,SAAUiK,GAAgB,EAC1BhK,UAAWiK,GAAiB,EAC5BU,mBAAoBC,EAA2BC,iBAC/CA,EAAmB,UAASC,0BAC5BA,EAA4B,OAAMC,cAClCA,GAAgB,KACbZ,GACDvO,EAAS1pB,EAAS4rB,GAMtB,GAAsD,OAAjD2B,EAAwBC,EAAeQ,QAAkBT,EAAsBU,gBAClF,MAAO,GAET,MAAM1D,EAAOX,EAAQC,GACfiP,EAAkBlP,EAAQ4O,KAAsBA,EAChDzN,QAA+B,MAAlBe,EAAS7P,WAAgB,EAAS6P,EAAS7P,MAAM+P,EAASf,WACvEwN,EAAqBC,IAAgCI,IAAoBD,EAAgB,CAACvO,EAAqBkO,ID3X3H,SAA+B3O,GAC7B,MAAMkP,EAAoBzO,EAAqBT,GAC/C,MAAO,CAACO,EAA8BP,GAAYkP,EAAmB3O,EAA8B2O,GACrG,CCwXgJC,CAAsBR,IAC3JE,GAA6D,SAA9BE,GAClCH,EAAmB5yB,QDrW3B,SAAmCgkB,EAAWgP,EAAetF,EAAWxI,GACtE,MAAMV,EAAYP,EAAaD,GAC/B,IAAI4G,EAnBN,SAAqBlG,EAAM0O,EAASlO,GAClC,MAAMmO,EAAK,CAAC,OAAQ,SACdC,EAAK,CAAC,QAAS,QACfC,EAAK,CAAC,MAAO,UACbC,EAAK,CAAC,SAAU,OACtB,OAAQ9O,GACN,IAAK,MACL,IAAK,SACH,OAAIQ,EAAYkO,EAAUE,EAAKD,EACxBD,EAAUC,EAAKC,EACxB,IAAK,OACL,IAAK,QACH,OAAOF,EAAUG,EAAKC,EACxB,QACE,MAAO,GAEb,CAGaC,CAAY1P,EAAQC,GAA0B,UAAd0J,EAAuBxI,GAOlE,OANIV,IACFoG,EAAOA,EAAKhpB,KAAI8iB,GAAQA,EAAO,IAAMF,IACjCwO,IACFpI,EAAOA,EAAKM,OAAON,EAAKhpB,IAAI2iB,MAGzBqG,CACT,CC2VmC8I,CAA0Bf,EAAkBK,EAAeD,EAA2B7N,IAEnH,MAAMyO,EAAa,CAAChB,KAAqBC,GACnC5J,QAAiBlD,EAAeC,EAAOqM,GACvCwB,EAAY,GAClB,IAAIC,GAAiE,OAA/CnB,EAAuB/K,EAAe8K,WAAgB,EAASC,EAAqBkB,YAAc,GAIxH,GAHI3B,GACF2B,EAAU5zB,KAAKgpB,EAAStE,IAEtBwN,EAAgB,CAClB,MAAM4B,EDpZd,SAA2B9P,EAAWkC,EAAOhB,QAC/B,IAARA,IACFA,GAAM,GAER,MAAMV,EAAYP,EAAaD,GACzBsB,EAAgBhB,EAAiBN,GACjChqB,EAASoqB,EAAckB,GAC7B,IAAIyO,EAAsC,MAAlBzO,EAAwBd,KAAeU,EAAM,MAAQ,SAAW,QAAU,OAAuB,UAAdV,EAAwB,SAAW,MAI9I,OAHI0B,EAAMf,UAAUnrB,GAAUksB,EAAMd,SAASprB,KAC3C+5B,EAAoBtP,EAAqBsP,IAEpC,CAACA,EAAmBtP,EAAqBsP,GAClD,CCwYsBC,CAAkBhQ,EAAWkC,EAAOhB,GAClD0O,EAAU5zB,KAAKgpB,EAAS8K,EAAM,IAAK9K,EAAS8K,EAAM,IACnD,CAOD,GANAD,EAAgB,IAAIA,EAAe,CACjC7P,YACA4P,eAIGA,EAAUK,OAAMvP,GAAQA,GAAQ,IAAI,CACvC,IAAIwP,EAAuBC,EAC3B,MAAMC,IAA+D,OAAhDF,EAAwBvM,EAAe8K,WAAgB,EAASyB,EAAsBG,QAAU,GAAK,EACpHC,EAAgBX,EAAWS,GACjC,GAAIE,EAEF,MAAO,CACL16B,KAAM,CACJy6B,MAAOD,EACPR,UAAWC,GAEbU,MAAO,CACLvQ,UAAWsQ,IAOjB,IAAIE,EAAgJ,OAA9HL,EAAwBN,EAAc3zB,QAAOia,GAAKA,EAAEyZ,UAAU,IAAM,IAAGh1B,MAAK,CAACmV,EAAGC,IAAMD,EAAE6f,UAAU,GAAK5f,EAAE4f,UAAU,KAAI,SAAc,EAASO,EAAsBnQ,UAG1L,IAAKwQ,EACH,OAAQ1B,GACN,IAAK,UACH,CACE,IAAI2B,EACJ,MAAMzQ,EAAyM,OAA5LyQ,EAAwBZ,EAAcjyB,KAAIuY,GAAK,CAACA,EAAE6J,UAAW7J,EAAEyZ,UAAU1zB,QAAO8oB,GAAYA,EAAW,IAAGkG,QAAO,CAACwF,EAAK1L,IAAa0L,EAAM1L,GAAU,MAAKpqB,MAAK,CAACmV,EAAGC,IAAMD,EAAE,GAAKC,EAAE,KAAI,SAAc,EAASygB,EAAsB,GACjPzQ,IACFwQ,EAAiBxQ,GAEnB,KACD,CACH,IAAK,mBACHwQ,EAAiB7B,EAIvB,GAAI3O,IAAcwQ,EAChB,MAAO,CACLD,MAAO,CACLvQ,UAAWwQ,GAIlB,CACD,MAAO,EACR,EAEL,EEoJMrM,GFzbQhuB,IAAY,CACxByF,KAAM,QACNzF,UACA,QAAMqtB,CAAGzB,GACP,MAAM7jB,EACJA,EAACmY,EACDA,EAAC2J,UACDA,EAASkC,MACTA,EAAKD,SACLA,EAAQE,SACRA,EAAQwB,eACRA,GACE5B,GAEExpB,QACJA,EAAOqoB,QACPA,EAAU,GACRf,EAAS1pB,EAAS4rB,IAAU,CAAA,EAChC,GAAe,MAAXxpB,EACF,MAAO,GAET,MAAMkqB,EAAgB9B,EAAiBC,GACjCgB,EAAS,CACb1jB,IACAmY,KAEI8J,EAAOG,EAAiBN,GACxBhqB,EAASoqB,EAAcD,GACvBwQ,QAAwB1O,EAASsJ,cAAchzB,GAC/Cq4B,EAAmB,MAATzQ,EACV0Q,EAAUD,EAAU,MAAQ,OAC5BE,EAAUF,EAAU,SAAW,QAC/BG,EAAaH,EAAU,eAAiB,cACxCI,EAAU9O,EAAMf,UAAUnrB,GAAUksB,EAAMf,UAAUhB,GAAQyB,EAAOzB,GAAQ+B,EAAMd,SAASprB,GAC1Fi7B,EAAYrP,EAAOzB,GAAQ+B,EAAMf,UAAUhB,GAC3C+Q,QAAuD,MAA5BjP,EAASc,qBAA0B,EAASd,EAASc,gBAAgBxqB,IACtG,IAAI44B,EAAaD,EAAoBA,EAAkBH,GAAc,EAGhEI,SAA6C,MAAtBlP,EAASW,eAAoB,EAASX,EAASW,UAAUsO,MACnFC,EAAahP,EAASf,SAAS2P,IAAe7O,EAAMd,SAASprB,IAE/D,MAAMo7B,EAAoBJ,EAAU,EAAIC,EAAY,EAI9CI,EAAyBF,EAAa,EAAIR,EAAgB36B,GAAU,EAAI,EACxEs7B,EAAa7V,EAAIgH,EAAcoO,GAAUQ,GACzCE,EAAa9V,EAAIgH,EAAcqO,GAAUO,GAIzCG,EAAQF,EACR5V,EAAMyV,EAAaR,EAAgB36B,GAAUu7B,EAC7CE,EAASN,EAAa,EAAIR,EAAgB36B,GAAU,EAAIo7B,EACxD7N,EAAS3D,EAAM4R,EAAOC,EAAQ/V,GAM9BgW,GAAmB/N,EAAeQ,OAAoC,MAA3BlE,EAAaD,IAAsByR,IAAWlO,GAAUrB,EAAMf,UAAUnrB,GAAU,GAAKy7B,EAASD,EAAQF,EAAaC,GAAcZ,EAAgB36B,GAAU,EAAI,EAC5MouB,EAAkBsN,EAAkBD,EAASD,EAAQC,EAASD,EAAQC,EAAS/V,EAAM,EAC3F,MAAO,CACLyE,CAACA,GAAOyB,EAAOzB,GAAQiE,EACvBxuB,KAAM,CACJuqB,CAACA,GAAOoD,EACRoO,aAAcF,EAASlO,EAASa,KAC5BsN,GAAmB,CACrBtN,oBAGJmM,MAAOmB,EAEV,IEsXGE,GFpDS,SAAUz7B,GAIvB,YAHgB,IAAZA,IACFA,EAAU,CAAA,GAEL,CACLyF,KAAM,SACNzF,UACA,QAAMqtB,CAAGzB,GACP,MAAM/B,UACJA,EAASmC,SACTA,EAAQD,MACRA,EAAKD,SACLA,EAAQG,SACRA,GACEL,GAIEnB,QACJA,EAAU,EAAC1iB,EACXA,EAACmY,EACDA,GACEwJ,EAAS1pB,EAAS4rB,GAChB8P,EAAoB16B,MAAME,WAAwC,MAA3B4qB,EAASuJ,oBAAyB,EAASvJ,EAASuJ,eAAerJ,EAAShB,aAAgB,IACnI2Q,EA5CZ,SAAwB5P,GACtB,MAAM6P,EAAc7P,EAAM/nB,QAAQS,MAAK,CAACmV,EAAGC,IAAMD,EAAEsG,EAAIrG,EAAEqG,IACnD2b,EAAS,GACf,IAAIC,EAAW,KACf,IAAK,IAAI37B,EAAI,EAAGA,EAAIy7B,EAAY/7B,OAAQM,IAAK,CAC3C,MAAMyqB,EAAOgR,EAAYz7B,IACpB27B,GAAYlR,EAAK1K,EAAI4b,EAAS5b,EAAI4b,EAASjV,OAAS,EACvDgV,EAAOh2B,KAAK,CAAC+kB,IAEbiR,EAAOA,EAAOh8B,OAAS,GAAGgG,KAAK+kB,GAEjCkR,EAAWlR,CACZ,CACD,OAAOiR,EAAOp0B,KAAImjB,GAAQD,EAAiBsC,EAAgBrC,KAC7D,CA8B0BmR,CAAeL,GAC7B3W,EAAW4F,EAAiBsC,EAAgByO,IAC5CpP,EAAgB9B,EAAiBC,GAsDvC,MAAMuR,QAAmBlQ,EAASmJ,gBAAgB,CAChDjK,UAAW,CACTnD,sBAvDJ,WAEE,GAA2B,IAAvB8T,EAAY97B,QAAgB87B,EAAY,GAAG1U,KAAO0U,EAAY,GAAGtS,OAAc,MAALthB,GAAkB,MAALmY,EAEzF,OAAOyb,EAAYM,MAAKrR,GAAQ7iB,EAAI6iB,EAAK3D,KAAOqF,EAAcrF,MAAQlf,EAAI6iB,EAAKvB,MAAQiD,EAAcjD,OAASnJ,EAAI0K,EAAK1D,IAAMoF,EAAcpF,KAAOhH,EAAI0K,EAAK7C,OAASuE,EAAcvE,UAAWhD,EAI/L,GAAI4W,EAAY97B,QAAU,EAAG,CAC3B,GAA+B,MAA3BqqB,EAAYL,GAAoB,CAClC,MAAMqS,EAAYP,EAAY,GACxBQ,EAAWR,EAAYA,EAAY97B,OAAS,GAC5Cu8B,EAA+B,QAAvBxS,EAAQC,GAChB3C,EAAMgV,EAAUhV,IAChBa,EAASoU,EAASpU,OAClBd,EAAOmV,EAAQF,EAAUjV,KAAOkV,EAASlV,KACzCoC,EAAQ+S,EAAQF,EAAU7S,MAAQ8S,EAAS9S,MAGjD,MAAO,CACLnC,MACAa,SACAd,OACAoC,QACAzC,MAPYyC,EAAQpC,EAQpBJ,OAPakB,EAASb,EAQtBnf,EAAGkf,EACH/G,EAAGgH,EAEN,CACD,MAAMmV,EAAoC,SAAvBzS,EAAQC,GACrByS,EAAW/W,KAAOoW,EAAYl0B,KAAImjB,GAAQA,EAAKvB,SAC/CkT,EAAUjX,KAAOqW,EAAYl0B,KAAImjB,GAAQA,EAAK3D,QAC9CuV,EAAeb,EAAY51B,QAAO6kB,GAAQyR,EAAazR,EAAK3D,OAASsV,EAAU3R,EAAKvB,QAAUiT,IAC9FpV,EAAMsV,EAAa,GAAGtV,IACtBa,EAASyU,EAAaA,EAAa38B,OAAS,GAAGkoB,OAKrD,MAAO,CACLb,MACAa,SACAd,KAPWsV,EAQXlT,MAPYiT,EAQZ1V,MARY0V,EADDC,EAUX1V,OAPakB,EAASb,EAQtBnf,EAXWw0B,EAYXrc,EAAGgH,EAEN,CACD,OAAOnC,CACR,GAKCkG,SAAUe,EAASf,SACnBgB,aAEF,OAAIF,EAAMf,UAAUjjB,IAAMi0B,EAAWhR,UAAUjjB,GAAKgkB,EAAMf,UAAU9K,IAAM8b,EAAWhR,UAAU9K,GAAK6L,EAAMf,UAAUpE,QAAUoV,EAAWhR,UAAUpE,OAASmF,EAAMf,UAAUnE,SAAWmV,EAAWhR,UAAUnE,OACnM,CACLuT,MAAO,CACLrO,MAAOiQ,IAIN,EACR,EAEL,EExCMS,GFyMa,SAAUz8B,GAI3B,YAHgB,IAAZA,IACFA,EAAU,CAAA,GAEL,CACLA,UACA,EAAAqtB,CAAGzB,GACD,MAAM7jB,EACJA,EAACmY,EACDA,EAAC2J,UACDA,EAASkC,MACTA,EAAKyB,eACLA,GACE5B,GACEwB,OACJA,EAAS,EACTS,SAAUiK,GAAgB,EAC1BhK,UAAWiK,GAAiB,GAC1BrO,EAAS1pB,EAAS4rB,GAChBH,EAAS,CACb1jB,IACAmY,KAEI4N,EAAY5D,EAAYL,GACxBgE,EAAW9D,EAAgB+D,GACjC,IAAIoK,EAAgBzM,EAAOoC,GACvBsK,EAAiB1M,EAAOqC,GAC5B,MAAM4O,EAAYhT,EAAS0D,EAAQxB,GAC7B+Q,EAAsC,iBAAdD,EAAyB,CACrD7O,SAAU6O,EACV5O,UAAW,GACT,CACFD,SAAU,EACVC,UAAW,KACR4O,GAEL,GAAI5E,EAAe,CACjB,MAAM8E,EAAmB,MAAb/O,EAAmB,SAAW,QACpCgP,EAAW9Q,EAAMf,UAAU6C,GAAY9B,EAAMd,SAAS2R,GAAOD,EAAe9O,SAC5EiP,EAAW/Q,EAAMf,UAAU6C,GAAY9B,EAAMf,UAAU4R,GAAOD,EAAe9O,SAC/EqK,EAAgB2E,EAClB3E,EAAgB2E,EACP3E,EAAgB4E,IACzB5E,EAAgB4E,EAEnB,CACD,GAAI/E,EAAgB,CAClB,IAAIzK,EAAuByP,EAC3B,MAAMH,EAAmB,MAAb/O,EAAmB,QAAU,SACnCmP,EAAe,CAAC,MAAO,QAAQh1B,SAAS4hB,EAAQC,IAChDgT,EAAW9Q,EAAMf,UAAU8C,GAAa/B,EAAMd,SAAS2R,IAAQI,IAAmE,OAAlD1P,EAAwBE,EAAeJ,aAAkB,EAASE,EAAsBQ,KAAmB,IAAMkP,EAAe,EAAIL,EAAe7O,WACnOgP,EAAW/Q,EAAMf,UAAU8C,GAAa/B,EAAMf,UAAU4R,IAAQI,EAAe,GAAyD,OAAnDD,EAAyBvP,EAAeJ,aAAkB,EAAS2P,EAAuBjP,KAAe,IAAMkP,EAAeL,EAAe7O,UAAY,GAChPqK,EAAiB0E,EACnB1E,EAAiB0E,EACR1E,EAAiB2E,IAC1B3E,EAAiB2E,EAEpB,CACD,MAAO,CACLjP,CAACA,GAAWqK,EACZpK,CAACA,GAAYqK,EAEhB,EAEL,EEnQM8E,GAAkB,CAACjS,EAAWC,EAAUjrB,KAI5C,MAAMq0B,EAAQ,IAAIjhB,IACZ8pB,EAAgB,CACpBpR,eACG9rB,GAECm9B,EAAoB,IACrBD,EAAcpR,SACjB9I,GAAIqR,GAEN,MFjnBsB3I,OAAOV,EAAWC,EAAU9rB,KAClD,MAAM0qB,UACJA,EAAY,SAAQoC,SACpBA,EAAW,WAAUmR,WACrBA,EAAa,GAAEtR,SACfA,GACE3sB,EACEk+B,EAAkBD,EAAWr3B,OAAOu3B,SACpCvS,QAA+B,MAAlBe,EAAS7P,WAAgB,EAAS6P,EAAS7P,MAAMgP,IACpE,IAAIc,QAAcD,EAASmJ,gBAAgB,CACzCjK,YACAC,WACAgB,cAEElkB,EACFA,EAACmY,EACDA,GACE2K,EAA2BkB,EAAOlC,EAAWkB,GAC7CwS,EAAoB1T,EACpB2D,EAAiB,CAAA,EACjBgQ,EAAa,EACjB,IAAK,IAAIr9B,EAAI,EAAGA,EAAIk9B,EAAgBx9B,OAAQM,IAAK,CAC/C,MAAMsF,KACJA,EAAI4nB,GACJA,GACEgQ,EAAgBl9B,IAElB4H,EAAG01B,EACHvd,EAAGwd,EAAKj+B,KACRA,EAAI26B,MACJA,SACQ/M,EAAG,CACXtlB,IACAmY,IACAsY,iBAAkB3O,EAClBA,UAAW0T,EACXtR,WACAuB,iBACAzB,QACAD,WACAE,SAAU,CACRhB,YACAC,cAGJljB,EAAa,MAAT01B,EAAgBA,EAAQ11B,EAC5BmY,EAAa,MAATwd,EAAgBA,EAAQxd,EAC5BsN,EAAiB,IACZA,EACH/nB,CAACA,GAAO,IACH+nB,EAAe/nB,MACfhG,IAGH26B,GAASoD,GAAc,KACzBA,IACqB,iBAAVpD,IACLA,EAAMvQ,YACR0T,EAAoBnD,EAAMvQ,WAExBuQ,EAAMrO,QACRA,GAAwB,IAAhBqO,EAAMrO,YAAuBD,EAASmJ,gBAAgB,CAC5DjK,YACAC,WACAgB,aACGmO,EAAMrO,SAGXhkB,IACAmY,KACE2K,EAA2BkB,EAAOwR,EAAmBxS,KAE3D5qB,GAAK,EAER,CACD,MAAO,CACL4H,IACAmY,IACA2J,UAAW0T,EACXtR,WACAuB,iBACD,EEgiBMmQ,CAAkB3S,EAAWC,EAAU,IACzCiS,EACHpR,SAAUqR,GACV,ECzqBJ,MAAMS,WAAcz3B,EAChB,WAAAC,CAAYhE,EAASjD,EAAQ0+B,GAqCzB,GAFAC,MAXmBv9B,OAAOO,OAAO,CAC7B2E,KAAM,QACNrD,QAASA,EACTkE,cAzBc,CACdwD,OAAQ,KACRi0B,UAAU,EACVrX,OAAO,EACPsX,qBAAsB,IACtBC,eAAe,EACfC,cAAc,EACdC,OAAQ,cACRt8B,QAAS,eACTu8B,MAAO,aACPC,SAAU,gBACVC,eAAgB,EAChBC,SAAS,EACTC,aAAa,EACbC,OAAQ,KACRC,UAAW,QACXn4B,QAAS,CACL83B,SAAU,KACVh8B,QAAS,WAQblD,OAAQA,EACRwH,YAAa,CACTC,OAAO,EACPC,OAAO,IAEZg3B,GAAqB,CAAA,KAInB34B,KAAK4B,SAAU,OAQpB,GANA5B,KAAKy5B,WAAY,EACjBz5B,KAAK05B,WAAY,EACjB15B,KAAK4C,QAAQ22B,OAAS7Z,SAAS1f,KAAK4C,QAAQ22B,SAAW,EACvDv5B,KAAK4C,QAAQ42B,UAAY57B,EAAUoC,KAAK4C,QAAQ42B,WAChDx5B,KAAK25B,OAASv7B,EAAW4B,KAAK4C,QAAQgC,SAAW5E,KAAK4B,UAEjD5B,KAAK25B,OAAQ,OAElB35B,KAAK45B,QAAUx7B,EAAW,IAAI4B,KAAK4C,QAAQq2B,UAAWj5B,KAAK25B,QAC3D35B,KAAK65B,SAAWz7B,EAAW,IAAI4B,KAAK4C,QAAQjG,WAAYqD,KAAK25B,QAC7D35B,KAAK85B,cAAgB95B,KAAK25B,OAC1B35B,KAAK+5B,YAAc/5B,KAAK4B,SACxB5B,KAAK4C,QAAQk2B,qBAAuBpZ,SAAS1f,KAAK4C,QAAQk2B,sBAAwB,IAClF94B,KAAK4C,QAAQw2B,eAAiB1Z,SAAS1f,KAAK4C,QAAQw2B,gBACpD,MAAMY,EAA6B,KAAnBh6B,KAAK25B,OAAOhqB,GAAY3P,KAAK25B,OAAOhqB,GAAK,SAAW1Q,EAAa,GAC3Eg7B,EAAgBz7B,EAAY,IAAIwB,KAAK4C,QAAQs2B,SAAUl5B,KAAK25B,QAElE/5B,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAa55B,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAa55B,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAa,GAGlHh8B,EAAcwC,KAAK25B,OAAQ,CACvBhqB,GAAIqqB,EACJE,UAAW,EACXC,KAAM,SACNC,WAAW,IAIf98B,EAAO0C,KAAK25B,OAAQ,CAChBU,OAAQr6B,KAAK4C,QAAQ22B,SAKzBU,EAAcp+B,SAASq9B,IACnB17B,EAAc07B,EAAO,CACjBiB,KAAM,SACNxkB,UAAoC,IAAzBujB,EAAMoB,UAAU59B,OAAcw8B,EAAMoB,UAAU59B,OAAS,SACpE,IAIN,MAAM69B,EAAY,CACd59B,QAASqD,KAAK65B,UAMZW,EAAe/1B,IACjBA,EAAEsZ,iBACF/d,KAAKy6B,MAAMz6B,KAAK,EAMd06B,EAAej2B,IACjBA,EAAEsZ,iBACF/d,KAAK05B,WAAY,EACjB15B,KAAK26B,MAAM36B,KAAK,EAuBd46B,EAAiB,KACf56B,KAAK4C,QAAQw2B,gBApES,KAqEtBp5B,KAAK+G,aAAY,KACb/G,KAAK26B,MAAM36B,KAAK,GACjBA,KAAK4C,QAAQw2B,eACnB,EA4BCyB,EAAgBt0B,GAGX,IAFW/H,EAAY,IAAK+H,EAAKszB,WAElBh5B,QAAO2J,GAAQA,EAAKswB,UAAY,IAWpDC,EAAW,CAACt2B,EAAG8B,EAAM0V,GAAU,KACjC,IAAI+e,EAAYH,EAAat0B,GAC7B,MAAM00B,EAAQD,EAAUrgC,OAExB,OAAa,GAATsgC,GACA10B,EAAKozB,OAAOnY,aACZ/c,EAAEsZ,kBAKFkd,GAAS,GAAK1+B,SAASyO,eAAiBgwB,EAAUC,EAAQ,IAC1DD,EAAU,GAAGxZ,aACb/c,EAAEsZ,kBAKFkd,GAAS,GAAK1+B,SAASyO,eAAiBgwB,EAAU,IAAM/e,GACxD+e,EAAUC,EAAQ,GAAGzZ,aACrB/c,EAAEsZ,uBAFN,CAKC,EAQCmd,EAAc3gC,IAEZqF,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW2B,wBAAwBr/B,MAC5D8D,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW2B,aAAax6B,KAAKpG,IAK1DqF,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW2B,aAAe,CAAC5gC,GACpDqF,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW4B,WAAa7gC,EAAKo/B,OACtD/5B,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW6B,kBAAoB9gC,EAAKqH,SAAQ,EAQnE05B,EAAeC,IACb37B,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW2B,wBAAwBr/B,OAC5D8D,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW2B,aAAat/B,SAAQ,CAACtB,EAAMy6B,KACxDz6B,EAAKo/B,QAAU4B,GACf37B,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW2B,aAAavgC,OAAOo6B,EAAO,EAClE,GAER,EAMCwG,EAAiB,IACZ57B,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW2B,aAAev7B,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW2B,aAAaxgC,OAAS,EAQlH8gC,EAAgBF,GACX37B,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW4B,YAAcG,EAMvDG,EAAuB,IAClB97B,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW6B,kBAMzCM,EAAc,YAET/7B,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW2B,oBACpCv7B,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW4B,kBACpCx7B,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW6B,iBAAiB,EAS1DO,EAAoBL,IACtB,IAAIM,EAAgB,KAUpB,OARIj8B,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW2B,wBAAwBr/B,OAAS8D,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW2B,aAAaxgC,OAAS,GAC/HiF,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW2B,aAAat/B,SAAQ,CAACtB,EAAMy6B,KACxDz6B,EAAKo/B,QAAU4B,IACfM,EAAgBj8B,MAAMM,MAAMF,KAAK4C,QAAQ42B,WAAW2B,aAAanG,EAAQ,GAC5E,IAIF6G,CAAa,EAQlBra,EAAStkB,IACNA,GAELA,EAAQskB,OAAO,EAMbsa,EAA4B,KAC9B,IAAIr+B,EAAalB,SAAS0O,KAAKlJ,QAAQg6B,eAAiB,GAIxD,GAHAt+B,EAAaA,EAAWM,MAAM,KAC9BN,EAAaA,EAAWoD,QAAOnD,GAA0B,IAAbA,KAEQ,IAAhDD,EAAWpB,QAAQ2D,KAAK4C,QAAQ42B,WAAmB,CACnD/7B,EAAWkD,KAAKX,KAAK4C,QAAQ42B,WAC7B,IAAIl/B,EAAQmD,EAAW9C,OAAS,EAAI8C,EAAW+B,KAAK,KAAOQ,KAAK4C,QAAQ42B,UACxEj9B,SAAS0O,KAAKtN,aAAa,sBAAuBrD,EACrD,GAMC0hC,EAA+B,KACjC,IAAIv+B,EAAalB,SAAS0O,KAAKlJ,QAAQg6B,eAAiB,GAGxD,GAFAt+B,EAAaA,EAAWM,MAAM,MAEsB,IAAhDN,EAAWpB,QAAQ2D,KAAK4C,QAAQ42B,WAGhC,GAFA/7B,EAAW7C,OAAO6C,EAAWpB,QAAQ2D,KAAK4C,QAAQ42B,WAAY,GAE1D/7B,EAAW9C,OAAS,EAAG,CACvB,IAAIL,EAAQmD,EAAW9C,OAAS,EAAI8C,EAAW+B,KAAK,KAAO/B,EAAW,GACtElB,SAAS0O,KAAKtN,aAAa,sBAAuBrD,EACtE,MACoBiC,SAAS0O,KAAKY,gBAAgB,sBAErC,EAMCowB,EAAgB,KACdj8B,KAAK4C,QAAQ02B,cAGjBt5B,KAAK25B,OAAOv8B,MAAMusB,SAAW,SAGxBptB,SAAS0O,KAAKlJ,QAAQg6B,eACvBz+B,EAAOf,SAAS0O,KAAM,CAClB0e,SAAU,KACVuS,YAAa,OAEpB,EAeCC,EAAyB51B,IACvBA,EAAK3D,QAAQ02B,cAEjB/yB,EAAKozB,OAAOv8B,MAAMusB,SAAW,KAAI,EAQ/BwP,EAAW,KACb,MAAMA,EAAW58B,SAASC,cAAc,OA2BxC,OAzBKwD,KAAK4C,QAAQvB,QAAQ83B,WACtBA,EAAS/7B,MAAMg/B,gBAAkB,sBAGrC9+B,EAAO67B,EAAU,CACbvjB,SAAU,QACVoM,IAAK,EACLmC,MAAO,EACPtB,OAAQ,EACRd,KAAM,EACNsY,OAAQr6B,KAAK4C,QAAQ22B,OAAS,IAG9Bv5B,KAAK+D,gBACLzG,EAAO67B,EAAU,CACbkD,QAAS,EACTj4B,WAAY,WAAWpE,KAAK4C,QAAQk2B,iCAI5Cj7B,EAASs7B,EAAUn5B,KAAK4C,QAAQvB,QAAQ83B,UACxC37B,EAAc27B,EAAU,CACpB,CAAC,GAAGn5B,KAAK4C,QAAQu2B,YAAan5B,KAAK4C,QAAQ42B,YAGxCL,CAAQ,EAMbmD,EAAe,KAQjB,GAPAt8B,KAAKu8B,UAAYn+B,EAAW,IAAI4B,KAAK4C,QAAQu2B,aAAan5B,KAAK4C,QAAQ42B,gBAAkBL,IAEpFn5B,KAAK4C,QAAQo2B,cACdz8B,SAAS0O,KAAK+G,OAAOhS,KAAKu8B,WAIN,GAApBf,MAA0Bx7B,KAAK4C,QAAQ02B,cA7DpClB,QAAQ77B,SAAS0O,KAAK7N,MAAMusB,UAAYptB,SAAS0O,KAAK7N,MAAM8+B,aA6Da,CAC5E,MAAMM,EAAiB78B,OAAO2iB,WAAa/lB,SAAS6U,gBAAgBmR,YACpEjlB,EAAOf,SAAS0O,KAAM,CAClB0e,SAAU,SACVuS,YAAa,GAAGM,OAEvB,CAEGx8B,KAAK+D,gBACLpE,OAAO+E,uBAAsB,KACzB1E,KAAKu8B,UAAUn/B,MAAMi/B,QAAU,CAAC,IAInCr8B,KAAK05B,YACNwB,EAAWl7B,MAEX87B,IACH,EAMC9C,EAAe,KACjB,KAAMh5B,KAAKu8B,WAAaf,IAAmB,KAAOx7B,KAAK4C,QAAQo2B,aAAc,OAa7E,GAXAgD,IAEKh8B,KAAK4C,QAAQy2B,UACdr5B,KAAK+5B,YAAc2B,KAGnB17B,KAAK4C,QAAQo2B,cAAoC,GAApBwC,MAC7BS,IACAN,MAGC37B,KAAK+D,eAKN,OAJAk4B,IACAN,SACA37B,KAAKu8B,UAAUp+B,SAKnB,MAAMs+B,EAAqB,KACvBR,IACAN,IACA37B,KAAKu8B,UAAUp+B,SACf6B,KAAK8G,KAAK9G,KAAKu8B,UAAW,gBAAiBE,EAAmB,EAGlE98B,OAAO+E,uBAAsB,KACzB1E,KAAKu8B,UAAUn/B,MAAMi/B,QAAU,CAAC,IAGpCr8B,KAAK4G,IAAI5G,KAAKu8B,UAAW,gBAAiBE,EAAmB,EAM3DC,EAAiB,KACnB,MAAMp4B,EAAoBvH,WAAW4C,OAAO4E,iBAAiBvE,KAAK45B,SAASt1B,oBAAsB,GACtEvH,WAAW4C,OAAO4E,iBAAiBvE,KAAK45B,SAAS+C,qBAAuB,IAEzE38B,KAAK4C,QAAQk2B,sBAAwBx0B,GAAqBtE,KAAK4C,QAAQk2B,uBAI5F2C,EAAaz7B,KAAK25B,SAAW35B,KAAK4C,QAAQy2B,UAAar5B,KAAK4C,QAAQy2B,WACrEsC,IACA37B,KAAKu8B,WAAWp+B,SACnB,EAQL6B,KAAKy6B,MAASl0B,IACVA,EAAKkzB,WAAY,EACjBlzB,EAAKH,eAAe,OAAQm0B,GAC5B+B,IAEA,MAAMM,EAAmBhB,EAAiBr1B,EAAKozB,QAE3CiD,IAAqB58B,KAAK05B,WAC1BnzB,EAAKo0B,MAAMiC,GAGf58B,KAAK05B,WAAY,EAEbnzB,EAAK3D,QAAQ4e,OAASqZ,EAAat0B,GAAM5L,OAAS,IAClD4L,EAAKuzB,cAAgBe,EAAat0B,GAAM,IAG5CrI,EAAYqI,EAAKozB,OAAQpzB,EAAK3D,QAAQvB,QAAQlE,SAEzBoJ,EAAKvC,YAAY,kBAAmBuC,EAAKqzB,SAAUn1B,IACpE+c,EAAMjb,EAAKuzB,eACXvzB,EAAKH,eAAe,QAASm0B,GAC7BK,GAAgB,MAKpBpZ,EAAMjb,EAAKuzB,eACXvzB,EAAKH,eAAe,QAASm0B,GAC7BK,IAAgB,EAQpB56B,KAAK26B,MAASp0B,IAEVA,EAAKkzB,WAAY,EACjBlzB,EAAKH,eAAe,OAAQm0B,GAC5BvB,IAEA,MAAM4D,EAAmBhB,EAAiBr1B,EAAKozB,QAE3CiD,GAAoB58B,KAAK05B,YACzB4B,EAAY/0B,EAAKozB,QACjBpzB,EAAKk0B,MAAMmC,IAGf58B,KAAK05B,WAAY,EAEZnzB,EAAK3D,QAAQy2B,SACdiC,EAAY/0B,EAAKozB,QAGApzB,EAAKvC,YAAY,kBAAmBuC,EAAKqzB,SAAUn1B,IACpE5G,EAAS0I,EAAKozB,OAAQpzB,EAAK3D,QAAQvB,QAAQlE,SAGvCq+B,IAAmB,GAAGha,EAAMjb,EAAKwzB,aAErCoC,EAAsB51B,GACtBA,EAAKH,eAAe,SAAUm0B,GAE9BmC,GAAgB,MAKpB7+B,EAAS0I,EAAKozB,OAAQpzB,EAAK3D,QAAQvB,QAAQlE,SAGvCq+B,IAAmB,GAAGha,EAAMjb,EAAKwzB,aAErCoC,EAAsB51B,GACtBA,EAAKH,eAAe,SAAUm0B,GAAU,EAMxCv6B,KAAK4C,QAAQgC,QACb5E,KAAK4G,IAAI5G,KAAK4B,SAAU,QAAS44B,GAGrCx6B,KAAK4G,IAAI5G,KAAK25B,OAAQ,WA5bHl1B,KACD,QAAVA,EAAEjK,KAAkBiK,EAAEo4B,UAAsB,QAAVp4B,EAAEjK,MACpCugC,EAASt2B,EAAGzE,KAAMyE,EAAEo4B,UAGV,WAAVp4B,EAAEjK,KAAqBwF,KAAK4C,QAAQi2B,SAM1B,WAAVp0B,EAAEjK,KAAoBwF,KAAK4C,QAAQi2B,WACnC74B,KAAK05B,WAAY,EACjB15B,KAAK26B,MAAM36B,OAPXA,KAAKoG,eAAe,gBAAiBm0B,EAQxC,IA+aLv6B,KAAK4G,IAAI5G,KAAK25B,OAAQ,SAzdIl1B,IAElBzE,KAAKiD,kBAAoBjD,KAAK65B,SAASiD,SAASr4B,EAAEG,UAEjD5E,KAAK4C,QAAQm2B,eAMlB/4B,KAAK05B,WAAY,EACjB15B,KAAK26B,MAAM36B,OANPA,KAAKoG,eAAe,gBAAiBm0B,GAMzB,IAgdpB,IAAK,MAAMrB,KAASe,EAChBj6B,KAAK4G,IAAIsyB,EAAO,QAASwB,GAG7B16B,KAAKoG,eAAe,aACvB,CAED,IAAAyY,GACI7e,KAAKy6B,QAAQz6B,KAChB,CAED,IAAAyd,GACIzd,KAAK26B,QAAQ36B,KAChB,CAED,OAAA+8B,GACI,OAAO/8B,KAAKy5B,SACf,CAED,OAAA/4B,GACIV,KAAK26B,MAAM36B,MACXA,KAAKu8B,WAAWp+B,SAChB6B,KAAKg9B,mBAAmBh9B,KAAK45B,gBACtBh6B,MAAMM,MAAMi7B,aACnBt9B,EAASmC,KAAK25B,OAAQ35B,KAAK4C,QAAQvB,QAAQlE,ST/UnB,EAACD,EAASO,EAAa,MACnD,GAAKP,EAEL,IAAK,MAAMQ,KAAaD,EACpBP,EAAQ2O,gBAAgBjO,EAAUF,GACrC,ES2UGu/B,CAAiBj9B,KAAK25B,OAAQ,CAAE,KAAM,WAAY,OAAQ,cAC1Dr8B,EAAO0C,KAAK25B,OAAQ,CAAEU,OAAQ,OAC9BzB,MAAMl4B,SACT,EC3lBL,SAASw8B,GAAU/8B,EAAQ+D,GACvB/D,EAAOpC,MAAM,OAAOlC,SAASyhB,IACzBpZ,EAASoZ,EAAM,GAEvB,CAEA,MAAM6f,GACF,WAAAj8B,GACIlB,KAAKkD,aAAU,EACflD,KAAKkD,QAAU,EAClB,CAED,EAAAiE,CAAGhH,EAAQi9B,GACPF,GAAU/8B,GAASmd,IACf,MAAM+f,EAAcr9B,KAAKkD,QAAQoa,IAAU,GAC3C+f,EAAY18B,KAAKy8B,GACjBp9B,KAAKkD,QAAQoa,GAAS+f,CAAW,GAExC,CAED,GAAAj2B,CAAIjH,EAAQi9B,GACR,IAAIE,EAAIC,UAAU5iC,OAER,IAAN2iC,EAKJJ,GAAU/8B,GAASmd,IACf,GAAU,IAANggB,EAEA,mBADOt9B,KAAKkD,QAAQoa,GAIxB,MAAM+f,EAAcr9B,KAAKkD,QAAQoa,QACb7c,IAAhB48B,IACJA,EAAYziC,OAAOyiC,EAAYhhC,QAAQ+gC,GAAM,GAC7Cp9B,KAAKkD,QAAQoa,GAAS+f,EAAW,IAbjCr9B,KAAKkD,QAAU,EAetB,CAED,OAAAkc,CAAQjf,KAAWK,GACf,IAAI+F,EAAOvG,KACXk9B,GAAU/8B,GAASmd,IACf,MAAM+f,EAAc92B,EAAKrD,QAAQoa,QACb7c,IAAhB48B,GACJA,EAAYxhC,SAASuhC,IACjBA,EAAIrkB,MAAMxS,EAAM/F,EAAK,GACvB,GAET,EAqIL,MAAMg9B,GAAkBC,IACpBA,EAAQA,EAAM58B,OAAOu3B,UAEXz9B,OAAS,EACR8iC,EAAM,IAAM,GAGS,GAAzBC,GAAeD,GAChB,IAAMA,EAAMj+B,KAAK,IAAM,IACvB,MAAQi+B,EAAMj+B,KAAK,KAAO,IAO9Bm+B,GAAmBC,IACrB,IAAKC,GAAcD,GACf,OAAOA,EAAMp+B,KAAK,IAGtB,IAAIs+B,EAAU,GACVC,EAAkB,EAEtB,MAAMC,EAAe,KACbD,EAAkB,IAClBD,GAAW,IAAMC,EAAkB,IACtC,EAcL,OAXAH,EAAM/hC,SAAQ,CAACoiC,EAAMhjC,KACbgjC,IAASL,EAAM3iC,EAAI,IAKvB+iC,IACAF,GAAWG,EACXF,EAAkB,GANdA,GAMe,IAEvBC,IACOF,CAAO,EAUZI,GAAgBT,IAClB,IAAIG,EAAQO,GAAQV,GACpB,OAAOD,GAAeI,EAAM,EAQ1BC,GAAiBD,GACZ,IAAIp2B,IAAIo2B,GAAOQ,OAASR,EAAMjjC,OAQnC0jC,GAAgB1qB,IACVA,EAAM,IAAI5U,QAAQ,qCAAsC,QAQ9D2+B,GAAkBE,GACbA,EAAM/N,QACT,CAACyO,EAAShkC,IAAU+E,KAAKghB,IAAIie,EAASC,GAAcjkC,KACpD,GAOFikC,GAAiB5qB,GACZwqB,GAAQxqB,GAAKhZ,OAOlBwjC,GAAWK,GAAM1iC,MAAME,KAAKwiC,GAS5BC,GAAiBC,IACnB,GAAqB,IAAjBA,EAAM/jC,OAAc,MAAO,CAAC,CAAC+jC,IAGjC,IAAIxT,EAAS,GACb,MAAM7G,EAAQqa,EAAMh/B,UAAU,GAU9B,OATa++B,GAAcpa,GACtBxoB,SAAQ,SAAU8iC,GACnB,IAAIC,EAAMD,EAAU7/B,MAAM,GAC1B8/B,EAAI,GAAKF,EAAM9/B,OAAO,GAAKggC,EAAI,GAC/B1T,EAAOvqB,KAAKi+B,GACZA,EAAMD,EAAU7/B,MAAM,GACtB8/B,EAAI9a,QAAQ4a,EAAM9/B,OAAO,IACzBssB,EAAOvqB,KAAKi+B,EACpB,IACW1T,CAAM,EAcX2T,GAAc,CAAC,CAAC,EAAG,QAIzB,IAAIC,GAGAC,GACJ,MAGMC,GAAgB,CAAA,EAGhBC,GAAkB,CACpB,IAAK,KACL,EAAG,IACHvqB,EAAG,MACHwqB,GAAI,IACJC,GAAI,MACJC,GAAI,IACJC,GAAI,IACJC,GAAI,KACJC,GAAI,IACJ5qB,EAAG,MACHwH,EAAG,OACHrB,EAAG,WACHrW,EAAG,OACH+6B,EAAG,KACHC,EAAG,SACHC,EAAG,OACHzkC,EAAG,KACHqhB,EAAG,KACHqjB,EAAG,SACHC,EAAG,WACH7kB,EAAG,MACHuiB,EAAG,UACHuC,EAAG,UACHC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJC,GAAI,IACJzB,EAAG,SACH0B,EAAG,MACHzc,EAAG,QACH0c,EAAG,QACHC,EAAG,QACHC,GAAI,IACJC,GAAI,IACJC,EAAG,IACHxc,EAAG,MACHyc,GAAI,IACJC,EAAG,IACHzlB,EAAG,MACH0lB,EAAG,QACHC,GAAI,KAGR,IAAK,IAAIC,KAAS3B,GAAiB,CAC/B,IAAI4B,EAAU5B,GAAgB2B,IAAU,GAExC,IAAK,IAAI3lC,EAAI,EAAGA,EAAI4lC,EAAQlmC,OAAQM,IAAK,CACrC,IAAIgjC,EAAO4C,EAAQnhC,UAAUzE,EAAGA,EAAI,GACpC+jC,GAAcf,GAAQ2C,CACzB,CACL,CAEA,MAAME,GAAc,IAAIC,OACpB1lC,OAAOhB,KAAK2kC,IAAex/B,KAAK,KAAhCnE,YACA,MAmBE2lC,GAAY,CAACrtB,EAAKstB,EAAO,SAAWttB,EAAIqtB,UAAUC,GASlDC,GAAavtB,GACRwqB,GAAQxqB,GAAKkc,QAKhB,CAAC3E,EAAQ+S,IACE/S,EAASiW,GAAWlD,IAE/B,IAQFkD,GAAcxtB,IAChBA,EAAMqtB,GAAUrtB,GACXjZ,cACAqE,QACG+hC,IAGI7C,GAEOe,GAAcf,IAAS,KAInC+C,GAAUrtB,EAAK,QA4C1B,MAAMytB,GAAgBvC,IAElB,MAAMwC,EAAe,CAAA,EAMfC,EAAc,CAACC,EAAQC,KAEzB,MAAMC,EAAaJ,EAAaE,IAAW,IAAI/5B,IACzCk6B,EAAO,IAAIX,OAAO,IAAM7C,GAAauD,GAAc,IAAK,MAE1DD,EAAOhwB,MAAMkwB,KAIjBD,EAAWxjC,IAAIogC,GAAamD,IAC5BH,EAAaE,GAAUE,EAAU,EAGrC,IAAK,IAAInnC,KAzDb,UAAoBukC,GAChB,IAAK,MAAO8C,EAAgBC,KAAmB/C,EAC3C,IAAK,IAAI5jC,EAAI0mC,EAAgB1mC,GAAK2mC,EAAgB3mC,IAAK,CACnD,IAAI4mC,EAAW3iC,OAAO4iC,aAAa7mC,GAC/BsmC,EAASL,GAAUW,GAEnBN,GAAUM,EAASnnC,gBAQnB6mC,EAAO5mC,OA7IC,GAiJS,GAAjB4mC,EAAO5mC,cAIL,CACF4mC,OAAQA,EACRM,SAAUA,EACVE,WAAY9mC,IAEnB,CAET,CA4BsB+mC,CAAUnD,GACxByC,EAAYhnC,EAAMinC,OAAQjnC,EAAMinC,QAChCD,EAAYhnC,EAAMinC,OAAQjnC,EAAMunC,UAGpC,OAAOR,CAAY,EAUjBY,GAAepD,IAEjB,MAAMwC,EAAeD,GAAavC,GAG5BC,EAAc,CAAA,EAGpB,IAAIoD,EAAa,GAEjB,IAAK,IAAIX,KAAUF,EAAc,CAC7B,IAAIj+B,EAAMi+B,EAAaE,GAEnBn+B,IACA07B,EAAYyC,GAAUrD,GAAa96B,IAGnCm+B,EAAO5mC,OAAS,GAChBunC,EAAWvhC,KAAK09B,GAAakD,GAEpC,CAEDW,EAAW3iC,MAAK,CAACmV,EAAGC,IAAMA,EAAEha,OAAS+Z,EAAE/Z,SACvC,MAAMwnC,EAAkB3E,GAAe0E,GAEvC,OADAnD,GAAiB,IAAIgC,OAAO,IAAMoB,EAAiB,KAC5CrD,CAAW,EAuChBsD,GAAsB,CAACzuB,EAAK0uB,EAAkB,KAChDA,EAAkBhjC,KAAKghB,IAAIgiB,EAAiB1uB,EAAIhZ,OAAS,GAClD6iC,GACHiB,GAAc9qB,GAAKpR,KAAK+/B,GAjCZ,EAACC,EAASF,EAAkB,KAC5C,IAAIG,EAAiB,EASrB,OARAD,EAAUA,EAAQhgC,KAAKoR,IACfmrB,GAAYnrB,KACZ6uB,GAAkB7uB,EAAIhZ,QAGnBmkC,GAAYnrB,IAAQA,KAG3B6uB,GAAkBH,EACX1E,GAAgB4E,GAGpB,EAAE,EAoBME,CAAYH,EAASD,OAYlCK,GAAqB,CAACC,EAAWt5B,GAAM,KACzC,IAAIg5B,EAAkBM,EAAUhoC,OAAS,EAAI,EAAI,EACjD,OAAO6iC,GACHmF,EAAUpgC,KAAKqgC,IACX,IAAIC,EAAM,GACV,MAAMnL,EAAMruB,EAAMu5B,EAASjoC,SAAWioC,EAASjoC,SAAW,EAE1D,IAAK,IAAI2hB,EAAI,EAAGA,EAAIob,EAAKpb,IACrBumB,EAAIliC,KACAyhC,GACIQ,EAASE,QAAQxmB,IAAM,GACvB+lB,IAKZ,OAAO1E,GAAgBkF,EAAI,IAElC,EAQCE,GAAc,CAACC,EAAYL,KAC7B,IAAK,MAAME,KAAOF,EAAW,CACzB,GAAIE,EAAIxe,OAAS2e,EAAW3e,OAASwe,EAAIve,KAAO0e,EAAW1e,IACvD,SAGJ,GAAIue,EAAIC,QAAQtjC,KAAK,MAAQwjC,EAAWF,QAAQtjC,KAAK,IACjD,SAGJ,IAAIyjC,EAAeD,EAAWE,MAK9B,MAAMriC,EAAUsiC,IACZ,IAAK,MAAMC,KAAeH,EAAc,CACpC,GACIG,EAAY/e,QAAU8e,EAAK9e,OAC3B+e,EAAY3oC,SAAW0oC,EAAK1oC,OAE5B,OAAO,EAGX,GAAmB,GAAf0oC,EAAKxoC,QAAqC,GAAtByoC,EAAYzoC,OAApC,CAQA,GACIwoC,EAAK9e,MAAQ+e,EAAY/e,OACzB8e,EAAK7e,IAAM8e,EAAY/e,MAEvB,OAAO,EAGX,GACI+e,EAAY/e,MAAQ8e,EAAK9e,OACzB+e,EAAY9e,IAAM6e,EAAK9e,MAEvB,OAAO,CAjBV,CAmBJ,CAED,OAAO,CAAK,EAKhB,KAFewe,EAAIK,MAAMriC,OAAOA,GAEnBlG,OAAS,GAItB,OAAO,CACV,CAED,OAAO,CAAK,EAGhB,MAAM0oC,GACF,WAAAniC,GAEIlB,KAAKkjC,MAAQ,GAGbljC,KAAK8iC,QAAU,GACf9iC,KAAKqkB,MAAQ,EACbrkB,KAAKskB,IAAM,CACd,CAKD,GAAArmB,CAAIklC,GACIA,IACAnjC,KAAKkjC,MAAMviC,KAAKwiC,GAChBnjC,KAAK8iC,QAAQniC,KAAKwiC,EAAK1oC,QACvBuF,KAAKqkB,MAAQhlB,KAAK+gB,IAAI+iB,EAAK9e,MAAOrkB,KAAKqkB,OACvCrkB,KAAKskB,IAAMjlB,KAAKghB,IAAI8iB,EAAK7e,IAAKtkB,KAAKskB,KAE1C,CAED,IAAAgf,GACI,OAAOtjC,KAAKkjC,MAAMljC,KAAKkjC,MAAMvoC,OAAS,EACzC,CAED,MAAAA,GACI,OAAOqF,KAAKkjC,MAAMvoC,MACrB,CAMD,KAAAgB,CAAMia,EAAU2tB,GACZ,IAAI5nC,EAAQ,IAAI0nC,GACZH,EAAQjhC,KAAKC,MAAMD,KAAKuhC,UAAUxjC,KAAKkjC,QACvCO,EAAYP,EAAMz4B,MAEtB,IAAK,MAAM04B,KAAQD,EACfvnC,EAAMsC,IAAIklC,GAGd,IAAIO,EAAcH,EAAW9oC,OAAOiF,UAChC,EACAkW,EAAW6tB,EAAUpf,OAErBsf,EAAiBD,EAAY/oC,OAOjC,OANAgB,EAAMsC,IAAI,CACNomB,MAAOof,EAAUpf,MACjBC,IAAKmf,EAAUpf,MAAQsf,EACvBhpC,OAAQgpC,EACRlpC,OAAQipC,IAEL/nC,CACV,EAkBL,MAAMioC,GAAcjwB,IApXD,IAACkwB,OACIpjC,IAAhBq+B,KACJA,GAAcmD,GAAY4B,GAAgBhF,KAoX1ClrB,EAAMutB,GAAUvtB,GAChB,IAAImqB,EAAU,GACV6E,EAAY,CAAC,IAAIU,IAErB,IAAK,IAAIpoC,EAAI,EAAGA,EAAI0Y,EAAIhZ,OAAQM,IAAK,CACjC,IACIuW,EADSmC,EAAIjU,UAAUzE,GACRuW,MAAMutB,IACzB,MAAMd,EAAOtqB,EAAIjU,UAAUzE,EAAGA,EAAI,GAC5B6oC,EAAYtyB,EAAQA,EAAM,GAAK,KAGrC,IAAIuyB,EAAc,GACdC,EAAc,IAAIx8B,IAEtB,IAAK,MAAMo7B,KAAYD,EAAW,CAC9B,MAAMY,EAAaX,EAASU,OAE5B,IAAKC,GAAmC,GAArBA,EAAW5oC,QAAe4oC,EAAWjf,KAAOrpB,EAE3D,GAAI6oC,EAAW,CACX,MAAMpM,EAAMoM,EAAUnpC,OACtBioC,EAAS3kC,IAAI,CACTomB,MAAOppB,EACPqpB,IAAKrpB,EAAIy8B,EACT/8B,OAAQ+8B,EACRj9B,OAAQqpC,IAEZE,EAAY/lC,IAAI,IACpC,MACoB2kC,EAAS3kC,IAAI,CACTomB,MAAOppB,EACPqpB,IAAKrpB,EAAI,EACTN,OAAQ,EACRF,OAAQwjC,IAEZ+F,EAAY/lC,IAAI,UAEjB,GAAI6lC,EAAW,CAClB,IAAInoC,EAAQinC,EAASjnC,MAAMV,EAAGsoC,GAC9B,MAAM7L,EAAMoM,EAAUnpC,OACtBgB,EAAMsC,IAAI,CACNomB,MAAOppB,EACPqpB,IAAKrpB,EAAIy8B,EACT/8B,OAAQ+8B,EACRj9B,OAAQqpC,IAEZC,EAAYpjC,KAAKhF,EACjC,MAGgBqoC,EAAY/lC,IAAI,IAEvB,CAED,GAAI8lC,EAAYppC,OAAS,EAAzB,CAEIopC,EAAcA,EAAYxkC,MAAK,CAACmV,EAAGC,IACxBD,EAAE/Z,SAAWga,EAAEha,WAG1B,IAAK,IAAIgB,KAASooC,EAEVhB,GAAYpnC,EAAOgnC,IAIvBA,EAAUhiC,KAAKhF,EAItB,MAKD,GAAIV,EAAI,GAAyB,GAApB+oC,EAAY5F,OAAc4F,EAAYz1B,IAAI,KAAM,CACzDuvB,GAAW4E,GAAmBC,GAAW,GACzC,IAAIsB,EAAU,IAAIZ,GAClB,MAAMa,EAAUvB,EAAU,GAEtBuB,GACAD,EAAQhmC,IAAIimC,EAAQZ,QAGxBX,EAAY,CAACsB,EAChB,CACJ,CAGD,OADAnG,GAAW4E,GAAmBC,GAAW,GAClC7E,CAAO,EAWZqG,GAAU,CAAChpC,EAAKoF,KAClB,GAAKpF,EACL,OAAOA,EAAIoF,EAAK,EASd6jC,GAAiB,CAACjpC,EAAKoF,KACzB,GAAKpF,EAAL,CAIA,IAHA,IAAIgoC,EACAkB,EAAQ9jC,EAAKxC,MAAM,MAEfolC,EAAOkB,EAAM1R,WAAax3B,EAAMA,EAAIgoC,MAE5C,OAAOhoC,CANU,CAMP,EAQRmpC,GAAa,CAAChqC,EAAOiqC,EAAOC,KAC9B,IAAI16B,EAAO26B,EACX,OAAKnqC,GACLA,GAAgB,GACG,MAAfiqC,EAAMG,QAEG,KADbD,EAAMnqC,EAAM+H,OAAOkiC,EAAMG,QADO,GAGhC56B,EAAQy6B,EAAMnoC,OAAOzB,OAASL,EAAMK,OACxB,IAAR8pC,IAAW36B,GAAS,IACjBA,EAAQ06B,IAPI,CAOE,EAOnBG,GAAc,CAACxpC,EAAKX,KACtB,IAAIF,EAAQa,EAAIX,GAChB,GAAoB,mBAATF,EAAqB,OAAOA,EAEnCA,IAAUwB,MAAMC,QAAQzB,KACxBa,EAAIX,GAAO,CAACF,GACf,EAaCsqC,GAAY,CAACxiC,EAAQ8B,KACvB,GAAIpI,MAAMC,QAAQqG,GACdA,EAAOvG,QAAQqI,QAEf,IAAK,IAAI1J,KAAO4H,EACRA,EAAO7G,eAAef,IACtB0J,EAAS9B,EAAO5H,GAAMA,EAGjC,EAECqqC,GAAM,CAACnwB,EAAGC,IACK,iBAAND,GAA+B,iBAANC,EACzBD,EAAIC,EAAI,EAAID,EAAIC,GAAK,EAAI,GAGpCD,EAAIwsB,GAAUxsB,EAAI,IAAIha,gBACtBia,EAAIusB,GAAUvsB,EAAI,IAAIja,eACJ,EACdia,EAAID,GAAW,EACZ,EAqBX,MAAMowB,GASF,WAAA5jC,CAAYyE,EAAOo/B,GACf/kC,KAAK2F,WAAQ,EACb3F,KAAK+kC,cAAW,EAChB/kC,KAAK2F,MAAQA,EACb3F,KAAK+kC,SAAWA,GAAY,CACxBC,YAAY,EAEnB,CAOD,QAAAC,CAASC,EAAOC,EAAyBC,GACrC,IAAKF,IAAUA,EAAMvqC,OAAQ,MAAO,GACpC,MAAM0qC,EAAS,GACTC,EAAQJ,EAAMnnC,MAAM,OAC1B,IAAIwnC,EAoCJ,OAlCIH,IACAG,EAAc,IAAIxE,OACd,KACA1lC,OAAOhB,KAAK+qC,GAAS7iC,IAAI87B,IAAc7+B,KAAK,KAC5C,YAIR8lC,EAAMzpC,SAAS2pC,IACX,IAAIC,EACAhwB,EAAQ,KACRivB,EAAQ,KAERa,IAAgBE,EAAcD,EAAKh0B,MAAM+zB,MACzC9vB,EAAQgwB,EAAY,GACpBD,EAAOC,EAAY,IAGnBD,EAAK7qC,OAAS,IAEV+pC,EADA1kC,KAAK+kC,SAASC,WACNpB,GAAW4B,IAAS,KAEpBnH,GAAamH,GAGrBd,GAASS,IAAyBT,EAAQ,MAAQA,IAG1DW,EAAO1kC,KAAK,CACRvE,OAAQopC,EACRd,MAAOA,EAAQ,IAAI3D,OAAO2D,EAAO,MAAQ,KACzCjvB,MAAOA,GACT,IAEC4vB,CACV,CAUD,gBAAAK,CAAiBR,EAAOpqC,GACpB,IAAIuH,EAASrC,KAAK2lC,cAAcT,EAAOpqC,GACvC,OAAOkF,KAAK4lC,kBAAkBvjC,EACjC,CAMD,iBAAAujC,CAAkBvjC,GACd,MAAMgjC,EAAShjC,EAAOgjC,OAClBQ,EAAcR,EAAO1qC,OAEzB,IAAKkrC,EACD,OAAO,WACH,OAAO,CACvB,EAGQ,MAAMC,EAASzjC,EAAOvH,QAAQgrC,OAC1BV,EAAU/iC,EAAO+iC,QACjBW,EAAcD,EAAOnrC,OACrBqrC,EAAY3jC,EAAO2jC,UAEvB,IAAKD,EACD,OAAO,WACH,OAAO,CACvB,EAQQ,MAAME,EACkB,IAAhBF,EACO,SAAUxB,EAAOhqC,GACpB,MAAMkb,EAAQqwB,EAAO,GAAGrwB,MACxB,OAAO6uB,GACH0B,EAAUzrC,EAAMkb,GAChB8uB,EACAa,EAAQ3vB,IAAU,EAE1C,EAGmB,SAAU8uB,EAAOhqC,GACpB,IAAI2rC,EAAM,EAEV,GAAI3B,EAAM9uB,MAAO,CACb,MAAMnb,EAAQ0rC,EAAUzrC,EAAMgqC,EAAM9uB,QAE/B8uB,EAAMG,OAASpqC,EAChB4rC,GAAO,EAAIH,EAEXG,GAAO5B,GAAWhqC,EAAOiqC,EAAO,EAExD,MACoBK,GAAUQ,GAAS,CAACZ,EAAQ/uB,KACxBywB,GAAO5B,GACH0B,EAAUzrC,EAAMkb,GAChB8uB,EACAC,EACH,IAIT,OAAO0B,EAAMH,CAC7B,EAGQ,OAAoB,IAAhBF,EACO,SAAUtrC,GACb,OAAO0rC,EAAYZ,EAAO,GAAI9qC,EAC9C,EAG2C,QAA/B8H,EAAOvH,QAAQqrC,YACR,SAAU5rC,GACb,IAAIuP,EACAo8B,EAAM,EAEV,IAAK,IAAI3B,KAASc,EAAQ,CAEtB,IADAv7B,EAAQm8B,EAAY1B,EAAOhqC,KACd,EAAG,OAAO,EACvB2rC,GAAOp8B,CACV,CAED,OAAOo8B,EAAML,CAC7B,EAEmB,SAAUtrC,GACb,IAAI2rC,EAAM,EAIV,OAHAtB,GAAUS,GAASd,IACf2B,GAAOD,EAAY1B,EAAOhqC,EAAK,IAE5B2rC,EAAML,CAC7B,CAEK,CASD,eAAAO,CAAgBlB,EAAOpqC,GACnB,IAAIuH,EAASrC,KAAK2lC,cAAcT,EAAOpqC,GACvC,OAAOkF,KAAKqmC,iBAAiBhkC,EAChC,CAED,gBAAAgkC,CAAiBhkC,GACb,IAAIikC,EACAC,EAAY,GAChB,MAAMhgC,EAAOvG,KACTlF,EAAUuH,EAAOvH,QACjByE,GACK8C,EAAO6iC,OAASpqC,EAAQ0rC,WACnB1rC,EAAQ0rC,WACR1rC,EAAQyE,KAEtB,GAAmB,mBAARA,EACP,OAAOA,EAAKknC,KAAKzmC,MAQrB,MAAM0mC,EAAY,SAAmBnmC,EAAM2qB,GACvC,MAAa,WAAT3qB,EAA0B2qB,EAAOphB,MAC9BzH,EAAO2jC,UAAUz/B,EAAKZ,MAAMulB,EAAOvb,IAAKpP,EAC3D,EAEQ,GAAIhB,EACA,IAAK,IAAI4gC,KAAK5gC,GACN8C,EAAO6iC,OAAqB,WAAZ/E,EAAE1qB,QAClB8wB,EAAU5lC,KAAKw/B,GAM3B,GAAI99B,EAAO6iC,MAAO,CACdoB,GAAiB,EAEjB,IAAK,IAAIK,KAAOJ,EACZ,GAAkB,WAAdI,EAAIlxB,MAAoB,CACxB6wB,GAAiB,EACjB,KACH,CAGDA,GACAC,EAAUziB,QAAQ,CACdrO,MAAO,SACP4Y,UAAW,QAG/B,MACYkY,EAAYA,EAAU1lC,QAAQ8lC,GAAsB,WAAdA,EAAIlxB,QAK9C,OAFwB8wB,EAAU5rC,OAM3B,SAAU+Z,EAAGC,GAChB,IAAIuW,EAAQzV,EAEZ,IAAK,IAAImxB,KAAYL,EAAW,CAK5B,GAJA9wB,EAAQmxB,EAASnxB,MAEjByV,GADwC,SAAvB0b,EAASvY,WAAwB,EAAI,GAErCwW,GAAI6B,EAAUjxB,EAAOf,GAAIgyB,EAAUjxB,EAAOd,IAC/C,OAAOuW,CACtB,CAED,OAAO,CACnB,EAfmB,IAgBd,CAQD,aAAAya,CAAcT,EAAO2B,GACjB,MAAMzB,EAAU,CAAA,EAChB,IAAItqC,EAAUO,OAAOO,OAAO,CAAE,EAAEirC,GAIhC,GAHAlC,GAAY7pC,EAAS,QACrB6pC,GAAY7pC,EAAS,cAEjBA,EAAQgrC,OAAQ,CAChBnB,GAAY7pC,EAAS,UACrB,MAAMgrC,EAAS,GACfhrC,EAAQgrC,OAAOjqC,SAAS4Z,IACA,iBAATA,IACPA,EAAQ,CACJA,MAAOA,EACP+uB,OAAQ,IAIhBsB,EAAOnlC,KAAK8U,GACZ2vB,EAAQ3vB,EAAMA,OAAS,WAAYA,EAAQA,EAAM+uB,OAAS,CAAC,IAE/D1pC,EAAQgrC,OAASA,CACpB,CAED,MAAO,CACHhrC,QAASA,EACToqC,MAAOA,EAAMxqC,cAAcgC,OAC3B2oC,OAAQrlC,KAAKilC,SACTC,EACApqC,EAAQqqC,wBACRC,GAEJnK,MAAO,EACPt1B,MAAO,GACPy/B,QAASA,EACTY,UAAWlrC,EAAQgsC,QAAU1C,GAAiBD,GAErD,CAMD,MAAA9hC,CAAO6iC,EAAOpqC,GACV,IACIgP,EACAzH,EAFAkE,EAAOvG,KAGXqC,EAASrC,KAAK2lC,cAAcT,EAAOpqC,GACnCA,EAAUuH,EAAOvH,QACjBoqC,EAAQ7iC,EAAO6iC,MAEf,MAAM6B,EAAWjsC,EAAQgP,OAASvD,EAAKq/B,kBAAkBvjC,GAErD6iC,EAAMvqC,OACNiqC,GAAUr+B,EAAKZ,OAAO,CAACN,EAAMsK,KACzB7F,EAAQi9B,EAAS1hC,KAEM,IAAnBvK,EAAQ+F,QAAoBiJ,EAAQ,IACpCzH,EAAOsD,MAAMhF,KAAK,CACdmJ,MAAOA,EACP6F,GAAIA,GAEX,IAGLi1B,GAAUr+B,EAAKZ,OAAO,CAACqhC,EAAGr3B,KACtBtN,EAAOsD,MAAMhF,KAAK,CACdmJ,MAAO,EACP6F,GAAIA,GACN,IAIV,MAAMs3B,EAAU1gC,EAAK8/B,iBAAiBhkC,GAUtC,OARI4kC,GAAS5kC,EAAOsD,MAAMpG,KAAK0nC,GAE/B5kC,EAAO44B,MAAQ54B,EAAOsD,MAAMhL,OAEC,iBAAlBG,EAAQosC,QACf7kC,EAAOsD,MAAQtD,EAAOsD,MAAM7G,MAAM,EAAGhE,EAAQosC,QAG1C7kC,CACV,EAcL,MAAM8kC,GAAU,CAAC/kC,EAAQ8B,KACrB,GAAIpI,MAAMC,QAAQqG,GACdA,EAAOvG,QAAQqI,QAEf,IAAK,IAAI1J,KAAO4H,EACRA,EAAO7G,eAAef,IACtB0J,EAAS9B,EAAO5H,GAAMA,EAGjC,EAUC4sC,GAAUlC,IACZ,GAAIA,EAAMmC,OACN,OAAOnC,EAAM,GAGjB,GAAIA,aAAiB/oC,YACjB,OAAO+oC,EAGX,GAAIoC,GAAapC,GAAQ,CACrB,IAAIqC,EAAMhrC,SAASC,cAAc,YAGjC,OAFA+qC,EAAI9qC,UAAYyoC,EAAMxoC,OAEf6qC,EAAI5qC,QAAQC,UACtB,CAED,OAAOL,SAASgC,cAAc2mC,EAAM,EAElCoC,GAAgBE,GACC,iBAARA,GAAoBA,EAAInrC,QAAQ,MAAQ,EAcjDorC,GAAe,CAACC,EAAQC,KAC1B,IAAIrqB,EAAQ/gB,SAAS0Y,YAAY,cACjCqI,EAAMpI,UAAUyyB,GAAY,GAAM,GAClCD,EAAOhhC,cAAc4W,EAAM,EAOzBsqB,GAAW,CAACF,EAAQxd,KACtB7uB,OAAOO,OAAO8rC,EAAOtqC,MAAO8sB,EAAI,EAO9B2d,GAAa,CAACC,KAAUzmC,KAC1B,IAAI0mC,EAAeC,GAAa3mC,IAChCymC,EAAQG,GAAYH,IACdvlC,KAAK4Q,IACP40B,EAAaxlC,KAAK2lC,IACd/0B,EAAGnV,UAAUC,IAAIiqC,EAAI,GACvB,GACJ,EAOAC,GAAgB,CAACL,KAAUzmC,KAC7B,IAAI0mC,EAAeC,GAAa3mC,IAChCymC,EAAQG,GAAYH,IACdvlC,KAAK4Q,IACP40B,EAAaxlC,KAAK2lC,IACd/0B,EAAGnV,UAAUG,OAAO+pC,EAAI,GAC1B,GACJ,EAOAF,GAAgBxnC,IAClB,IAAIa,EAAU,GAUd,OATA8lC,GAAQ3mC,GAAO4nC,IACa,iBAAbA,IACPA,EAAWA,EAAS1rC,OAAOqB,MAAM,sBAGjCjC,MAAMC,QAAQqsC,KACd/mC,EAAUA,EAAQwqB,OAAOuc,GAC5B,IAEE/mC,EAAQR,OAAOu3B,QAAQ,EAO5B6P,GAAeT,IACZ1rC,MAAMC,QAAQyrC,KACfA,EAAM,CAACA,IAGJA,GAQLa,GAAc,CAACzjC,EAAQvG,EAAUiqC,KACnC,IAAIA,GAAYA,EAAQxL,SAASl4B,GAIjC,KAAOA,GAAUA,EAAOoB,SAAS,CAC7B,GAAIpB,EAAOoB,QAAQ3H,GACf,OAAOuG,EAGXA,EAASA,EAAOgZ,UACnB,GAUC2qB,GAAU,CAAChd,EAAM8C,EAAY,IAC3BA,EAAY,EACL9C,EAAKA,EAAK5wB,OAAS,GAGvB4wB,EAAK,GAeVid,GAAY,CAACr1B,EAAIs1B,KACnB,IAAKt1B,EAAI,OAAQ,EACjBs1B,EAAUA,GAAWt1B,EAAG2B,SAGxB,IAFA,IAAI7Z,EAAI,EAEAkY,EAAKA,EAAGu1B,wBACRv1B,EAAGnN,QAAQyiC,IACXxtC,IAIR,OAAOA,CAAC,EAON0tC,GAAU,CAACx1B,EAAIy1B,KACjBzB,GAAQyB,GAAO,CAACC,EAAKt7B,KACN,MAAPs7B,EACA11B,EAAGtH,gBAAgB0B,GAEnB4F,EAAGxV,aAAa4P,EAAM,GAAKs7B,EAC9B,GACH,EAMAC,GAAc,CAACC,EAAUC,KACvBD,EAASnrB,YACTmrB,EAASnrB,WAAWrR,aAAay8B,EAAaD,EAAS,EAUzDE,GAAY,CAAC/rC,EAASwnC,EAAOwE,KAC/B,GAAc,OAAVxE,EAAgB,OAEpB,GAAqB,iBAAVA,EAAoB,CAC3B,IAAKA,EAAM/pC,OAAQ,OACnB+pC,EAAQ,IAAI3D,OAAO2D,EAAO,IAC7B,CAGD,MAgCMyE,EAAsB3+B,GACF,IAAlBA,EAAKc,SAjCS,CAACd,IACnB,IAAIgH,EAAQhH,EAAKjQ,KAAKiX,MAAMkzB,GAE5B,GAAIlzB,GAAShH,EAAKjQ,KAAKI,OAAS,EAAG,CAC/B,IAAIyuC,EAAW7sC,SAASC,cAAc,QACtC4sC,EAAS11B,UAAY,aAAew1B,EACpC,IAAIG,EAAY7+B,EAAK8+B,UAAU93B,EAAMwjB,OACrCqU,EAAUC,UAAU93B,EAAM,GAAG7W,QAC7B,IAAI4uC,EAAcF,EAAUG,WAAU,GAGtC,OAFAJ,EAASv8B,YAAY08B,GACrBT,GAAYO,EAAWD,GAChB,CACV,CAED,OAAO,CAAC,EAoBGK,CAAcj/B,IAhBH,CAACA,IAED,IAAlBA,EAAKc,WACLd,EAAKk/B,YACJ,kBAAkB91B,KAAKpJ,EAAKkF,UAE3BlF,EAAKxM,UAAU8+B,SAAS,cAAiC,SAAjBtyB,EAAKkF,SAE/C5T,MAAME,KAAKwO,EAAKk/B,YAAY7tC,SAASqB,IACjCisC,EAAmBjsC,EAAQ,GAElC,EAQDysC,CAAkBn/B,GACX,GAGX2+B,EAAmBjsC,EAAQ,EA4BzB0sC,GADmB,oBAAdC,WAAoC,MAAMj2B,KAAKi2B,UAAUC,WACtC,UAAY,UAE1C,IAAIriC,GAAW,CACX3M,QAAS,GACTivC,UAAW,GACXC,QAAS,GACTC,UAAW,IACXC,QAAS,KAETC,SAAS,EACTnF,YAAY,EACZoF,OAAQ,KACRC,cAAc,EACdC,aAAc,KACdrB,WAAW,EACXsB,aAAa,EACbC,WAAY,KACZC,WAAY,GACZC,SAAU,KACVC,aAAc,KACdC,YAAY,EACZC,eAAe,EACfC,aAAa,EACbC,QAAS,KACTC,kBAAkB,EAElBC,aAAc,IACdC,aAAc,UACdC,SAAU,KAEVC,cAAe,WACfC,WAAY,QACZC,WAAY,OACZC,cAAe,WACfC,mBAAoB,QACpBC,mBAAoB,QACpBC,mBAAmB,EACnBC,UAAW,SACXC,YAAa,CAAC,QACdC,kBAAmB,MACnBC,KAAM,KACNC,aAAc,aACdC,aAAc,aACdC,cAAe,cACfC,qBAAsB,sBACtBC,UAAW,OACXC,YAAa,SACblD,eAAgB,GAChBmD,eAAgB,KAChBC,aAAc,oDACdC,uBAAuB,EACvBC,YAAa,KACbC,gBAAiB,KACjBC,WAAY,SAAUxH,GAClB,OAAOA,EAAMvqC,OAAS,CACzB,EAqBD4mB,OAAQ,CAQP,GAiBL,MAAMorB,GAAYryC,GACV,MAAOA,EAAgD,KACpDsyC,GAAStyC,GAEdsyC,GAAYtyC,GACO,kBAAVA,EAA4BA,EAAQ,IAAM,IAC9CA,EAAQ,GAObuyC,GAAel5B,IACTA,EAAM,IACT5U,QAAQ,KAAM,SACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,QACdA,QAAQ,KAAM,UAOjB+tC,GAAe,CAAC3kB,EAAI4kB,KACtB,IAAI/lC,EACJ,OAAO,SAAU1M,EAAO4J,GACpB,IAAIqC,EAAOvG,KAEPgH,IACAT,EAAKymC,QAAU3tC,KAAKghB,IAAI9Z,EAAKymC,QAAU,EAAG,GAC1C/lC,aAAaD,IAGjBA,EAAUP,YAAW,WACjBO,EAAU,KACVT,EAAK0mC,eAAe3yC,IAAS,EAC7B6tB,EAAG3sB,KAAK+K,EAAMjM,EAAO4J,EACxB,GAAE6oC,EACX,CAAK,EAQCG,GAAkB,CAAC3mC,EAAM4mC,EAAOhlB,KAClC,IAAIlkB,EACAmb,EAAU7Y,EAAK6Y,QACfguB,EAAa,CAAA,EAejB,IAAKnpC,KAbLsC,EAAK6Y,QAAU,WACX,IAAInb,EAAOs5B,UAAU,GAErB,IAA6B,IAAzB4P,EAAM9wC,QAAQ4H,GAGd,OAAOmb,EAAQrG,MAAMxS,EAAMg3B,WAF3B6P,EAAWnpC,GAAQs5B,SAI/B,EAEIpV,EAAGpP,MAAMxS,EAAM,IACfA,EAAK6Y,QAAUA,EAEF+tB,GACLlpC,KAAQmpC,GACRhuB,EAAQrG,MAAMxS,EAAM6mC,EAAWnpC,GAEtC,EAqBC8Z,GAAiB,CAACsvB,EAAKC,GAAO,KAC5BD,IACAA,EAAItvB,iBAEAuvB,GACAD,EAAIE,kBAEX,EAOCr6B,GAAW,CAACtO,EAAQX,EAAMC,EAAUpJ,KACtC8J,EAAOiC,iBAAiB5C,EAAMC,EAAUpJ,EAAQ,EAS9C0yC,GAAY,CAACC,EAAUJ,MACpBA,MAIAA,EAAII,IAUK,KALTJ,EAAIK,OAAS,EAAI,IACjBL,EAAIM,QAAU,EAAI,IAClBN,EAAIxQ,SAAW,EAAI,IACnBwQ,EAAIO,QAAU,EAAI,IAcrBC,GAAQ,CAAC16B,EAAIxD,KACf,MAAMm+B,EAAc36B,EAAG5K,aAAa,MAEpC,OAAIulC,IAIJ36B,EAAGxV,aAAa,KAAMgS,GACfA,EAAE,EAMPo+B,GAAcp6B,GACTA,EAAI5U,QAAQ,UAAW,QAM5BiT,GAAS,CAACg8B,EAAQxjC,KAChBA,GAAMwjC,EAAOh8B,OAAOxH,EAAK,EAGjC,SAASyjC,GAAYvP,EAAOwP,GACxB,IAAInJ,EAAW1pC,OAAOO,OAAO,CAAA,EAAI6L,GAAUymC,GACvCC,EAAYpJ,EAASoG,SACrBiD,EAAcrJ,EAASuG,WACvB+C,EAActJ,EAASsG,WACvBiD,EAAiBvJ,EAASwG,cAC1BgD,EAAiBxJ,EAASqG,cAC1BoD,EAAuBzJ,EAASyG,mBAChCiD,EAAuB1J,EAAS0G,mBAChCiD,EAAWhQ,EAAMhvB,QAAQhV,cACzB8xC,EACA9N,EAAMn2B,aAAa,gBACnBw8B,EAASyH,YAEb,IAAKA,IAAgBzH,EAASiG,iBAAkB,CAC5C,IAAIplC,EAAS84B,EAAMngC,cAAc,oBAE7BqH,IACA4mC,EAAc5mC,EAAO+oC,YAE5B,CAED,IAaQj/B,EACA5U,EACA8zC,EACAC,EAEAC,EAYAC,EA9BJC,EAAmB,CACnBxC,YAAaA,EACb1xC,QAAS,GACTivC,UAAW,GACXpkC,MAAO,GACP+kC,SAAU,MA8Hd,MANiB,WAAbgE,GA/GI5zC,EAAUk0C,EAAiBl0C,QAC3B8zC,EAAa,CAAA,EACbC,EAAc,EAEdC,EAAY37B,IACZ,IAAI5Y,EAAOc,OAAOO,OAAO,CAAA,EAAIuX,EAAGpR,SAE5BktC,EAAOd,GAAa5zC,EAAK4zC,GAM7B,MAJoB,iBAATc,GAAqBA,EAAKt0C,SACjCJ,EAAOc,OAAOO,OAAOrB,EAAM0H,KAAKC,MAAM+sC,KAGnC10C,CAAI,EAGXw0C,EAAY,CAACnpC,EAAQspC,KACrB,IAAI50C,EAAQqyC,GAAS/mC,EAAOtL,OAC5B,GAAa,MAATA,IACCA,GAAUyqC,EAASiG,kBAAxB,CAKA,GAAI4D,EAAWrzC,eAAejB,IAC1B,GAAI40C,EAAO,CACP,IAAI/0B,EAAMy0B,EAAWt0C,GAAOi0C,GAEvBp0B,EAEOre,MAAMC,QAAQoe,GAGtBA,EAAIxZ,KAAKuuC,GAFTN,EAAWt0C,GAAOi0C,GAAkB,CAACp0B,EAAK+0B,GAF1CN,EAAWt0C,GAAOi0C,GAAkBW,CAM3C,MACE,CACH,IAAIC,EAAcL,EAASlpC,GAC3BupC,EAAYf,GACRe,EAAYf,IAAgBxoC,EAAO+oC,YACvCQ,EAAYd,GAAec,EAAYd,IAAgB/zC,EACvD60C,EAAYb,GACRa,EAAYb,IAAmB1oC,EAAOwpC,SAC1CD,EAAYZ,GACRY,EAAYZ,IAAmBW,EACnCC,EAAYE,QAAUzpC,EACtBgpC,EAAWt0C,GAAS60C,EACpBr0C,EAAQ6F,KAAKwuC,EAChB,CAEGvpC,EAAO0pC,UACPN,EAAiBrpC,MAAMhF,KAAKrG,EAhCiB,CAiChD,EAqBL00C,EAAiBtE,SAAWhM,EAAM9yB,aAAa,YAAc,KAAO,EACpEu7B,GAAQzI,EAAMj1B,UAAW8lC,IAnBV,IAACC,EACR7/B,EAAI8/B,EAqBQ,cAFhB//B,EAAU6/B,EAAM7/B,QAAQhV,iBAlBxB+0C,EAAgBX,EAFJU,EAuBCD,IApBCf,GACViB,EAAcjB,IACdgB,EAASjnC,aAAa,UACtB,GACJknC,EAAchB,GACVgB,EAAchB,IAAyBI,IAC3CY,EAAcnB,GACVmB,EAAcnB,IAAmBkB,EAASJ,SAC9CJ,EAAiBjF,UAAUppC,KAAK8uC,GAChC9/B,EAAK8/B,EAAchB,GACnBtH,GAAQqI,EAAS/lC,UAAW7D,IACxBmpC,EAAUnpC,EAAQ+J,EAAG,KAUF,WAAZD,GACPq/B,EAAUQ,EACb,KAQU,MACf,MAAMG,EAAWhR,EAAMn2B,aAAa4lC,GAEpC,GAAKuB,EAYDV,EAAiBl0C,QAAUmH,KAAKC,MAAMwtC,GACtCvI,GAAQ6H,EAAiBl0C,SAAU60C,IAC/BX,EAAiBrpC,MAAMhF,KAAKgvC,EAAItB,GAAa,QAdtC,CACX,IAAI/zC,EAAQokC,EAAMpkC,MAAMoC,QAAU,GAClC,IAAKqoC,EAASiG,mBAAqB1wC,EAAMK,OAAQ,OACjD,MAAMgU,EAASrU,EAAMyD,MAAMgnC,EAASkF,WACpC9C,GAAQx4B,GAASrU,IACb,MAAMsL,EAAS,CAAA,EACfA,EAAOwoC,GAAe9zC,EACtBsL,EAAOyoC,GAAe/zC,EACtB00C,EAAiBl0C,QAAQ6F,KAAKiF,EAAO,IAEzCopC,EAAiBrpC,MAAQgJ,CACrC,CAKS,EAMDihC,GAGGv0C,OAAOO,OAAO,CAAA,EAAI6L,GAAUunC,EAAkBd,EACzD,CAEA,IAAI2B,GAAa,EACjB,MAAMC,WAh8DN,SAAqBC,GAEjB,OADAA,EAAU/F,QAAU,GACb,cAAc+F,EACjB,WAAA7uC,IAAeV,GACXo4B,SAASp4B,GACTR,KAAKgqC,QAAU,CACX3F,MAAO,GACPU,SAAU,CAAE,EACZiL,UAAW,CAAE,EACbC,OAAQ,CAAE,EAEjB,CAOD,aAAOt9B,CAAOpS,EAAM4nB,GAChB4nB,EAAU/F,QAAQzpC,GAAQ,CACtBA,KAAMA,EACN4nB,GAAIA,EAEX,CAiBD,iBAAA+nB,CAAkBlG,GACd,IAAIxvC,EAAK+F,EACT,MAAMgG,EAAOvG,KACPmwC,EAAQ,GAEd,GAAIr0C,MAAMC,QAAQiuC,GACdA,EAAQnuC,SAASu0C,IACS,iBAAXA,EACPD,EAAMxvC,KAAKyvC,IAEX7pC,EAAKyjC,QAAQjF,SAASqL,EAAO7vC,MAAQ6vC,EAAOt1C,QAC5Cq1C,EAAMxvC,KAAKyvC,EAAO7vC,MACrB,SAEF,GAAIypC,EACP,IAAKxvC,KAAOwvC,EACJA,EAAQzuC,eAAef,KACvB+L,EAAKyjC,QAAQjF,SAASvqC,GAAOwvC,EAAQxvC,GACrC21C,EAAMxvC,KAAKnG,IAKvB,KAAQ+F,EAAO4vC,EAAMxd,SACjBpsB,EAAKkM,QAAQlS,EAEpB,CAED,UAAA8vC,CAAW9vC,GACP,IAAIgG,EAAOvG,KACPgqC,EAAUzjC,EAAKyjC,QACfoG,EAASL,EAAU/F,QAAQzpC,GAE/B,IAAKwvC,EAAU/F,QAAQzuC,eAAegF,GAClC,MAAM,IAAI+vC,MAAM,mBAAqB/vC,EAAO,YAGhDypC,EAAQgG,UAAUzvC,IAAQ,EAC1BypC,EAAQiG,OAAO1vC,GAAQ6vC,EAAOjoB,GAAGpP,MAAMxS,EAAM,CACzCA,EAAKyjC,QAAQjF,SAASxkC,IAAS,CAAE,IAErCypC,EAAQ3F,MAAM1jC,KAAKJ,EACtB,CAMD,OAAAkS,CAAQlS,GACJ,IAAIgG,EAAOvG,KACPgqC,EAAUzjC,EAAKyjC,QAEnB,IAAKzjC,EAAKyjC,QAAQiG,OAAO10C,eAAegF,GAAO,CAC3C,GAAIypC,EAAQgG,UAAUzvC,GAClB,MAAM,IAAI+vC,MACN,oCAAsC/vC,EAAO,MAIrDgG,EAAK8pC,WAAW9vC,EACnB,CAED,OAAOypC,EAAQiG,OAAO1vC,EACzB,EAET,CAu1DwBgwC,CAAYpT,KAEhC,WAAAj8B,CAAYsvC,EAAWC,GAyCnB,IAAIC,EAxCJ9X,QACA54B,KAAK2wC,mBAAgB,EACrB3wC,KAAKsoC,aAAU,EACftoC,KAAK4wC,cAAW,EAChB5wC,KAAK6wC,aAAU,EACf7wC,KAAK8wC,sBAAmB,EACxB9wC,KAAK+wC,gBAAa,EAClB/wC,KAAKgxC,MAAQ,EACbhxC,KAAK+kC,cAAW,EAChB/kC,KAAK0+B,WAAQ,EACb1+B,KAAK86B,cAAW,EAChB96B,KAAKixC,mBAAgB,EACrBjxC,KAAK6lB,SAAM,EACX7lB,KAAKkxC,aAAU,EACflxC,KAAKmxC,cAAW,EAChBnxC,KAAKoxC,YAAS,EACdpxC,KAAKqxC,QAAS,EACdrxC,KAAKsa,YAAa,EAClBta,KAAKsxC,gBAAa,EAClBtxC,KAAKuxC,WAAY,EACjBvxC,KAAKwe,SAAU,EACfxe,KAAKwxC,UAAW,EAChBxxC,KAAKyxC,WAAY,EACjBzxC,KAAK0xC,eAAgB,EACrB1xC,KAAK2xC,SAAU,EACf3xC,KAAK4xC,aAAc,EACnB5xC,KAAK6xC,aAAc,EACnB7xC,KAAK8xC,YAAa,EAClB9xC,KAAK+xC,oBAAiB,EACtB/xC,KAAKgyC,UAAY,GACjBhyC,KAAKiyC,SAAW,EAChBjyC,KAAKgtC,QAAU,EACfhtC,KAAKitC,eAAiB,GACtBjtC,KAAKkyC,aAAe,KACpBlyC,KAAKmyC,YAAc,GACnBnyC,KAAK+pC,UAAY,GACjB/pC,KAAKlF,QAAU,GACfkF,KAAKoyC,YAAc,GACnBpyC,KAAK2F,MAAQ,GACbkqC,KAEA,IAAInR,EAAQ0I,GAAOoJ,GAEnB,GAAI9R,EAAM2T,UACN,MAAM,IAAI/B,MAAM,kDAGpB5R,EAAM2T,UAAYryC,KAIlB0wC,GADI/wC,OAAO4E,kBAAoB5E,OAAO4E,iBAAiBm6B,EAAO,OAC1C4T,iBAAiB,aAErC,MAAMvN,EAAWkJ,GAAYvP,EAAO+R,GACpCzwC,KAAK+kC,SAAWA,EAChB/kC,KAAK0+B,MAAQA,EACb1+B,KAAK86B,SAAW4D,EAAM5D,UAAY,EAClC96B,KAAKixC,cAAgD,WAAhCvS,EAAMhvB,QAAQhV,cACnCsF,KAAK6lB,IAAM,OAAOjS,KAAK88B,GACvB1wC,KAAKkxC,QAAUrD,GAAMnP,EAAO,aAAemR,IAC3C7vC,KAAKsxC,WAAa5S,EAAM6T,SAExBvyC,KAAKoxC,OAAS,IAAItM,GAAO9kC,KAAKlF,QAAS,CACnCkqC,WAAYD,EAASC,aAGzBD,EAAS+G,KACL/G,EAAS+G,OAA+B,IAAtB/G,EAAS2F,SAAiB,SAAW,SAEtB,kBAA1B3F,EAAS4F,eAChB5F,EAAS4F,aAAiC,UAAlB5F,EAAS+G,MAGG,kBAA7B/G,EAAS0H,kBAChB1H,EAAS0H,gBAAoC,UAAlB1H,EAAS+G,MAGxC,IAAIjrC,EAASkkC,EAASuF,aAEA,mBAAXzpC,IACe,iBAAXA,IACPA,EAAS,IAAIkgC,OAAOlgC,IAGpBA,aAAkBkgC,OAClBgE,EAASuF,aAAgB5L,GAAU79B,EAAO+S,KAAK8qB,GAE/CqG,EAASuF,aAAgBhwC,GACd0F,KAAK+kC,SAAS6F,aAAe5qC,KAAKlF,QAAQR,IAK7D0F,KAAKkwC,kBAAkBnL,EAASiF,SAChChqC,KAAKwyC,iBACLxyC,KAAKyyC,iBAEL,MAAMnK,EAAUlB,GAAO,SACjByJ,EAAUzJ,GAAO,SAEjBwJ,EAAW5wC,KAAK0yC,QAAQ,YAExB5B,EAAmB1J,GAAO,sCAG1BuL,EAAY5N,EAAS+G,KAC3B,IAAI6E,EAcJ,GAbA9I,GAAWS,EAASvD,EAASgH,aAHb,GAGoC4G,GACpD9K,GAAWgJ,EAAS9L,EAASiH,cAC7Bh6B,GAAOs2B,EAASuI,GAChBhJ,GAAW+I,EAAU7L,EAASkH,cAAe0G,GAEzC5N,EAASwH,uBACT1E,GAAW+I,EATC,IAYhB/I,GAAWiJ,EAAkB/L,EAASmH,sBACtCl6B,GAAO4+B,EAAUE,GACjB1J,GAAOrC,EAASsH,gBAAkB/D,GAASz7B,YAAY+jC,GAEnDtJ,GAAavC,EAASuH,cAAe,CACrCqE,EAAgBvJ,GAAOrC,EAASuH,cAGhC1H,GADY,CAAC,cAAe,iBAAkB,iBAC5Br3B,IACVmxB,EAAMn2B,aAAagF,IACnBo7B,GAAQgI,EAAe,CACnBpjC,CAACA,GAAOmxB,EAAMn2B,aAAagF,IAElC,IAELojC,EAAc7V,UAAY,EAC1B+V,EAAQhkC,YAAY8jC,GACpB3wC,KAAK+wC,WAAaJ,CAC9B,MAAmB5L,EAASuH,cAChBqE,EAAgBvJ,GAAOrC,EAASuH,cAChCtsC,KAAK+wC,WAAaJ,IAElBA,EAAgBvJ,GAAO,YACvBpnC,KAAK+wC,WAAaF,GAGtB7wC,KAAKsoC,QAAUA,EACftoC,KAAK4wC,SAAWA,EAChB5wC,KAAK8wC,iBAAmBA,EACxB9wC,KAAK6wC,QAAUA,EACf7wC,KAAK2wC,cAAgBA,EACrB3wC,KAAK4yC,OACR,CAMD,KAAAA,GACI,MAAMrsC,EAAOvG,KACP+kC,EAAWx+B,EAAKw+B,SAChB4L,EAAgBpqC,EAAKoqC,cACrBC,EAAWrqC,EAAKqqC,SAChBE,EAAmBvqC,EAAKuqC,iBACxBxI,EAAU/hC,EAAK+hC,QACfuI,EAAUtqC,EAAKsqC,QACfnS,EAAQn4B,EAAKm4B,MACbqS,EAAaxqC,EAAKwqC,WAClB8B,EAAgB,CAClB5tC,SAAS,GAEP6tC,EAAYvsC,EAAK2qC,QAAU,eACjCvI,GAAQmI,EAAkB,CACtBnhC,GAAImjC,IAERnK,GAAQoI,EAAY,CAChB5W,KAAM,WACN,gBAAiB,UACjB,gBAAiB,QACjB,gBAAiB2Y,IAErB,MAAMC,EAAalF,GAAMkD,EAAYxqC,EAAK2qC,QAAU,eAC9ChM,EAAQ,cAr1BF,CAACA,GACVA,EAAMnmC,QAAQ,UAAW,QAo1BEi0C,CAAYzsC,EAAK2qC,SAAW,KACpD+B,EAAQ12C,SAASgC,cAAc2mC,GAC/BgO,EAAc3sC,EAAKib,MAAMilB,KAAKlgC,GAEpC,GAAI0sC,EAAO,CACP//B,GAAS+/B,EAAO,QAASC,GACzBvK,GAAQsK,EAAO,CACXE,IAAKJ,IAET,MAAMK,EAAWvF,GAAMoF,EAAO1sC,EAAK2qC,QAAU,aAC7CvI,GAAQoI,EAAY,CAChB,kBAAmBqC,IAEvBzK,GAAQmI,EAAkB,CACtB,kBAAmBsC,GAE1B,CAID,GAFA9K,EAAQlrC,MAAMskB,MAAQgd,EAAMthC,MAAMskB,MAE9Bnb,EAAKyjC,QAAQ3F,MAAM1pC,OAAQ,CAC3B,MAAM04C,EACF,UAAY9sC,EAAKyjC,QAAQ3F,MAAM7kC,KAAK,YACxCqoC,GAAW,CAACS,EAASsI,GAAWyC,EACnC,EAG0B,OAAtBtO,EAAS2F,UAAqB3F,EAAS2F,SAAW,IACnDnkC,EAAK0qC,eAELtI,GAAQjK,EAAO,CACX4U,SAAU,aAIlB3K,GAAQkI,EAAS,CACb,gBAAmC,UAAlB9L,EAAS+G,KAC1B,gBAAiBpN,EAAM0Q,WAGvBrK,EAASyH,aACT7D,GAAQgI,EAAe,CACnBnE,YAAazH,EAASyH,eAIzBzH,EAASmF,SAAWnF,EAASkF,YAC9BlF,EAASmF,QAAU,IAAInJ,OACnB,OAAS1C,GAAa0G,EAASkF,WAAa,UAKhDlF,EAASwO,MAAQxO,EAASkG,eAC1BlG,EAASwO,KAAOzG,GAAa/H,EAASwO,KAAMxO,EAASkG,eAGzD1kC,EAAKoqC,cAAc1sC,KAAOy6B,EAAMz6B,KAChCiP,GAAS09B,EAAU,aAAa,KAC5BrqC,EAAKsrC,aAAc,CAAK,IAE5B3+B,GACI09B,EACA,cACCnsC,IACG,IAAI+uC,EAAenL,GACf5jC,EAAEG,OACF,oBACAgsC,GAEA4C,GAAcjtC,EAAKktC,cAAchvC,EAAG+uC,EAAa,GAEzD,CACIpgC,SAAS,IAIjBF,GAAS09B,EAAU,SAAUvD,IACzB,MAAMznC,EAASyiC,GAAYgF,EAAIzoC,OAAQ,qBAEnCgB,IACAW,EAAKmtC,eAAerG,EAAKznC,GACzBmY,GAAesvB,GAAK,GACvB,IAELn6B,GAAS29B,EAAS,SAAUxD,IACxB,IAAImG,EAAenL,GACfgF,EAAIzoC,OACJ,iBACAisC,GAGA2C,GAAgBjtC,EAAKotC,aAAatG,EAAKmG,GACvCz1B,GAAesvB,GAAK,GAIG,IAAvBsD,EAAcr2C,QAIlBiM,EAAKqtC,UACL71B,GAAesvB,GAAK,GAAK,IAG7Bn6B,GAAS69B,EAAY,WAAYtsC,GAAM8B,EAAKstC,UAAUpvC,KAEtDyO,GAASy9B,EAAe,YAAalsC,GAAM8B,EAAKutC,WAAWrvC,KAC3DyO,GAASy9B,EAAe,SAAUlsC,GAAM8B,EAAKwtC,QAAQtvC,KACrDyO,GAAS69B,EAAY,QAAStsC,GAAM8B,EAAKytC,OAAOvvC,KAChDyO,GAAS69B,EAAY,SAAUtsC,GAAM8B,EAAK0tC,QAAQxvC,KAClDyO,GAASy9B,EAAe,SAAUlsC,GAAM8B,EAAK2tC,QAAQzvC,KAErD,MAAM0vC,EAAiB9G,IAGnB,MAAMzoC,EAASyoC,EAAI+G,eAAe,GAElC,IAAK9L,EAAQxL,SAASl4B,KAAYgsC,EAAS9T,SAASl4B,GAMhD,OALI2B,EAAKkrC,WACLlrC,EAAKmX,YAGTnX,EAAK8tC,aAOLzvC,GAAU+rC,GAAiBpqC,EAAK8qC,OAChChE,EAAIE,kBAEJxvB,GAAesvB,GAAK,EACvB,EAGCiH,EAAa,KACX/tC,EAAK8qC,QACL9qC,EAAKguC,kBACR,EAGLrhC,GAAS3W,SAAU,YAAa43C,GAChCjhC,GAASvT,OAAQ,SAAU20C,EAAYzB,GACvC3/B,GAASvT,OAAQ,SAAU20C,EAAYzB,GAEvC7yC,KAAKmxC,SAAW,KACZ50C,SAAS+I,oBAAoB,YAAa6uC,GAC1Cx0C,OAAO2F,oBAAoB,SAAUgvC,GACrC30C,OAAO2F,oBAAoB,SAAUgvC,GACjCrB,GAAOA,EAAM3tC,oBAAoB,QAAS4tC,EAAY,EAI9DlzC,KAAKw0C,eAAiB,CAClB/3C,UAAWiiC,EAAMjiC,UACjBq+B,SAAU4D,EAAM5D,UAEpB4D,EAAM5D,UAAY,EAClB4D,EAAM+V,sBAAsB,WAAYluC,EAAK+hC,SAC7C/hC,EAAKmuC,MAAK,GACV3P,EAASp/B,MAAQ,UACVo/B,EAASgF,iBACThF,EAASjqC,QAChBoY,GAASwrB,EAAO,WAAW,KACnBn4B,EAAKiY,UACLjY,EAAKiY,SAAU,EACfjY,EAAKgrC,WAAY,EACjBhrC,EAAKouC,eACR,IAELpuC,EAAKquC,sBACLruC,EAAKsuC,eACLtuC,EAAK2yB,OAAM,GACX3yB,EAAK8tC,aACL9tC,EAAKorC,SAAU,EAEXjT,EAAM0Q,SACN7oC,EAAKuuC,UAELvuC,EAAKwuC,SAGTxuC,EAAKY,GAAG,SAAUnH,KAAKg1C,UAGvBzuC,EAAK6Y,QAAQ,eAEY,IAArB2lB,EAASgG,SACTxkC,EAAKwkC,SAEZ,CAMD,YAAAkK,CAAan6C,EAAU,GAAIivC,EAAY,IAEnC/pC,KAAKk1C,WAAWp6C,GAEhB8pC,GAAUmF,GAAYyF,IAClBxvC,KAAKm1C,oBAAoB3F,EAAS,GAEzC,CAKD,cAAAiD,GACI,IAAIlsC,EAAOvG,KACPouC,EAAc7nC,EAAKw+B,SAASuG,WAC5BiD,EAAiBhoC,EAAKw+B,SAASyG,mBAC/B4J,EAAY,CACZ5F,SAAWj1C,IACP,IAAIi1C,EAAWjzC,SAASC,cAAc,OAGtC,OAFAgzC,EAAS97B,UAAY,WACrB87B,EAAS3iC,YAAYtS,EAAKO,SACnB00C,CAAQ,EAEnB6F,gBAAiB,CAAC96C,EAAM+6C,IAEhB,gCACAA,EAAO/6C,EAAKg0C,IACZ,SAGR3oC,OAAQ,CAACrL,EAAM+6C,IACJ,QAAUA,EAAO/6C,EAAK6zC,IAAgB,SAEjD/oC,KAAM,CAAC9K,EAAM+6C,IACF,QAAUA,EAAO/6C,EAAK6zC,IAAgB,SAEjDmH,cAAe,CAACh7C,EAAM+6C,IAEd,mCACAA,EAAO/6C,EAAKmkC,OACZ,0BAGR8W,WAAY,IACD,iDAEXxI,QAAS,IACE,8BAEXyI,YAAa,OACb7E,SAAU,IACC,eAGfrqC,EAAKw+B,SAASxjB,OAASlmB,OAAOO,OAC1B,CAAE,EACFw5C,EACA7uC,EAAKw+B,SAASxjB,OAErB,CAMD,cAAAixB,GACI,IAAIh4C,EAAK2tB,EACLxgB,EAAY,CACZ+tC,WAAY,eACZC,OAAQ,WACRC,SAAU,YACVC,YAAa,eACbC,YAAa,eACbl9B,MAAO,UACPm9B,WAAY,cACZC,cAAe,iBACfC,aAAc,gBACdC,aAAc,mBACdC,gBAAiB,sBACjBC,eAAgB,qBAChBC,cAAe,iBACfC,eAAgB,kBAChBryC,KAAM,SACNsvC,KAAM,SACN/xB,MAAO,UACP9D,KAAM,UAGV,IAAKljB,KAAOmN,GACRwgB,EAAKnoB,KAAK+kC,SAASp9B,EAAUnN,MACrBwF,KAAKmH,GAAG3M,EAAK2tB,EAE5B,CAMD,IAAAusB,CAAK6B,GAAe,GAChB,MAAMhwC,EAAOvG,KACP+kC,EAAWwR,EACXtI,GAAY1nC,EAAKm4B,MAAO,CACtBuL,UAAW1jC,EAAKw+B,SAASkF,YAE3B1jC,EAAKw+B,SACXx+B,EAAK0uC,aAAalQ,EAASjqC,QAASiqC,EAASgF,WAC7CxjC,EAAKiwC,SAASzR,EAASp/B,OAAS,IAAI,GAEpCY,EAAKkwC,UAAY,IACpB,CAOD,OAAA7C,GACI,IAAIrtC,EAAOvG,KAEX,GAAIuG,EAAK4rC,YAAYx3C,OAAS,EAG1B,OAFA4L,EAAKmwC,wBACLnwC,EAAKib,QAILjb,EAAKkrC,WAAalrC,EAAK8qC,OACvB9qC,EAAKmX,OAELnX,EAAKib,OAEZ,CAMD,WAAAm1B,GAAiB,CAOjB,QAAA3B,GACIvN,GAAaznC,KAAK0+B,MAAO,SACzB+I,GAAaznC,KAAK0+B,MAAO,SAC5B,CAMD,OAAAwV,CAAQzvC,GACJ,IAAI8B,EAAOvG,KAEPuG,EAAKmrC,eAAiBnrC,EAAKirC,SAC3BzzB,GAAetZ,GAKd8B,EAAKw+B,SAASmF,SAInBzjC,YAAW,KACP,IAAImwC,EAAarwC,EAAKswC,aAEtB,GAAKD,EAAWplC,MAAMjL,EAAKw+B,SAASmF,SAApC,CAIA,IAAI4M,EAAaF,EAAWl6C,OAAOqB,MAAMwI,EAAKw+B,SAASmF,SACvDtF,GAAUkS,GAAaC,IACNpK,GAASoK,KAGd/2C,KAAKlF,QAAQi8C,GACbxwC,EAAKywC,QAAQD,GAEbxwC,EAAK0wC,WAAWF,GAEvB,GAZJ,CAaC,GACH,EACN,CAMD,UAAAjD,CAAWrvC,GACP,IAAI8B,EAAOvG,KAEX,IAAIuG,EAAKirC,SAAT,CAKA,IAAI0F,EAAYh4C,OAAO4iC,aAAar9B,EAAE0yC,SAAW1yC,EAAE2yC,OAEnD,OACI7wC,EAAKw+B,SAASqF,QACS,UAAvB7jC,EAAKw+B,SAAS+G,MACdoL,IAAc3wC,EAAKw+B,SAASkF,WAE5B1jC,EAAK0wC,kBACLl5B,GAAetZ,SANnB,CAJC,CAFGsZ,GAAetZ,EAetB,CAMD,SAAAovC,CAAUpvC,GACN,IAAI8B,EAAOvG,KAGX,GAFAuG,EAAKsrC,aAAc,EAEftrC,EAAKirC,SAngCD,IAogCA/sC,EAAE0yC,SACFp5B,GAAetZ,OAFvB,CAQA,OAAQA,EAAE0yC,SAEN,KAthCE,GAuhCE,GAAI3J,GAAU5D,GAAcnlC,IACQ,IAA5B8B,EAAKoqC,cAAcr2C,MAGnB,OAFAyjB,GAAetZ,QACf8B,EAAK8wC,YAKb,MAGJ,KAhiCI,GAuiCA,OANI9wC,EAAK8qC,SACLtzB,GAAetZ,GAAG,GAClB8B,EAAK2yB,cAGT3yB,EAAKmwC,mBAIT,KAtiCK,GAuiCD,IAAKnwC,EAAK8qC,QAAU9qC,EAAKurC,WACrBvrC,EAAK+wC,YACF,GAAI/wC,EAAK2rC,aAAc,CAC1B,IAAIr1B,EAAOtW,EAAKgxC,YAAYhxC,EAAK2rC,aAAc,GAC3Cr1B,GAAMtW,EAAKixC,gBAAgB36B,EAClC,CAGD,YADAkB,GAAetZ,GAInB,KApjCG,GAqjCC,GAAI8B,EAAK2rC,aAAc,CACnB,IAAIt1B,EAAOrW,EAAKgxC,YAAYhxC,EAAK2rC,cAAe,GAC5Ct1B,GAAMrW,EAAKixC,gBAAgB56B,EAClC,CAGD,YADAmB,GAAetZ,GAInB,KAjkCO,GA8kCH,YAZI8B,EAAKkxC,UAAUlxC,EAAK2rC,eACpB3rC,EAAKmtC,eAAejvC,EAAG8B,EAAK2rC,cAC5Bn0B,GAAetZ,KACR8B,EAAKw+B,SAASqF,QAAU7jC,EAAK0wC,cAGpC16C,SAASyO,eAAiBzE,EAAKoqC,eAC/BpqC,EAAK8qC,SAHLtzB,GAAetZ,IAWvB,KA/kCK,GAilCD,YADA8B,EAAKmxC,kBAAkB,EAAGjzC,GAI9B,KAllCM,GAolCF,YADA8B,EAAKmxC,iBAAiB,EAAGjzC,GAI7B,KAnlCI,EAimCA,YAbI8B,EAAKw+B,SAAS+F,cACVvkC,EAAKkxC,UAAUlxC,EAAK2rC,gBACpB3rC,EAAKmtC,eAAejvC,EAAG8B,EAAK2rC,cAG5Bn0B,GAAetZ,IAGf8B,EAAKw+B,SAASqF,QAAU7jC,EAAK0wC,cAC7Bl5B,GAAetZ,KAO3B,KAtmCU,EAumCV,KAtmCO,GAwmCH,YADA8B,EAAKoxC,gBAAgBlzC,GAIzB8B,EAAKmrC,gBAAkBlE,GAAU5D,GAAcnlC,IAC/CsZ,GAAetZ,EAlGlB,CAoGJ,CAMD,OAAAsvC,CAAQtvC,GACJ,IAAI8B,EAAOvG,KAEX,IAAIuG,EAAKirC,SAAT,CAIA,IAAIl3C,EAAQiM,EAAKswC,aAEbtwC,EAAKyrC,YAAc13C,IACnBiM,EAAKyrC,UAAY13C,EAEbiM,EAAKw+B,SAAS2H,WAAWlxC,KAAK+K,EAAMjM,IACpCiM,EAAKgtC,KAAKj5C,GAGdiM,EAAKqxC,iBACLrxC,EAAK6Y,QAAQ,OAAQ9kB,GAZxB,CAcJ,CAOD,aAAAm5C,CAAcpG,EAAKznC,GACX5F,KAAK6xC,aACT7xC,KAAKw3C,gBAAgB5xC,GAAQ,EAChC,CAMD,OAAAquC,CAAQxvC,GACJ,IAAI8B,EAAOvG,KACP63C,EAAatxC,EAAKkrC,UAEtB,GAAIlrC,EAAK+T,WAGL,OAFA/T,EAAKmX,YACLK,GAAetZ,GAIf8B,EAAKqrC,cACTrrC,EAAKkrC,WAAY,EACa,UAA1BlrC,EAAKw+B,SAASgG,SAAqBxkC,EAAKwkC,UACvC8M,GAAYtxC,EAAK6Y,QAAQ,SAEzB7Y,EAAK4rC,YAAYx3C,SAClB4L,EAAKuxC,YACLvxC,EAAKqxC,iBAAiBrxC,EAAKw+B,SAASwF,cAGxChkC,EAAKouC,eACR,CAMD,MAAAX,CAAOvvC,GACH,IAA4B,IAAxBlI,SAASw7C,WAAb,CACA,IAAIxxC,EAAOvG,KACX,GAAKuG,EAAKkrC,UAAV,CACAlrC,EAAKkrC,WAAY,EACjBlrC,EAAKqrC,aAAc,EAEnB,IAAIoG,EAAa,KACbzxC,EAAK2yB,QACL3yB,EAAK0xC,gBACL1xC,EAAK2xC,SAAS3xC,EAAKZ,MAAMhL,QACzB4L,EAAK6Y,QAAQ,OAAO,EAGpB7Y,EAAKw+B,SAASqF,QAAU7jC,EAAKw+B,SAASsF,aACtC9jC,EAAK0wC,WAAW,KAAMe,GAEtBA,GAdwB,CAFc,CAkB7C,CAOD,cAAAtE,CAAerG,EAAKznC,GAChB,IAAItL,EACAiM,EAAOvG,KAGP4F,EAAO8E,eACP9E,EAAO8E,cAAc1E,QAAQ,qBAK7BJ,EAAO5H,UAAU8+B,SAAS,UAC1Bv2B,EAAK0wC,WAAW,MAAM,KACd1wC,EAAKw+B,SAASoT,kBACd5xC,EAAK2yB,OACR,SAKgB,KAFrB5+B,EAAQsL,EAAO7D,QAAQzH,SAGnBiM,EAAKkwC,UAAY,KACjBlwC,EAAKywC,QAAQ18C,GAETiM,EAAKw+B,SAASoT,kBACd5xC,EAAK2yB,SAIJ3yB,EAAKw+B,SAAS4F,cACf0C,EAAIppC,MACJ,QAAQ2P,KAAKy5B,EAAIppC,OAEjBsC,EAAKixC,gBAAgB5xC,IAIpC,CAMD,SAAA6xC,CAAU7xC,GACN,SAAI5F,KAAKqxC,QAAUzrC,GAAU5F,KAAK8wC,iBAAiBhU,SAASl3B,GAK/D,CAOD,YAAA+tC,CAAatG,EAAKhoC,GACd,IAAIkB,EAAOvG,KAEX,OAAKuG,EAAKirC,UAAmC,UAAvBjrC,EAAKw+B,SAAS+G,OAChC/tB,GAAesvB,GACf9mC,EAAK0xC,cAAc5yC,EAAMgoC,IAClB,EAId,CAkBD,OAAA+K,CAAQ99C,GACJ,QAAK0F,KAAK+kC,SAASwO,OACfvzC,KAAKitC,eAAe1xC,eAAejB,EAE1C,CAMD,IAAAi5C,CAAKj5C,GACD,MAAMiM,EAAOvG,KACb,IAAKuG,EAAK6xC,QAAQ99C,GAAQ,OAC1ButC,GAAWthC,EAAK+hC,QAAS/hC,EAAKw+B,SAASmG,cACvC3kC,EAAKymC,UACL,MAAM9oC,EAAWqC,EAAK8xC,aAAa5R,KAAKlgC,GACxCA,EAAKw+B,SAASwO,KAAK/3C,KAAK+K,EAAMjM,EAAO4J,EACxC,CAMD,YAAAm0C,CAAav9C,EAASivC,GAClB,MAAMxjC,EAAOvG,KACbuG,EAAKymC,QAAU3tC,KAAKghB,IAAI9Z,EAAKymC,QAAU,EAAG,GAC1CzmC,EAAKkwC,UAAY,KACjBlwC,EAAK+xC,oBAEL/xC,EAAK0uC,aAAan6C,EAASivC,GAC3BxjC,EAAKqxC,eAAerxC,EAAKkrC,YAAclrC,EAAKmrC,eAEvCnrC,EAAKymC,SACN7E,GAAc5hC,EAAK+hC,QAAS/hC,EAAKw+B,SAASmG,cAG9C3kC,EAAK6Y,QAAQ,OAAQtkB,EAASivC,EACjC,CAED,OAAAgB,GACI,IAAI/sC,EAAYgC,KAAKsoC,QAAQtqC,UACzBA,EAAU8+B,SAAS,eACvB9+B,EAAUC,IAAI,aACd+B,KAAKuzC,KAAK,IACb,CAMD,eAAAgF,CAAgBj+C,EAAQ,IACpB,IAAIokC,EAAQ1+B,KAAK2wC,cACHjS,EAAMpkC,QAAUA,IAG1BokC,EAAMpkC,MAAQA,EACdmtC,GAAa/I,EAAO,UACpB1+B,KAAKgyC,UAAY13C,EAExB,CASD,QAAAk+C,GACI,OAAIx4C,KAAKixC,eAAiBjxC,KAAK0+B,MAAM9yB,aAAa,YACvC5L,KAAK2F,MAGT3F,KAAK2F,MAAMnG,KAAKQ,KAAK+kC,SAASkF,UACxC,CAMD,QAAAuM,CAASl8C,EAAOm+C,GAEZvL,GAAgBltC,KADHy4C,EAAS,GAAK,CAAC,WACE,KAC1Bz4C,KAAK4Y,MAAM6/B,GACXz4C,KAAK04C,SAASp+C,EAAOm+C,EAAO,GAEnC,CAMD,WAAAE,CAAYr+C,GACM,IAAVA,IAAaA,EAAQ,MAEzB0F,KAAK+kC,SAAS2F,SAAWpwC,EACzB0F,KAAK20C,cACR,CAMD,aAAAsD,CAAc5yC,EAAMZ,GAChB,IACII,EACA5J,EAAG29C,EAAOt0B,EAAKu0B,EACfvV,EAHA/8B,EAAOvG,KAIX,GAA2B,WAAvBuG,EAAKw+B,SAAS+G,KAAlB,CAEA,IAAKzmC,EAOD,OANAkB,EAAKmwC,wBAEDnwC,EAAKkrC,WACLlrC,EAAKuxC,aAQb,GACkB,WAHlBjzC,EAAYJ,GAAKA,EAAER,KAAKvJ,gBAIpB8yC,GAAU,WAAY/oC,IACtB8B,EAAK4rC,YAAYx3C,OACnB,CAWE,IAVA2oC,EAAO/8B,EAAKuyC,iBACZF,EAAQ98C,MAAMR,UAAUe,QAAQb,KAAK+K,EAAKsqC,QAAQpnC,SAAU65B,KAC5Dhf,EAAMxoB,MAAMR,UAAUe,QAAQb,KAAK+K,EAAKsqC,QAAQpnC,SAAUpE,MAGtDwzC,EAAOD,EACPA,EAAQt0B,EACRA,EAAMu0B,GAGL59C,EAAI29C,EAAO39C,GAAKqpB,EAAKrpB,IACtBoK,EAAOkB,EAAKsqC,QAAQpnC,SAASxO,IAEW,IAApCsL,EAAK4rC,YAAY91C,QAAQgJ,IACzBkB,EAAKwyC,mBAAmB1zC,GAIhC0Y,GAAetZ,EAC3B,KAC2B,UAAdI,GAAyB2oC,GAAU5D,GAAcnlC,IACnC,YAAdI,GAA2B2oC,GAAU,WAAY/oC,GAE9CY,EAAKrH,UAAU8+B,SAAS,UACxBv2B,EAAKyyC,iBAAiB3zC,GAEtBkB,EAAKwyC,mBAAmB1zC,IAG5BkB,EAAKmwC,mBACLnwC,EAAKwyC,mBAAmB1zC,IAG5BkB,EAAK0yC,YAEA1yC,EAAKkrC,WACNlrC,EAAKib,OAvDmC,CAyD/C,CAMD,kBAAAu3B,CAAmB1zC,GACf,MAAMkB,EAAOvG,KACPk5C,EAAc3yC,EAAKsqC,QAAQtyC,cAAc,gBAC3C26C,GAAa/Q,GAAc+Q,EAAa,eAC5CrR,GAAWxiC,EAAM,sBACjBA,EAAK1H,aAAa,iBAAiB,GACnC4I,EAAK6Y,QAAQ,cAAe/Z,IAEW,GAAnCkB,EAAK4rC,YAAY91C,QAAQgJ,IACzBkB,EAAK4rC,YAAYxxC,KAAK0E,EAE7B,CAMD,gBAAA2zC,CAAiB3zC,GACb,IAAI8zC,EAAMn5C,KAAKmyC,YAAY91C,QAAQgJ,GACnCrF,KAAKmyC,YAAYv3C,OAAOu+C,EAAK,GAC7BhR,GAAc9iC,EAAM,UACpBA,EAAK1H,aAAa,iBAAiB,EACtC,CAMD,gBAAA+4C,GACIvO,GAAcnoC,KAAKmyC,YAAa,UAChCnyC,KAAKmyC,YAAYt2C,SAASwJ,IACtBA,EAAK1H,aAAa,iBAAiB,EAAM,IAE7CqC,KAAKmyC,YAAc,EACtB,CAOD,eAAAqF,CAAgB5xC,EAAQsoB,GAAS,GACzBtoB,IAAW5F,KAAKkyC,eAIpBlyC,KAAKs4C,oBACA1yC,IACL5F,KAAKkyC,aAAetsC,EACpB+iC,GAAQ3oC,KAAK+wC,WAAY,CACrB,wBAAyBnrC,EAAO2C,aAAa,QAEjDogC,GAAQ/iC,EAAQ,CACZ,gBAAiB,SAErBiiC,GAAWjiC,EAAQ,UACfsoB,GAAQluB,KAAKo5C,eAAexzC,IACnC,CAMD,cAAAwzC,CAAexzC,EAAQyzC,GACnB,IAAKzzC,EAAQ,OACb,MAAMjJ,EAAUqD,KAAK8wC,iBACfwI,EAAc38C,EAAQ8lB,aACtBX,EAAYnlB,EAAQmlB,WAAa,EACjCy3B,EAAc3zC,EAAOyc,aACrBrH,EACFpV,EAAO+c,wBAAwBX,IAC/BrlB,EAAQgmB,wBAAwBX,IAChCF,EAEA9G,EAAIu+B,EAAcD,EAAcx3B,EAChC9hB,KAAKkuB,OAAOlT,EAAIs+B,EAAcC,EAAaF,GACpCr+B,EAAI8G,GACX9hB,KAAKkuB,OAAOlT,EAAGq+B,EAEtB,CAMD,MAAAnrB,CAAOpM,EAAWu3B,GACd,MAAM18C,EAAUqD,KAAK8wC,iBAEjBuI,IACA18C,EAAQS,MAAMo8C,eAAiBH,GAGnC18C,EAAQmlB,UAAYA,EACpBnlB,EAAQS,MAAMo8C,eAAiB,EAClC,CAMD,iBAAAlB,GACQt4C,KAAKkyC,eACL/J,GAAcnoC,KAAKkyC,aAAc,UACjCvJ,GAAQ3oC,KAAKkyC,aAAc,CACvB,gBAAiB,QAIzBlyC,KAAKkyC,aAAe,KACpBvJ,GAAQ3oC,KAAK+wC,WAAY,CACrB,wBAAyB,MAEhC,CAKD,SAAAsG,GACI,MAAM9wC,EAAOvG,KACb,GAA2B,WAAvBuG,EAAKw+B,SAAS+G,KAAmB,OACrC,MAAMqG,EAAc5rC,EAAKkzC,kBACpBtH,EAAYx3C,SACjB4L,EAAK0yC,YACL1yC,EAAK2yB,QACL3yB,EAAK4rC,YAAcA,EACnBvN,GAAUuN,GAAc9sC,IACpBkB,EAAKwyC,mBAAmB1zC,EAAK,IAEpC,CAMD,UAAAgvC,GACI,IAAI9tC,EAAOvG,KACNuG,EAAKsqC,QAAQ/T,SAASv2B,EAAKoqC,iBAChChI,GAAQpiC,EAAKoqC,cAAe,CACxBnE,YAAajmC,EAAKw+B,SAASyH,cAI3BjmC,EAAK4rC,YAAYx3C,OAAS,IACxB4L,EAAKkrC,WACHlrC,EAAKw+B,SAAS0H,iBACdlmC,EAAKZ,MAAMhL,OAAS,GAExB4L,EAAKgyC,kBACL5P,GAAQpiC,EAAKoqC,cAAe,CACxBnE,YAAa,KAEjBjmC,EAAKmrC,eAAgB,IAEjBnrC,EAAKw+B,SAAS0H,iBAAmBlmC,EAAKZ,MAAMhL,OAAS,GACrDguC,GAAQpiC,EAAKoqC,cAAe,CACxBnE,YAAa,KAIrBjmC,EAAKmrC,eAAgB,GAGE,WAAvBnrC,EAAKw+B,SAAS+G,MAAqBvlC,EAAKZ,MAAMhL,OAAS,GACvDguC,GAAQpiC,EAAKoqC,cAAe,CACxBnE,YAAa,KAIrBjmC,EAAK+hC,QAAQtqC,UAAU07C,OAAO,eAAgBnzC,EAAKmrC,eACtD,CAOD,SAAAuH,GACIj5C,KAAKq0C,YACR,CAMD,SAAAyD,GACI93C,KAAKq0C,YACR,CAKD,UAAAwC,GACI,OAAO72C,KAAK2wC,cAAcr2C,MAAMoC,MACnC,CAKD,KAAA8kB,GACI,IAAIjb,EAAOvG,KACPuG,EAAK+T,aACT/T,EAAKqrC,aAAc,EAEfrrC,EAAKoqC,cAAcvuB,YACnB7b,EAAKoqC,cAAcnvB,QAEnBjb,EAAKwqC,WAAWvvB,QAGpB/a,YAAW,KACPF,EAAKqrC,aAAc,EACnBrrC,EAAK0tC,SAAS,GACf,GACN,CAMD,IAAAv2B,GACI1d,KAAK+wC,WAAWrzB,OAChB1d,KAAKg0C,QACR,CASD,gBAAAtO,CAAiBR,GACb,OAAOllC,KAAKoxC,OAAO1L,iBAAiBR,EAAOllC,KAAK25C,mBACnD,CASD,gBAAAA,GACI,IAAI5U,EAAW/kC,KAAK+kC,SAChBxlC,EAAOwlC,EAAS4G,UAUpB,MARkC,iBAAvB5G,EAAS4G,YAChBpsC,EAAO,CACH,CACIkW,MAAOsvB,EAAS4G,aAKrB,CACH7F,OAAQf,EAAS6G,YACjBzF,YAAapB,EAAS8G,kBACtBtsC,KAAMA,EACNunC,QAAS/B,EAAS+B,QAEzB,CAOD,MAAAzkC,CAAO6iC,GACH,IAAIha,EAAQ0uB,EACRrzC,EAAOvG,KACPlF,EAAUkF,KAAK25C,mBAEnB,GAAIpzC,EAAKw+B,SAASj7B,OAGgB,mBAF9B8vC,EAAiBrzC,EAAKw+B,SAASj7B,MAAMtO,KAAK+K,EAAM2+B,IAG5C,MAAM,IAAIoL,MACN,yEAyBZ,OApBIpL,IAAU3+B,EAAKkwC,WACflwC,EAAKkwC,UAAYvR,EACjBha,EAAS3kB,EAAK6qC,OAAO/uC,OACjB6iC,EACA7pC,OAAOO,OAAOd,EAAS,CACnBgP,MAAO8vC,KAGfrzC,EAAKwrC,eAAiB7mB,GAEtBA,EAAS7vB,OAAOO,OAAO,CAAE,EAAE2K,EAAKwrC,gBAGhCxrC,EAAKw+B,SAAS4F,eACdzf,EAAOvlB,MAAQulB,EAAOvlB,MAAM9E,QAAQwE,IAChC,IAAIw0C,EAASlN,GAAStnC,EAAKsK,IAC3B,QAASkqC,IAA0C,IAAhCtzC,EAAKZ,MAAMtJ,QAAQw9C,GAAe,KAItD3uB,CACV,CAOD,cAAA0sB,CAAekC,GAAkB,GAC7B,IAAI7+C,EACAqhB,EACAqjB,EACArC,EACAkS,EACAzF,EACA7tC,EACA69C,EACAC,EACA5P,EACJ,MAAMzT,EAAS,CAAA,EACTsjB,EAAe,GACrB,IAAI1zC,EAAOvG,KACPklC,EAAQ3+B,EAAKswC,aACjB,MAAMqD,EACFhV,IAAU3+B,EAAKkwC,WAAuB,IAATvR,GAAiC,MAAlB3+B,EAAKkwC,UACrD,IAlyDA3vB,EAkyDIqzB,EAAU5zC,EAAKlE,OAAO6iC,GACtBkV,EAAgB,KAChBC,EAAgB9zC,EAAKw+B,SAASyF,aAAc,EAC5CsG,EAAmBvqC,EAAKuqC,iBAoB5B,IAlBIoJ,IACAE,EAAgB7zC,EAAK2rC,gBAGjB8H,EAAeI,EAAcE,QAAQ,iBAI7Chd,EAAI6c,EAAQx0C,MAAMhL,OAEsB,iBAA7B4L,EAAKw+B,SAAS0F,aACrBnN,EAAIj+B,KAAK+gB,IAAIkd,EAAG/2B,EAAKw+B,SAAS0F,aAG9BnN,EAAI,IACJ+c,GAAgB,GAGfp/C,EAAI,EAAGA,EAAIqiC,EAAGriC,IAAK,CAEpB,IAAIoK,EAAO80C,EAAQx0C,MAAM1K,GACzB,IAAKoK,EAAM,SACX,IAAIk1C,EAAYl1C,EAAKsK,GACjB/J,EAASW,EAAKzL,QAAQy/C,GAC1B,QAAe95C,IAAXmF,EAAsB,SAC1B,IAAI40C,EAAW5N,GAAS2N,GACpBE,EAAYl0C,EAAKm0C,UAAUF,GAAU,GAYzC,IAVKj0C,EAAKw+B,SAAS4F,cACf8P,EAAUz8C,UAAU07C,OAChB,WACAnzC,EAAKZ,MAAM7C,SAAS03C,IAI5BhL,EAAW5pC,EAAOW,EAAKw+B,SAASqG,gBAAkB,GAG7C9uB,EAAI,EAAGqjB,GAFZoK,EAAYjuC,MAAMC,QAAQyzC,GAAYA,EAAW,CAACA,KAErBzF,EAAUpvC,OAAQ2hB,EAAIqjB,EAAGrjB,IAAK,CACvDkzB,EAAWzF,EAAUztB,GAEhB/V,EAAKwjC,UAAUxuC,eAAei0C,KAC/BA,EAAW,IAGf,IAAImL,EAAiBhkB,EAAO6Y,QAEL/uC,IAAnBk6C,IACAA,EAAiBp+C,SAASq+C,yBAC1BX,EAAat5C,KAAK6uC,IAGlBlzB,EAAI,IACJm+B,EAAYA,EAAUjR,WAAU,GAChCb,GAAQ8R,EAAW,CACf9qC,GAAI/J,EAAOi1C,IAAM,UAAYv+B,EAC7B,gBAAiB,OAErBm+B,EAAUz8C,UAAUC,IAAI,aACxBkqC,GAAcsS,EAAW,UAGrBl0C,EAAK2rC,cACL3rC,EAAK2rC,aAAanwC,QAAQzH,OAASigD,GAG/BP,GACAA,EAAaj4C,QAAQmtC,QAAUM,EAAS/zC,aAExC2+C,EAAgBK,IAK5BE,EAAe9tC,YAAY4tC,GAC3B9jB,EAAO6Y,GAAYmL,CACtB,CACJ,CAEGp0C,EAAKw+B,SAAS2G,mBACduO,EAAa16C,MAAK,CAACmV,EAAGC,KAClB,MAAMmmC,EAAQv0C,EAAKwjC,UAAUr1B,GACvBqmC,EAAQx0C,EAAKwjC,UAAUp1B,GAG7B,OAFiBmmC,GAASA,EAAME,QAAW,IAC1BD,GAASA,EAAMC,QAAW,EACnB,IAIhC9+C,EAAOK,SAASq+C,yBAChBhW,GAAUqV,GAAezK,IACrB,IAAImL,EAAiBhkB,EAAO6Y,GAC5B,IAAKmL,IAAmBA,EAAelxC,SAAS9O,OAAQ,OACxD,IAAIsgD,EAAgB10C,EAAKwjC,UAAUyF,GAEnC,QAAsB/uC,IAAlBw6C,EAA6B,CAC7B,IAAIC,EAAgB3+C,SAASq+C,yBACzBO,EAAS50C,EAAKgb,OAAO,kBAAmB05B,GAC5CjpC,GAAOkpC,EAAeC,GACtBnpC,GAAOkpC,EAAeP,GACtB,IAAIS,EAAa70C,EAAKgb,OAAO,WAAY,CACrC2tB,MAAO+L,EACPngD,QAASogD,IAEblpC,GAAO9V,EAAMk/C,EAC7B,MACgBppC,GAAO9V,EAAMy+C,EAChB,IAEL7J,EAAiBr0C,UAAY,GAC7BuV,GAAO8+B,EAAkB50C,GAErBqK,EAAKw+B,SAASkE,YAv5DlBniB,EAw5DoBgqB,EAx5DNpyC,iBAAiB,kBACnC5C,MAAMR,UAAUO,QAAQL,KAAKsrB,GAAU,SAAU3T,GAC7C,IAAI66B,EAAS76B,EAAGyK,WAChBowB,EAAOzhC,aAAa4G,EAAGvW,WAAYuW,GACnC66B,EAAOhN,WACf,IAq5DgBmZ,EAAQjV,MAAMvqC,QAAUw/C,EAAQ9U,OAAO1qC,QACvCiqC,GAAUuV,EAAQ9U,QAASgW,IACvBpS,GAAU6H,EAAkBuK,EAAI3W,MAAOn+B,EAAKw+B,SAASmE,eAAe,KAKhF,IAAIoS,EAAgBh/C,IAChB,IAAIK,EAAU4J,EAAKgb,OAAOjlB,EAAU,CAChCoiC,MAAOwG,IAWX,OARIvoC,IACA09C,GAAgB,EAChBvJ,EAAiBnmC,aACbhO,EACAm0C,EAAiBl0C,aAIlBD,CAAO,EAmBlB,GAhBI4J,EAAKymC,QACLsO,EAAa,WACL/0C,EAAKw+B,SAAS2H,WAAWlxC,KAAK+K,EAAM2+B,GAEZ,IAAzBiV,EAAQx0C,MAAMhL,QACrB2gD,EAAa,cAFbA,EAAa,gBAKjBvB,EAAoBxzC,EAAKg1C,UAAUrW,MAG/BkF,EAASkR,EAAa,kBAG1B/0C,EAAKurC,WAAaqI,EAAQx0C,MAAMhL,OAAS,GAAKo/C,EAE1CM,EAAe,CACf,GAAIF,EAAQx0C,MAAMhL,OAAS,GASvB,GAPKy/C,GACsB,WAAvB7zC,EAAKw+B,SAAS+G,MACGrrC,MAAjB8F,EAAKZ,MAAM,KAEXy0C,EAAgB7zC,EAAKm0C,UAAUn0C,EAAKZ,MAAM,MAGzCmrC,EAAiBhU,SAASsd,GAAgB,CAC3C,IAAIoB,EAAe,EAEfpR,IAAW7jC,EAAKw+B,SAAS8F,gBACzB2Q,EAAe,GAGnBpB,EAAgB7zC,EAAKk1C,aAAaD,EACrC,OACMpR,IACPgQ,EAAgBhQ,GAGhB0P,IAAoBvzC,EAAK8qC,SACzB9qC,EAAK+wC,OACL/wC,EAAK6yC,eAAegB,EAAe,SAGvC7zC,EAAKixC,gBAAgB4C,EACjC,MACY7zC,EAAK+xC,oBAEDwB,GAAmBvzC,EAAK8qC,QACxB9qC,EAAK2yB,OAAM,EAGtB,CAMD,UAAAuiB,GACI,OAAOz7C,KAAK8wC,iBAAiBpyC,iBAAiB,oBACjD,CAaD,SAAAqwC,CAAUx0C,EAAMmhD,GAAe,GAC3B,MAAMn1C,EAAOvG,KAGb,GAAIlE,MAAMC,QAAQxB,GAEd,OADAgM,EAAK2uC,WAAW36C,EAAMmhD,IACf,EAGX,MAAMlhD,EAAMmyC,GAASpyC,EAAKgM,EAAKw+B,SAASsG,aAExC,OAAY,OAAR7wC,IAAgB+L,EAAKzL,QAAQS,eAAef,KAIhDD,EAAKygD,OAASzgD,EAAKygD,UAAYz0C,EAAKyqC,MACpCz2C,EAAKsgD,IAAMt0C,EAAK2qC,QAAU,QAAU32C,EAAKygD,OACzCz0C,EAAKzL,QAAQN,GAAOD,EACpBgM,EAAKkwC,UAAY,KAEbiF,IACAn1C,EAAK6rC,YAAY53C,GAAOkhD,EACxBn1C,EAAK6Y,QAAQ,aAAc5kB,EAAKD,IAG7BC,EACV,CAMD,UAAA06C,CAAW36C,EAAMmhD,GAAe,GAC5B9W,GAAUrqC,GAAOohD,IACb37C,KAAK+uC,UAAU4M,EAAKD,EAAa,GAExC,CAKD,cAAAE,CAAerhD,GACX,OAAOyF,KAAK+uC,UAAUx0C,EACzB,CAOD,mBAAA46C,CAAoB56C,GAChB,IAAIC,EAAMmyC,GAASpyC,EAAKyF,KAAK+kC,SAAS0G,qBACtC,OAAY,OAARjxC,IACJD,EAAKygD,OAASzgD,EAAKygD,UAAYh7C,KAAKgxC,MACpChxC,KAAK+pC,UAAUvvC,GAAOD,EACfC,EACV,CAOD,cAAAqhD,CAAelsC,EAAIpV,GACf,IAAIuhD,EACJvhD,EAAKyF,KAAK+kC,SAAS0G,oBAAsB97B,GAEpCmsC,EAAY97C,KAAKm1C,oBAAoB56C,KACtCyF,KAAKof,QAAQ,eAAgB08B,EAAWvhD,EAE/C,CAMD,iBAAAwhD,CAAkBpsC,GACV3P,KAAK+pC,UAAUxuC,eAAeoU,YACvB3P,KAAK+pC,UAAUp6B,GACtB3P,KAAKg8C,aACLh8C,KAAKof,QAAQ,kBAAmBzP,GAEvC,CAKD,iBAAAssC,GACIj8C,KAAK+pC,UAAY,GACjB/pC,KAAKg8C,aACLh8C,KAAKof,QAAQ,iBAChB,CAQD,YAAA88B,CAAa5hD,EAAOC,GAChB,MAAMgM,EAAOvG,KACb,IAAIm8C,EACAC,EACJ,MAAMC,EAAY1P,GAASryC,GACrBgiD,EAAY3P,GAASpyC,EAAKgM,EAAKw+B,SAASsG,aAE9C,GAAkB,OAAdgR,EAAoB,OACxB,MAAME,EAAWh2C,EAAKzL,QAAQuhD,GAC9B,GAAgB57C,MAAZ87C,EAAuB,OAC3B,GAAyB,iBAAdD,EACP,MAAM,IAAIhM,MAAM,oCACpB,MAAM1qC,EAASW,EAAKm0C,UAAU2B,GACxBh3C,EAAOkB,EAAKhD,QAAQ84C,GAQ1B,GAPA9hD,EAAKygD,OAASzgD,EAAKygD,QAAUuB,EAASvB,cAC/Bz0C,EAAKzL,QAAQuhD,GAGpB91C,EAAKi2C,aAAaF,GAClB/1C,EAAKzL,QAAQwhD,GAAa/hD,EAEtBqL,EAAQ,CACR,GAAIW,EAAKuqC,iBAAiBhU,SAASl3B,GAAS,CACxC,MAAM62C,EAAal2C,EAAKmsC,QAAQ,SAAUn4C,GAE1CuuC,GAAYljC,EAAQ62C,GAEhBl2C,EAAK2rC,eAAiBtsC,GACtBW,EAAKixC,gBAAgBiF,EAE5B,CAED72C,EAAOzH,QACV,CAEGkH,KAGoB,KAFpB+2C,EAAa71C,EAAKZ,MAAMtJ,QAAQggD,KAG5B91C,EAAKZ,MAAM/K,OAAOwhD,EAAY,EAAGE,GAGrCH,EAAW51C,EAAKmsC,QAAQ,OAAQn4C,GAC5B8K,EAAKrH,UAAU8+B,SAAS,WACxB+K,GAAWsU,EAAU,UACzBrT,GAAYzjC,EAAM82C,IAGtB51C,EAAKkwC,UAAY,IACpB,CAMD,YAAAiG,CAAapiD,EAAOm+C,GAChB,MAAMlyC,EAAOvG,KACb1F,EAAQsyC,GAAStyC,GACjBiM,EAAKi2C,aAAaliD,UACXiM,EAAK6rC,YAAY93C,UACjBiM,EAAKzL,QAAQR,GACpBiM,EAAKkwC,UAAY,KACjBlwC,EAAK6Y,QAAQ,gBAAiB9kB,GAC9BiM,EAAK/C,WAAWlJ,EAAOm+C,EAC1B,CAKD,YAAAkE,CAAa97C,GACT,MAAM+7C,GAAe/7C,GAAUb,KAAK68C,aAAapW,KAAKzmC,MACtDA,KAAKitC,eAAiB,GACtBjtC,KAAKoyC,YAAc,GACnBpyC,KAAKg8C,aACL,MAAM1M,EAAW,CAAA,EACjB1K,GAAU5kC,KAAKlF,SAAS,CAAC8K,EAAQpL,KACzBoiD,EAAYh3C,EAAQpL,KACpB80C,EAAS90C,GAAOoL,EACnB,IAEL5F,KAAKlF,QAAUkF,KAAKoxC,OAAOzrC,MAAQ2pC,EACnCtvC,KAAKy2C,UAAY,KACjBz2C,KAAKof,QAAQ,eAChB,CAOD,WAAAy9B,CAAYj3C,EAAQtL,GAChB,OAAI0F,KAAK2F,MAAMtJ,QAAQ/B,IAAU,CAKpC,CAOD,SAAAogD,CAAUpgD,EAAO8vC,GAAS,GACtB,MAAMyP,EAASlN,GAASryC,GACxB,GAAe,OAAXu/C,EAAiB,OAAO,KAC5B,MAAMj0C,EAAS5F,KAAKlF,QAAQ++C,GAE5B,GAAcp5C,MAAVmF,EAAqB,CACrB,GAAIA,EAAOk3C,KACP,OAAOl3C,EAAOk3C,KAGlB,GAAI1S,EACA,OAAOpqC,KAAK0yC,QAAQ,SAAU9sC,EAErC,CAED,OAAO,IACV,CAOD,WAAA2xC,CAAY3xC,EAAQyoB,EAAWpqB,EAAO,UAClC,IACIoF,EAEJ,IAAKzD,EACD,OAAO,KAIPyD,EADQ,QAARpF,EAPOjE,KAQIy5C,kBARJz5C,KAUI8wC,iBAAiBpyC,iBAAiB,qBAGjD,IAAK,IAAIzD,EAAI,EAAGA,EAAIoO,EAAI1O,OAAQM,IAC5B,GAAIoO,EAAIpO,IAAM2K,EAId,OAAIyoB,EAAY,EACLhlB,EAAIpO,EAAI,GAGZoO,EAAIpO,EAAI,GAGnB,OAAO,IACV,CAOD,OAAAsI,CAAQ8B,GACJ,GAAmB,iBAARA,EACP,OAAOA,EAGX,IAAI/K,EAAQqyC,GAAStnC,GACrB,OAAiB,OAAV/K,EACD0F,KAAK6wC,QAAQtyC,cAAc,gBAAgBwvC,GAAWzzC,QACtD,IACT,CAOD,QAAAo+C,CAAS/pC,EAAQ8pC,GACb,IAAIlyC,EAAOvG,KACP2F,EAAQ7J,MAAMC,QAAQ4S,GAAUA,EAAS,CAACA,GAE9C,MAAMouC,GADNp3C,EAAQA,EAAM9E,QAAQgC,IAAiC,IAA3B0D,EAAKZ,MAAMtJ,QAAQwG,MACvB8C,EAAMhL,OAAS,GACvCgL,EAAM9J,SAASwJ,IACXkB,EAAKy2C,UAAY33C,IAAS03C,EAC1Bx2C,EAAKywC,QAAQ3xC,EAAMozC,EAAO,GAEjC,CAOD,OAAAzB,CAAQ18C,EAAOm+C,GAEXvL,GAAgBltC,KADHy4C,EAAS,GAAK,CAAC,SAAU,mBACR,KAC1B,IAAIpzC,EAAM43C,EACV,MAAM12C,EAAOvG,KACP2yC,EAAYpsC,EAAKw+B,SAAS+G,KAC1B+N,EAASlN,GAASryC,GAExB,KAAIu/C,IAA0C,IAAhCtzC,EAAKZ,MAAMtJ,QAAQw9C,KACX,WAAdlH,GACApsC,EAAK2yB,QAGS,WAAdyZ,GAA2BpsC,EAAKw+B,SAAS6F,cAKlC,OAAXiP,GAAoBtzC,EAAKzL,QAAQS,eAAes+C,KAClC,WAAdlH,GAAwBpsC,EAAKqS,MAAM6/B,GACrB,UAAd9F,IAAyBpsC,EAAK22C,UAAlC,CAYA,GAXA73C,EAAOkB,EAAKmsC,QAAQ,OAAQnsC,EAAKzL,QAAQ++C,IAErCtzC,EAAKsqC,QAAQ/T,SAASz3B,KAEtBA,EAAOA,EAAKmkC,WAAU,IAG1ByT,EAAU12C,EAAK22C,SACf32C,EAAKZ,MAAM/K,OAAO2L,EAAK0rC,SAAU,EAAG4H,GACpCtzC,EAAK42C,cAAc93C,GAEfkB,EAAKorC,QAAS,CAEd,IAAKprC,EAAKy2C,WAAaz2C,EAAKw+B,SAAS4F,aAAc,CAC/C,IAAI/kC,EAASW,EAAKm0C,UAAUb,GACxBh9B,EAAOtW,EAAKgxC,YAAY3xC,EAAQ,GAEhCiX,GACAtW,EAAKixC,gBAAgB36B,EAE5B,CAGItW,EAAKy2C,WAAcz2C,EAAKw+B,SAASoT,kBAClC5xC,EAAKqxC,eACDrxC,EAAKkrC,WAA2B,WAAdkB,GAIY,GAAlCpsC,EAAKw+B,SAASoT,kBAA6B5xC,EAAK22C,SAChD32C,EAAK2yB,QACG3yB,EAAKy2C,WACbz2C,EAAKguC,mBAGThuC,EAAK6Y,QAAQ,WAAYy6B,EAAQx0C,GAE5BkB,EAAKy2C,WACNz2C,EAAKquC,oBAAoB,CACrB6D,OAAQA,GAGnB,GAEIlyC,EAAKy2C,YAAeC,GAAW12C,EAAK22C,YACrC32C,EAAK8tC,aACL9tC,EAAKouC,eA/C0C,CAgDlD,GAER,CAOD,UAAAnxC,CAAW6B,EAAO,KAAMozC,GACpB,MAAMlyC,EAAOvG,KAEb,KADAqF,EAAOkB,EAAKhD,QAAQ8B,IACT,OACX,IAAIpK,EAAGk+C,EACP,MAAM7+C,EAAQ+K,EAAKtD,QAAQzH,MAC3BW,EAAIutC,GAAUnjC,GACdA,EAAKlH,SAEDkH,EAAKrH,UAAU8+B,SAAS,YACxBqc,EAAM5yC,EAAK4rC,YAAY91C,QAAQgJ,GAC/BkB,EAAK4rC,YAAYv3C,OAAOu+C,EAAK,GAC7BhR,GAAc9iC,EAAM,WAGxBkB,EAAKZ,MAAM/K,OAAOK,EAAG,GACrBsL,EAAKkwC,UAAY,MAEZlwC,EAAKw+B,SAASoF,SAAW5jC,EAAK6rC,YAAY72C,eAAejB,IAC1DiM,EAAKm2C,aAAapiD,EAAOm+C,GAGzBx9C,EAAIsL,EAAK0rC,UACT1rC,EAAK2xC,SAAS3xC,EAAK0rC,SAAW,GAGlC1rC,EAAKquC,oBAAoB,CACrB6D,OAAQA,IAEZlyC,EAAKouC,eACLpuC,EAAKguC,mBACLhuC,EAAK6Y,QAAQ,cAAe9kB,EAAO+K,EACtC,CAWD,UAAA4xC,CAAWvY,EAAQ,KAAMx6B,EAAW,UAEP,IAArBq5B,UAAU5iC,SACVuJ,EAAWq5B,UAAU,IAGF,mBAAZr5B,IACPA,EAAW,QAGf,IAEIk5C,EAFA72C,EAAOvG,KACPq9C,EAAQ92C,EAAK0rC,SAIjB,GAFAvT,EAAQA,GAASn4B,EAAKswC,cAEjBtwC,EAAKg1C,UAAU7c,GAEhB,OADAx6B,KACO,EAGXqC,EAAK+2C,OACL,IAAIC,GAAU,EAEVnT,EAAU7vC,IAEV,GADAgM,EAAKi3C,UACAjjD,GAAwB,iBAATA,EAAmB,OAAO2J,IAC9C,IAAI5J,EAAQqyC,GAASpyC,EAAKgM,EAAKw+B,SAASsG,aAExC,GAAqB,iBAAV/wC,EACP,OAAO4J,IAGXqC,EAAKgyC,kBACLhyC,EAAKwoC,UAAUx0C,GAAM,GACrBgM,EAAK2xC,SAASmF,GACd92C,EAAKywC,QAAQ18C,GACb4J,EAAS3J,GACTgjD,GAAU,CAAI,EAgBlB,OAZIH,EADgC,mBAAzB72C,EAAKw+B,SAASqF,OACZ7jC,EAAKw+B,SAASqF,OAAO5uC,KAAKwE,KAAM0+B,EAAO0L,GAEvC,CACL,CAAC7jC,EAAKw+B,SAASuG,YAAa5M,EAC5B,CAACn4B,EAAKw+B,SAASsG,YAAa3M,GAI/B6e,GACDnT,EAAOgT,IAGJ,CACV,CAKD,YAAAvI,GACI,IAAItuC,EAAOvG,KACXuG,EAAKkwC,UAAY,KAEblwC,EAAKorC,SACLprC,EAAKmyC,SAASnyC,EAAKZ,OAGvBY,EAAKquC,sBACLruC,EAAKouC,cACR,CAMD,YAAAA,GACI,MAAMpuC,EAAOvG,KACbuG,EAAKk3C,uBACL,MAAMP,EAAS32C,EAAK22C,SACd1L,EAAWjrC,EAAKirC,SACtBjrC,EAAK+hC,QAAQtqC,UAAU07C,OAAO,MAAOnzC,EAAKsf,KAC1C,MAAM63B,EAAiBn3C,EAAK+hC,QAAQtqC,UAnlFtB,IAAC7C,EAolFfuiD,EAAehE,OAAO,QAASnzC,EAAKkrC,WACpCiM,EAAehE,OAAO,WAAYnzC,EAAK+T,YACvCojC,EAAehE,OAAO,WAAYnzC,EAAK+qC,YACvCoM,EAAehE,OAAO,WAAYnzC,EAAKiY,SACvCk/B,EAAehE,OAAO,SAAUlI,GAChCkM,EAAehE,OAAO,OAAQwD,GAC9BQ,EAAehE,OACX,eACAnzC,EAAKkrC,YAAclrC,EAAKmrC,eAE5BgM,EAAehE,OAAO,kBAAmBnzC,EAAK8qC,QAC9CqM,EAAehE,OAAO,eA/lFPv+C,EA+lFoCoL,EAAKzL,QA9lFzB,IAA5BO,OAAOhB,KAAKc,GAAKR,SA+lFpB+iD,EAAehE,OAAO,YAAanzC,EAAKZ,MAAMhL,OAAS,EAC1D,CAUD,oBAAA8iD,GACI,IAAIl3C,EAAOvG,KAENuG,EAAKm4B,MAAMif,WAIhBp3C,EAAKiY,QAAUjY,EAAKm4B,MAAMif,SAASC,MACnCr3C,EAAKgrC,WAAahrC,EAAKiY,QAC1B,CAQD,MAAA0+B,GACI,OAC+B,OAA3Bl9C,KAAK+kC,SAAS2F,UACd1qC,KAAK2F,MAAMhL,QAAUqF,KAAK+kC,SAAS2F,QAE1C,CAOD,mBAAAkK,CAAoB56B,EAAO,IACvB,MAAMzT,EAAOvG,KACb,IAAI4F,EAAQqtC,EACZ,MAAM4K,EAAet3C,EAAKm4B,MAAMngC,cAAc,oBAE9C,GAAIgI,EAAK0qC,cAAe,CACpB,MAAM3B,EAAW,GACXwO,EACFv3C,EAAKm4B,MAAMhgC,iBAAiB,kBAAkB/D,OAElD,SAASojD,EAAYtD,EAAWngD,EAAO24C,GAuBnC,OAtBKwH,IACDA,EAAYrT,GACR,kBACAyF,GAAYvyC,GACZ,KACAuyC,GAAYoG,GACZ,cAKJwH,GAAaoD,GACbt3C,EAAKm4B,MAAM1sB,OAAOyoC,GAGtBnL,EAAS3uC,KAAK85C,IAGVA,GAAaoD,GAAgBC,EAAe,KAC5CrD,EAAUnL,UAAW,GAGlBmL,CACV,CAEDl0C,EAAKm4B,MACAhgC,iBAAiB,kBACjB7C,SAAS4+C,IACNA,EAAUnL,UAAW,CAAK,IAGT,GAArB/oC,EAAKZ,MAAMhL,QAAqC,UAAtB4L,EAAKw+B,SAAS+G,KACxCiS,EAAYF,EAAc,GAAI,IAE9Bt3C,EAAKZ,MAAM9J,SAASvB,IAIhB,GAHAsL,EAASW,EAAKzL,QAAQR,GACtB24C,EAAQrtC,EAAOW,EAAKw+B,SAASuG,aAAe,GAExCgE,EAASxsC,SAAS8C,EAAOypC,SAAU,CAInC0O,EAHkBx3C,EAAKm4B,MAAMngC,cACzB,iBAAiBwvC,GAAWzzC,sBAETA,EAAO24C,EACtD,MACwBrtC,EAAOypC,QAAU0O,EACbn4C,EAAOypC,QACP/0C,EACA24C,EAEP,GAGrB,MACY1sC,EAAKm4B,MAAMpkC,MAAQiM,EAAKiyC,WAGxBjyC,EAAKorC,UACA33B,EAAKy+B,QACNlyC,EAAK6Y,QAAQ,SAAU7Y,EAAKiyC,YAGvC,CAMD,IAAAlB,GACI,IAAI/wC,EAAOvG,KAEPuG,EAAKirC,UACLjrC,EAAK8qC,QACmB,UAAvB9qC,EAAKw+B,SAAS+G,MAAoBvlC,EAAK22C,WAG5C32C,EAAK8qC,QAAS,EACd1I,GAAQpiC,EAAKwqC,WAAY,CACrB,gBAAiB,SAErBxqC,EAAKouC,eACL/M,GAASrhC,EAAKqqC,SAAU,CACpBoN,WAAY,SACZ7gD,QAAS,UAEboJ,EAAKguC,mBACL3M,GAASrhC,EAAKqqC,SAAU,CACpBoN,WAAY,UACZ7gD,QAAS,UAEboJ,EAAKib,QACLjb,EAAK6Y,QAAQ,gBAAiB7Y,EAAKqqC,UACtC,CAKD,KAAA1X,CAAMqf,GAAkB,GACpB,IAAIhyC,EAAOvG,KACPof,EAAU7Y,EAAK8qC,OAEfkH,IAEAhyC,EAAKgyC,kBAEsB,WAAvBhyC,EAAKw+B,SAAS+G,MAAqBvlC,EAAKZ,MAAMhL,QAC9C4L,EAAK0yC,aAIb1yC,EAAK8qC,QAAS,EACd1I,GAAQpiC,EAAKwqC,WAAY,CACrB,gBAAiB,UAErBnJ,GAASrhC,EAAKqqC,SAAU,CACpBzzC,QAAS,SAGToJ,EAAKw+B,SAAS4F,cACdpkC,EAAK+xC,oBAGT/xC,EAAKouC,eACDv1B,GAAS7Y,EAAK6Y,QAAQ,iBAAkB7Y,EAAKqqC,SACpD,CAOD,gBAAA2D,GACI,GAAqC,SAAjCv0C,KAAK+kC,SAASsH,eAAlB,CAIA,IAAI/tC,EAAU0B,KAAK6wC,QACfnrB,EAAOpnB,EAAQqkB,wBACfX,EAAM1jB,EAAQ+jB,aAAeqD,EAAK1D,IAAMriB,OAAOs+C,QAC/Cl8B,EAAO2D,EAAK3D,KAAOpiB,OAAOu+C,QAC9BtW,GAAS5nC,KAAK4wC,SAAU,CACpBlvB,MAAOgE,EAAKhE,MAAQ,KACpBM,IAAKA,EAAM,KACXD,KAAMA,EAAO,MAThB,CAWJ,CAOD,KAAAnJ,CAAM6/B,GACF,IAAIlyC,EAAOvG,KACX,GAAKuG,EAAKZ,MAAMhL,OAAhB,CACA,IAAIgL,EAAQY,EAAKkzC,kBACjB7U,GAAUj/B,GAAQN,IACdkB,EAAK/C,WAAW6B,GAAM,EAAK,IAE/BkB,EAAKuxC,YACAW,GAAQlyC,EAAKquC,sBAClBruC,EAAK6Y,QAAQ,QAPkB,CAQlC,CAOD,aAAA+9B,CAAchqC,GACV,MAAM5M,EAAOvG,KACPq9C,EAAQ92C,EAAK0rC,SACbrtC,EAAS2B,EAAKsqC,QACpBjsC,EAAO+F,aAAawI,EAAIvO,EAAO6E,SAAS4zC,IAAU,MAClD92C,EAAK2xC,SAASmF,EAAQ,EACzB,CAMD,eAAA1F,CAAgBlzC,GACZ,IAAI4pB,EAAW8vB,EAAWd,EAAOe,EAlhFnB1f,EAmhFVn4B,EAAOvG,KACXquB,EAAY5pB,GA9sFE,IA8sFGA,EAAE0yC,SAA6B,EAAI,EACpDgH,EAphFG,CACH95B,OAFcqa,EAqhFWn4B,EAAKoqC,eAnhFjB0N,gBAAkB,EAC/B1jD,QAAS+jC,EAAM4f,cAAgB,IAAM5f,EAAM2f,gBAAkB,IAohF7D,MAAME,EAAW,GAEjB,GAAIh4C,EAAK4rC,YAAYx3C,OACjByjD,EAAO7V,GAAQhiC,EAAK4rC,YAAa9jB,GACjCgvB,EAAQ7U,GAAU4V,GAEd/vB,EAAY,GACZgvB,IAGJzY,GAAUr+B,EAAK4rC,aAAc9sC,GAASk5C,EAAS59C,KAAK0E,UACjD,IACFkB,EAAKkrC,WAAoC,WAAvBlrC,EAAKw+B,SAAS+G,OACjCvlC,EAAKZ,MAAMhL,OACb,CACE,MAAMgL,EAAQY,EAAKkzC,kBACnB,IAAI+E,EAGAnwB,EAAY,GACQ,IAApB8vB,EAAU95B,OACW,IAArB85B,EAAUxjD,OAEV6jD,EAAU74C,EAAMY,EAAK0rC,SAAW,GAEhC5jB,EAAY,GACZ8vB,EAAU95B,QAAU9d,EAAKswC,aAAal8C,SAEtC6jD,EAAU74C,EAAMY,EAAK0rC,gBAGTxxC,IAAZ+9C,GACAD,EAAS59C,KAAK69C,EAErB,CAED,IAAKj4C,EAAKk4C,aAAaF,EAAU95C,GAC7B,OAAO,EASX,IANAsZ,GAAetZ,GAAG,QAEG,IAAV44C,GACP92C,EAAK2xC,SAASmF,GAGXkB,EAAS5jD,QACZ4L,EAAK/C,WAAW+6C,EAAS9zC,OAM7B,OAHAlE,EAAKuxC,YACLvxC,EAAKguC,mBACLhuC,EAAKqxC,gBAAe,IACb,CACV,CAKD,YAAA6G,CAAa94C,EAAO0nC,GAChB,MAAM1+B,EAAShJ,EAAMpD,KAAK8C,GAASA,EAAKtD,QAAQzH,QAEhD,SACKqU,EAAOhU,QAC2B,mBAA3BqF,KAAK+kC,SAAS2Z,WACsB,IAAxC1+C,KAAK+kC,SAAS2Z,SAAS/vC,EAAQ0+B,GAM1C,CASD,gBAAAqK,CAAiBrpB,EAAW5pB,GACxB,IAAIy0C,EACAyF,EACAp4C,EAAOvG,KACPuG,EAAKsf,MAAKwI,IAAc,GACxB9nB,EAAKswC,aAAal8C,SAElB6yC,GAAU5D,GAAcnlC,IAAM+oC,GAAU,WAAY/oC,IAO5Ck6C,GANRzF,EAAc3yC,EAAKuyC,cAAczqB,IAGxB6qB,EAAYl7C,UAAU8+B,SAAS,UAGrBv2B,EAAKgxC,YAAY2B,EAAa7qB,EAAW,QAFzC6qB,EAIR7qB,EAAY,EACR9nB,EAAKoqC,cAAciO,mBAEnBr4C,EAAKoqC,cAAcjI,0BAI1BiW,EAAS3gD,UAAU8+B,SAAS,WAC5Bv2B,EAAKyyC,iBAAiBE,GAG1B3yC,EAAKwyC,mBAAmB4F,IAG5Bp4C,EAAKs4C,UAAUxwB,GAEtB,CAED,SAAAwwB,CAAUxwB,GAAc,CAMxB,aAAAyqB,CAAczqB,GACV,IAAI6qB,EAAcl5C,KAAK6wC,QAAQtyC,cAAc,gBAE7C,GAAI26C,EACA,OAAOA,EAGX,IAAIhuB,EAASlrB,KAAK6wC,QAAQnyC,iBAAiB,WAE3C,OAAIwsB,EACOqd,GAAQrd,EAAQmD,QAD3B,CAGH,CAUD,QAAA6pB,CAAS4G,GACL9+C,KAAKiyC,SAAWjyC,KAAK2F,MAAMhL,MAC9B,CAMD,eAAA8+C,GACI,OAAO39C,MAAME,KAAKgE,KAAK6wC,QAAQnyC,iBAAiB,kBACnD,CAMD,IAAA4+C,GACIt9C,KAAKwxC,UAAW,EAChBxxC,KAAK20C,cACR,CAKD,MAAA6I,GACIx9C,KAAKwxC,UAAW,EAChBxxC,KAAK20C,cACR,CAMD,OAAAG,GACI,IAAIvuC,EAAOvG,KACXuG,EAAKm4B,MAAM0Q,UAAW,EACtB7oC,EAAKoqC,cAAcvB,UAAW,EAC9B7oC,EAAKwqC,WAAWjW,UAAY,EAC5Bv0B,EAAK+T,YAAa,EAClBta,KAAKk5B,QACL3yB,EAAK+2C,MACR,CAMD,MAAAvI,GACI,IAAIxuC,EAAOvG,KACXuG,EAAKm4B,MAAM0Q,UAAW,EACtB7oC,EAAKoqC,cAAcvB,UAAW,EAC9B7oC,EAAKwqC,WAAWjW,SAAWv0B,EAAKu0B,SAChCv0B,EAAK+T,YAAa,EAClB/T,EAAKi3C,QACR,CAOD,OAAA98C,GACI,IAAI6F,EAAOvG,KACPw0C,EAAiBjuC,EAAKiuC,eAC1BjuC,EAAK6Y,QAAQ,WACb7Y,EAAKa,MACLb,EAAK+hC,QAAQnqC,SACboI,EAAKqqC,SAASzyC,SACdoI,EAAKm4B,MAAMjiC,UAAY+3C,EAAe/3C,UACtC8J,EAAKm4B,MAAM5D,SAAW0Z,EAAe1Z,SACrCqN,GAAc5hC,EAAKm4B,MAAO,cAAe,wBAEzCn4B,EAAK4qC,kBAEE5qC,EAAKm4B,MAAM2T,SACrB,CAOD,MAAA9wB,CAAOw9B,EAAcxkD,GACjB,IAAIoV,EAAIzT,EACR,MAAMqK,EAAOvG,KAEb,GAAkD,mBAAvCA,KAAK+kC,SAASxjB,OAAOw9B,GAC5B,OAAO,KAKX,KAFA7iD,EAAOqK,EAAKw+B,SAASxjB,OAAOw9B,GAAcvjD,KAAKwE,KAAMzF,EAAMsyC,KAGvD,OAAO,KA4BX,GAzBA3wC,EAAOkrC,GAAOlrC,GAEO,WAAjB6iD,GAA8C,kBAAjBA,EACzBxkD,EAAKgM,EAAKw+B,SAASwG,eACnB5C,GAAQzsC,EAAM,CACV,gBAAiB,SAGrBysC,GAAQzsC,EAAM,CACV,kBAAmB,KAGH,aAAjB6iD,IACPpvC,EAAKpV,EAAK20C,MAAM3oC,EAAKw+B,SAAS0G,oBAC9B9C,GAAQzsC,EAAM,CACV,aAAcyT,IAGdpV,EAAK20C,MAAM3oC,EAAKw+B,SAASwG,gBACzB5C,GAAQzsC,EAAM,CACV,gBAAiB,MAKR,WAAjB6iD,GAA8C,SAAjBA,EAAyB,CACtD,MAAMzkD,EAAQsyC,GAASryC,EAAKgM,EAAKw+B,SAASsG,aAC1C1C,GAAQzsC,EAAM,CACV,aAAc5B,IAGG,SAAjBykD,GACAlX,GAAW3rC,EAAMqK,EAAKw+B,SAASoH,WAC/BxD,GAAQzsC,EAAM,CACV,eAAgB,GAChB,gBAAiB,YAGrB2rC,GAAW3rC,EAAMqK,EAAKw+B,SAASqH,aAC/BzD,GAAQzsC,EAAM,CACVi+B,KAAM,SACNxqB,GAAIpV,EAAKsgD,MAGbtgD,EAAKuiD,KAAO5gD,EACZqK,EAAKzL,QAAQR,GAASC,EAE7B,CAED,OAAO2B,CACV,CAMD,OAAAw2C,CAAQqM,EAAcxkD,GAClB,MAAM2B,EAAO8D,KAAKuhB,OAAOw9B,EAAcxkD,GAEvC,GAAY,MAAR2B,EACA,KAAM,uBAGV,OAAOA,CACV,CAQD,UAAA8/C,GACIpX,GAAU5kC,KAAKlF,SAAU8K,IACjBA,EAAOk3C,OACPl3C,EAAOk3C,KAAK3+C,gBACLyH,EAAOk3C,KACjB,GAER,CAMD,YAAAN,CAAaliD,GACT,MAAMmgD,EAAYz6C,KAAK06C,UAAUpgD,GAC7BmgD,GAAWA,EAAUt8C,QAC5B,CAOD,SAAAo9C,CAAU7c,GACN,OACI1+B,KAAK+kC,SAASqF,QACd1L,EAAM/jC,OAAS,GACfqF,KAAK+kC,SAASuF,aAAa9uC,KAAKwE,KAAM0+B,EAE7C,CASD,IAAAsgB,CAAKC,EAAMC,EAAQC,GACf,IAAI54C,EAAOvG,KACPo/C,EAAc74C,EAAK24C,GAEvB34C,EAAK24C,GAAU,WACX,IAAIh0B,EAAQm0B,EAQZ,MANa,UAATJ,IACA/zB,EAASk0B,EAAYrmC,MAAMxS,EAAMg3B,YAGrC8hB,EAAaF,EAAOpmC,MAAMxS,EAAMg3B,WAEnB,YAAT0hB,EACOI,GAGE,WAATJ,IACA/zB,EAASk0B,EAAYrmC,MAAMxS,EAAMg3B,YAG9BrS,EACnB,CACK,ECvqJL,MAGM8T,GAAgB,CAAA,EAGhBC,GAAkB,CACtB,IAAK,KACL,EAAK,IACLvqB,EAAK,MACLwqB,GAAM,IACNC,GAAM,MACNC,GAAM,IACNC,GAAM,IACNC,GAAM,KACNC,GAAM,IACN5qB,EAAK,MACLwH,EAAK,OACLrB,EAAK,WACLrW,EAAK,OACL+6B,EAAK,KACLC,EAAK,SACLC,EAAK,OACLzkC,EAAK,KACLqhB,EAAK,KACLqjB,EAAK,SACLC,EAAK,WACL7kB,EAAK,MACLuiB,EAAK,UACLuC,EAAK,UACLC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNzB,EAAK,SACL0B,EAAK,MACLzc,EAAK,QACL0c,EAAK,QACLC,EAAK,QACLC,GAAM,IACNC,GAAM,IACNC,EAAK,IACLxc,EAAK,MACLyc,GAAM,IACNC,EAAK,IACLzlB,EAAK,MACL0lB,EAAK,QACLC,GAAM,KAGR,IAAK,IAAIC,KAAS3B,GAAiB,CACjC,IAAI4B,EAAU5B,GAAgB2B,IAAU,GAExC,IAAK,IAAI3lC,EAAI,EAAGA,EAAI4lC,EAAQlmC,OAAQM,IAAK,CAEvC+jC,GADW6B,EAAQnhC,UAAUzE,EAAGA,EAAI,IACd2lC,CACvB,CACH,CAEA,IAAIG,OAAO1lC,OAAOhB,KAAK2kC,IAAex/B,KAAK,KAAhCnE,YAAyD,MASpE,MAAM+rC,GAASlC,IACb,GAAIA,EAAMmC,OACR,OAAOnC,EAAM,GAGf,GAAIA,aAAiB/oC,YACnB,OAAO+oC,EAGT,GAAIoC,GAAapC,GAAQ,CACvB,IAAIqC,EAAMhrC,SAASC,cAAc,YAGjC,OAFA+qC,EAAI9qC,UAAYyoC,EAAMxoC,OAEf6qC,EAAI5qC,QAAQC,UACpB,CAED,OAAOL,SAASgC,cAAc2mC,EAAM,EAEhCoC,GAAeE,GACA,iBAARA,GAAoBA,EAAInrC,QAAQ,MAAQ,EAkC/C0hB,GAAiB,CAACsvB,EAAKC,GAAO,KAC9BD,IACFA,EAAItvB,iBAEAuvB,GACFD,EAAIE,kBAEP,EAOGr6B,GAAW,CAACtO,EAAQX,EAAMC,EAAUpJ,KACxC8J,EAAOiC,iBAAiB5C,EAAMC,EAAUpJ,EAAQ,EAiBlD,SAASs1C,GAAQgC,GACf,MAAMt3C,EAAUO,OAAOO,OAAO,CAC5Bq3C,MAAO,UACPh2B,MAAO,SACPvJ,UAAW,SACX1B,QAAQ,GACPogC,GAEH,IAAI7rC,EAAOvG,KAEX,IAAKlF,EAAQkX,OACX,OAGF,MAAMo9B,EAAW7oC,EAAKm4B,MAAM0Q,SAAW,WAAa,GAEpD,IAxDkBz7B,EAwDdzX,EAAO,gCAAgCpB,EAAQ4Y,mCAxDjCC,EAwDgF7Y,EAAQmiB,OAvDlGtJ,EAAM,IAAI5U,QAAQ,KAAM,SAASA,QAAQ,KAAM,QAAQA,QAAQ,KAAM,QAAQA,QAAQ,KAAM,cAuDkBqwC,KAAYt0C,EAAQm4C,iBACzI1sC,EAAKy4C,KAAK,QAAS,kBAAkB,KACnC,IAAIM,EAAmB/4C,EAAKw+B,SAASxjB,OAAOlc,KAE5CkB,EAAKw+B,SAASxjB,OAAOlc,KAAO,CAAC9K,EAAM+6C,KACjC,IAAIjwC,EAAO+hC,GAAOkY,EAAiB9jD,KAAK+K,EAAMhM,EAAM+6C,IAChDiK,EAAenY,GAAOlrC,GAc1B,OAbAmJ,EAAKwH,YAAY0yC,GACjBrsC,GAASqsC,EAAc,aAAalS,IAClCtvB,GAAesvB,GAAK,EAAK,IAE3Bn6B,GAASqsC,EAAc,SAASlS,IAE9BtvB,GAAesvB,GAAK,GAChB9mC,EAAKirC,UACJjrC,EAAKk4C,aAAa,CAACp5C,GAAOgoC,KAC/B9mC,EAAK/C,WAAW6B,GAChBkB,EAAKqxC,gBAAe,GACpBrxC,EAAK8tC,aAAY,IAEZhvC,CAAI,CACZ,GAEL,CChMA,MAGM25B,GAAgB,CAAA,EAGhBC,GAAkB,CACtB,IAAK,KACL,EAAK,IACLvqB,EAAK,MACLwqB,GAAM,IACNC,GAAM,MACNC,GAAM,IACNC,GAAM,IACNC,GAAM,KACNC,GAAM,IACN5qB,EAAK,MACLwH,EAAK,OACLrB,EAAK,WACLrW,EAAK,OACL+6B,EAAK,KACLC,EAAK,SACLC,EAAK,OACLzkC,EAAK,KACLqhB,EAAK,KACLqjB,EAAK,SACLC,EAAK,WACL7kB,EAAK,MACLuiB,EAAK,UACLuC,EAAK,UACLC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNzB,EAAK,SACL0B,EAAK,MACLzc,EAAK,QACL0c,EAAK,QACLC,EAAK,QACLC,GAAM,IACNC,GAAM,IACNC,EAAK,IACLxc,EAAK,MACLyc,GAAM,IACNC,EAAK,IACLzlB,EAAK,MACL0lB,EAAK,QACLC,GAAM,KAGR,IAAK,IAAIC,KAAS3B,GAAiB,CACjC,IAAI4B,EAAU5B,GAAgB2B,IAAU,GAExC,IAAK,IAAI3lC,EAAI,EAAGA,EAAI4lC,EAAQlmC,OAAQM,IAAK,CAEvC+jC,GADW6B,EAAQnhC,UAAUzE,EAAGA,EAAI,IACd2lC,CACvB,CACH,CAEA,IAAIG,OAAO1lC,OAAOhB,KAAK2kC,IAAex/B,KAAK,KAAhCnE,YAAyD,MASpE,MAkBMisC,GAAeE,GACA,iBAARA,GAAoBA,EAAInrC,QAAQ,MAAQ,EAqBrD,SAAS+zC,GAAQgC,GACf,MAAM7rC,EAAOvG,KACPlF,EAAUO,OAAOO,OAAO,CAC5B8X,UAAW,eACXuJ,MAAO,YACP/gB,KAAM3B,GACG,eAAeA,EAAKmZ,qBAAqBnZ,EAAK0iB,yBAEtDm1B,GACH7rC,EAAKY,GAAG,cAAc,KACpB,IAAIgW,EAlDO+nB,KACb,GAAIA,EAAMmC,OACR,OAAOnC,EAAM,GAGf,GAAIA,aAAiB/oC,YACnB,OAAO+oC,EAGT,GAAIoC,GAAapC,GAAQ,CACvB,IAAIqC,EAAMhrC,SAASC,cAAc,YAGjC,OAFA+qC,EAAI9qC,UAAYyoC,EAAMxoC,OAEf6qC,EAAI5qC,QAAQC,UACpB,CAED,OAAOL,SAASgC,cAAc2mC,EAAM,EAkCrBkC,CAAOtsC,EAAQoB,KAAKpB,IACjCqiB,EAAOtW,iBAAiB,SAASwmC,IAC3B9mC,EAAK+T,YAAc/T,EAAKirC,WAI5BjrC,EAAKqS,QAEsB,WAAvBrS,EAAKw+B,SAAS+G,MAAqBvlC,EAAKw+B,SAASiG,kBACnDzkC,EAAKywC,QAAQ,IAGf3J,EAAItvB,iBACJsvB,EAAIE,kBAAiB,IAEvBhnC,EAAKsqC,QAAQhkC,YAAYsQ,EAAO,GAEpC,CC1HA,MAIMyvB,GAAWtyC,GACM,kBAAVA,EAA4BA,EAAQ,IAAM,IAC9CA,EAAQ,GAOXyjB,GAAiB,CAACsvB,EAAKC,GAAO,KAC9BD,IACFA,EAAItvB,iBAEAuvB,GACFD,EAAIE,kBAEP,EAOGvO,GAAgB,CAAA,EAGhBC,GAAkB,CACtB,IAAK,KACL,EAAK,IACLvqB,EAAK,MACLwqB,GAAM,IACNC,GAAM,MACNC,GAAM,IACNC,GAAM,IACNC,GAAM,KACNC,GAAM,IACN5qB,EAAK,MACLwH,EAAK,OACLrB,EAAK,WACLrW,EAAK,OACL+6B,EAAK,KACLC,EAAK,SACLC,EAAK,OACLzkC,EAAK,KACLqhB,EAAK,KACLqjB,EAAK,SACLC,EAAK,WACL7kB,EAAK,MACLuiB,EAAK,UACLuC,EAAK,UACLC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNzB,EAAK,SACL0B,EAAK,MACLzc,EAAK,QACL0c,EAAK,QACLC,EAAK,QACLC,GAAM,IACNC,GAAM,IACNC,EAAK,IACLxc,EAAK,MACLyc,GAAM,IACNC,EAAK,IACLzlB,EAAK,MACL0lB,EAAK,QACLC,GAAM,KAGR,IAAK,IAAIC,KAAS3B,GAAiB,CACjC,IAAI4B,EAAU5B,GAAgB2B,IAAU,GAExC,IAAK,IAAI3lC,EAAI,EAAGA,EAAI4lC,EAAQlmC,OAAQM,IAAK,CAEvC+jC,GADW6B,EAAQnhC,UAAUzE,EAAGA,EAAI,IACd2lC,CACvB,CACH,CAEA,IAAIG,OAAO1lC,OAAOhB,KAAK2kC,IAAex/B,KAAK,KAAhCnE,YAAyD,MASpE,MAkBMisC,GAAeE,GACA,iBAARA,GAAoBA,EAAInrC,QAAQ,MAAQ,EAqBrD,SAAS+zC,GAAQgC,GACb,MAAM7rC,EAAOvG,KACPlF,EAAUO,OAAOO,OAAO,CAC5B8X,UAAW,IACV0+B,GAEL,IAAIoN,EAAsBj5C,EAAKmtC,eAC/BntC,EAAKw+B,SAAS4F,cAAe,EAE7B,IAAI8U,EAAiB,SAAwB75C,GAC3Ca,YAAW,KACT,IAAIi5C,EAAW95C,EAAOrH,cAAc,SAEhCmhD,aAAoB3zC,mBAClBnG,EAAO5H,UAAU8+B,SAAS,YAC5B4iB,EAASC,SAAU,EAEnBD,EAASC,SAAU,EAEtB,GACA,EACP,EAGEp5C,EAAKy4C,KAAK,QAAS,kBAAkB,KACnC,IAAIY,EAAqBr5C,EAAKw+B,SAASxjB,OAAO3b,OAE9CW,EAAKw+B,SAASxjB,OAAO3b,OAAS,CAACrL,EAAMsyC,KACnC,IAAIgT,EApEK3a,KACb,GAAIA,EAAMmC,OACR,OAAOnC,EAAM,GAGf,GAAIA,aAAiB/oC,YACnB,OAAO+oC,EAGT,GAAIoC,GAAapC,GAAQ,CACvB,IAAIqC,EAAMhrC,SAASC,cAAc,YAGjC,OAFA+qC,EAAI9qC,UAAYyoC,EAAMxoC,OAEf6qC,EAAI5qC,QAAQC,UACpB,CAED,OAAOL,SAASgC,cAAc2mC,EAAM,EAoDjBkC,CAAOwY,EAAmBpkD,KAAK+K,EAAMhM,EAAMsyC,IACtD6S,EAAWnjD,SAASC,cAAc,SACtCkjD,EAAShsC,UAAY5Y,EAAQ4Y,UAC7BgsC,EAAS74C,iBAAiB,SAAS,SAAUwmC,GAC3CtvB,GAAesvB,EACvB,IACMqS,EAASz7C,KAAO,WAChB,MAAM41C,EAtKN,OADWv/C,EAuKaC,EAAKgM,EAAKw+B,SAASsG,aAtKY,KACpDuB,GAAStyC,GAFDA,MA8KX,OALIu/C,GAAUtzC,EAAKZ,MAAMtJ,QAAQw9C,IAAW,IAC1C6F,EAASC,SAAU,GAGrBE,EAASC,QAAQJ,GACVG,CAAQ,CAChB,IAGHt5C,EAAKY,GAAG,eAAe7M,IACrB,IAAIsL,EAASW,EAAKm0C,UAAUpgD,GAExBsL,IAEFA,EAAO5H,UAAUG,OAAO,YAExBshD,EAAe75C,GAChB,IAGHW,EAAKY,GAAG,YAAY7M,IAClB,IAAIsL,EAASW,EAAKm0C,UAAUpgD,GAExBsL,GAEF65C,EAAe75C,EAChB,IAGHW,EAAKy4C,KAAK,UAAW,kBAAkB,CAAC3R,EAAKznC,KAC3C,GAAIA,EAAO5H,UAAU8+B,SAAS,YAK5B,OAJAl3B,EAAO5H,UAAUG,OAAO,YACxBoI,EAAK/C,WAAWoC,EAAO7D,QAAQzH,OAC/BiM,EAAKqxC,sBACL75B,GAAesvB,GAAK,GAItBmS,EAAoBhkD,KAAK+K,EAAM8mC,EAAKznC,GACpC65C,EAAe75C,EAAO,GAE1B,CC/NA,MAGMo5B,GAAgB,CAAA,EAGhBC,GAAkB,CACtB,IAAK,KACL,EAAK,IACLvqB,EAAK,MACLwqB,GAAM,IACNC,GAAM,MACNC,GAAM,IACNC,GAAM,IACNC,GAAM,KACNC,GAAM,IACN5qB,EAAK,MACLwH,EAAK,OACLrB,EAAK,WACLrW,EAAK,OACL+6B,EAAK,KACLC,EAAK,SACLC,EAAK,OACLzkC,EAAK,KACLqhB,EAAK,KACLqjB,EAAK,SACLC,EAAK,WACL7kB,EAAK,MACLuiB,EAAK,UACLuC,EAAK,UACLC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNC,GAAM,IACNzB,EAAK,SACL0B,EAAK,MACLzc,EAAK,QACL0c,EAAK,QACLC,EAAK,QACLC,GAAM,IACNC,GAAM,IACNC,EAAK,IACLxc,EAAK,MACLyc,GAAM,IACNC,EAAK,IACLzlB,EAAK,MACL0lB,EAAK,QACLC,GAAM,KAGR,IAAK,IAAIC,KAAS3B,GAAiB,CACjC,IAAI4B,EAAU5B,GAAgB2B,IAAU,GAExC,IAAK,IAAI3lC,EAAI,EAAGA,EAAI4lC,EAAQlmC,OAAQM,IAAK,CAEvC+jC,GADW6B,EAAQnhC,UAAUzE,EAAGA,EAAI,IACd2lC,CACvB,CACH,CAEA,IAAIG,OAAO1lC,OAAOhB,KAAK2kC,IAAex/B,KAAK,KAAhCnE,YAAyD,MAapE,MA+BM2sC,GAAexnC,IACnB,IAAIa,EAAU,GAUd,MA1Cc,EAACe,EAAQ8B,KACvB,GAAIpI,MAAMC,QAAQqG,GAChBA,EAAOvG,QAAQqI,QAEf,IAAK,IAAI1J,KAAO4H,EACVA,EAAO7G,eAAef,IACxB0J,EAAS9B,EAAO5H,GAAMA,EAG3B,EAwBD2sC,CAAQ3mC,GAAM4nC,IACY,iBAAbA,IACTA,EAAWA,EAAS1rC,OAAOqB,MAAM,sBAG/BjC,MAAMC,QAAQqsC,KAChB/mC,EAAUA,EAAQwqB,OAAOuc,GAC1B,IAEI/mC,EAAQR,OAAOu3B,QAAQ,EAO1B6P,GAAcT,IACb1rC,MAAMC,QAAQyrC,KACjBA,EAAM,CAACA,IAGFA,GAmCT,SAAS4I,KACP,IAAI7pC,EAAOvG,KAUXuG,EAAKy4C,KAAK,UAAW,YAAYF,IAC/B,GAA2B,WAAvBv4C,EAAKw+B,SAAS+G,MAAsBvlC,EAAKsqC,QAAQ/T,SAASv2B,EAAKoqC,eAE5D,CACH,MAAMoP,EAAcx5C,EAAKsqC,QAAQtyC,cAAc,mBACzCyhD,EAASz5C,EAAKsqC,QAAQtyC,cAAc,qBAC5CugD,EAAUz/C,KAAKghB,IAAI,EAAGhhB,KAAK+gB,IAAI7Z,EAAKZ,MAAMhL,OAAQmkD,MAEnCv4C,EAAK0rC,UAAa1rC,EAAKy2C,WACpCz2C,EAAKkzC,kBAAkB59C,SAAQ,CAAC0zC,EAAOjzB,KACjCA,EAAIwiC,EACNv4C,EAAKoqC,cAAc8D,sBAAsB,cAAelF,GAEpDyQ,EACAA,EAAOvL,sBAAsB,cAAelF,GACrCwQ,EACPA,EAAYtL,sBAAsB,cAAelF,GAEjDhpC,EAAKsqC,QAAQhkC,YAAY0iC,EAE9B,GAGN,MArBCuP,EAAUv4C,EAAKZ,MAAMhL,OAuBvB4L,EAAK0rC,SAAW6M,CAAO,IAEzBv4C,EAAKy4C,KAAK,UAAW,aAAa3wB,IAChC,IAAK9nB,EAAKkrC,UAAW,OAErB,MAAMyH,EAAc3yC,EAAKuyC,cAAczqB,GAEvC,GAAI6qB,EAAa,CACf,MAAMC,EAxEM,EAAChmC,EAAIs1B,KACrB,IAAKt1B,EAAI,OAAQ,EACjBs1B,EAAUA,GAAWt1B,EAAG2B,SAGxB,IAFA,IAAI7Z,EAAI,EAEDkY,EAAKA,EAAGu1B,wBACTv1B,EAAGnN,QAAQyiC,IACbxtC,IAIJ,OAAOA,CAAC,EA6DQutC,CAAU0Q,GACtB3yC,EAAK2xC,SAAS7pB,EAAY,EAAI8qB,EAAM,EAAIA,GACxC5yC,EAAK0xC,gBAtHW,EAACnQ,KAAUzmC,KAC/B,IAAI0mC,EAAeC,GAAa3mC,IAChCymC,EAAQG,GAAYH,IACdvlC,KAAI4Q,IACR40B,EAAaxlC,KAAI2lC,IACf/0B,EAAGnV,UAAUG,OAAO+pC,EAAI,GACxB,GACF,EAgHEC,CAAc+Q,EAAa,cACjC,MACM3yC,EAAK2xC,SAAS3xC,EAAK0rC,SAAW5jB,EAC/B,GAEL,CCnMA,MAAMnb,GAAW,CAACtO,EAAQX,EAAMC,EAAUpJ,KACxC8J,EAAOiC,iBAAiB5C,EAAMC,EAAUpJ,EAAQ,EAgBlD,SAASs1C,KACP,IAAI7pC,EAAOvG,KACXuG,EAAKY,GAAG,cAAc,KACpB,IAAI84C,EAAa1jD,SAASC,cAAc,QACpCq0C,EAAUtqC,EAAKoqC,cACnBsP,EAAW7iD,MAAM8iD,QAAU,2FAC3B35C,EAAK+hC,QAAQz7B,YAAYozC,GAGzB,IAAK,MAAME,IAFW,CAAC,gBAAiB,WAAY,aAAc,aAAc,iBAI9EF,EAAW7iD,MAAM+iD,GAActP,EAAQzzC,MAAM+iD,GAQ/C,IAAIC,EAAS,KACXH,EAAWtR,YAAckC,EAAQv2C,MACjCu2C,EAAQzzC,MAAMskB,MAAQu+B,EAAW19B,YAAc,IAAI,EAGrD69B,IACA75C,EAAKY,GAAG,8BAA+Bi5C,GACvCltC,GAAS29B,EAAS,QAASuP,GAC3BltC,GAAS29B,EAAS,QAASuP,GAC3BltC,GAAS29B,EAAS,OAAQuP,GAC1BltC,GAAS29B,EAAS,SAAUuP,EAAO,GAEvC,CCtDA,SAAShQ,KACPpwC,KAAKg/C,KAAK,UAAW,iBAAiB,SACtCh/C,KAAKg/C,KAAK,UAAW,aAAa,QACpC,CCHA,SAAS5O,KACP,IAAI7pC,EAAOvG,KACPqgD,EAAuB95C,EAAKoxC,gBAChC33C,KAAKg/C,KAAK,UAAW,mBAAmB3R,KAClC9mC,EAAK4rC,YAAYx3C,QACZ0lD,EAAqB7kD,KAAK+K,EAAM8mC,IAK7C,CCDAztC,MAAMU,SAAS,CACXggD,UCnBJ,cAAwBr/C,EACpB,WAAAC,CAAYhE,EAASjD,GAwBjB,GAFA2+B,MAXmB,CACfr4B,KAAM,YACNrD,QAASA,EACTkE,cAZc,CACds4C,QAAQ,EACRt6B,QAAS,eACTmhC,MAAO,aACPl/C,QAAS,CACLlE,QAAS,WAQblD,OAAQA,EACRwH,YAAa,CACTC,OAAO,EACPC,OAAO,MAMV3B,KAAK4B,SAAU,OAEpB5B,KAAKwgD,MAAQ,GACb,MAAM7wC,EAA0B,KAArB3P,KAAK4B,SAAS+N,GAAY3P,KAAK4B,SAAS+N,GAAK,aAAe1Q,EAAa,GAC9EwhD,EAAWzgD,KAAK4B,SAASlD,iBAAiB,IAAIsB,KAAK4C,QAAQwc,YAC3DshC,EAAS1gD,KAAK4B,SAASlD,iBAAiB,IAAIsB,KAAK4C,QAAQ29C,UAQzDhmB,EAAavF,IACR,CACH5V,QAASpf,KAAKwgD,MAAMxrB,GAAO2rB,IAC3BJ,MAAOvgD,KAAKwgD,MAAMxrB,GAAOurB,MACzBK,OAAQ5gD,KAAKwgD,MAAMxrB,GAAO3W,YAS5BwiC,EAAyB3jD,IAC3BA,EAAQE,MAAMukB,OAAS,IAAI,EAQzB9C,EAAQmW,IACV,MAAMz6B,EAAOyF,KAAKwgD,MAAMxrB,GAExB,IAAKz6B,EAAM,OAEPyF,KAAK4C,QAAQ82C,QACboH,EAAQ9rB,GAGZh1B,KAAKoG,eAAe,OAAQm0B,EAAUvF,IAEtCz6B,EAAK8jB,WAAa9jB,EAAK8jB,UACvB7gB,EAAcjD,EAAK6kB,QAAS,CACxB2hC,cAAc,IAGlB9jD,EAAY1C,EAAKgmD,OAEIvgD,KAAKgE,YAAY,kBAAmBzJ,EAAKgmD,OAAQ97C,IAClExH,EAAY1C,EAAKgmD,MAAO,MACxBM,EAAsBtmD,EAAKgmD,OAC3BvgD,KAAKoG,eAAe,QAASm0B,EAAUvF,GAAO,IAI9Cr1B,OAAO+E,uBAAsB,KACzB,MAAMs8C,EAAczmD,EAAKgmD,MAAMl+B,aAC/B9nB,EAAKgmD,MAAMnjD,MAAMukB,OAAS,MAE1BhiB,OAAO+E,uBAAsB,KACzBnK,EAAKgmD,MAAMnjD,MAAMukB,OAAS,GAAGq/B,KAAe,GAC9C,IAMVhhD,KAAKoG,eAAe,QAASm0B,EAAUvF,GAAO,EAQ5CvX,EAAQuX,IACV,MAAMz6B,EAAOyF,KAAKwgD,MAAMxrB,GAExB,IAAKz6B,EAAM,OAEXyF,KAAKoG,eAAe,OAAQm0B,EAAUvF,IAEtCz6B,EAAK8jB,WAAa9jB,EAAK8jB,UACvB7gB,EAAcjD,EAAK6kB,QAAS,CACxB2hC,cAAc,IAGd/gD,KAAK+D,iBACLxJ,EAAKgmD,MAAMnjD,MAAMukB,OAAS,GAAGpnB,EAAKgmD,MAAMl+B,iBAExC1iB,OAAO+E,uBAAsB,KACzBnK,EAAKgmD,MAAMnjD,MAAMukB,OAAS,KAAK,KAIlB3hB,KAAKgE,YAAY,kBAAmBzJ,EAAKgmD,OAAQ97C,IAClEpH,EAAY9C,EAAKgmD,OACjBM,EAAsBtmD,EAAKgmD,OAC3BvgD,KAAKoG,eAAe,SAAUm0B,EAAUvF,GAAO,MAOnD33B,EAAY9C,EAAKgmD,OACjBvgD,KAAKoG,eAAe,SAAUm0B,EAAUvF,IAAO,EAQ7C8rB,EAAWG,IACb,MAAMlwC,EAAU/Q,KAAKwgD,MAAMS,GAE3B,IAAK,MAAM1mD,KAAQyF,KAAKwgD,MAChBjmD,EAAK8jB,WAAa9jB,EAAKy6B,QAAUisB,GAAgBlwC,EAAQi9B,SAAWzzC,EAAKyzC,QACzEvwB,EAAKljB,EAAKy6B,MAEjB,EAQC0kB,EAAU1kB,IACZ,GAAIh1B,KAAKmB,WAAW+/C,gBAAiB,OAErC,MAAM3mD,EAAOyF,KAAKwgD,MAAMxrB,GAEnBz6B,IAEDA,EAAK8jB,UACLZ,EAAKljB,EAAKy6B,OAKdnW,EAAKtkB,EAAKy6B,OAAM,EAIpByrB,EAAS5kD,SAAQ,CAACujB,EAAS4V,KACvB,MAAMurB,EAAQG,EAAO1rB,GACfmsB,EAAc,SAEpB,IAAI9iC,EAAmC,OAAvBkiC,EAAMv9B,aAItB,MAAMziB,EAAqD,IAA9C6e,EAAQ7W,aAAavI,KAAK4C,QAAQwc,SACvC,GAAGzP,KAAMqlB,IACX5V,EAAQ7W,aAAavI,KAAK4C,QAAQwc,SAExC5hB,EAAc4hB,EAAS,CACnBzP,GAAIpP,EACJ6gD,aAAc7gD,EAAO4gD,IAGpB/hC,EAAQxT,aAAa,iBAGtByS,EAAsD,SAA1Ce,EAAQ7W,aAAa,iBAFjC6W,EAAQzhB,aAAa,gBAAiB0gB,GAK1C7gB,EAAc+iD,EAAO,CACjBpmB,KAAM,SACNxqB,GAAIpP,EAAO4gD,EACXE,eAAgB9gD,IAIhBggD,EAAMviD,UAAU8+B,SAAS98B,KAAK4C,QAAQvB,QAAQlE,WAC9CE,EAAYkjD,GACZriD,EAAYqiD,EAAOvgD,KAAK4C,QAAQvB,QAAQlE,UAI5C6C,KAAKwgD,MAAM7/C,KAAK,CACZq0B,QACA5V,UACAmhC,QACAliC,YACA2vB,OAAQ5uB,EAAQk7B,QAAQ,IAAIt6C,KAAK4C,QAAQ29C,YAI7CvgD,KAAK4G,IAAIwY,EAAS,SAAU3a,IACxBA,EAAEsZ,iBACF27B,EAAO1kB,EAAM,GACf,IAGNh1B,KAAKoG,eAAe,aACvB,CAED,OAAA1F,GACIk4B,MAAMl4B,SACT,GDpND4gD,SE3BJ,cAAuBrgD,EACnB,WAAAC,CAAYhE,EAASjD,GAkBjB,GAFA2+B,MAXmB,CACfr4B,KAAM,WACNrD,QAASA,EACTkE,cAPc,CACd6C,KAAM,MAONhK,OAAQA,EACRwH,YAAa,CACTC,OAAO,EACPC,OAAO,MAMV3B,KAAK4B,WAAa5B,KAAK4C,QAAQqB,KAAM,OAE1C,MAAMs9C,EAAgB,KAClBvhD,KAAK4B,SAASxE,MAAMokD,UAAY,OACtCxhD,KAAK4B,SAASxE,MAAMokD,UAAYxhD,KAAK4B,SAASwsB,aAAe,IAAI,EAGtC,YAArBpuB,KAAK4C,QAAQqB,OACbjE,KAAK4G,IAAI5G,KAAK4B,SAAU,QAAS2/C,GAEjCvhD,KAAK+G,YAAYw6C,IAGrBvhD,KAAKoG,eAAe,aACvB,CAED,OAAA1F,GACIk4B,MAAMl4B,SACT,GFTDg/C,SG3BJ,cAAuBz+C,EACnB,WAAAC,CAAYhE,EAASjD,GAqBjB,GAFA2+B,MAXmB,CACfr4B,KAAM,WACNrD,QAASA,EACTkE,cAVc,CACdwD,OAAQ,KACRq2B,MAAO,KACP0kB,QAAS,KACT8B,QAAS,gBAOTxnD,OAAQA,EACRwH,YAAa,CACTC,OAAO,EACPC,OAAO,MAMV3B,KAAK4B,WAAa5B,KAAK4C,QAAQgC,OAAQ,OAE5C5E,KAAK0hD,YAAcnlD,SAASmC,iBAAiBsB,KAAK4C,QAAQgC,QAC1D5E,KAAK0hD,YAAc,IAAI1hD,KAAK0hD,aAAa7gD,QAAQ6+C,IAChB,IAAtBA,EAAStQ,WAEpBpvC,KAAK2hD,OAAS3hD,KAAK0hD,YAAY/mD,OAC/BqF,KAAK4hD,cAAgB,EACrB5hD,KAAK4C,QAAQ+8C,QAAUpjD,SAASmC,iBAAiBsB,KAAK4C,QAAQ+8C,SAC9D3/C,KAAK4C,QAAQq4B,MAAQ1+B,SAASmC,iBAAiBsB,KAAK4C,QAAQq4B,OAExDj7B,KAAK4C,QAAQq4B,MAAMtgC,OAAS,GAC5BqF,KAAK4C,QAAQq4B,MAAMp/B,SAASqB,IACxBA,EAAQT,UAAYuD,KAAK2hD,MAAM,IAIvC,MAAME,EAAqB,KACnB7hD,KAAK4C,QAAQ+8C,QAAQhlD,OAAS,GAC9BqF,KAAK4C,QAAQ+8C,QAAQ9jD,SAASqB,IAC1BA,EAAQT,UAAYuD,KAAK4hD,aAAa,GAE7C,EAGCE,EAAqB,KACvB,MAAMC,EAAW,IAAI/hD,KAAK0hD,aAAa7gD,QAAQ6+C,IACf,IAArBA,EAASC,UAGpB3/C,KAAK4hD,cAAgBG,EAASpnD,OAC9BknD,GAAoB,EAGlBG,EAAe,KACbhiD,KAAK4hD,cAAgB,GAAK5hD,KAAK4hD,cAAgB5hD,KAAK2hD,SACpD3hD,KAAK4B,SAASqgD,eAAgB,GAG9BjiD,KAAK2hD,SAAW3hD,KAAK4hD,gBACrB5hD,KAAK4B,SAAS+9C,SAAU,EACxB3/C,KAAK4B,SAASqgD,eAAgB,GAGP,IAAvBjiD,KAAK4hD,gBACL5hD,KAAK4B,SAAS+9C,SAAU,EACxB3/C,KAAK4B,SAASqgD,eAAgB,EACjC,EAGLjiD,KAAK0hD,YAAY7lD,SAAS6jD,IAEtB1/C,KAAK4G,IAAI84C,EAAU,UAAWj7C,IAC1B,GAAIi7C,EAAS9zC,aAAa5L,KAAK4C,QAAQ6+C,SAAU,CAC7C,MAAMA,EAAU/B,EAASn3C,aAAavI,KAAK4C,QAAQ6+C,SAC7CS,EAAU3lD,SAASmC,iBAAiB+iD,GAE1C,GAAIS,EAAQvnD,OAAS,EAAG,CACH,IAAIunD,GAASrhD,QAAQwE,IACT,IAAlBA,EAAK+pC,WAGPvzC,SAASsmD,IACVzC,EAASC,UACTwC,EAAgBxC,SAAU,EAC7B,GAER,CACJ,CAEDmC,IACAE,GAAc,GAChB,IAGNhiD,KAAK4G,IAAI5G,KAAK4B,SAAU,UAAW6C,IAC/B,MAAMiiB,EAAQ1mB,KAAK4B,SAAS+9C,QACX,IAAI3/C,KAAK0hD,aAAa7gD,QAAQ6+C,IACd,IAAtBA,EAAStQ,WAGXvzC,SAAS6jD,IACdA,EAASC,QAAUj5B,CAAK,IAG5Bo7B,GAAoB,IAGpB9hD,KAAK4B,SAASq/B,MACdjhC,KAAK4G,IAAI5G,KAAK4B,SAASq/B,KAAM,SAAS,KAClCjhC,KAAK4B,SAASqgD,eAAgB,EAC9BjiD,KAAK4hD,cAAgB,EACrBC,GAAoB,IAI5BC,IACAE,GACH,CAED,OAAAthD,GACIk4B,MAAMl4B,SACT,GHhGD0hD,UI7BJ,cAAwBnhD,EACpB,WAAAC,CAAYhE,EAASjD,GAmBjB2+B,MAPmB,CACfr4B,KAAM,YACNrD,QAASA,EACTkE,cAbc,CACdihD,OAAQ,OACRrU,OAAQ,KACRppC,OAAQ,KACR09C,KAAM,KACN5kD,UAAW,KACX4Z,UAAW,KACXirC,gBAAgB,GAOhBtoD,OAAQA,IAKP+F,KAAK4B,UAAmC,mBAAhB4gD,cAE7BxiD,KAAKyiD,QAAU,KACfziD,KAAK0iD,WAAa1iD,KAAK4C,QAAQ0U,UACzB/a,SAASgC,cAAcyB,KAAK4C,QAAQ0U,WACpC/a,SAAS0O,KAEfjL,KAAKyiD,QAAWrjC,IACZ,GAA2B,QAAvBpf,KAAK4C,QAAQgC,OACb,OAAO5E,KAAK4B,SAASg9C,mBAAmB+D,kBAG5C,GAA2B,YAAvB3iD,KAAK4C,QAAQgC,OACb,OAAO5E,KAAK4B,SAAS8mC,uBAAuBia,kBAGhD,GAAI3iD,KAAK4C,QAAQorC,QAAUhuC,KAAK4C,QAAQgC,OAAQ,CAC5C,IAAIopC,EAAS5uB,EAAQk7B,QAAQt6C,KAAK4C,QAAQorC,QAE1ChuC,KAAKyiD,QAAUzU,EAAOzvC,cAAcyB,KAAK4C,QAAQgC,OACpD,CAMD,OAJK5E,KAAK4C,QAAQorC,QAAUhuC,KAAK4C,QAAQgC,SACrC5E,KAAKyiD,QAAUlmD,SAASgC,cAAcyB,KAAK4C,QAAQgC,SAGhD5E,KAAKyiD,QAAUziD,KAAKyiD,QAAUrjC,CAAO,EAGhDpf,KAAK4iD,MAASxjC,GACNpf,KAAK4C,QAAQlF,UACN0hB,EAAQ7W,aAAavI,KAAK4C,QAAQlF,WAGzCsC,KAAK4C,QAAQ0/C,KACNtiD,KAAK4C,QAAQ0/C,KAGpBtiD,KAAKyiD,SAAwC,MAA7BziD,KAAKyiD,QAAQz/B,aACtBhjB,KAAKyiD,QAAQ9T,iBADxB,EAKJ3uC,KAAK6iD,WAAa,IAAIL,YAAYxiD,KAAK4B,SAAU,CAC7CygD,OAAQriD,KAAK4C,QAAQy/C,OACrB/qC,UAAWtX,KAAK0iD,WAChB99C,OAAQ5E,KAAKyiD,QACbH,KAAMtiD,KAAK4iD,QAGf5iD,KAAK6iD,WAAW17C,GAAG,WAAY1C,IAC3BzE,KAAKoG,eAAe,UAAW3B,GAE3BzE,KAAK4C,QAAQ2/C,gBACb99C,EAAE89C,gBACL,IAGLviD,KAAK6iD,WAAW17C,GAAG,SAAU1C,IACzBzE,KAAKoG,eAAe,QAAQ,IAEnC,CAED,OAAA1F,GACIV,KAAK6iD,WAAWniD,UAChBk4B,MAAMl4B,SACT,GJ1DDoiD,UK5BJ,cAAwB7hD,EACpB,WAAAC,CAAYhE,EAASjD,GAgDjB,GAFA2+B,MAZmB,CACfr4B,KAAM,YACNrD,QAASA,EACTkE,cApCc,CACduO,GAAI,KACJozC,IAAK,KACLC,WAAW,EACX5yB,YAAY,EACZ6yB,mBAAoB,IACpBC,MAAO,KACP7gD,OAAQ,KACR8gD,YAAa,KACbC,YAAa,IACb1D,SAAU,KACV2D,WAAY,KACZC,KAAM,KACN3oD,OAAQ,KACR4oD,OAAQ,KACRvD,OAAQ,KACRwD,YAAa,KACbC,WAAY,KACZzuB,MAAO,KACPgc,MAAO,KACP3iB,UAAW,KACXq1B,QAAS,CACLC,KAAM,OACNthD,OAAQ,SACRuhD,YAAa,eACbC,eAAgB,kBAChBC,QAAS,YAEbziD,QAAS,CACLlE,QAAS,WAQblD,OAAQA,EACRuH,SAAS,EACTC,YAAa,CACTC,OAAO,EACPC,OAAO,MAMV3B,KAAK4B,WAAa5B,KAAK4C,QAAQmgD,IAAK,QAGpC/iD,KAAK4B,SAASgK,aAAa,OAAS5L,KAAK4C,QAAQ+M,KAClD3P,KAAK4B,SAAS+N,GAAK3P,KAAK4C,QAAQ+M,IAGpC,IAAIo0C,EACAC,EAAY,EAChBhkD,KAAKikD,YAAa,EAClBjkD,KAAKkkD,UAAY,CACbhB,MAAOljD,KAAK4B,SAASrD,cAAc,IAAIyB,KAAK4C,QAAQsgD,UACpD7gD,OAAQrC,KAAK4B,SAASrD,cAAc,IAAIyB,KAAK4C,QAAQP,WACrD1H,OAAQqF,KAAK4B,SAASrD,cAAc,IAAIyB,KAAK4C,QAAQjI,WACrD2oD,KAAMtjD,KAAK4B,SAASrD,cAAc,IAAIyB,KAAK4C,QAAQ0gD,SACnDD,WAAYrjD,KAAK4B,SAASrD,cAAc,IAAIyB,KAAK4C,QAAQygD,eACzDrD,OAAQhgD,KAAK4B,SAASrD,cAAc,IAAIyB,KAAK4C,QAAQo9C,WACrDuD,OAAQvjD,KAAK4B,SAASlD,iBAAiB,IAAIsB,KAAK4C,QAAQ2gD,YAIxDvjD,KAAKkkD,UAAUlE,QAAUhgD,KAAK4C,QAAQ4gD,aACtCxjD,KAAKkkD,UAAUlE,OAAOnzC,YAAY5Q,EAAY+D,KAAK4C,QAAQ4gD,cAU/D,MAAMW,EAAW,CAACpB,EAAKt+B,KACnB,MAAM1kB,EAAW,IAAIqkD,IAAIrB,GAEzB,GAAIt+B,aAAiBppB,OACjB,IAAK,MAAMb,KAAOiqB,EACK,OAAfA,EAAMjqB,GACNuF,EAASskD,aAAa31C,OAAOlU,GAE7BuF,EAASskD,aAAajhD,IAAI5I,EAAKiqB,EAAMjqB,IAKjD,OAAOuF,CAAQ,EAmBbukD,EAAa,KACVtkD,KAAK4C,QAAQwtB,YAElBpwB,KAAK+G,aAAY,KACT/G,KAAK4B,SAAS2iD,aACdvkD,KAAKwkD,SACR,GACFxkD,KAAK4C,QAAQqgD,mBAAmB,EAUjCwB,EAAa,CAACvnD,EAAS1C,KvB6PZ4B,MuB1Pb,OAFA5B,GvB4Pa4B,EuB5PG5B,EAAIuE,QAAQ,QAAS,IvB6PtC3C,EACF2C,QAAQ,uBAAuB,CAACymC,EAAMxQ,IAClB,IAAVA,EAAcwQ,EAAK9qC,cAAgB8qC,EAAK3mC,gBAElDE,QAAQ,OAAQ,KuBjQ6B2lD,WAAW,IAAK,IAEnDxnD,EAAQ6E,QAAQvH,IAAQ,IAAI,EAQjCwyC,EAAU,CAACvvB,GAAO,KAChBA,EACApgB,EAAY2C,KAAKkkD,UAAUlE,QAK/B/iD,EAAY+C,KAAKkkD,UAAUlE,OAAO,EAQhC2E,EAAgB,IACX3kD,KAAK4B,SAASlD,iBAAiB,IAAIsB,KAAK4C,QAAQ88C,kCAQrDkF,EAAa,IACR5kD,KAAK4B,SAASlD,iBAAiB,IAAIsB,KAAK4C,QAAQ88C,0CAQrDmF,EAAe,IACV7kD,KAAK4B,SAASlD,iBAAiB,IAAIsB,KAAK4C,QAAQ88C,gDAQrDoF,EAAoB,IACf9kD,KAAK4B,SAASrD,cAAc,IAAIyB,KAAK4C,QAAQ88C,oBAQlDqF,EAAqB,KACvB,MAAMC,EAAW,IAAIC,SAMrB,OAJAL,IAAa/oD,SAAS6jD,IAClBsF,EAAShzC,OAAO0tC,EAASn/C,KAAMm/C,EAASplD,MAAM,IAG3C0qD,CAAQ,EAenBhlD,KAAKklD,QAAU,KACXL,IAAehpD,SAAS6jD,IACpBA,EAASC,SAAU,CAAI,IAGvBmF,MACAA,IAAoBnF,SAAU,EAC9BmF,IAAoB7C,eAAgB,EACvC,EAMLjiD,KAAKmlD,UAAY,KACbP,IAAa/oD,SAAS6jD,IAClBA,EAASC,SAAU,CAAK,IAGxBmF,MACAA,IAAoBnF,SAAU,EAC9BmF,IAAoB7C,eAAgB,EACvC,EAQLjiD,KAAKolD,WAAcpwB,IACfh1B,KAAKqlD,SAELrlD,KAAK4C,QAAQmgD,IAAMoB,EAASnkD,KAAK4C,QAAQmgD,IAAK,CAC1C,CAAC/iD,KAAK4C,QAAQ8gD,QAAQC,MAAO3uB,GAAS,KACvChmB,KAEHhP,KAAKslD,OAAO,EAQhBtlD,KAAKulD,OAAU5B,IACX3jD,KAAKqlD,SAELrlD,KAAK4C,QAAQmgD,IAAMoB,EAASnkD,KAAK4C,QAAQmgD,IAAK,CAC1C,CAAC/iD,KAAK4C,QAAQ8gD,QAAQC,MAAOA,IAC9B30C,KAEHhP,KAAKslD,OAAO,EAQhBtlD,KAAKwlD,YAAe7qD,IAChBqF,KAAKqlD,SAELrlD,KAAK4C,QAAQmgD,IAAMoB,EAASnkD,KAAK4C,QAAQmgD,IAAK,CAC1C,CAAC/iD,KAAK4C,QAAQ8gD,QAAQC,MAAO,KAC7B,CAAC3jD,KAAK4C,QAAQ8gD,QAAQI,SAAUnpD,GAAU,KAC3CqU,KAEHhP,KAAKslD,OAAO,EAShBtlD,KAAKylD,aAAe,CAACC,EAAQr3B,KACzBruB,KAAKqlD,SAELrlD,KAAK4C,QAAQmgD,IAAMoB,EAASnkD,KAAK4C,QAAQmgD,IAAK,CAC1C,CAAC/iD,KAAK4C,QAAQ8gD,QAAQE,aAAc8B,GAAU,GAC9C,CAAC1lD,KAAK4C,QAAQ8gD,QAAQG,gBAAiBx1B,GAAa,KACrDrf,KAEHhP,KAAKslD,OAAO,EAQhBtlD,KAAK2lD,QAAWC,IACZ5lD,KAAKqlD,SAELrlD,KAAK4C,QAAQmgD,IAAMoB,EAASnkD,KAAK4C,QAAQmgD,IAAK,CAC1C,CAAC/iD,KAAK4C,QAAQ8gD,QAAQC,MAAO,KAC7B,CAAC3jD,KAAK4C,QAAQ8gD,QAAQrhD,QAASujD,GAAW,KAC3C52C,KAEHhP,KAAKslD,OAAO,EA6BhB,MAAMO,EAAkBtrD,IACpB,GAAKyF,KAAKkkD,UAAU7hD,SAEpBiF,EAAU4J,MAAMlR,KAAKkkD,UAAU7hD,OAAQ9H,EAAK2B,KAAKmG,OAAQ,CACrDqF,WAAY,YACZqD,mBAAmB,IA7IH,GAAbi5C,GAgJc,CACjB,MAAMb,EAAcnjD,KAAKkkD,UAAU7hD,OAAO9D,cAAc,IAAIyB,KAAK4C,QAAQugD,gBAEzEnjD,KAAK4G,IAAIu8C,EAAa,SAAU1+C,IAC5BzE,KAAK+G,aAAY,KACb/G,KAAK2lD,QAAQxC,EAAY7oD,MAAM,GAChC0F,KAAK4C,QAAQwgD,YAAY,GAEnC,GAGC0C,EAAiBvrD,IACnB,IAAKyF,KAAKkkD,UAAUhB,MAAO,OAE3BljD,KAAKkkD,UAAUhB,MAAMzmD,UAAYlC,EAAK2B,KAAKgnD,MAC1BljD,KAAKkkD,UAAUhB,MAAMxkD,iBAAiB,IAAIsB,KAAK4C,QAAQouC,UAE/Dn1C,SAASqB,IACd8C,KAAK4G,IAAI1J,EAAS,SAAUuH,IACxBA,EAAEsZ,iBACF,MAAM2nC,EAASjB,EAAWvnD,EAAS8C,KAAK4C,QAAQouC,OAC1C3iB,EAAYo2B,EAAWvnD,EAAS8C,KAAK4C,QAAQyrB,WACnDruB,KAAKylD,aAAaC,EAAQr3B,EAAU,GACtC,GACJ,EAGA03B,EAAgBxrD,IACbyF,KAAKkkD,UAAUZ,OAEpBtjD,KAAKkkD,UAAUZ,KAAK7mD,UAAYlC,EAAKyrD,YAAczrD,EAAK2B,KAAKonD,KAAO,GAAE,EAGpE2C,EAAsB1rD,IACxB,IAAKyF,KAAKkkD,UAAUb,WAAY,OAEhCrjD,KAAKkkD,UAAUb,WAAW5mD,UAAYlC,EAAKyrD,YAAczrD,EAAK2B,KAAKmnD,WAAa,GAC/DrjD,KAAKkkD,UAAUb,WAAW3kD,iBAAiB,IAAIsB,KAAK4C,QAAQoyB,UAEpEn5B,SAASqB,IACd8C,KAAK4G,IAAI1J,EAAS,SAAUuH,IACxBA,EAAEsZ,iBACF,MAAMiX,EAAQyvB,EAAWvnD,EAAS8C,KAAK4C,QAAQoyB,OAC/Ch1B,KAAKolD,WAAWpwB,EAAM,GACxB,GACJ,EAGAkxB,EAAkB3rD,IACpB,IAAKyF,KAAKkkD,UAAUvpD,OAAQ,OAE5BqF,KAAKkkD,UAAUvpD,OAAO8B,UAAYlC,EAAKyrD,YAAczrD,EAAK2B,KAAKvB,OAAS,GACvDqF,KAAKkkD,UAAUvpD,OAAO+D,iBAAiB,IAAIsB,KAAK4C,QAAQ6gD,eAEhE5nD,SAASqB,IACd8C,KAAK4G,IAAI1J,EAAS,SAAUuH,IACxBA,EAAEsZ,iBACF,MAAMpjB,EAAS8pD,EAAWvnD,EAAS8C,KAAK4C,QAAQ6gD,YAChDzjD,KAAKwlD,YAAY7qD,EAAO,GAC1B,GACJ,EAGAwrD,EAAoB5rD,IACtByF,KAAKkkD,UAAUX,OAASvjD,KAAK4B,SAASlD,iBAAiB,IAAIsB,KAAK4C,QAAQ2gD,WAExEvjD,KAAKkkD,UAAUX,OAAO1nD,SAASqB,IACvB3C,EAAKyrD,YACL9nD,EAAYhB,EAAS8C,KAAK4C,QAAQvB,QAAQlE,SAE1CU,EAASX,EAAS8C,KAAK4C,QAAQvB,QAAQlE,QAC1C,GACH,EAGAipD,EAAe,KACjB,MAAMpY,EAAS8W,IACTr7C,EAAWk7C,IACX1pB,EAAQxxB,EAAS9O,OACjB0rD,EAAoB,KACf,CACHrB,SAAUD,IACVzV,SAAUsV,IACV0B,WAAYzB,MAIpBp7C,EAAS5N,SAAS6jD,IACd1/C,KAAK4G,IAAI84C,EAAU,UAAWj7C,IAC1B,MAAM8hD,EAAe3B,IAAajqD,OAC5B6rD,EAAiB3B,IAAelqD,OACtCqzC,EAAOiU,cAAgBuE,EAAiB,GAAKA,IAAmBvrB,EAE5DykB,EAASC,QACT3R,EAAO2R,QAA6B,IAAnB6G,EAEjBxY,EAAO2R,QAAU4G,IAAiBtrB,EAGtCj7B,KAAKoG,eAAe,SAAUigD,IAAoB,GACpD,IAGFxB,IAAelqD,OAAS,GAAKkqD,IAAelqD,SAAWsgC,IACvD+S,EAAOiU,eAAgB,GAGvBjU,GACAhuC,KAAK4G,IAAIonC,EAAQ,UAAWvpC,IACpBupC,EAAO2R,QACP3/C,KAAKklD,UAELllD,KAAKmlD,YAGTnlD,KAAKoG,eAAe,SAAUigD,IAAoB,GAEzD,EA8DL,GA3DArmD,KAAKqlD,OAAS,KACNrlD,KAAKikD,YACLF,EAAW0C,OACd,EAGLzmD,KAAKslD,MAAQ9+B,MAAOu8B,IAChBgB,EAAa,IAAI2C,gBACjB,MAAMC,EAAS5C,EAAW4C,OAE1B5D,EAAMA,GAAO/iD,KAAK4C,QAAQmgD,IAC1B/iD,KAAKkD,QAAU,GACf8pC,IACAhtC,KAAKikD,YAAa,EAClBD,IACAhkD,KAAKoG,eAAe,oBAEdwgD,MAAM7D,EAAK,CAAE4D,OAAQA,IACtBr9C,MAAKu9C,IACF,IAAKA,EAASC,GACV,MAAM,IAAIxW,MAAMuW,EAASE,YAG7B,OAAOF,EAAS5X,MAAM,IAEzB3lC,MAAK/O,IACFsrD,EAAetrD,GACfurD,EAAcvrD,GACdwrD,EAAaxrD,GACb0rD,EAAmB1rD,GACnB2rD,EAAe3rD,GACf4rD,EAAiB5rD,GACjB6rD,IACApZ,GAAQ,GACRhtC,KAAKikD,YAAa,EAClBjkD,KAAKoG,eAAe,cACpBk+C,IAEItkD,KAAK4C,QAAQogD,YACTzoD,EAAKO,QAAQ4oD,QAAQsD,gBAAgBlrD,MACrCkE,KAAKmD,SAAShF,OAAO6B,KAAK4B,SAAS+N,IAEnC3P,KAAKmD,SAASC,IAAIpD,KAAK4B,SAAS+N,GAAI1N,KAAKuhC,UAAUjpC,EAAKO,QAAQ4oD,QAAQsD,OAE/E,IAEJC,SAAQ,KACLjnD,KAAKoG,eAAe,OAAO,IAE9B8gD,OAAOhhD,IACJlG,KAAKiG,OAAOC,EAAQ,GACtB,EAGVlG,KAAKwkD,QAAU,KACXxkD,KAAKslD,OAAO,EAIZtlD,KAAK4C,QAAQogD,UAAW,CACxB,MAAMmE,EAASllD,KAAKC,MAAMlC,KAAKmD,SAASG,IAAItD,KAAK4B,SAAS+N,KAC1D3P,KAAK4C,QAAQmgD,IAAMoB,EAASnkD,KAAK4C,QAAQmgD,IAAKoE,GAAQn4C,IAClE,MACYhP,KAAKmD,SAAShF,OAAO6B,KAAK4B,SAAS+N,IAIvC3P,KAAKslD,QACLtlD,KAAKonD,UAAY1rD,EAAUiE,OAAO0nD,UAClCrnD,KAAKoG,eAAe,cAGpB29C,EAAW4C,OAAO9/C,iBAAiB,SAAS,KACxCmmC,GAAQ,GACRhtC,KAAKikD,YAAa,EAClBjkD,KAAKoG,eAAe,aAAa,IAGrCpG,KAAK4G,IAAIjH,OAAQ,WAAYK,KAAKsnD,YACrC,CAED,MAAAC,GACIvnD,KAAKwkD,SACR,CAED,OAAAV,CAAQnpD,GACJqF,KAAKwlD,YAAY7qD,EACpB,CAED,KAAAq6B,CAAM2uB,GACFA,EAAOjkC,SAASikC,IAAS,EACzB3jD,KAAKulD,OAAO5B,EACf,CAED,MAAA6D,GACIxnD,KAAKklD,SACR,CAED,QAAAuC,GACIznD,KAAKmlD,WACR,CAED,KAAAnU,CAAM0U,EAAQr3B,GACVruB,KAAKylD,aAAaC,EAAQr3B,EAC7B,CAED,MAAAhsB,CAAOujD,GACH5lD,KAAK2lD,QAAQC,EAChB,CAED,SAAA8B,GACI,OAAO1nD,KAAKikD,UACf,CAED,OAAAvjD,GACIk4B,MAAMl4B,SACT,GL/iBDinD,WM5BJ,cAAyB1mD,EACrB,WAAAC,CAAYhE,EAASjD,GA8FjB,GAFA2+B,MAXmB,CACfr4B,KAAM,aACNrD,QAASA,EACTkE,cAlFc,CACdsU,WAAOjV,EACP2e,QAAS,KACT9H,eAAW7W,EACXoW,WAAY,KACZC,SAAU,KACV8wC,iBAAkB,KAClBC,eAAgB,KAChB/xC,OAAQ,KACRM,QAAS,KACTC,QAAS,KACT5a,SAAU,KACVyG,MAAO,KACP6T,YAAa,KACbC,gBAAgB,EAChBC,SAAU,EACVK,UAAW,GACXwxC,eAAe,EACfC,oBAAoB,EACpBvmC,OAAQ,EACRwmC,cAAc,EACd/qC,MAAO,KACPzE,WAAW,EACXC,aAAa,EACbC,iBAAkB,SAClBuvC,SAAU,WACVprC,KAAM,OACNlE,QAAS,CAAC,SAAU,SACpBC,MAAO,QACPC,MAAO,QACPC,OAAQ,SACRC,MAAO,QACPmP,OAAQ,EACRvD,UAAW,eACXujC,cAAe,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MACpDvwC,OAAQ,CACJ,UACA,WACA,QACA,QACA,MACA,OACA,OACA,SACA,YACA,UACA,WACA,YAEJC,SAAU,CACN,SACA,SACA,UACA,YACA,WACA,SACA,YAEJzX,OAAQ,GACRgoD,WAAY,KACZ9mD,QAAS,CACLinC,QAAS,GACT6S,OAAQ,GACRl+B,MAAO,GACPmrC,QAAS,GACTrsC,KAAM,GACN9H,IAAK,GACLg0C,SAAU,GACVprC,KAAM,GACNvI,MAAO,GACPF,KAAM,GACNuE,QAAS,GACTC,MAAO,GACPC,MAAO,GACPC,OAAQ,GACRC,MAAO,KAQX9e,OAAQA,EACRwH,YAAa,CACTC,OAAO,EACPC,OAAO,MAMV3B,KAAK4B,SAAU,OAEpB,IAAIymD,EAAqB,KAAY,EAErCroD,KAAK4C,QAAQwc,QAAyC,iBAAxBpf,KAAK4C,QAAQwc,QACrC7iB,SAASgC,cAAcyB,KAAK4C,QAAQwc,SACpCpf,KAAK4C,QAAQwc,QAEnBpf,KAAK4C,QAAQ0U,UAA6C,iBAA1BtX,KAAK4C,QAAQ0U,UACvC/a,SAASgC,cAAcyB,KAAK4C,QAAQ0U,WACpCtX,KAAK4C,QAAQ0U,UAEnBtX,KAAK4C,QAAQglD,iBAAkD,MAA/B5nD,KAAK4C,QAAQilD,gBAAkE,iBAAjC7nD,KAAK4C,QAAQglD,iBACrFrrD,SAASgC,cAAcyB,KAAK4C,QAAQglD,kBACpC5nD,KAAK4C,QAAQglD,iBAEnB5nD,KAAK4C,QAAQilD,eAAkD,MAAjC7nD,KAAK4C,QAAQglD,kBAAkE,iBAA/B5nD,KAAK4C,QAAQilD,eACrFtrD,SAASgC,cAAcyB,KAAK4C,QAAQilD,gBACpC7nD,KAAK4C,QAAQilD,eAEnB7nD,KAAK4C,QAAQslD,cAAqD,iBAA9BloD,KAAK4C,QAAQslD,cAC3CloD,KAAK4C,QAAQslD,cAAcnqD,MAAM,KACjCiC,KAAK4C,QAAQslD,cAEnBloD,KAAK4C,QAAQgV,SAA2C,iBAAzB5X,KAAK4C,QAAQgV,SACtC5X,KAAK4C,QAAQgV,SAAS7Z,MAAM,KAC5BiC,KAAK4C,QAAQgV,SAEnB5X,KAAK4C,QAAQ+U,OAAuC,iBAAvB3X,KAAK4C,QAAQ+U,OACpC3X,KAAK4C,QAAQ+U,OAAO5Z,MAAM,KAC1BiC,KAAK4C,QAAQ+U,OAEnB3X,KAAK4C,QAAQ+V,QAAyC,iBAAxB3Y,KAAK4C,QAAQ+V,QACrC3Y,KAAK4C,QAAQ+V,QAAQ5a,MAAM,KAC3BiC,KAAK4C,QAAQ+V,QAEnB3Y,KAAK4C,QAAQwT,QAAyC,iBAAxBpW,KAAK4C,QAAQwT,QACrC,IAAIjX,KAAKA,KAAK+C,MAAMlC,KAAK4C,QAAQwT,UACjCpW,KAAK4C,QAAQwT,QAEnBpW,KAAK4C,QAAQyT,QAAyC,iBAAxBrW,KAAK4C,QAAQyT,QACrC,IAAIlX,KAAKA,KAAK+C,MAAMlC,KAAK4C,QAAQyT,UACjCrW,KAAK4C,QAAQyT,QAEnBrW,KAAK4C,QAAQ0T,UAA6C,iBAA1BtW,KAAK4C,QAAQ0T,UACvCtW,KAAK4C,QAAQ0T,UAAUvY,MAAM,KAC7BiC,KAAK4C,QAAQ0T,UAEnBtW,KAAK4C,QAAQ0T,WAAYtW,KAAK4C,QAAQ0T,UAChCtW,KAAK4C,QAAQ0T,WAGnBtW,KAAK4C,QAAQmT,YAAiD,iBAA5B/V,KAAK4C,QAAQmT,YACzC,IAAI5W,KAAKA,KAAK+C,MAAMlC,KAAK4C,QAAQmT,cACjC/V,KAAK4C,QAAQmT,YAEnB/V,KAAKsoD,WAA+B,mBAAX/1C,OACzBvS,KAAKuoD,UAA6B,mBAAVC,MAExBxoD,KAAKyoD,eAAiB,OACdzoD,KAAK4C,QAAQglD,mBAAoB5nD,KAAK4C,QAAQilD,gBAOtD,MAAMa,EAAkB,KACpB,IAAK1oD,KAAKyoD,iBAAkB,OAE5B,MAAMz0C,EAAOhU,KAAK2oD,SAASvtC,UACrBwtC,EAAQhpD,MAAM+nD,WAAW3nD,KAAK4C,QAAQglD,kBAAoB5nD,KAAK4C,QAAQilD,gBAEzE7nD,KAAK4C,QAAQilD,iBACbe,EAAMnrC,OACNzd,KAAK2oD,SAASznC,cAAclN,GAC5B40C,EAAM1nC,cAAclN,GACpB40C,EAAMjpC,WAAW3L,GAEZ40C,EAAMxtC,WACPwtC,EAAMtpC,SAAStL,GAGf40C,EAAMxtC,WACNpb,KAAK2oD,SAASxnC,YAAYynC,EAAMxtC,YAIpCpb,KAAK4C,QAAQglD,mBACbgB,EAAMnrC,OACNzd,KAAK2oD,SAASxnC,YAAYnN,GAC1B40C,EAAMznC,YAAYnN,GAClB40C,EAAMhpC,WAAW5L,GAEZ40C,EAAMxtC,WACPwtC,EAAMtpC,SAAStL,GAGf40C,EAAMxtC,WACNpb,KAAK2oD,SAASznC,cAAc0nC,EAAMxtC,WAEzC,EAGCytC,EAAoBC,IACtB,MAAMnuD,EAASmuD,EAAOnuD,OAAS,EAEzBq6B,GADN8zB,EAASppC,SAASopC,GAAQrtD,YACLiE,UAAU/E,GACzBouD,EAAW,CACb,EAAG,KACH,EAAG,KACH,EAAG,MAGP,OAAOA,EAAS/zB,GAAS8zB,EAASC,EAAS/zB,GAAS8zB,EAAS,IAAI,EAIrE,IAAIhuD,EAAU,CACV2a,MAAOzV,KAAK4B,SACZiU,YAAY,EACZH,MAAO1V,KAAK4C,QAAQ8S,MACpB0J,QAASpf,KAAK4C,QAAQwc,QACtB9H,UAAWtX,KAAK4C,QAAQ0U,UACxBT,WAAY7W,KAAK4C,QAAQiU,WACzBC,SAAU9W,KAAK4C,QAAQkU,SACvBhB,OAAQ9V,KAAK4C,QAAQkT,OACrBM,QAASpW,KAAK4C,QAAQwT,QACtBC,QAASrW,KAAK4C,QAAQyT,QACtB5a,SAAUuE,KAAK4C,QAAQnH,SACvByG,MAAOlC,KAAK4C,QAAQV,MACpB6T,YAAa/V,KAAK4C,QAAQmT,YAC1BC,eAAgBhW,KAAK4C,QAAQoT,eAC7BC,SAAUjW,KAAK4C,QAAQqT,SACvBK,UAAWtW,KAAK4C,QAAQ0T,UACxBY,gCAAiClX,KAAK4C,QAAQklD,cAC9C3wC,2CAA4CnX,KAAK4C,QAAQmlD,mBACzDvoC,aAAcxf,KAAK4C,QAAQulD,WAC3B5wC,mBAAqBvX,KAAK4C,QAAQ4e,MAClCvE,MAAOjd,KAAK4C,QAAQqa,MACpBzE,UAAWxY,KAAK4C,QAAQ4V,UACxBC,YAAazY,KAAK4C,QAAQ6V,YAC1BC,iBAAkB1Y,KAAK4C,QAAQ8V,iBAC/BuvC,SAAUjoD,KAAK4C,QAAQqlD,SACvBprC,KAAM7c,KAAK4C,QAAQia,KACnBlE,QAAS3Y,KAAK4C,QAAQ+V,QACtBC,MAAO5Y,KAAK4C,QAAQgW,MACpBC,MAAO7Y,KAAK4C,QAAQiW,MACpBC,OAAQ9Y,KAAK4C,QAAQkW,OACrBC,MAAO/Y,KAAK4C,QAAQmW,MACpB5Y,OAAQH,KAAK4C,QAAQzC,OACrB6Y,cAAehZ,KAAK4C,QAAQvB,QAAQinC,QACpCrvB,YAAajZ,KAAK4C,QAAQvB,QAAQ85C,OAClC/hC,WAAYpZ,KAAK4C,QAAQvB,QAAQ4b,MACjC1D,aAAcvZ,KAAK4C,QAAQvB,QAAQ+mD,QACnC5uC,UAAWxZ,KAAK4C,QAAQvB,QAAQ0a,KAChCtC,SAAUzZ,KAAK4C,QAAQvB,QAAQ4S,IAC/BoF,cAAerZ,KAAK4C,QAAQvB,QAAQ4mD,SACpC3uC,UAAWtZ,KAAK4C,QAAQvB,QAAQwb,KAChC3D,WAAYlZ,KAAK4C,QAAQvB,QAAQiT,MACjC6E,UAAWnZ,KAAK4C,QAAQvB,QAAQ+S,KAChCsF,aAAc1Z,KAAK4C,QAAQvB,QAAQsX,QACnCgB,WAAY3Z,KAAK4C,QAAQvB,QAAQuX,MACjCgB,WAAY5Z,KAAK4C,QAAQvB,QAAQwX,MACjCgB,YAAa7Z,KAAK4C,QAAQvB,QAAQyX,OAClCgB,WAAY9Z,KAAK4C,QAAQvB,QAAQ0X,MACjCvB,KAAM,CACFC,cAAezX,KAAK4C,QAAQqlD,SAC5BvwC,UAAW1X,KAAK4C,QAAQia,KACxBlF,OAAQ3X,KAAK4C,QAAQ+U,OACrBC,SAAU5X,KAAK4C,QAAQgV,SACvBC,cAAe7X,KAAK4C,QAAQslD,gBAKpCptD,EAAQid,aAAe,KACnB/X,KAAKoG,eAAe,aAAa,EAGrCtL,EAAQmd,aAAe,KAEnB,MAAM+wC,EAAc,KAChBjxB,GAAgB/3B,KAAK4B,SAAU5B,KAAK2oD,SAASx1C,GAAI,CAC7CwR,UAAW3kB,KAAK4C,QAAQ+hB,UACxBuT,WAAY,CACRhQ,EAAOloB,KAAK4C,QAAQslB,QACpBkL,KACAT,GAAM,CACFpN,QAASvlB,KAAK4C,QAAQslB,OACtB4K,QAASyE,UAGlBjuB,MAAK,EAAGzG,IAAGmY,IAAG2J,YAAW2D,qBAGxBjtB,OAAOO,OAAOoE,KAAK2oD,SAASx1C,GAAG/V,MAAO,CAClC2kB,KAAM,GAAGlf,MACTmf,IAAK,GAAGhH,MACRqf,OAAQ,MACV,GACJ,EASNguB,EANuB,MACnB,GAAKroD,KAAK2oD,UAAkC,GAAtB3oD,KAAK4C,QAAQ8S,MAEnC,OAAO0a,GAAWpwB,KAAK4B,SAAU5B,KAAK2oD,SAASx1C,GAAI61C,EAAY,EAG9CC,GACrBP,IACA1oD,KAAKoG,eAAe,OAAO,EAG/BtL,EAAQod,OAAS,KACa,GAAtBlY,KAAK4C,QAAQ8S,OACb1V,KAAKgE,YAAY,kBAAmBhE,KAAK2oD,SAASx1C,IAAK1O,IACnDzE,KAAKoG,eAAe,QAAQ,GAEnC,EAGLtL,EAAQqd,cAAgB,KAGpB,GAFAnY,KAAKoG,eAAe,QAEM,GAAtBpG,KAAK4C,QAAQ8S,MAAgB,CACR1V,KAAKgE,YAAY,kBAAmBhE,KAAK2oD,SAASx1C,IAAK1O,IACxEzE,KAAKoG,eAAe,UACpBiiD,IACAroD,KAAK2oD,SAASx1C,GAAG/V,MAAMD,QAAU,MAAM,MAIvC6C,KAAK2oD,SAASx1C,GAAG/V,MAAMD,QAAU,OACjC6C,KAAKoG,eAAe,UACpBiiD,IAEP,GAOLvtD,EAAQud,OAAS,KACbrY,KAAKoG,eAAe,OAAO,EAG/BtL,EAAQkd,SAAW,CAAChE,EAAMyG,KACtBiuC,IACA1oD,KAAKoG,eAAe,SAAU,CAAE4N,OAAMyG,YAAW,EAGhDza,KAAK4C,QAAQnH,WAAYuE,KAAK4C,QAAQkT,QAAY9V,KAAKsoD,YAAetoD,KAAKuoD,YAC5EztD,EAAQW,SAAW,CAACuY,EAAM8B,KAEtB,IAAIozC,EAAgB,GACpB,MAAM7jB,EAAS,CACX8jB,IAAKruD,EAAQ0c,KAAKI,SAAS5D,EAAKE,UAAUpV,MAAM,EAAG,GACnDsqD,KAAMtuD,EAAQ0c,KAAKI,SAAS5D,EAAKE,UACjCm1C,EAAGr1C,EAAKoH,UAAU3f,WAClB6tD,GAAIt1C,EAAKoH,UAAU3f,WAAW8tD,SAAS,EAAG,KAC1CC,GAAIX,EAAiB70C,EAAKoH,UAAU3f,YACpCguD,GAAIz1C,EAAK2J,WAAa,GAAGliB,WACzBiuD,IAAK11C,EAAK2J,WAAa,GAAGliB,WAAW8tD,SAAS,EAAG,KACjDI,IAAK7uD,EAAQ0c,KAAKG,OAAO3D,EAAK2J,YAAY7e,MAAM,EAAG,GACnD8qD,KAAM9uD,EAAQ0c,KAAKG,OAAO3D,EAAK2J,YAC/BksC,GAAI71C,EAAK2H,cAAclgB,WAAWqD,MAAM,GACxCgrD,KAAM91C,EAAK2H,cAAclgB,YAGvBsuD,EAAaj0C,EAAOpZ,OAAO8U,MAAM,QAOjCw4C,EALQl0C,EAAOpZ,OAChBgoD,WAAW,OAAQ,KACnB3mD,MAAM,KACN8C,QAAO8S,GAAOA,EAAIhZ,OAAS,IAEJ4H,KAAK4gC,GAClBkC,EAAOlC,KACnBtiC,QAAOsiC,GAAQA,IAYlB,OAVA6mB,EAAcnuD,SAAQ,CAACsnC,EAAMnO,KACrB+0B,GAAcA,EAAWpvD,OAAS,EAClCuuD,GAAiB/lB,GAAQ4mB,EAAW/0B,IAAUA,EAASg1B,EAAcrvD,OAAS,EAAKovD,EAAW/0B,GAAS,IAK3Gk0B,GAAiB/lB,CAAI,IAGlB+lB,CAAa,GAIvBlpD,KAAK4C,QAAQV,QAASlC,KAAK4C,QAAQkT,QAAY9V,KAAKsoD,YAAetoD,KAAKuoD,YACzEztD,EAAQoH,MAAQ,CAAC+nD,EAAYn0C,KACzB,IAAI7B,EAAM,GACNK,EAAQ,GACRF,EAAO,GAEP81C,EAAYD,EAAWvtD,OAC1BgoD,WAAW,OAAQ,KACnB3mD,MAAM,KACN8C,QAAO8S,GAAOA,EAAIhZ,OAAS,IAEVmb,EAAOpZ,OACxBgoD,WAAW,OAAQ,KACnB3mD,MAAM,KACN8C,QAAO8S,GAAOA,EAAIhZ,OAAS,IAC3B4H,KAAIoR,GAAOA,EAAI/U,OAAO,KAEX/C,SAAQ,CAACsnC,EAAMnO,KACvB,OAAQmO,GACJ,IAAK,IACD/uB,EAAO81C,EAAUl1B,IAAU,GAC3B,MAEJ,IAAK,IAEG1gB,EADAzX,EAASqtD,EAAUl1B,IACXk1B,EAAUl1B,GAAStV,SAASwqC,EAAUl1B,IAAU,EAAIk1B,EAAUl1B,GAE9Dk1B,EAAUl1B,IAAU,GAEhC,MAEJ,IAAK,IACD/gB,EAAMyL,SAASwqC,EAAUl1B,KAAW,GAE3C,IAGL,MAAMhhB,EAAO,GAAII,KAAQE,KAASL,IAAOvX,OAEzC,OAAO,IAAIyC,KAAKA,KAAK+C,MAAM8R,GAAM,IAKpChU,KAAK4C,QAAQnH,UAAYuE,KAAK4C,QAAQkT,QAAU9V,KAAKuoD,YACtDztD,EAAQW,SAAW,CAACuY,EAAM8B,IACf0yC,MAAMx0C,GAAM8B,OAAOA,KAK7B9V,KAAK4C,QAAQV,OAASlC,KAAK4C,QAAQkT,QAAU9V,KAAKuoD,YACnDztD,EAAQoH,MAAQ,CAAC+nD,EAAYn0C,IAClB0yC,MAAMyB,EAAYn0C,GAAQ2I,UAKzCze,KAAK2oD,SAAW,IAAI71C,EAAQhY,GAE5BkF,KAAK4G,IAAI5G,KAAK4B,SAAU,QAAS6C,IACzBzE,KAAK2oD,SAASx1C,GAAG2pB,SAASr4B,EAAE0lD,gBAChCnqD,KAAKyd,MAAM,IAIXzd,KAAK4C,QAAQolD,cACThoD,KAAK4B,SAASq/B,MACdjhC,KAAK4G,IAAI5G,KAAK4B,SAASq/B,KAAM,SAAS,KAClCjhC,KAAK2oD,SAAS/vC,OAAO,GAIpC,CAED,QAAAnd,CAASqa,GACL,OAAI9V,KAAKsoD,WACE/1C,OAAOvS,KAAK2oD,SAASvtC,WAAWtF,OAAOA,GACvC9V,KAAKuoD,UACLC,MAAMxoD,KAAK2oD,SAASvtC,WAAWtF,OAAOA,GAEtC9V,KAAK2oD,SAASltD,SAASqa,EAErC,CAED,OAAAsF,GACI,OAAIpb,KAAKsoD,WACEtoD,KAAK2oD,SAASvtC,UAAY7I,OAAOvS,KAAK2oD,SAASvtC,WAAa,KAC5Dpb,KAAKuoD,UACLvoD,KAAK2oD,SAASvtC,UAAYotC,MAAMxoD,KAAK2oD,SAASvtC,WAAa,KAE3Dpb,KAAK2oD,SAASvtC,SAE5B,CAED,OAAAK,CAAQzH,EAAMykC,GAAS,GAEfz4C,KAAKyoD,mBACLzoD,KAAK2oD,SAASlsC,GAAGrG,QAAU,KAC3BpW,KAAK2oD,SAASlsC,GAAGpG,QAAU,MAG3BrW,KAAKsoD,YAActoD,KAAKuoD,UACxBvoD,KAAK2oD,SAASltC,QAAQzH,EAAKyK,SAAUg6B,GAErCz4C,KAAK2oD,SAASltC,QAAQzH,EAAMykC,EAEnC,CAED,QAAAn5B,CAAStL,GACDhU,KAAKsoD,YAActoD,KAAKuoD,UACxBvoD,KAAK2oD,SAASrpC,SAAStL,EAAKyK,UAE5Bze,KAAK2oD,SAASrpC,SAAStL,EAE9B,CAED,SAAAiN,GACIjhB,KAAK2oD,SAASrpC,SAAS,IAAIngB,KAC9B,CAED,SAAA+e,CAAU5J,GACNA,EAAQoL,SAASpL,IAAUA,EAC3BtU,KAAK2oD,SAASzqC,UAAU5J,EAC3B,CAED,QAAA6J,CAAS/J,GACyB,GAA1BA,EAAK3Y,WAAWd,QAEpBqF,KAAK2oD,SAASxqC,SAAS/J,EAC1B,CAED,UAAAuL,CAAW3L,GACHhU,KAAKsoD,YAActoD,KAAKuoD,UACxBvoD,KAAK2oD,SAAShpC,WAAW3L,EAAKyK,WAE9BzK,EAAsB,iBAARA,EAAmB,IAAI7U,KAAKA,KAAK+C,MAAM8R,IAASA,EAC9DhU,KAAK2oD,SAAShpC,WAAW3L,GAEhC,CAED,UAAA4L,CAAW5L,GACHhU,KAAKsoD,YAActoD,KAAKuoD,UACxBvoD,KAAK2oD,SAAS/oC,WAAW5L,EAAKyK,WAE9BzK,EAAsB,iBAARA,EAAmB,IAAI7U,KAAKA,KAAK+C,MAAM8R,IAASA,EAC9DhU,KAAK2oD,SAAS/oC,WAAW5L,GAEhC,CAED,aAAAkN,CAAclN,GACNhU,KAAKsoD,YAActoD,KAAKuoD,UACxBvoD,KAAK2oD,SAASznC,cAAclN,EAAKyK,WAEjCzK,EAAsB,iBAARA,EAAmB,IAAI7U,KAAKA,KAAK+C,MAAM8R,IAASA,EAC9DhU,KAAK2oD,SAASznC,cAAclN,GAEnC,CAED,WAAAmN,CAAYnN,GACJhU,KAAKsoD,YAActoD,KAAKuoD,UACxBvoD,KAAK2oD,SAASxnC,YAAYnN,EAAKyK,WAE/BzK,EAAsB,iBAARA,EAAmB,IAAI7U,KAAKA,KAAK+C,MAAM8R,IAASA,EAC9DhU,KAAK2oD,SAASxnC,YAAYnN,GAEjC,CAED,SAAA0D,GACI1X,KAAK2oD,SAASjxC,WACjB,CAED,aAAAD,GACIzX,KAAK2oD,SAAS9qC,WACjB,CAED,IAAAgB,GACI7e,KAAK2oD,SAAS9pC,MACjB,CAED,IAAApB,GACIzd,KAAK2oD,SAASlrC,MACjB,CAED,KAAA7E,GACI5Y,KAAK2oD,SAAS/vC,OACjB,CAED,MAAAyX,GACIrwB,KAAK2oD,SAASxoC,MACjB,CAED,OAAAzf,GACIV,KAAK2oD,SAASjoD,UACdk4B,MAAMl4B,SACT,GN9iBD0pD,QO/BJ,cAAsBnpD,EAClB,WAAAC,CAAYhE,EAASjD,GAoBjB,GAFA2+B,MAVmB,CACfr4B,KAAM,UACNrD,QAASA,EACTkE,cATc,CACdwD,OAAQ,KACRzG,QAAQ,EACR4uC,MAAO,GAOP9yC,OAAQA,EACRwH,YAAa,CACTE,OAAO,MAMV3B,KAAK4B,SAAU,OAGpB5B,KAAK4C,QAAQmqC,MAAQrtB,SAAS1f,KAAK4C,QAAQmqC,OAE3C/sC,KAAK4C,QAAQgC,OAAuC,iBAAvB5E,KAAK4C,QAAQgC,OACpC5E,KAAK4B,SAAS04C,QAAQt6C,KAAK4C,QAAQgC,QACnC5E,KAAK4C,QAAQgC,OAEnB5E,KAAKyiD,QAAUziD,KAAK4C,QAAQgC,kBAAkBzI,YACxC6D,KAAK4C,QAAQgC,OACb5E,KAAK4B,SAASgc,WAEpB,MAAM2c,EAAY,CACd31B,OAAQ5E,KAAKyiD,QACbxoD,OAAQ+F,KAAK4C,SAGXynD,EAAe,KACbrqD,KAAK4C,QAAQzE,QACb6B,KAAKyiD,QAAQtkD,QAChB,EAGA6B,KAAK4B,SAASgK,aAAa,eAC5B5L,KAAK4B,SAASjE,aAAa,aAAc,SAG7CqC,KAAKsqD,OAAS,KACVtqD,KAAKoG,eAAe,OAAQm0B,GAEPv6B,KAAKgE,YAAY,kBAAmBhE,KAAKyiD,SAAUh+C,IACpEzE,KAAKoG,eAAe,SAAUm0B,GAC9Bl9B,EAAY2C,KAAKyiD,SACjB4H,GAAc,MAKlBhtD,EAAY2C,KAAKyiD,SACjB4H,IACArqD,KAAKoG,eAAe,SAAUm0B,GAAU,EAQ5Cv6B,KAAK4G,IAAI5G,KAAK4B,SAAU,SALP6C,IACbA,EAAEsZ,iBACF/d,KAAKsqD,OAAO7lD,EAAE,IAKQ,GAAtBzE,KAAK4C,QAAQmqC,OAAc/sC,KAAK4C,QAAQmqC,OAAS,MACjD9lC,aAlDAD,WAmDAP,YAAW,KACPzG,KAAKsqD,QAAQ,GACdtqD,KAAK4C,QAAQmqC,QAGpB/sC,KAAKoG,eAAe,aACvB,CAED,KAAA8yB,GACIl5B,KAAKsqD,QACR,CAED,OAAA5pD,GACIk4B,MAAMl4B,SACT,GPxDDkwC,SQ/BJ,cAAuB3vC,EACnB,WAAAC,CAAYhE,EAASjD,GAkCjB,GAFA2+B,MAXmB,CACfr4B,KAAM,WACNrD,QAASA,EACTkE,cAtBc,CACdwD,OAAQ,KACRkhB,UAAW,KACXtN,WAAW,EACXmM,UAAW,eACX4lC,gBAAiB,KACjBC,eAAe,EACftiC,OAAQ,EACRa,gBAAiB,EACjB0hC,aAAc,KACdC,sBAAuB,KACvB/3B,MAAO,EACP4G,OAAQ,IACRL,MAAO,aACP73B,QAAS,CACLlE,QAAS,WAQblD,OAAQA,EACRwH,YAAa,CACTC,OAAO,EACPC,OAAO,MAMV3B,KAAK4B,SAAU,OAEpB5B,KAAKy5B,WAAY,EAEjBz5B,KAAK2qD,UAAY3qD,KAAK4C,QAAQgC,OACxBrI,SAASgC,cAAcyB,KAAK4C,QAAQgC,QACpC5E,KAAK4B,SAASg9C,mBAEpB5+C,KAAK4qD,WAAa5qD,KAAK4C,QAAQkjB,qBAAqB3pB,YAC9C6D,KAAK4C,QAAQkjB,UACbvpB,SAASgC,cAAcyB,KAAK4C,QAAQkjB,WAE1C9lB,KAAK4qD,WAAa5qD,KAAK4qD,WACjB5qD,KAAK4qD,WACL5qD,KAAK4B,SAEX5B,KAAK4C,QAAQ+hB,UAAY3kB,KAAK4C,QAAQ2nD,iBAAmBvqD,KAAK8F,YACxD9F,KAAK4C,QAAQ2nD,gBACbvqD,KAAK4C,QAAQ+hB,UAEnB3kB,KAAK4C,QAAQslB,OAASloB,KAAK4C,QAAQ6nD,cAAgBzqD,KAAK8F,YAClD9F,KAAK4C,QAAQ6nD,aACbzqD,KAAK4C,QAAQslB,OAEnBloB,KAAK4C,QAAQmmB,gBAAkB/oB,KAAK4C,QAAQ8nD,uBAAyB1qD,KAAK8F,YACpE9F,KAAK4C,QAAQ8nD,sBACb1qD,KAAK4C,QAAQmmB,gBAEnB,MAAMkR,EAAgBz7B,EAAY,IAAIwB,KAAK4C,QAAQs2B,SAAUl5B,KAAK2qD,WAElE,IAAItC,EAAqB,KAAY,EAErCroD,KAAK4B,SAASjE,aAAa,gBAAiBqC,KAAKy5B,WAEjD,MAAMuvB,EAAc,KAChBjxB,GAAgB/3B,KAAK4qD,WAAY5qD,KAAK2qD,UAAW,CAC7ChmC,UAAW3kB,KAAK4C,QAAQ+hB,UACxBuT,WAAY,CACRhQ,EAAO,CACHS,SAAU3oB,KAAK4C,QAAQslB,OACvBU,UAAW5oB,KAAK4C,QAAQmmB,gBACxB9C,cAAe,OAEnBmN,KACAT,GAAM,CACFpN,QAASvlB,KAAK4C,QAAQ+vB,MACtBG,QAASyE,UAGlBjuB,MAAK,EAAGzG,IAAGmY,IAAG2J,YAAW2D,qBAGxBjtB,OAAOO,OAAOoE,KAAK2qD,UAAUvtD,MAAO,CAChC2kB,KAAM,GAAGlf,MACTmf,IAAK,GAAGhH,MACRqf,OAAQr6B,KAAK4C,QAAQ22B,QACvB,GACJ,EAGA0vB,EAAiB,IACZ74B,GAAWpwB,KAAK4qD,WAAY5qD,KAAK2qD,UAAW3B,GAGjD6B,EAAsB,KACxBvtD,EAAO0C,KAAK2qD,UAAW,CACnB3oC,IAAK,KACLD,KAAM,KACNsY,OAAQ,MACV,EAGAE,EAAY,CACdqW,SAAU5wC,KAAK2qD,WAkCnB3qD,KAAKy6B,MAAQ,KACT4tB,EAAqBY,IACrBjpD,KAAKy5B,WAAY,EACjBz5B,KAAKoG,eAAe,OAAQm0B,GAC5Bv6B,KAAK4B,SAASjE,aAAa,gBAAiBqC,KAAKy5B,WACjDv7B,EAAY8B,KAAK2qD,UAAW3qD,KAAK4C,QAAQvB,QAAQlE,SAE5B6C,KAAKgE,YAAY,kBAAmBhE,KAAK2qD,WAAYlmD,IACtEzE,KAAKoG,eAAe,QAASm0B,EAAU,KAK3Cv6B,KAAKoG,eAAe,QAASm0B,EAAU,EAG3Cv6B,KAAK26B,MAAQ,KACT36B,KAAKy5B,WAAY,EACjBz5B,KAAKoG,eAAe,OAAQm0B,GAC5Bv6B,KAAK4B,SAASjE,aAAa,gBAAiBqC,KAAKy5B,WAE5Bz5B,KAAKgE,YAAY,kBAAmBhE,KAAK2qD,WAAYlmD,IACtEzE,KAAKy5B,WAAY,EACjBz5B,KAAKoG,eAAe,SAAUm0B,GAC9B8tB,IACAwC,IACAhtD,EAASmC,KAAK2qD,UAAW3qD,KAAK4C,QAAQvB,QAAQlE,QAAQ,MAK1DU,EAASmC,KAAK2qD,UAAW3qD,KAAK4C,QAAQvB,QAAQlE,SAC9CkrD,IACAwC,IACA7qD,KAAKoG,eAAe,SAAUm0B,GAAU,EAG5Cv6B,KAAK4G,IAAI5G,KAAK4qD,WAAY,SApEHnmD,IACnBA,EAAEsZ,iBACF/d,KAAK05C,QAAQ,IAmEjB15C,KAAK4G,IAAI5G,KAAK4qD,WAAY,WA5CPnmD,IACD,WAAVA,EAAEjK,KAA8C,GAA1BwF,KAAK4C,QAAQ4V,WAAsBxY,KAAKy5B,WAC9Dz5B,KAAKyd,MACR,IA0CLzd,KAAK4G,IAAIrK,SAAU,SAjEEkI,IACjB,MAAMqmD,EAAUrmD,EAAEG,OAEd5E,KAAK4B,SAASk7B,SAASguB,KAIvB,EAAC,EAAM,UAAUhoD,SAAS9C,KAAK4C,QAAQ4V,YAAcxY,KAAK2qD,UAAU7tB,SAASguB,IAAY9qD,KAAKy5B,WAM9F,EAAC,EAAM,WAAW32B,SAAS9C,KAAK4C,QAAQ4V,aAAexY,KAAK2qD,UAAU7tB,SAASguB,IAAY9qD,KAAKy5B,YALhGz5B,KAAKyd,MASR,IAkDL,IAAK,MAAMyb,KAASe,EAChBj6B,KAAK4G,IAAIsyB,EAAO,QAASl5B,KAAK26B,OAGlC36B,KAAKoG,eAAe,aACvB,CAED,MAAAszC,GACQ15C,KAAKy5B,UACLz5B,KAAK26B,QAKT36B,KAAKy6B,OACR,CAED,IAAA5b,GACI7e,KAAKy6B,OACR,CAED,IAAAhd,GACIzd,KAAK26B,OACR,CAED,OAAAj6B,GACIV,KAAKyd,OACLmb,MAAMl4B,SACT,GRnLDqqD,SSjCJ,cAA+B9pD,EAC3B,WAAAC,CAAYhE,EAASjD,GAmCjB,GAFA2+B,MAXmB,CACfr4B,KAAM,WACNrD,QAASA,EACTkE,cAxBc,CACd2hD,IAAK,KACL7D,OAAQ,OACR9U,OAAQ,KACR9tC,SAAU,KACV0uD,eAAgB,KAChBC,kBAAkB,EAClBC,SAAU,KACVC,UAAW,KACXC,QAAS,KACTC,kBAAmB,KACnBC,YAAa,KACbC,aAAc,KACdC,WAAW,EACXC,gBAAiB,EACjBC,iBAAiB,EACjBC,YAAa,IACbC,aAAc,IACdC,qBAAsB,QAOtB5xD,OAAQA,EACRwH,YAAa,CACTC,OAAO,EACPC,OAAO,MAMV3B,KAAK4B,WAAa5B,KAAK4C,QAAQmgD,IAAK,OAEzC/iD,KAAK4C,QAAQwnC,OAASpqC,KAAK4C,QAAQwnC,OAASpqC,KAAK4C,QAAQwnC,OAAS,KAAY,EAC9EpqC,KAAK4C,QAAQmgD,IAA0B,MAApB/iD,KAAK4C,QAAQmgD,IAAc/iD,KAAK4C,QAAQmgD,IAAM/iD,KAAK4B,SAASq/B,KAAKohB,OAEpFriD,KAAK4C,QAAQyoD,kBAAoBjtD,EAAW4B,KAAK4C,QAAQyoD,mBAEzD,MAAMS,EAAc,IACT9rD,KAAK4C,QAAQwnC,OAAOpqC,KAAK4C,QAAQtG,UAAU0D,KAAK4C,SAGvD5C,KAAK4C,QAAQuoD,YACbnrD,KAAK4C,QAAQwoD,QAAU/vD,OAAOO,OAAOoE,KAAK4C,QAAQwoD,SAAW,GAAI,CAC7D,eAAgBprD,KAAK4C,QAAQuoD,aAIjCnrD,KAAK4C,QAAQtG,WACb0D,KAAK4C,QAAQmpD,gBAAkBD,KAG/B9rD,KAAK4C,QAAQooD,iBACbhrD,KAAK4C,QAAQmpD,gBAAkB/rD,KAAK4C,QAAQooD,gBAGhDhrD,KAAKgsD,UAAY,IAAIC,SAASjsD,KAAK4B,SAAU5B,KAAK4C,SAWlD5C,KAAKgsD,UAAU7kD,GAAG,aAAc+kD,IAO5BlsD,KAAKoG,eAAe,YAAa,CAAE8lD,QAAO,IAO9ClsD,KAAKgsD,UAAU7kD,GAAG,kBAAkB,CAAC+kD,EAAMC,EAAUC,KACjDpsD,KAAKoG,eAAe,iBAAkB,CAAE8lD,OAAMC,WAAUC,aAAY,IAGxEpsD,KAAKgsD,UAAU7kD,GAAG,uBAAuB,CAACklD,EAAqBC,EAAYC,KACvEvsD,KAAKoG,eAAe,sBAAuB,CAAEimD,sBAAqBC,aAAYC,kBAAiB,IAGnGvsD,KAAKgsD,UAAU7kD,GAAG,eAAgB+kD,GAASlsD,KAAKoG,eAAe,cAAe,CAAE8lD,WAChFlsD,KAAKgsD,UAAU7kD,GAAG,SAAS,CAAC+kD,EAAMhmD,IAAYlG,KAAKoG,eAAe,QAAS,CAAE8lD,OAAMhmD,cACnFlG,KAAKgsD,UAAU7kD,GAAG,iBAAkBqlD,GAAUxsD,KAAKoG,eAAe,gBAAiB,CAAEomD,YACrFxsD,KAAKgsD,UAAU7kD,GAAG,WAAW,CAAC+kD,EAAMO,EAAKzH,IAAahlD,KAAKoG,eAAe,UAAW,CAAE8lD,OAAMO,MAAKzH,eAClGhlD,KAAKgsD,UAAU7kD,GAAG,mBAAoBqlD,GAAUxsD,KAAKoG,eAAe,kBAAmB,CAAEomD,YACzFxsD,KAAKgsD,UAAU7kD,GAAG,cAAe+kD,GAASlsD,KAAKoG,eAAe,aAAc,CAAE8lD,WAC9ElsD,KAAKgsD,UAAU7kD,GAAG,sBAAuBqlD,GAAUxsD,KAAKoG,eAAe,qBAAsB,CAAEomD,YAC/FxsD,KAAKgsD,UAAU7kD,GAAG,YAAa+kD,GAASlsD,KAAKoG,eAAe,WAAY,CAAE8lD,WAC1ElsD,KAAKgsD,UAAU7kD,GAAG,oBAAqB+kD,GAASlsD,KAAKoG,eAAe,mBAAoB,CAAE8lD,WAC1FlsD,KAAKgsD,UAAU7kD,GAAG,UAAW+kD,GAASlsD,KAAKoG,eAAe,SAAU,CAAE8lD,WACtElsD,KAAKgsD,UAAU7kD,GAAG,oBAAqB+kD,GAASlsD,KAAKoG,eAAe,mBAAoB,CAAE8lD,WAC1FlsD,KAAKgsD,UAAU7kD,GAAG,iBAAiB,IAAMnH,KAAKoG,eAAe,mBAC7DpG,KAAKgsD,UAAU7kD,GAAG,QAAQ,IAAMnH,KAAKoG,eAAe,UACpDpG,KAAKgsD,UAAU7kD,GAAG,aAAa,IAAMnH,KAAKoG,eAAe,eACzDpG,KAAKgsD,UAAU7kD,GAAG,WAAW,IAAMnH,KAAKoG,eAAe,aACvDpG,KAAKgsD,UAAU7kD,GAAG,aAAa,IAAMnH,KAAKoG,eAAe,eACzDpG,KAAKgsD,UAAU7kD,GAAG,YAAY,IAAMnH,KAAKoG,eAAe,cACxDpG,KAAKgsD,UAAU7kD,GAAG,aAAa,IAAMnH,KAAKoG,eAAe,eACzDpG,KAAKgsD,UAAU7kD,GAAG,SAAS,IAAMnH,KAAKoG,eAAe,WAErDpG,KAAKoG,eAAe,aACvB,CAED,cAAAsmD,GACI,OAAO1sD,KAAKgsD,UAAUU,gBACzB,CAED,gBAAAC,GACI,OAAO3sD,KAAKgsD,UAAUW,kBACzB,CAED,gBAAAC,GACI,OAAO5sD,KAAKgsD,UAAUY,kBACzB,CAKD,cAAAC,GACI,OAAO7sD,KAAKgsD,UAAUa,gBACzB,CAED,aAAAC,GACI,OAAO9sD,KAAKgsD,UAAUc,eACzB,CAED,iBAAAC,GACI,OAAO/sD,KAAKgsD,UAAUe,mBACzB,CAED,QAAAC,GACI,OAAOhtD,KAAKgsD,UAAUQ,KACzB,CAED,kBAAAS,CAAmBC,GACf,OAAOltD,KAAKgsD,UAAUiB,mBAAmBC,EAC5C,CAED,OAAAC,CAAQC,EAAUC,EAAUnpD,EAAUopD,EAAaC,QAC9B9sD,IAAb4sD,GAA0BD,EAASI,UACnCH,EAAWD,EAASI,SAGxBxtD,KAAKgsD,UAAUyB,oBAAoBL,EAAUC,EAAUnpD,EAAUopD,EAAaC,EACjF,CAED,UAAAG,CAAWxB,GACPlsD,KAAKgsD,UAAU0B,WAAWxB,EAC7B,CAED,cAAAyB,CAAeC,GAAe,GAC1B5tD,KAAKgsD,UAAU2B,eAAeC,EACjC,CAED,OAAAltD,GACIV,KAAKgsD,UAAUlX,UACflc,MAAMl4B,SACT,GTzIDkmD,MUlCJ,cAAoB3lD,EAChB,WAAAC,CAAYhE,EAASjD,GAyBjB,GAFA2+B,MAXmB,CACfr4B,KAAM,QACNrD,QAASA,EACTkE,cAdc,CACd2hD,IAAK,KACL7D,OAAQ,MACR3kD,KAAM,KACNwyC,MAAO,IACPoe,UAAW,KACX0C,YAAa,mBACbvzD,MAAO,QACPsK,OAAQ,MAOR3K,OAAQA,EACRwH,YAAa,CACTC,OAAO,EACPC,OAAO,MAMV3B,KAAK4B,WAAa5B,KAAK4C,QAAQmgD,IAAK,OAEzC/iD,KAAK4C,QAAQgC,OAASxG,EAAW4B,KAAK4C,QAAQgC,QAC9C5E,KAAKikD,YAAa,EAClBjkD,KAAK8tD,UAAY,KAEjB9tD,KAAK+tD,OAASvnC,UACVxmB,KAAKikD,YAAa,EAClBjkD,KAAKoG,eAAe,QACpB,MAAMygD,QAAiBD,MAAM5mD,KAAK4C,QAAQmgD,IAAK,CAC3C7D,OAAQl/C,KAAK4C,QAAQs8C,OACrBkM,QAAS,CACL,eAAgBprD,KAAK4C,QAAQirD,YAC7B,eAAgB7tD,KAAK4C,QAAQuoD,WAEjClgD,KAAMjL,KAAK4C,QAAQrI,KAAO0H,KAAKuhC,UAAUxjC,KAAK4C,QAAQrI,MAAQ,OAC/D2sD,OAAOhhD,IACNlG,KAAKiG,OAAOC,EAAQ,IACrB+gD,SAAQ,KACPjnD,KAAKikD,YAAa,CAAK,IAa3B,OAVuB,KAAnB4C,EAASqG,QACTltD,KAAKoG,eAAe,OAAQ,CAAEF,QAAS2gD,EAASE,WAAYF,aAGzC,KAAnBA,EAASqG,QACTltD,KAAKoG,eAAe,UAAW,CAAEygD,aAGrC7mD,KAAK8tD,UAAYjH,QAEJA,EAAS5X,MAAM,EAGhC,MAAM2E,EAAWnvC,IACTzE,KAAKikD,YAETjkD,KAAK+tD,SAASzkD,MAAM/O,IACZyF,KAAK4C,QAAQgC,kBAAkBzI,aAAe5B,EAAKyF,KAAK4C,QAAQtI,SAChE0F,KAAK4C,QAAQgC,OAAOnI,UAAYlC,EAAKyF,KAAK4C,QAAQtI,QAGtD0F,KAAKoG,eAAe,OAAQ,CAAE7L,OAAMssD,SAAU7mD,KAAK8tD,WAAY,GACjE,EAGoB,UAAtB9tD,KAAK4B,SAASqC,MACdjE,KAAK4G,IAAI5G,KAAK4B,SAAU,QAASgyC,GAGrC5zC,KAAKoG,eAAe,aACvB,CAED,OAAA1F,GACIk4B,MAAMl4B,SACT,GV/CDuoC,UWpCJ,cAAwBhoC,EACpB,WAAAC,CAAYhE,EAASjD,GAWjB2+B,MAPmB,CACfr4B,KAAM,YACNrD,QAASA,EACTkE,cALc,CAAA,EAMdnH,OAAQA,IAMR+F,KAAK4B,SAAS5D,UAAU8+B,SAAS,UAKrC98B,KAAKguD,MAAQhuD,KAAK4B,SAASnF,UAE3BwxD,KAAKC,iBAAiBluD,KAAK4B,UAC9B,CAED,OAAAlB,GACIV,KAAK4B,SAASnF,UAAYuD,KAAKguD,MAC/Bp1B,MAAMl4B,SACT,GXSDg+B,MYpCJ,cAAoBz9B,EAChB,WAAAC,CAAYhE,EAASjD,GAkBjB,GAFA2+B,MAXmB,CACfr4B,KAAM,QACNrD,QAASA,EACTkE,cAPc,CAE1B,EAMYnH,OAAQA,EACRwH,YAAa,CACTC,OAAO,EACPC,OAAO,MAMV3B,KAAK4B,SAAU,OAEpB,MAAMurC,EAAQ,CAAA,EACRghB,EAAU,CAAA,EAEVC,EAAY,IACV,CAAC,QAAS,WAAY,cAActrD,SAAS9C,KAAK4B,SAASqC,MACnD,CACJqZ,MAAO,SACPrZ,KAAMjE,KAAK4B,SAASqC,MAIxB,CAAC,SAASnB,SAAS9C,KAAK4B,SAASysD,WACzB,CACJ/wC,MAAO,QACPrZ,KAAMjE,KAAK4B,SAASysD,gBAH5B,EAQJF,EAAgB,OAAK9vD,IACFD,EAAWC,GACnB+wC,UAAW,CAAK,EAG3B+e,EAAiB,QAAK9vD,IACHD,EAAWC,GACnB+wC,UAAW,CAAI,EAG1BjC,EAAM,cAAiB1oC,IACnB,MAAMlK,EAAOkK,EAAEG,OAAO0pD,gBAAgB,GAAGvsD,QAEzC,IAAK,MAAMvH,KAAOD,EAAM,CACpB,MAAMg0D,EAAS/zD,EAAIuE,QAAQiB,KAAKmB,WAAWZ,KAAM,IAElB,mBAApB4tD,EAAQI,IACfJ,EAAQI,GAAQh0D,EAAKC,GAE5B,GAGLwF,KAAK4G,IAAI5G,KAAK4B,SAAUwsD,IAAY9wC,MAAO6vB,EAAMihB,IAAYnqD,OAE7DjE,KAAKoG,eAAe,aACvB,CAED,OAAA1F,GACIk4B,MAAMl4B,SACT,GZhCD66B,MAAS7C,GACT81B,UavCJ,cAAwB91B,GACpB,WAAAx3B,CAAYhE,EAASjD,GAwBjB2+B,MACI17B,EACA7B,OAAOO,OAxBO,CACdgJ,OAAQ,KACRi0B,UAAU,EACVrX,OAAO,EACPsX,qBAAsB,IACtBC,eAAe,EACfC,cAAc,EACdC,OAAQ,cACRt8B,QAAS,eACTu8B,MAAO,aACPC,SAAU,gBACVC,eAAgB,EAChBC,SAAS,EACTC,aAAa,EACbC,OAAQ,KACRC,UAAW,YACXn4B,QAAS,CACL83B,SAAU,KACVh8B,QAAS,WAMYlD,GACzB,CACIsG,KAAM,aAOjB,GbIDkuD,ScvCJ,cAAuBxtD,EACnB,WAAAC,CAAYhE,EAASjD,GA2BjB,GAFA2+B,MAXmB,CACfr4B,KAAM,WACNrD,QAASA,EACTkE,cAhBc,CACdstD,SAAS,EACTC,OAAO,EACPC,SAAS,EACTC,SAAS,EACTl0D,OAAQ,EACR++C,OAAQ,KACRyS,SAAU,KACV2C,QAAS,KACT9G,cAAc,EACd+G,KAAM,sBAON90D,OAAQA,EACRwH,YAAa,CACTC,OAAO,EACPC,OAAO,MAMV3B,KAAK4B,SAAU,OAEpB5B,KAAKgvD,YAAc,EACnBhvD,KAAKivD,OAAS,EACdjvD,KAAKkvD,UAAW,EAChBlvD,KAAKmvD,SAAW,GAChBnvD,KAAK4C,QAAQ8rD,SAAU1uD,KAAK4C,QAAQ+rD,OAAgB3uD,KAAK4C,QAAQ8rD,QACjE1uD,KAAK4C,QAAQ+rD,OAAQ3uD,KAAK4C,QAAQ8rD,SAAkB1uD,KAAK4C,QAAQ+rD,MAEjE3uD,KAAK4C,QAAQ82C,OAAwC,iBAAxB15C,KAAK4C,QAAQ82C,OACpCt7C,EAAW4B,KAAK4C,QAAQ82C,QACxB15C,KAAK4C,QAAQ82C,OAEnB15C,KAAK4C,QAAQupD,SAA4C,iBAA1BnsD,KAAK4C,QAAQupD,SACtC/tD,EAAW4B,KAAK4C,QAAQupD,UACxBnsD,KAAK4C,QAAQupD,SAEnBnsD,KAAK4C,QAAQksD,QAA0C,iBAAzB9uD,KAAK4C,QAAQksD,QACrC1wD,EAAW4B,KAAK4C,QAAQksD,SACxB9uD,KAAK4C,QAAQksD,QAEnB9uD,KAAKovD,OAAS5wD,EAAY,IAAIwB,KAAK4C,QAAQmsD,SAE3C,MAAMrqB,EAAQ,CACVgqB,QAAS,eACTC,MAAO,gCACPC,QAAS,UACTC,QAAS,6BAGb,IAAK,MAAMr0D,KAAOkqC,EACV1kC,KAAK4C,QAAQpI,KACbwF,KAAKgvD,aAAe,GAIxBhvD,KAAK4C,QAAQupD,oBAAoBhwD,cACjC6D,KAAK4C,QAAQupD,SAAS/uD,MAAMskB,MAAQ,KACpC1hB,KAAK4C,QAAQupD,SAASxuD,aAAa,gBAAiB,SAGpDqC,KAAK4C,QAAQ82C,kBAAkBv9C,aAC/B6D,KAAK4C,QAAQ82C,OAAO/7C,aAAa,gBAAgB,GAGjDqC,KAAK4C,QAAQksD,mBAAmB/iD,mBAChC/L,KAAK4B,SAASjE,aAAa,cAAc,GACzCqC,KAAK4C,QAAQksD,QAAQnxD,aAAa,cAAc,IAGpD,MAAM0xD,EAAoB,KAClBrvD,KAAK4B,SAAStH,MAAMK,OAAUqF,KAAK4C,QAAQjI,OAAS,IACpDqF,KAAKivD,QAAU,EACfjvD,KAAKmvD,SAASxuD,KAAK,WAGnBX,KAAK4C,QAAQ8rD,SAAW1uD,KAAK4B,SAAStH,MAAMkX,MAAMkzB,EAAMgqB,WACxD1uD,KAAKivD,QAAU,EACfjvD,KAAKmvD,SAASxuD,KAAK,YAGnBX,KAAK4C,QAAQ+rD,OAAS3uD,KAAK4B,SAAStH,MAAMkX,MAAMkzB,EAAMiqB,SACtD3uD,KAAKivD,QAAU,EACfjvD,KAAKmvD,SAASxuD,KAAK,UAGnBX,KAAK4C,QAAQgsD,SAAW5uD,KAAK4B,SAAStH,MAAMkX,MAAMkzB,EAAMkqB,WACxD5uD,KAAKivD,QAAU,EACfjvD,KAAKmvD,SAASxuD,KAAK,YAGnBX,KAAK4C,QAAQisD,SAAW7uD,KAAK4B,SAAStH,MAAMkX,MAAMkzB,EAAMmqB,WACxD7uD,KAAKivD,QAAU,EACfjvD,KAAKmvD,SAASxuD,KAAK,WACtB,EAGC2uD,EAAoB,KACK,IAAvBtvD,KAAKovD,OAAOz0D,QAEhBqF,KAAKovD,OAAOvzD,SAASkzD,IACb/uD,KAAKmvD,SAASrsD,SAASisD,EAAKxmD,aAAavI,KAAK4C,QAAQmsD,OACtDA,EAAKpxD,aAAa,gBAAgB,GAElCoxD,EAAKpxD,aAAa,gBAAgB,EACrC,GACH,EAGA4xD,EAAW,KACb,GAAKvvD,KAAK4C,QAAQ82C,OAAlB,CAEA,GAAG15C,KAAKkvD,SAKJ,OAJAlvD,KAAK4B,SAASjE,aAAa,OAAQ,YACnCqC,KAAK4C,QAAQ82C,OAAO/7C,aAAa,gBAAgB,QACjDqC,KAAKkvD,UAAW,GAKpBlvD,KAAK4B,SAASjE,aAAa,OAAQ,QACnCqC,KAAK4C,QAAQ82C,OAAO/7C,aAAa,gBAAgB,GACjDqC,KAAKkvD,UAAW,CAZiB,CAYb,EAGlBnb,EAAU,KACZ/zC,KAAKivD,OAAS,EACdjvD,KAAKmvD,SAAW,GAChBE,IACA,MAAMG,EAAQ,IAAI,EACZC,EAAa,IAAIzvD,KAAKgvD,YACtBU,EAAa1vD,KAAKivD,OAASQ,EAkBjC,GAhBIzvD,KAAK4C,QAAQupD,oBAAoBhwD,cACjC6D,KAAK4C,QAAQupD,SAAS/uD,MAAMskB,MAAQ,GAAGguC,KAEnCA,EAAqB,EAARF,GACbxvD,KAAK4C,QAAQupD,SAASxuD,aAAa,gBAAiB,UAGpD+xD,EAAaF,GAASE,GAAsB,EAARF,GACpCxvD,KAAK4C,QAAQupD,SAASxuD,aAAa,gBAAiB,UAGpD+xD,EAAaF,GACbxvD,KAAK4C,QAAQupD,SAASxuD,aAAa,gBAAiB,SAIxDqC,KAAK4C,QAAQksD,mBAAmB/iD,iBAAkB,CAClD,MAAMyF,EAAQxR,KAAK4B,SAAStH,OAAS0F,KAAK4C,QAAQksD,QAAQx0D,MAC1D0F,KAAK4B,SAASjE,aAAa,aAAc6T,GACzCxR,KAAK4C,QAAQksD,QAAQnxD,aAAa,aAAc6T,EACnD,CAED89C,GAAmB,EAGvBtvD,KAAK4G,IAAI5G,KAAK4B,SAAU,QAASmyC,GAE7B/zC,KAAK4C,QAAQ82C,kBAAkBv9C,aAC/B6D,KAAK4G,IAAI5G,KAAK4C,QAAQ82C,OAAQ,QAAS6V,GAGvCvvD,KAAK4C,QAAQksD,mBAAmB/iD,kBAChC/L,KAAK4G,IAAI5G,KAAK4C,QAAQksD,QAAS,SAAS,KACpC,MAAMt9C,EAAQxR,KAAK4B,SAAStH,OAAS0F,KAAK4C,QAAQksD,QAAQx0D,MAC1D0F,KAAK4B,SAASjE,aAAa,aAAc6T,GACzCxR,KAAK4C,QAAQksD,QAAQnxD,aAAa,aAAc6T,EAAM,IAI1DxR,KAAK4C,QAAQolD,cACThoD,KAAK4B,SAASq/B,MACdjhC,KAAK4G,IAAI5G,KAAK4B,SAASq/B,KAAM,SAAS,KAClCjhC,KAAK4B,SAAStH,MAAQ,GACtBy5C,GAAS,GAIxB,CAED,OAAArzC,GACIk4B,MAAMl4B,SACT,GdxJDivD,QexCJ,cAAsB1uD,EAClB,WAAAC,CAAYhE,EAASjD,GAwBjB,GAFA2+B,MAXmB,CACfr4B,KAAM,UACNrD,QAASA,EACTkE,cAbc,CACdwD,OAAQ,QACRgrD,SAAS,EACT3rD,KAAM,SACN4rD,MAAM,EACNC,UAAW,IACXtuC,OAAO,EACPuuC,YAAY,GAOZ91D,OAAQA,EACRwH,YAAa,CACTC,OAAO,EACPC,OAAO,MAMV3B,KAAK4B,SAAU,OAEpB,MAAMsgD,EAAUliD,KAAK4B,SAASlD,iBAAiBsB,KAAK4C,QAAQgC,QAC5D5E,KAAK4C,QAAQqB,KAAQjE,KAAK4C,QAAQgtD,QAAmB5vD,KAAK4C,QAAQqB,KAAtB,OAC5CjE,KAAK4C,QAAQktD,UAAYpwC,SAAS1f,KAAK4C,QAAQktD,WAC/C9vD,KAAKwgD,MAAQ,GACbxgD,KAAK2hD,OAASO,EAAQvnD,OACtBqF,KAAKgwD,QAAU,EACfhwD,KAAKiwD,OAAS,GACdjwD,KAAKulD,OAAS,EACdvlD,KAAKkwD,MAAQlwD,KAAK4B,SAAS04C,QAAQ,QAEnC4H,EAAQrmD,SAAQ,CAAC+I,EAAQowB,KAGrBx3B,EAAcoH,EAAQ,CAClBurD,aAAc,MACdC,aAAa,EACbC,UAAWr7B,EACXud,UAAU3tC,EAAO2tC,SAAW,MAI5BvyC,KAAK4C,QAAQgtD,SAAWhrD,EAAOX,OAASjE,KAAK4C,QAAQqB,OACrDW,EAAOX,KAAOjE,KAAK4C,QAAQqB,MAI3BjE,KAAK4C,QAAQ4e,OAAmB,IAAVwT,GACtBpwB,EAAO4c,QAIG,IAAVwT,IACApwB,EAAOwqC,UAAW,GAGtBpvC,KAAKwgD,MAAM7/C,KAAK,CACZ2vD,QAAQ,EACRC,SAAS,EACT7xB,MAAO95B,EACPowB,MAAOA,EACP16B,MAAOsK,EAAOtK,OAChB,IAGN,MAAMk2D,EAAa9xB,IACV1+B,KAAK4C,QAAQitD,MAASnxB,GAE3Bj4B,YAAW,KACPi4B,EAAMz6B,KAAOy6B,EAAMpkC,MAAMK,OAAS,EAAI,WAAaqF,KAAK4C,QAAQqB,IAAI,GACrEjE,KAAK4C,QAAQktD,UAAU,EAOxBW,EAAgB,KAClB,IAAIn2D,EAAQ,GAEZ0F,KAAKwgD,MAAM3kD,SAAStB,IAChBD,GAASC,EAAKD,KAAK,IAGvB0F,KAAKgwD,QAAUhwD,KAAKwgD,MAAM3/C,QAAQtG,GAASA,EAAK+1D,SAAQ31D,OAExDqF,KAAKiwD,OAAS31D,CAAK,EAGjBk8C,EAAW,CAACv6B,GAAU,KACxB,MAAM+Y,EAAQh1B,KAAKulD,OACbx0C,EAAU/Q,KAAKwgD,MAAMxrB,GAAO0J,MAC5BupB,EAAWjoD,KAAK2hD,OAAS3sB,GAAmB,IAAVA,EAClCh1B,KAAKwgD,MAAMxrB,EAAQ,GAAG0J,MACtB,KACA7hB,EAAOmY,EAASh1B,KAAK2hD,OAAS,GAAM5wC,EAAQzW,MAAMK,OAAS,EAC3DqF,KAAKwgD,MAAMxrB,EAAQ,GAAG0J,MACtB,KAEN3tB,EAAQzW,MAAQ2hB,EAAU,GAAclL,EAzB3BzW,MAAMwE,OAAO,GA0B1BkB,KAAKwgD,MAAMxrB,GAAOs7B,OAASv/C,EAAQzW,MAAMK,OAAS,EAClDqF,KAAKwgD,MAAMxrB,GAAO16B,MAAQyW,EAAQzW,MAE9B2hB,GAAWgsC,IACXA,EAAS3tD,MAAQ,GACjB2tD,EAASzmC,QACTxhB,KAAKwgD,MAAMxrB,EAAQ,GAAGs7B,QAAS,EAC/BtwD,KAAKwgD,MAAMxrB,EAAQ,GAAG16B,MAAQ2tD,EAAS3tD,MACvCyW,EAAQq+B,UAAW,IAGlBnzB,GAAWY,IACZA,EAAKuyB,UAAW,EAChBvyB,EAAK2E,SAGTgvC,EAAUv0C,EAAUgsC,EAAWl3C,GAC/B0/C,GAAe,EAGbC,EAAiB,KACnB1wD,KAAKoG,eAAe,QAAS,CACzBkqD,OAAQtwD,KAAK2hD,SAAW3hD,KAAKgwD,QAC7B11D,MAAO0F,KAAKiwD,QACd,EAGAU,EAAkB,KACpB,GAAI3wD,KAAK2hD,SAAW3hD,KAAKgwD,UACrBhwD,KAAKoG,eAAe,SAAU,CAAE9L,MAAO0F,KAAKiwD,SAExCjwD,KAAK4C,QAAQmtD,YAAc/vD,KAAKkwD,OAAO,CACvC,MAAMU,EAAY5wD,KAAKkwD,MAAM3xD,cAAc,iBAC3CyB,KAAKkwD,MAAMW,cAAcD,EAC5B,CACJ,EAGC7c,EAAWtvC,IACb+xC,IACAka,IACAC,GAAiB,EAGf1c,EAAWxvC,IACbzE,KAAKulD,OAAS7lC,SAASjb,EAAEG,OAAO7C,QAAQizB,MAAM,EAG5Cgf,EAAUvvC,IAAD,EAITqsD,EAAWrsD,IACT,CAAC,YAAa,UAAU3B,SAAS2B,EAAEjK,MACnCg8C,GAAS,EACZ,EAGCua,EAAWtsD,IACbzE,KAAKulD,OAAS,EACdvlD,KAAKgwD,QAAU,EACfhwD,KAAKiwD,OAAS,GAEdjwD,KAAKwgD,MAAM3kD,SAAQ,CAACtB,EAAMy6B,KACtBz6B,EAAK+1D,QAAS,EACd/1D,EAAKg2D,SAAU,EACfh2D,EAAKD,MAAQ,GAGT0F,KAAK4C,QAAQ4e,OAAmB,IAAVwT,GACtBz6B,EAAKmkC,MAAMld,OACd,GACH,EAGNxhB,KAAKwgD,MAAM3kD,SAAStB,IAChByF,KAAK4G,IAAIrM,EAAKmkC,MAAO,QAASqV,GAC9B/zC,KAAK4G,IAAIrM,EAAKmkC,MAAO,QAASuV,GAC9Bj0C,KAAK4G,IAAIrM,EAAKmkC,MAAO,OAAQsV,GAC7Bh0C,KAAK4G,IAAIrM,EAAKmkC,MAAO,QAASoyB,EAAQ,IAGtC9wD,KAAKkwD,OACLlwD,KAAK4G,IAAI5G,KAAKkwD,MAAO,QAASa,GAGlC/wD,KAAKoG,eAAe,aACvB,CAED,OAAA1F,GACIk4B,MAAMl4B,SACT,Gf5JDigD,IgBzCJ,cAAkB1/C,EACd,WAAAC,CAAYhE,EAASjD,GAwBjB,GAFA2+B,MAVmB,CACfr4B,KAAM,MACNrD,QAASA,EACTkE,cAbc,CACdu/C,IAAK,WACLJ,MAAO,aACPjR,SAAU,gBACVF,SAAU,gBACV/tC,QAAS,CACLlE,QAAS,WAQblD,OAAQA,EACRwH,YAAa,CACTC,OAAO,MAMV1B,KAAK4B,SAAU,OAEpB5B,KAAKwgD,MAAQ,GACbxgD,KAAKgxD,eAAiB,EACtB,MAAMrhD,EAA0B,KAArB3P,KAAK4B,SAAS+N,GAAY3P,KAAK4B,SAAS+N,GAAK,OAAS1Q,EAAa,GACxEgyD,EAAOjxD,KAAK4B,SAASlD,iBAAiB,IAAIsB,KAAK4C,QAAQ+9C,QACvDD,EAAS1gD,KAAK4B,SAASlD,iBAAiB,IAAIsB,KAAK4C,QAAQ29C,UAC/DvgD,KAAKkxD,WAAaD,EAAKt2D,OAAS,EAAIs2D,EAAKt2D,OAAS,EAAI,EACtDqF,KAAKmxD,WAAaF,EAAKt2D,OAQvB,MAAM4/B,EAAavF,IACR,CACHA,MAAOA,EACPiG,MAAOj7B,KAAKmxD,WACZt0C,KAAM7c,KAAKwgD,MAAMxrB,GAAOo8B,OAAOv0C,KAC/BorC,SAAUjoD,KAAKwgD,MAAMxrB,GAAOo8B,OAAOnJ,SACnCtH,IAAK3gD,KAAKwgD,MAAMxrB,GAAO2rB,IACvBJ,MAAOvgD,KAAKwgD,MAAMxrB,GAAOurB,QAU3B8Q,EAAY9wD,IACd,IAAI2qB,EAAS,KAEb,IAAK,MAAMq1B,KAASG,EAChB,GAAIH,EAAMh4C,aAAavI,KAAK4C,QAAQ29C,QAAUhgD,EAAM,CAChD2qB,EAASq1B,EACT,KACH,CAGL,OAAOr1B,CAAM,EAQXrqB,EAAS,IACJb,KAAKwgD,MAAMj+C,KAAKhI,IACnB,IAAIA,EAAK60C,SAIT,OAAO70C,EAAKwW,OAAO,IACpBlQ,QAAOtG,QAAiBkG,IAATlG,IAStByF,KAAKsxD,MAAQ,CAACt8B,EAAQ,QAClB,MAAM+sB,EAAWlhD,IAGjB,OAFAm0B,EAAQA,GAAgBh1B,KAAKgxD,eAEzBjP,EAASj/C,SAASkyB,GACXA,EAAS+sB,EAASpnD,OAAS,EAC5BonD,EAASA,EAAS1lD,QAAQ24B,GAAS,GACnC,EAGHA,CAAK,EAShBh1B,KAAK05B,UAAY,CAAC1E,EAAQ,QACtB,MAAM+sB,EAAWlhD,IAGjB,OAFAm0B,EAAQA,GAAgBh1B,KAAKgxD,eAEzBjP,EAASj/C,SAASkyB,GACXA,EAAQ,EACT+sB,EAASA,EAAS1lD,QAAQ24B,GAAS,GACnC+sB,EAASA,EAASpnD,OAAS,GAG9Bq6B,CAAK,EAMhB,MAAM8rB,EAAU,KACZ9gD,KAAKwgD,MAAM3kD,SAAQ,CAACtB,EAAMy6B,KACtB,MAAMizB,EAAW1tD,EAAK+0C,SAAW/0C,EAAKwW,QAAU,KAE/B,OAAbk3C,GACAjoD,KAAKoG,eAAe,OAAQm0B,EAAUvF,IAG1Cn3B,EAAStD,EAAKgmD,MAAOvgD,KAAK4C,QAAQvB,QAAQlE,SAE1C5C,EAAK+0C,UAAW,EAChB9xC,EAAcjD,EAAKomD,IAAK,CACpBzmB,UAAW,EACX9f,cAAc,IAGD,OAAb6tC,GACAjoD,KAAKoG,eAAe,SAAUm0B,EAAUvF,GAC3C,GACH,EASNh1B,KAAKy6B,MAAQ,CAACzF,EAAOxT,GAAQ,KACzB,MAAMjnB,EAAOyF,KAAKwgD,MAAMxrB,GAExB,IAAKz6B,GAAQA,EAAK60C,SACd,OAGJ0R,IAEA9gD,KAAKoG,eAAe,OAAQm0B,EAAUvF,IAEtCz6B,EAAK+0C,UAAW,EAChBtvC,KAAKgxD,eAAiBh8B,EACtBx3B,EAAcjD,EAAKomD,IAAK,CACpBzmB,SAAU,EACV9f,cAAc,IAGdoH,GACAjnB,EAAKomD,IAAIn/B,QAGbtjB,EAAY3D,EAAKgmD,MAAOvgD,KAAK4C,QAAQvB,QAAQlE,SAExB6C,KAAKgE,YAAY,kBAAmBzJ,EAAKgmD,MAAOhmD,EAAKg3D,uBAI1EvxD,KAAKoG,eAAe,QAASm0B,EAAUvF,GAAO,EAQlDh1B,KAAKwxD,SAAYx8B,IACb,MAAM8f,EAAWv6C,IACbiD,EAAcjD,EAAKomD,IAAK,CACpBzmB,UAAW,EACXu3B,cAAc,SAGQhxD,IAAtBlG,EAAKomD,IAAIvR,WACT70C,EAAKomD,IAAIvR,UAAW,EACvB,EAGQ3uC,MAATu0B,GACA8f,EAAQ90C,KAAKwgD,MAAMxrB,IACnBh1B,KAAKwgD,MAAMxrB,GAAOoa,UAAW,GAE7BpvC,KAAKwgD,MAAM3kD,SAAStB,IAChBu6C,EAAQv6C,GACRA,EAAK60C,UAAW,CAAI,GAE3B,EAQLpvC,KAAK0xD,QAAW18B,IACZ,MAAM+f,EAAUx6C,IACZiD,EAAcjD,EAAKomD,IAAK,CACpBzmB,SAAU,EACVu3B,cAAc,SAGQhxD,IAAtBlG,EAAKomD,IAAIvR,WACT70C,EAAKomD,IAAIvR,UAAW,EACvB,EAGQ3uC,MAATu0B,GACA+f,EAAO/0C,KAAKwgD,MAAMxrB,IAClBh1B,KAAKwgD,MAAMxrB,GAAOoa,UAAW,GAE7BpvC,KAAKwgD,MAAM3kD,SAAStB,IAChBw6C,EAAOx6C,GACPA,EAAK60C,UAAW,CAAK,GAE5B,EAIL5xC,EAAcwC,KAAK4B,SAAU,CACzBu4B,KAAM,UACNxqB,GAAIA,IAIRshD,EAAKp1D,SAAQ,CAAC8kD,EAAK3rB,KACf,MAAMmsB,EAAc,QACd5gD,EAA6C,IAAtCogD,EAAIp4C,aAAavI,KAAK4C,QAAQ+9C,KACnC,GAAGhxC,KAAMqlB,IACX2rB,EAAIp4C,aAAavI,KAAK4C,QAAQ+9C,KAEpCnjD,EAAcmjD,EAAK,CACfxmB,KAAM,MACNxqB,GAAIpP,EACJ25B,UAAW,EACXknB,aAAc7gD,EAAO4gD,EACrB/mC,eAAcumC,EAAI/0C,aAAa5L,KAAK4C,QAAQ0sC,UAC5CmiB,eAAc9Q,EAAI/0C,aAAa5L,KAAK4C,QAAQwsC,UAC5CihB,UAAWr7B,KAGM,IAAjB2rB,EAAIvR,UAAsBuR,EAAI/0C,aAAa5L,KAAK4C,QAAQwsC,WACxD5xC,EAAcmjD,EAAK,CACf8Q,aAAc9Q,EAAIvR,YAIL,IAAjBuR,EAAIvR,UAAsBuR,EAAI/0C,aAAa5L,KAAK4C,QAAQwsC,YACxDuR,EAAIvR,UAAW,GAGsB,QAArCuR,EAAIp4C,aAAa,mBACjBvI,KAAKgxD,eAAiBh8B,GAG1B,IAAIurB,EAAQ8Q,EAAS9wD,GACrBggD,EAAQA,GAAgBG,EAAO1rB,GAE/Bx3B,EAAc+iD,EAAO,CACjBpmB,KAAM,WACNxqB,GAAIpP,EAAO4gD,EACXjnB,SAAU,EACVmnB,eAAgB9gD,EAChB8vD,UAAWr7B,IAGfh1B,KAAKwgD,MAAM7/C,KAAK,CACZoQ,QAASikB,EACTizB,SAAUjzB,EAAQ,EAAIA,EAAQ,EAAIi8B,EAAKt2D,OAAS,EAChDkiB,KAAMmY,EAASi8B,EAAKt2D,OAAS,EAAKq6B,EAAQ,EAAI,EAC9Coa,SAA+C,QAArCuR,EAAIp4C,aAAa,iBAC3Bo4C,IAAKA,EACLJ,MAAOA,EACP3M,QAAUnvC,IACNA,EAAEsZ,iBACF/d,KAAKy6B,MAAMzF,EAAM,EAErBu8B,qBAAuB9sD,IACnBzE,KAAKoG,eAAe,QAASm0B,EAAUvF,GAAO,EAElD28B,UAAYltD,IACM,eAAVA,EAAEjK,KAAkC,cAAViK,EAAEjK,MAC5BiK,EAAEsZ,iBACF/d,KAAKy6B,MAAMz6B,KAAKsxD,SAAS,IAGf,cAAV7sD,EAAEjK,KAAiC,YAAViK,EAAEjK,MAC3BiK,EAAEsZ,iBACF/d,KAAKy6B,MAAMz6B,KAAK05B,aAAa,IAGnB,SAAVj1B,EAAEjK,MACFiK,EAAEsZ,iBACF/d,KAAKy6B,MAAM,GAAG,IAGJ,QAAVh2B,EAAEjK,MACFiK,EAAEsZ,iBACF/d,KAAKy6B,MAAMz6B,KAAKkxD,YAAY,GAC/B,GAEP,IAIND,EAAKp1D,SAAQ,CAAC8kD,EAAK3rB,KACfh1B,KAAKwgD,MAAMxrB,GAAiB,SAAIh1B,KAAKgxD,gBAAkBh8B,EACvDh1B,KAAKwgD,MAAMxrB,GAAe,OAAI,CAC1BnY,KAAO7c,KAAKwgD,MAAMxrB,GAAiB,UAAyB,EAArBh1B,KAAKsxD,MAAMt8B,GAClDizB,SAAWjoD,KAAKwgD,MAAMxrB,GAAiB,UAA6B,EAAzBh1B,KAAK05B,UAAU1E,GAC7D,IAILh1B,KAAKwgD,MAAM3kD,SAAStB,IAChByF,KAAK4G,IAAIrM,EAAKomD,IAAK,QAASpmD,EAAKq5C,SACjC5zC,KAAK4G,IAAIrM,EAAKomD,IAAK,UAAWpmD,EAAKo3D,UAAU,IAIjD3xD,KAAKy6B,MAAMz6B,KAAKgxD,gBAEhBhxD,KAAKoG,eAAe,aACvB,CAED,IAAAyY,CAAKmW,EAAQ,GACTh1B,KAAKy6B,MAAM/a,SAASsV,GACvB,CAED,KAAA48B,GACI5xD,KAAKy6B,MAAM,EACd,CAED,IAAA6I,GACItjC,KAAKy6B,MAAMz6B,KAAKkxD,WACnB,CAED,IAAAr0C,GACI7c,KAAKy6B,MAAMz6B,KAAKsxD,QACnB,CAED,QAAArJ,GACIjoD,KAAKy6B,MAAMz6B,KAAK05B,YACnB,CAED,MAAAqb,CAAO/f,GACHh1B,KAAK0xD,QAAQ18B,EAChB,CAED,OAAA8f,CAAQ9f,GACJh1B,KAAKwxD,SAASx8B,EACjB,CAED,OAAAt0B,GACIV,KAAKwgD,MAAQ,GACb5nB,MAAMl4B,SACT,GhBlVDoX,MiB1CJ,cAAoB7W,EAChB,WAAAC,CAAYhE,EAASjD,GAkBjB2+B,MAPmB,CACfr4B,KAAM,QACNrD,QAASA,EACTkE,cAZc,CACd0W,MAAO,SACPlT,OAAQrI,SAAS6U,gBACjBygD,gBAAiB,cACjBn0D,UAAW,aACXo0D,MAAO,OACPtwD,QAAS,SAOTvH,OAAQA,IAKZ+F,KAAK+xD,OAAS/xD,KAAK4C,QAAQkV,MAC3B9X,KAAKyiD,QAAUziD,KAAK4C,QAAQgC,kBAAkBzI,YAAc6D,KAAK4C,QAAQgC,OAASrI,SAASgC,cAAcyB,KAAK4C,QAAQgC,QAEtH5E,KAAKgyD,aAAe,KAGhB,GAFAhyD,KAAKyiD,QAAQ9kD,aAAaqC,KAAK4C,QAAQivD,gBAAiB7xD,KAAK+xD,QAE1C,UAAf/xD,KAAK+xD,OAWL,MAVmB,QAAf/xD,KAAK+xD,OACLl0D,EAASmC,KAAKyiD,QAASziD,KAAK4C,QAAQkvD,OAEpC5zD,EAAY8B,KAAKyiD,QAASziD,KAAK4C,QAAQkvD,OAG3CG,aAAa5uD,QAAQrD,KAAK4C,QAAQpB,QAASxB,KAAK+xD,QAChD/xD,KAAKyiD,QAAQ9kD,aAAaqC,KAAK4C,QAAQlF,UAAWsC,KAAK+xD,aACvD/xD,KAAKoG,eAAe,SAAU,CAAE0R,MAAO9X,KAAK+xD,QAAUx1D,UAKtDoD,OAAOoG,WAAW,gCAAgCC,SAClDnI,EAASmC,KAAKyiD,QAASziD,KAAK4C,QAAQkvD,OACpC9xD,KAAKyiD,QAAQ9kD,aAAaqC,KAAK4C,QAAQlF,UAAW,UAElDQ,EAAY8B,KAAKyiD,QAASziD,KAAK4C,QAAQkvD,OACvC9xD,KAAKyiD,QAAQ9kD,aAAaqC,KAAK4C,QAAQlF,UAAW,UAGtDu0D,aAAazuD,WAAWxD,KAAK4C,QAAQpB,SACrCxB,KAAKoG,eAAe,SAAU,CAAE0R,MAAO9X,KAAK+xD,QAAUx1D,SAAS,EAGnEyD,KAAKkyD,oBAAuBztD,IACxBA,EAAEsZ,iBACF/d,KAAKgyD,eACLhyD,KAAKoG,eAAe,YAAa,CAAE0R,MAAO9X,KAAK+xD,QAAUx1D,SAAS,EAGlEyD,KAAK4B,UACL5B,KAAK4G,IAAI5G,KAAK4B,SAAU,QAAS5B,KAAKkyD,oBAE7C,CAED,KAAAp6C,CAAMA,GACF9X,KAAK+xD,OAASj6C,GAAS9X,KAAK+xD,OAC5B/xD,KAAKgyD,cACR,CAED,OAAAtxD,GACIV,KAAKyiD,QAAQ52C,gBAAgB7L,KAAK4C,QAAQivD,iBAC1C7xD,KAAKyiD,QAAQ52C,gBAAgB7L,KAAK4C,QAAQlF,WAC1CQ,EAAY8B,KAAKyiD,QAASziD,KAAK4C,QAAQkvD,OACvCG,aAAazuD,WAAWxD,KAAK4C,QAAQpB,SACrCo3B,MAAMl4B,UAEFV,KAAK4B,UACL5B,KAAK8G,KAAK9G,KAAK4B,SAAU,QAAS5B,KAAKkyD,oBAE9C,GjBpCDC,MkB3CJ,cAAoBlxD,EAChB,WAAAC,CAAYjH,GAuCR,IAAI+M,EAPJ4xB,MAVmB,CACfr4B,KAAM,QACNa,cAtBc,CACdujB,UAAW,eACXuD,OAAQ,CAAC,KAAM,MACfkqC,IAAK,GACLrlB,MAAO,IACPziC,OAAO,EACP8/B,OAAQ,KACR9tC,SAAU,KACVgb,UAAW,KACX3H,GAAI,KACJ4pB,OAAQ,KACR6wB,QAAS,eACT/oD,QAAS,CACLinC,QAAS,KACT3jB,UAAW,MAEf0tC,SAAU,KACVj6C,QAAS,MAMTne,OAAQA,EACRwH,YAAa,CACTC,OAAO,EACPC,OAAO,KAMf3B,KAAK4C,QAAQwnC,OAASpqC,KAAK4C,QAAQwnC,OAASpqC,KAAK4C,QAAQwnC,OAAS,KAAY,EAC9EpqC,KAAK0iD,WAAatkD,EAAW4B,KAAK4C,QAAQ0U,YAAc/a,SAAS0O,KACjEjL,KAAK4C,QAAQ22B,OAAS7Z,SAAS1f,KAAK4C,QAAQ22B,SAAW,EACvDv5B,KAAK4C,QAAQmqC,MAAQrtB,SAAS1f,KAAK4C,QAAQmqC,OAC3C/sC,KAAKqe,WAAY,EAGjBre,KAAK4C,QAAQslB,OAASrrB,EAASmD,KAAK4C,QAAQslB,QACtC,CAACloB,KAAK4C,QAAQslB,OAAQloB,KAAK4C,QAAQslB,QACnCloB,KAAK4C,QAAQslB,OAEnBloB,KAAK4C,QAAQslB,OAAuC,iBAAvBloB,KAAK4C,QAAQslB,OACpCloB,KAAK4C,QAAQslB,OAAOnqB,MAAM,KAC1BiC,KAAK4C,QAAQslB,OAEnBloB,KAAK4C,QAAQwvD,IAAM1yC,SAAS1f,KAAK4C,QAAQwvD,MAAQ,GACjD,MAAME,EAAmBtyD,KAAK4C,QAAQ+hB,UAAU7hB,SAAS,OAAS,aAAe,YAE3EgpD,EAAc,IACT9rD,KAAK4C,QAAQwnC,OAAOpqC,KAAK4C,QAAQtG,UAAU0D,KAAK4C,SAG3D5C,KAAK26B,MAAQ,KACT1zB,aAAaD,GAEb,MAAMyW,EAAO,KACTpgB,EAAY2C,KAAKuyD,QACjBvyD,KAAKuyD,OAAOp0D,SACZ6B,KAAKqe,WAAY,EAE6B,GAA1Cre,KAAKwyD,gBAAgB9oB,WAAW/uC,QAChCqF,KAAKwyD,gBAAgBr0D,SAGW,mBAAzB6B,KAAK4C,QAAQwV,SACpBpY,KAAK4C,QAAQwV,UAGjBpY,KAAKoF,cAAc,EAGFpF,KAAKgE,YAAY,kBAAmBhE,KAAKuyD,QAAS9tD,IACnEgZ,GAAM,KAKVA,GAAM,EAGG,MACT,IAAKzd,KAAK4C,QAAQtG,SAAU,OAI5B,GAFA0D,KAAKwyD,gBAAkBxyD,KAAK0iD,WAAWnkD,cAAc,qCAAqCyB,KAAK4C,QAAQ+hB,eAElG3kB,KAAKwyD,gBAAiB,CACvB,MAAMrtC,EAAYnlB,KAAK4C,QAAQ+hB,UAAU5mB,MAAM,KAE/CiC,KAAKwyD,gBAAkBj2D,SAASC,cAAc,OAC9CgB,EAAcwC,KAAKwyD,gBAAiB,CAChC,mBAAoB,GACpB,iBAAkBxyD,KAAK4C,QAAQ+hB,UAC/B,gBAAiBQ,EAAU,GAC3B,aAAcA,EAAU,IAAM,WAElC7nB,EAAO0C,KAAKwyD,gBAAiB,CACzB58C,SAAU,QACVooC,WAAY,SACZyU,MAAO,MACPp4B,OAAQr6B,KAAK4C,QAAQ22B,SAEzB17B,EAASmC,KAAKwyD,gBAAiBxyD,KAAK4C,QAAQvB,QAAQsjB,WAEpD3kB,KAAK0iD,WAAW71C,YAAY7M,KAAKwyD,gBACpC,CAED,IAAKxyD,KAAKqe,UAAW,CAEjBre,KAAKuyD,OAASh2D,SAASC,cAAc,OACrCwD,KAAKuyD,OAAO91D,UAAYqvD,EAAY9rD,KAAK4C,SACzC5C,KAAKuyD,OAAOn1D,MAAM4gD,WAAa,UAE3Bh+C,KAAK4C,QAAQ+M,KACd3P,KAAKuyD,OAAO5iD,GAAK3P,KAAK4C,QAAQ+M,IAGjCtS,EAAY2C,KAAKuyD,QACjB10D,EAASmC,KAAKuyD,OAAQvyD,KAAK4C,QAAQvB,QAAQinC,SAC3C9qC,EAAcwC,KAAKuyD,OAAQ,CACvBp4B,KAAM,UAGV,MAAMu4B,EAAkB1yD,KAAKuyD,OAAO7zD,iBAAiB,IAAIsB,KAAK4C,QAAQwnD,YAChEuI,EAAiB3yD,KAAKuyD,OAAO7zD,iBAAiB,eAAesB,KAAK4C,QAAQwnD,aAEhFsI,EAAgB72D,SAASujB,IAChBA,EAAQxT,aAAa,eACtBwT,EAAQzhB,aAAa,aAAc,SAGvCqC,KAAK4G,IAAIwY,EAAS,QAASpf,KAAK26B,MAAM,IAG1Cg4B,EAAe92D,SAASujB,IACpBpf,KAAK4G,IAAIwY,EAAS,SAAS,KACc,mBAA1Bpf,KAAK4C,QAAQyvD,UACpBryD,KAAK4C,QAAQyvD,SAASjzC,EACzB,GACH,GAET,CAEIpf,KAAK4C,QAAQ0H,QACdtK,KAAKwyD,gBAAgB/1D,UAAY,IAGrCuD,KAAKwyD,gBAAgB/d,sBAAsB6d,EAAkBtyD,KAAKuyD,QAClEt1D,EAAY+C,KAAKuyD,QACjBvyD,KAAKqe,WAAY,EAEIre,KAAKgE,YAAY,kBAAmBhE,KAAKuyD,QAE1DvyD,KAAK4C,QAAQmqC,OAAS,MACtB/lC,EAAUP,WAAWzG,KAAK26B,MAAO36B,KAAK4C,QAAQmqC,OAGzB,EAG7BluB,EACH,CAED,IAAApB,GACIzd,KAAK26B,OACR,CAED,OAAAj6B,GACIk4B,MAAMl4B,SACT,GlBjIDg5C,OmB5CJ,cAAqBz4C,EACjB,WAAAC,CAAYhE,EAASjD,GAiBjB,GAFA2+B,MAPmB,CACfr4B,KAAM,SACNrD,QAASA,EACTkE,cATc,CACdvD,SAAU,KACVK,YAAa,KACb0G,OAAQ,MAOR3K,OAAQA,KAKP+F,KAAK4B,SAAU,OAEpB5B,KAAK4C,QAAQwnC,OAAuC,iBAAvBpqC,KAAK4C,QAAQwnC,OACpCpqC,KAAK4C,QAAQwnC,OAAOrsC,MAAM,KAC1BiC,KAAK4C,QAAQwnC,OAEnB,MAAMwoB,EAAU5yD,KAAKwF,cAAcxF,KAAK4C,QAAQwnC,OAAQ,CACpD,WACA,cACA,WAGJpqC,KAAK6yD,UAAW,EAChBr1D,EAAcwC,KAAK4B,SAAU,CACzBkxD,YAAa9yD,KAAK6yD,SAClB14B,KAAM,WAGV,MAAM44B,EAAej4D,IACjBA,EAAQonD,QAAQrmD,SAAS+I,IACrB,MAAMC,EAAY9H,WAAW4C,OAAO4E,iBAAiBK,GAAQN,mBAAqB,EAC5E,eACAvH,WAAW4C,OAAO4E,iBAAiBK,GAAQ+3B,oBAAsB,EAC7D,gBACA,KAEV38B,KAAKoG,eAAe,SAAU,CAAE4sD,QAAShzD,KAAK6yD,SAAU54D,OAAQ+F,KAAK4C,SAAWgC,GAElD,QAA1BA,EAAO7C,QAAQixD,SACfhzD,KAAK6yD,UAAW,EAChB7yD,KAAK4B,SAASjE,aAAa,eAAgBqC,KAAK6yD,UAChDjuD,EAAOjH,aAAa,gBAAgB,GACpCE,EAAS+G,EAAQ9J,EAAQoD,aACzBA,EAAY0G,EAAQ9J,EAAQ+C,YAE5BmC,KAAK6yD,UAAW,EAChB7yD,KAAK4B,SAASjE,aAAa,eAAgBqC,KAAK6yD,UAChDjuD,EAAOjH,aAAa,gBAAgB,GACpCO,EAAY0G,EAAQ9J,EAAQoD,aAC5BL,EAAS+G,EAAQ9J,EAAQ+C,WAGzBgH,EACA7E,KAAKwE,KAAKI,EAAQC,GAAW,KACzB7E,KAAKoG,eAAe,UAAW,CAAE4sD,QAAShzD,KAAK6yD,SAAU54D,OAAQ+F,KAAK4C,SAAWgC,EAAO,IAMhG5E,KAAKoG,eAAe,UAAW,CAAE4sD,QAAShzD,KAAK6yD,SAAU54D,OAAQ+F,KAAK4C,SAAWgC,EAAO,GAC1F,EAGN5E,KAAKizD,QAAU,KACX,IAAK,MAAMz4D,KAAOo4D,EAAS,CACvB,MAAM93D,EAAU,CACZ+C,SAAUmC,KAAK4C,QAAQgwD,EAAQp4D,GAAe,UAC9C0D,YAAa8B,KAAK4C,QAAQgwD,EAAQp4D,GAAkB,aACpD0nD,QAASliD,KAAK4C,QAAQgwD,EAAQp4D,GAAa,QACrC+B,SAASmC,iBAAiBsB,KAAK4C,QAAQgwD,EAAQp4D,GAAa,SAC5D,CAAEwF,KAAK4B,WAGjBmxD,EAAYj4D,EACf,GAQLkF,KAAK4G,IAAI5G,KAAK4B,SAAU,SALR6C,IACZA,EAAEsZ,iBACF/d,KAAKizD,SAAS,IAKlBjzD,KAAKoG,eAAe,aACvB,CAED,MAAAszC,GACI15C,KAAKizD,SACR,CAED,OAAAvyD,GACIk4B,MAAMl4B,SACT,GnBzDDwyD,QoB5CJ,cAAsBjyD,EAClB,WAAAC,CAAYhE,EAASjD,GAoCjB,GAFA2+B,MAXmB,CACfr4B,KAAM,UACNrD,QAASA,EACTkE,cAxBc,CACdwD,OAAQ,KACRjI,QAAS,GACTgoB,UAAW,MACXrN,UAAW,KACX4Q,OAAQ,EACRyK,MAAO,EACPwgC,UAAW,EACXC,UAAW,EACXh0C,QAAS,CAAC,QAAS,SACnB0J,OAAO,EACPuqC,aAAc,EACdn3D,MAAM,EACNq9B,OAAQ,KACRl4B,QAAS,CACLinC,QAAS,KACTxf,MAAO,KACP3rB,QAAS,WAQblD,OAAQA,EACRwH,YAAa,CACTC,OAAO,EACPC,OAAO,MAMV3B,KAAK4B,SAAU,OAEpB5B,KAAK4C,QAAQgC,OAAuC,iBAAvB5E,KAAK4C,QAAQgC,OACpCrI,SAASgC,cAAcyB,KAAK4C,QAAQgC,QACpC,KAEN5E,KAAK4C,QAAQ0U,UAA6C,iBAA1BtX,KAAK4C,QAAQ0U,UACvC/a,SAASgC,cAAcyB,KAAK4C,QAAQ0U,WACpCtX,KAAK4C,QAAQ0U,qBAAqBnb,YAClC6D,KAAK4C,QAAQ0U,UACb/a,SAAS0O,KAEfjL,KAAK4C,QAAQwc,QAAyC,iBAAxBpf,KAAK4C,QAAQwc,QACrCpf,KAAK4C,QAAQwc,QAAQrhB,MAAM,KAC3BiC,KAAK4C,QAAQwc,mBAAmBtjB,MAChCkE,KAAK4C,QAAQwc,QACb,GAENpf,KAAK4C,QAAQuwD,UAAYzzC,SAAS1f,KAAK4C,QAAQuwD,WAC/CnzD,KAAK4C,QAAQwwD,UAAY1zC,SAAS1f,KAAK4C,QAAQwwD,WAC/CpzD,KAAK65B,SAAW75B,KAAK4C,QAAQjG,QAC7BqD,KAAKszD,aAAe,YACpBtzD,KAAKuzD,UAAW,EAChB,MAAMC,EAAM,WAAav0D,EAAa,GACtC,IAAIi0D,EAASO,EAAgBC,EAa7B,GAXI1zD,KAAK4B,SAASgK,aAAa,WAC3B5L,KAAK65B,SAAW75B,KAAK4B,SAASqb,MAC9Bjd,KAAK4B,SAASjE,aAAa,8BAA+BqC,KAAK4B,SAASqb,OACxEjd,KAAK4B,SAASiK,gBAAgB,UAG9B7L,KAAK4B,SAASgK,aAAa,gBAAkB5L,KAAK4B,SAASgK,aAAa,WACxE5L,KAAK65B,SAAW75B,KAAK4B,SAAS2G,aAAa,eAI3CvI,KAAK4C,QAAQgC,OACbsuD,EAAUlzD,KAAK4C,QAAQgC,OAEvBsuD,EAAQv1D,aAAa,KAAMu1D,EAAQtnD,aAAa,MAAQsnD,EAAQvjD,GAAK6jD,GACrEN,EAAQ91D,MAAMD,QAAU,OACxB+1D,EAAQ91D,MAAMi9B,OAASr6B,KAAK4C,QAAQ22B,OACpCr7B,EAAYg1D,EAASlzD,KAAK4C,QAAQvB,QAAQlE,SAE1Cs2D,EAAiBP,EAAQ30D,cAAc,kBACvCm1D,EAAeR,EAAQ30D,cAAc,iBAEhCyB,KAAK4C,QAAQkmB,OAAS4qC,IACvBA,EAAat2D,MAAMD,QAAU,QAGjC6C,KAAK65B,SAAW45B,GAAgBh3D,WAAauD,KAAK65B,SAClD75B,KAAKszD,aAAe,YACpBJ,EAAQ/0D,aACL,CACH,MAAM8F,EAAOjE,KAAK4C,QAAQ1G,KAAO,YAAc,YAC/C8D,KAAKszD,aAAervD,EACpBivD,EAAU32D,SAASC,cAAc,OACjC02D,EAAQvjD,GAAK6jD,EACbN,EAAQ91D,MAAMD,QAAU,OACxB+1D,EAAQ91D,MAAMwY,SAAW,WACzBs9C,EAAQ91D,MAAM4kB,IAAM,EACpBkxC,EAAQ91D,MAAM2kB,KAAO,EACrBmxC,EAAQ91D,MAAMi9B,OAASr6B,KAAK4C,QAAQ22B,OACpC25B,EAAQx/C,UAAY1T,KAAK4C,QAAQvB,QAAQinC,QAAUtoC,KAAK4C,QAAQvB,QAAQinC,QAAU,GAClF4qB,EAAQv1D,aAAa,OAAQ,WAE7B81D,EAAiBl3D,SAASC,cAAc,OACxCi3D,EAAexvD,GAAQjE,KAAK65B,SAC5B45B,EAAe91D,aAAa,eAAgB,IAC5Cu1D,EAAQrmD,YAAY4mD,GAEhBzzD,KAAK4C,QAAQkmB,QACb4qC,EAAen3D,SAASC,cAAc,OACtCk3D,EAAat2D,MAAMwY,SAAW,WAC9B89C,EAAat2D,MAAM+sB,UAAY,gBAC/BupC,EAAat2D,MAAMg/B,gBAAkB,UACrCs3B,EAAat2D,MAAMskB,MAAQ,MAC3BgyC,EAAat2D,MAAMukB,OAAS,MAC5B+xC,EAAat2D,MAAMi9B,OAAS,KAC5Bq5B,EAAahgD,UAAY1T,KAAK4C,QAAQvB,QAAQynB,MAAQ9oB,KAAK4C,QAAQvB,QAAQynB,MAAQ,GACnF4qC,EAAa/1D,aAAa,aAAc,IACxCu1D,EAAQrmD,YAAY6mD,GAE3B,CAED,GAA4B,GAAxB1zD,KAAK65B,SAASl/B,OAAa,OAE/BqF,KAAK2zD,SAAWT,EAChBlzD,KAAK4zD,gBAAkBH,EACvBzzD,KAAK6zD,cAAgB7zD,KAAK4C,QAAQkmB,MAAQ4qC,EAAe,KAEzD1zD,KAAK4B,SAASjE,aAAa,mBAAoB61D,GAE/C,IAAInL,EAAqB,KAAY,EAErC,MAAMW,EAAc,KAChBjxB,GAAgB/3B,KAAK4B,SAAU5B,KAAK2zD,SAAU,CAC1ChvC,UAAW3kB,KAAK4C,QAAQ+hB,UACxBuT,WAAY,CACRhQ,EAAOloB,KAAK4C,QAAQslB,QACpBqO,KACAnD,KACAT,GAAM,CACFpN,QAASvlB,KAAK4C,QAAQ+vB,MACtBG,QAASyE,OAEbzO,GAAM,CACF5rB,QAAS8C,KAAK6zD,cACdtuC,QAASvlB,KAAK4C,QAAQywD,kBAG/B/pD,MAAK,EAAGzG,IAAGmY,IAAG2J,YAAW2D,qBACxB,MAAMJ,OAAEA,EAAMkL,KAAEA,EAAIT,MAAEA,EAAK7J,MAAEA,GAAUR,EAEvCjtB,OAAOO,OAAOoE,KAAK2zD,SAASv2D,MAAO,CAC/B2kB,KAAM,GAAGlf,MACTmf,IAAK,GAAGhH,QAGZ,MAAM84C,EAAa,CACf9xC,IAAK,SACLmC,MAAO,OACPtB,OAAQ,MACRd,KAAM,SACR4C,EAAU5mB,MAAM,KAAK,IAEnBiC,KAAK6zD,eACLx4D,OAAOO,OAAOoE,KAAK6zD,cAAcz2D,MAAO,CACpC2kB,KAAiB,MAAX+G,EAAMjmB,EAAY,GAAGimB,EAAMjmB,MAAQ,GACzCmf,IAAgB,MAAX8G,EAAM9N,EAAY,GAAG8N,EAAM9N,MAAQ,GACxCmJ,MAAO,GACPtB,OAAQ,GACRixC,CAACA,IAAiB9zD,KAAK6zD,cAAcxxC,aAAe,EAAtC,MAErB,GACH,EAGA4mC,EAAiB,IACZ74B,GAAWpwB,KAAK4B,SAAU5B,KAAK2zD,SAAU3K,GAGpDhpD,KAAKy6B,MAAQ,KACTz6B,KAAK+G,aAAY,KACb/G,KAAKoG,eAAe,QAEfpG,KAAK4C,QAAQ0U,UAAUwlB,SAAS98B,KAAK2zD,WACtC3zD,KAAK4C,QAAQ0U,UAAUzK,YAAY7M,KAAK2zD,UAG5CtL,EAAqBY,IACrBhsD,EAAY+C,KAAK2zD,UACjB3zD,KAAKuzD,UAAW,EAEKvzD,KAAKgE,YAAY,kBAAmBhE,KAAK2zD,UAAWlvD,IACrEzE,KAAKoG,eAAe,QAAQ,MAOhCnJ,EAAY+C,KAAK2zD,UACjB3zD,KAAKoG,eAAe,SAAQ,GAE7BpG,KAAK4C,QAAQuwD,UAAU,EAG9BnzD,KAAK26B,MAAQ,KACJ36B,KAAKuzD,SAMVvzD,KAAK+G,aAAY,KACb/G,KAAKoG,eAAe,QAECpG,KAAKgE,YAAY,kBAAmBhE,KAAK2zD,UAAWlvD,IACrEzE,KAAKoG,eAAe,UACpBiiD,IACAhrD,EAAY2C,KAAK2zD,UACjB3zD,KAAKuzD,UAAW,EAChBvzD,KAAK2zD,SAASx1D,QAAQ,MAO1Bd,EAAY2C,KAAK2zD,UACjB3zD,KAAKuzD,UAAW,EAChBvzD,KAAK2zD,SAASx1D,SACd6B,KAAKoG,eAAe,UAAS,GAE9BpG,KAAK4C,QAAQwwD,WAzBZnsD,aAAajH,KAAK6B,SAyBI,EAG9B7B,KAAKizD,QAAWxuD,IACRzE,KAAKuzD,SACLvzD,KAAK26B,QAKT36B,KAAKy6B,OAAO,EAGhB,MAMMs5B,EAAkBtvD,IACpBzE,KAAKU,SAAS,EAGlB,IAAK,IAAIzF,EAAI,EAAGA,EAAI+E,KAAK4C,QAAQwc,QAAQzkB,QAChC,CAAC,QAAS,QAAS,QAAS,QAAQmI,SAAS9C,KAAK4C,QAAQwc,QAAQnkB,IAD1BA,IAKd,SAA3B+E,KAAK4C,QAAQwc,QAAQnkB,IACrB+E,KAAK4G,IAAI5G,KAAK4B,SAAU,QAAS5B,KAAKizD,SAGX,SAA3BjzD,KAAK4C,QAAQwc,QAAQnkB,KACrB+E,KAAK4G,IAAI5G,KAAK4B,SAAU,aAAc5B,KAAKy6B,OAC3Cz6B,KAAK4G,IAAI5G,KAAK4B,SAAU,aAAc5B,KAAK26B,QAGhB,SAA3B36B,KAAK4C,QAAQwc,QAAQnkB,KACrB+E,KAAK4G,IAAI5G,KAAK4B,SAAU,UAAW5B,KAAKy6B,OACxCz6B,KAAK4G,IAAI5G,KAAK4B,SAAU,WAAY5B,KAAK26B,QAGpC,GAAL1/B,GAAqC,QAA3B+E,KAAK4C,QAAQwc,QAAQnkB,KAC/B+E,KAAK4G,IAAI5G,KAAK4B,SAAU,aAAcmyD,GACtC/zD,KAAK4G,IAAI5G,KAAK4B,SAAU,UAAWmyD,IAI3C/zD,KAAK4G,IAAIrK,SAAU,WAnCAkI,IACD,WAAVA,EAAEjK,KAAoBwF,KAAKuzD,UAC3BvzD,KAAK26B,OACR,IAkCL36B,KAAKoG,eAAe,cAEe,GAA/BpG,KAAK4C,QAAQwc,QAAQzkB,QAA0C,QAA3BqF,KAAK4C,QAAQwc,QAAQ,IACzDpf,KAAK6e,MAEZ,CAED,MAAA66B,GACI15C,KAAKizD,SACR,CAED,IAAAp0C,GACI7e,KAAKy6B,OACR,CAED,IAAAhd,GACIzd,KAAK26B,OACR,CAED,OAAAh+B,CAAQA,GACJA,EAAUA,GAAW,GACrBqD,KAAK4zD,gBAAgB5zD,KAAKszD,cAAgB32D,CAC7C,CAED,KAAAu4B,GACIl1B,KAAK4zD,gBAAgB5zD,KAAKszD,cAAgBtzD,KAAK65B,QAClD,CAED,OAAAn5B,GACIV,KAAK26B,QAED36B,KAAK4B,SAASgK,aAAa,iCAC3B5L,KAAK4B,SAASjE,aAAa,QAASqC,KAAK65B,UACzC75B,KAAK4B,SAASiK,gBAAgB,gCAGlC7L,KAAK4B,SAASiK,gBAAgB,oBAC9B+sB,MAAMl4B,SACT,GpBrRDwtB,OqB/CJ,cAAqBjtB,EACjB,WAAAC,CAAYhE,EAASjD,GAejB2+B,MAPmB,CACfr4B,KAAM,SACNrD,QAASA,EACTkE,cATc,CACdge,QAAS,OACTxa,OAAQ,KACR0S,UAAW,MAOXrd,OAAQA,IAKZ,MAAM6K,EAAU,CAAA,EACVwS,EAAYtX,KAAK4C,QAAQ0U,UAAY/a,SAASgC,cAAcyB,KAAK4C,QAAQ0U,WAAatX,KAAK4B,SAC3FgD,EAAS0S,EAAU/Y,cAAcyB,KAAK4C,QAAQgC,QAEpDE,EAAc,KAAI,KACd,GAAIF,EAAQ,CACR,MAAMovD,EAAS18C,EAAU+K,aAAe,EACxC/K,EAAUwK,UAAYld,EAAOme,UAAYixC,CAC5C,GAGLlvD,EAAQ9E,KAAK4C,QAAQwc,UACxB,CAED,OAAA1e,GACIk4B,MAAMl4B,SACT,GrBcDuzD,UsBhDJ,cAAwBhzD,EACpB,WAAAC,CAAYhE,EAASjD,GAmBjB2+B,MAPmB,CACfr4B,KAAM,YACNrD,QAASA,EACTkE,cAbc,CACd6C,KAAM,aACNoO,KAAM9V,SACNk1B,WAAY,MACZD,UAAW,EACXtJ,OAAQ,EACR9I,QAAS,KACTxa,OAAQ,MAOR3K,OAAQA,IAKZ+F,KAAKk0D,UAAY33D,SAASmC,iBAAiBsB,KAAK4C,QAAQwc,SACxDpf,KAAKm0D,SAAW53D,SAASmC,iBAAiBsB,KAAK4C,QAAQgC,QACvD5E,KAAKo0D,WAAa,KAElBp0D,KAAKq0D,UAAYr0D,KAAK4C,QAAQyP,MAAQ1S,QAAUK,KAAK4C,QAAQyP,MAAQ9V,SAC/DoD,OACApD,SAASgC,cAAcyB,KAAK4C,QAAQyP,MAE1CrS,KAAK4C,QAAQyP,KAAOrS,KAAKq0D,WAAa10D,OAChCpD,SAAS6U,gBACTpR,KAAKq0D,UAGiBr0D,KAAK4C,QAAQyP,KAAKyP,UAE9C9hB,KAAKs0D,mBAAqB,KACtB,IAAK,MAAM1vD,KAAU5E,KAAKm0D,SAClBvvD,EAAO2vD,MAAQ,IAAMv0D,KAAKo0D,WAC1BxvD,EAAOjH,aAAa,gBAAgB,GAEpCiH,EAAOjH,aAAa,gBAAgB,EAE3C,EAGLqC,KAAKw0D,oBAAuB/vD,IACxBzE,KAAK+G,aAAY,KACb,MAAM0tD,EAAiBz0D,KAAK4C,QAAQyP,KAAKyP,UAEzC,GAAI9hB,KAAKk0D,UAAUv5D,OAAS,EACxB,GAAI85D,EAAkBz0D,KAAKk0D,UAAU,GAAGnxC,UAAY/iB,KAAK4C,QAAQslB,OAC7DloB,KAAKo0D,WAAa,KAClBp0D,KAAKs0D,0BAEL,IAAK,MAAMl1C,KAAWpf,KAAKk0D,UACnBO,GAAmBr1C,EAAQ2D,UAAY/iB,KAAK4C,QAAQslB,SACpDloB,KAAKo0D,WAAah1C,EAAQzP,GAC1B3P,KAAKs0D,qBAIpB,GAEF,GAAG,EAIgB,eAAtBt0D,KAAK4C,QAAQqB,OACbjE,KAAKw0D,sBACLx0D,KAAK4G,IAAI5G,KAAKq0D,UAAW,SAAUr0D,KAAKw0D,qBAgE/C,CAED,OAAA9zD,GAKIk4B,MAAMl4B,SACT,GtB9FD8mD,OuBvCJ,cAAqBvmD,EACjB,WAAAC,CAAYhE,EAASjD,GAoFjB,GAXA2+B,MAXmB,CACfr4B,KAAM,SACNrD,QAASA,EACTkE,cA/Dc,CACdszD,OAAQ,KACRC,UAAU,EACVC,WAAW,EACX7pB,SAAS,EACTM,WAAY,QACZC,WAAY,OACZM,YAAa,CAAC,QACdD,UAAW,SACXlB,WAAY,GACZC,SAAU,KACV4S,MAAM,EACN9Q,YAAa,KACbrC,SAAS,EACTC,QAAQ,EACRY,kBAAkB,EAClBgd,cAAc,EACd9/B,OAAQ,EACRqR,OAAQ,IACRs7B,WAAY,KACZpoB,iBAAiB,EACjBuT,OAAQ,KACR8U,cAAc,EACdC,kBAAmB,GACnBC,kBAAmB,UACnBjV,aAAa,EACbkV,iBAAkB,GAClBC,iBAAkB,UAClBxV,UAAU,EACVyV,eAAe,EACfC,iBAAiB,EACjBC,eAAe,EACfC,eAAe,EACfC,cAAc,EACdjrB,aAAc,KACdkrB,gBAAgB,EAChBn0D,QAAS,CACLinC,QAAS,GACT5J,MAAO,GACP+2B,gBAAiB,GACjB7kB,SAAU,GACVvrC,KAAM,GACNqwD,WAAY,GACZ9vD,OAAQ,GACR4pC,SAAU,GACVmmB,cAAe,GACfC,aAAc,GACd3sB,UAAW,GACXngB,MAAO,GACPgsC,aAAc,GACd/U,YAAa,GACbL,SAAU,GACVmW,UAAW,GACX7oB,QAAS,GACTgT,OAAQ,IAEZ8V,WAAY,iCACZC,WAAY,iCAOZ97D,OAAQA,EACRwH,YAAa,CACTC,OAAO,EACPC,OAAO,KAOfmuC,GAAUn9B,OAAO,gBAAiBqjD,IAClClmB,GAAUn9B,OAAO,eAAgBsjD,IACjCnmB,GAAUn9B,OAAO,mBAAoBujD,IACrCpmB,GAAUn9B,OAAO,iBAAkBwjD,IACnCrmB,GAAUn9B,OAAO,iBAAkByjD,IACnCtmB,GAAUn9B,OAAO,kBAAmB0jD,IACpCvmB,GAAUn9B,OAAO,sBAAuB2jD,KAEnCt2D,KAAK4B,SAAU,OAEpB,MAAMkqC,EAAO,CAAC,cAAchpC,SAAS9C,KAAK4B,SAASqC,MAAQ,SAAW,QACtE,IAAIokD,EAAqB,KAAY,EACjCre,EAAU,CAAA,EACdhqC,KAAKu2D,gBAAkB,GAEvBv2D,KAAK4C,QAAQgpC,YAAc5rC,KAAK4C,QAAQgpC,uBAAuB9vC,MACzDkE,KAAK4C,QAAQgpC,YACb5rC,KAAK4C,QAAQgpC,YAAY7tC,MAAM,KAErC,MAAMirD,EAAc,KAChBjxB,GAAgB/3B,KAAKw2D,WAAW3lB,QAAS7wC,KAAKw2D,WAAW1lB,iBAAkB,CACvEnsB,UAAW,eACXuT,WAAY,CACRhQ,EAAOloB,KAAK4C,QAAQslB,QACpBkL,QAEL9pB,MAAK,EAAGzG,IAAGmY,IAAG2J,YAAW2D,qBAGxBjtB,OAAOO,OAAOoE,KAAKw2D,WAAW1lB,iBAAiB1zC,MAAO,CAClD2kB,KAAM,GAAGlf,MACTmf,IAAK,GAAGhH,MACRqf,OAAQr6B,KAAK4C,QAAQ22B,QACvB,GACJ,EAGA0vB,EAAiB,IACZ74B,GAAWpwB,KAAKw2D,WAAW3lB,QAAS7wC,KAAKw2D,WAAW1lB,iBAAkBkY,GAG3E6B,EAAsB,KACxBvtD,EAAO0C,KAAKw2D,WAAW1lB,iBAAkB,CACrC9uB,IAAK,KACLD,KAAM,KACNsY,OAAQ,MACV,EAGAo8B,EAAwB,KAC1B,GAAIz2D,KAAK4C,QAAQm9C,YAAa,CAC1B,MAAMA,EAAc//C,KAAKw2D,WAAW3lB,QAAQtyC,cAAc,mBAEtDyB,KAAKw2D,WAAW7wD,MAAMhL,OAAS,EAC/BsC,EAAY8iD,GAEZ1iD,EAAY0iD,EAEnB,GAGC2W,EAAa,CAAC73C,GAAO,KACvB,IAAK7e,KAAK4C,QAAQ8xD,OAAQ,OAE1B,MAAM1U,EAAShgD,KAAKw2D,WAAW3lB,QAAQtyC,cAAc,oBAEjDyhD,IACInhC,EACA5hB,EAAY+iD,GAEZ3iD,EAAY2iD,GAEnB,EAGC2W,EAAU,CAACn8D,EAAKF,IACX0F,KAAK4C,QAAQpI,GAAKuE,QAAQ,SAAUzE,GAGzCs8D,EAAYt8D,IACd,IAAI4wB,GAAS,EAEb,IAAK,MAAM1wB,KAAOwF,KAAKw2D,WAAW17D,QAC9B,GAAIR,EAAMI,eAAiBF,EAAIE,cAAe,CAC1CwwB,GAAS,EAET,KACH,CAGL,OAAOA,CAAM,EAIblrB,KAAK4C,QAAQuyD,gBACbnrB,EAAQ6sB,eAAiB,GACzB7sB,EAAQ8sB,eAAiB,IAIxB92D,KAAK4C,QAAQyyD,gBACdrrB,EAAQ+sB,gBAAkB,IAIzB/2D,KAAK4C,QAAQwyD,kBACdprB,EAAQgtB,oBAAsB,IAI9Bh3D,KAAK4C,QAAQkyD,cAAyB,UAAThpB,IAC7B9B,EAAQitB,cAAgB,CACpBhkB,MAAOjzC,KAAK4C,QAAQoyD,kBACpB/3C,MAAOjd,KAAK4C,QAAQmyD,kBACpBrhD,UAAW1T,KAAK4C,QAAQvB,QAAQyzD,eAKpC90D,KAAK4C,QAAQm9C,cACb/V,EAAQktB,aAAe,CACnBh7D,KAAM,KACF,MAAMkzC,EAAWpvC,KAAK4B,SAASwtC,SAAW,WAAa,GAEvD,MAAO,gCAAgCpvC,KAAK4C,QAAQvB,QAAQ0+C,uBAAuB//C,KAAK4C,QAAQqyD,uDAAgE,UAATnpB,MAAqBsD,yCAAgDpvC,KAAK4C,QAAQsyD,2BAA2B,IAM5Ql1D,KAAK4C,QAAQ88C,UAAqB,UAAT5T,IACzB9B,EAAQmtB,iBAAmB,CACvBzjD,UAAW1T,KAAK4C,QAAQvB,QAAQq+C,WAKpC1/C,KAAK4C,QAAQ8xD,QAAU10D,KAAK4C,QAAQ+xD,UAAsC,WAA1B30D,KAAK4B,SAAS8N,SAC9D,IAAI1P,KAAK4B,SAAS0sD,iBAAiBzyD,SAAS+J,IACxC5F,KAAKu2D,gBAAgB51D,KAAK,CACtB,CAACX,KAAK4C,QAAQyoC,YAAazlC,EAAOtL,MAClC,CAAC0F,KAAK4C,QAAQ0oC,YAAa1lC,EAAOqtC,QAItCrtC,EAAOzH,QAAQ,IAKnB6B,KAAK4C,QAAQ4yD,iBACbx1D,KAAK4C,QAAQwnC,OAAS,CAAC1L,EAAOx6B,KAC1B,GAAI0yD,EAASl4B,GAAQ,OAAO,EAE5Bx6B,EAAS,CAAC5J,MAAMokC,EAAO4jB,KAAK5jB,GAAO,GAI3C,IAAI5jC,EAAU,CACVuwC,WAAYrrC,KAAK4C,QAAQyoC,WACzBC,WAAYtrC,KAAK4C,QAAQ0oC,WACzBM,YAAa5rC,KAAK4C,QAAQgpC,YAC1BD,UAAW3rC,KAAK4C,QAAQ+oC,UACxBlB,WAAYzqC,KAAK4C,QAAQ6nC,WACzBC,SAAmB,WAAToB,EAAoB,EAAI9rC,KAAK4C,QAAQ8nC,SAC/CK,QAAS/qC,KAAK4C,QAAQmoC,QACtBX,OAAQpqC,KAAK4C,QAAQwnC,OACrBD,QAASnqC,KAAK4C,QAAQunC,QACtBa,iBAAkBhrC,KAAK4C,QAAQooC,iBAC/BV,aAActqC,KAAK4C,QAAQ0nC,aAC3B0B,aAAchsC,KAAK4C,QAAQvB,QAAQinC,QACnCgE,aAAc,yDAAyDtsC,KAAK4C,QAAQvB,QAAQq9B,UAAU1+B,KAAK4C,QAAQ0yD,cAAgB,WAAa,QAChJppB,qBAAsBlsC,KAAK4C,QAAQvB,QAAQuvC,SAC3C3E,cAAejsC,KAAK4C,QAAQvB,QAAQo0D,gBACpCtpB,UAAoB,UAATL,EAAmB9rC,KAAK4C,QAAQvB,QAAQgE,KAAOrF,KAAK4C,QAAQvB,QAAQq0D,WAC/EtpB,YAAapsC,KAAK4C,QAAQvB,QAAQuE,OAClC6mC,gBAAiBzsC,KAAK4C,QAAQ6pC,gBAC9BvD,eAAgBlpC,KAAK4C,QAAQvB,QAAQ4nC,UACrCe,QAASA,GAiMb,GA9LIhqC,KAAK4C,QAAQ4pC,cACb1xC,EAAQ0xC,YAAcxsC,KAAK4C,QAAQ4pC,aAGvC1xC,EAAQm5C,QAAU,KACVj0C,KAAK4C,QAAQuyD,eAAmD,UAAlCn1D,KAAKw2D,WAAWzxB,SAAS+G,OACvD9rC,KAAKw2D,WAAW7lB,cAAcvzC,MAAMg6D,SAAW,MAC/Cp3D,KAAKw2D,WAAW7lB,cAAchzC,aAAa,iBAAiB,GAC5DqC,KAAKw2D,WAAWzxB,SAASyH,YAAc,GACvCxsC,KAAKw2D,WAAWniB,cAGpBr0C,KAAKoG,eAAe,QAAQ,EAGhCtL,EAAQk5C,OAAS,KACTh0C,KAAK4C,QAAQuyD,eAAmD,UAAlCn1D,KAAKw2D,WAAWzxB,SAAS+G,OACvD9rC,KAAKw2D,WAAW7lB,cAAcvzC,MAAMg6D,SAAW,KAC/Cp3D,KAAKw2D,WAAW7lB,cAAchzC,aAAa,iBAAiB,GAC5DqC,KAAKw2D,WAAWzxB,SAASyH,YAAcxsC,KAAK4C,QAAQ4pC,YACpDxsC,KAAKw2D,WAAWniB,cAIiB,IAAjCr0C,KAAKw2D,WAAW7wD,MAAMhL,QAAkD,WAAlCqF,KAAKw2D,WAAWzxB,SAAS+G,MAC/D7uC,EAAY+C,KAAKw2D,WAAW3lB,QAAQ8R,mBAGxC3iD,KAAKoG,eAAe,OAAO,EAG/BtL,EAAQu8D,OAAUj7D,IAEuB,IAAjC4D,KAAKw2D,WAAW7wD,MAAMhL,QAAkD,WAAlCqF,KAAKw2D,WAAWzxB,SAAS+G,OAC3D1vC,EAAOzB,OAAS,EAChB0C,EAAY2C,KAAKw2D,WAAW3lB,QAAQ8R,mBAEpC1lD,EAAY+C,KAAKw2D,WAAW3lB,QAAQ8R,oBAI5C3iD,KAAKoG,eAAe,OAAQ,CAAEhK,UAAS,EAG3CtB,EAAQk6C,SAAY16C,IAEhBm8D,IAEIz2D,KAAK4C,QAAQ2yD,cAAkD,WAAlCv1D,KAAKw2D,WAAWzxB,SAAS+G,MACtD9rC,KAAKw2D,WAAW94C,OAGpB1d,KAAKoG,eAAe,SAAU,CAAE9L,SAAQ,EAG5CQ,EAAQw8D,eAAkB1mB,IACtByX,EAAqBY,IAEjBjpD,KAAKu3D,QAAQv3D,KAAKu3D,OAAO55D,aAAa,eAAe,GAEzDqC,KAAKoG,eAAe,eAAgB,CAAEwqC,YAAW,EAGrD91C,EAAQ08D,gBAAmB5mB,IACvByX,IACAwC,IAEI7qD,KAAKu3D,QAAQv3D,KAAKu3D,OAAO55D,aAAa,eAAe,GAErDqC,KAAK4C,QAAQ8xD,QAAU10D,KAAK4C,QAAQgyD,YAAc50D,KAAK4C,QAAQ+xD,UAC/D30D,KAAKw2D,WAAW7Z,eAGpB38C,KAAKoG,eAAe,gBAAiB,CAAEwqC,YAAW,EAGtD91C,EAAQ28D,UAAY,CAACn9D,EAAO+K,KACxBrF,KAAKoG,eAAe,UAAW,CAAE9L,QAAO+K,OAAM9K,KAAMyF,KAAKw2D,WAAW17D,QAAQR,IAAS,EAGzFQ,EAAQ48D,aAAe,CAACp9D,EAAO+K,KACvBrF,KAAK4C,QAAQ8xD,QAAU10D,KAAK4C,QAAQgyD,YAAc50D,KAAK4C,QAAQ+xD,WAC/D30D,KAAKw2D,WAAW9Z,aAAapiD,GAC7B0F,KAAKw2D,WAAW5e,kBAGpB53C,KAAKoG,eAAe,aAAc,CAAE9L,QAAO+K,OAAM9K,KAAMyF,KAAKw2D,WAAW17D,QAAQR,IAAS,EAG5FQ,EAAQ68D,OAAS,CAAC78D,EAAS00C,KACvBknB,GAAW,GAEX12D,KAAKoG,eAAe,OAAQ,CAAEtL,UAAS00C,YAAW,EAGtD10C,EAAQymB,OAAS,CACb3b,OAAQ,CAACrL,EAAM+6C,IACJ,QAAQA,EAAO/6C,EAAKyF,KAAK4C,QAAQ0oC,qBAE5CjmC,KAAM,CAAC9K,EAAM+6C,IACF,QAAQA,EAAO/6C,EAAKyF,KAAK4C,QAAQ0oC,qBAE5CiK,cAAe,CAACh7C,EAAM+6C,KAClB,IAAIt1C,KAAK4C,QAAQ4yD,iBAAkBoB,EAASthB,EAAO/6C,EAAKmkC,QAExD,MAAO,sBAAsB1+B,KAAK4C,QAAQvB,QAAQu0D,iBAAiBe,EAAQ,aAAcrhB,EAAO/6C,EAAKmkC,eAAe,EAExH8W,WAAY,CAACj7C,EAAM+6C,IACR,eAAet1C,KAAK4C,QAAQvB,QAAQw0D,cAAcc,EAAQ,aAAcrhB,EAAO/6C,EAAKmkC,gBAE/F+W,YAAa,CAACl7C,EAAM+6C,KAAP,EAGb9F,SAAWj1C,IACP,MAAMi1C,EAAWjzC,SAASC,cAAc,OAIxC,OAHAgzC,EAAS97B,UAAY1T,KAAK4C,QAAQvB,QAAQmuC,SAC1CA,EAAS3iC,YAAYtS,EAAKO,SAEnB00C,CAAQ,EAEnB6F,gBAAiB,CAAC96C,EAAM+6C,IACb,eAAet1C,KAAK4C,QAAQvB,QAAQs0D,kBAAkBrgB,EAAO/6C,EAAK04C,eAE7EjG,QAAS,CAACzyC,EAAM+6C,IACL,eAAet1C,KAAK4C,QAAQvB,QAAQ2rC,4BAE/C4D,SAAU,IACC,eAKX5wC,KAAK4C,QAAQ8xD,SACb55D,EAAQy4C,KAAO/sB,MAAO0e,EAAOhhC,KACzB,MAAM0zD,EAAU53D,KAAK4C,QAAQgpC,YAAYpsC,KAAK,KACxCujD,EAAM,GAAG/iD,KAAK4C,QAAQ8xD,YAAYmD,mBAAmB3yB,cAAkB0yB,IAC7ElB,UAEM9P,MAAM7D,GACPz5C,MAAKu9C,GAAYA,EAAS5X,SAC1B3lC,MAAK2lC,IAIF,GAHA/qC,EAAS+qC,GAGLjvC,KAAK4C,QAAQ8xD,QAAU10D,KAAK4C,QAAQ+xD,UAAsC,WAA1B30D,KAAK4B,SAAS8N,QAAsB,CAEpF,GAAsC,WAAlC1P,KAAKw2D,WAAWzxB,SAAS+G,KACzB9rC,KAAKw2D,WAAWznB,UAAU/uC,KAAKu2D,gBAAgB,IAC/Cv2D,KAAKw2D,WAAWxf,QAAQh3C,KAAKu2D,gBAAgB,GAAGv2D,KAAK4C,QAAQyoC,iBAC1D,CACH,MAAMysB,EAAgB,GAEtB,IAAK,MAAMzyD,KAAQrF,KAAKu2D,gBACpBuB,EAAcn3D,KAAK0E,EAAKrF,KAAK4C,QAAQyoC,aAGzCrrC,KAAKw2D,WAAWthB,WAAWl1C,KAAKu2D,iBAChCv2D,KAAKw2D,WAAW9d,SAASof,EAC5B,CAED93D,KAAKw2D,WAAWuB,eACnB,KAGF7Q,OAAM,KACLhjD,GAAU,GACZ,EAGVpJ,EAAQ4xC,WAAcxH,IAClB,IAAIllC,KAAK4C,QAAQ+xD,SAEjB,QAAI30D,KAAK4C,QAAQ+xD,UAIVzvB,EAAMvqC,OAAS,CAAC,GAK/BqF,KAAKw2D,WAAa,IAAI1mB,GAAU9vC,KAAK4B,SAAU9G,GAG/CkF,KAAK4C,QAAQ4pC,YAAcxsC,KAAK4C,QAAQ4pC,aAAexsC,KAAKw2D,WAAWzxB,SAASyH,YAGhFxsC,KAAKw2D,WAAW7lB,cAAchzC,aAAa,iBAAiB,GAGxDqC,KAAK4C,QAAQiyD,YAAgD,WAAlC70D,KAAKw2D,WAAWzxB,SAAS+G,KAAmB,CACvE,MAAMhjB,EAAQ7sB,EAAY,iDAC1B6sB,EAAMpV,UAAY1T,KAAK4C,QAAQvB,QAAQynB,MACvCA,EAAMrsB,UAAYuD,KAAK4C,QAAQiyD,WAE/B70D,KAAKw2D,WAAW3lB,QAAQhkC,YAAYic,GACpC9oB,KAAKu3D,OAASzuC,CACjB,CAGD,GAAI9oB,KAAK4C,QAAQ8xD,QAAU10D,KAAK4C,QAAQo9C,OAAQ,CAC5C,MAAM1M,EAA6C,UAAlCtzC,KAAKw2D,WAAWzxB,SAAS+G,KACpCksB,EAAW,eAAeh4D,KAAK4C,QAAQvB,QAAQ2+C,0BAA0B1M,0CAAiDtzC,KAAK4C,QAAQo9C,eAC7IhgD,KAAKw2D,WAAW7lB,cAAcsnB,mBAAmB,WAAYD,EAChE,CAGDvB,IAGIz2D,KAAK4C,QAAQ06C,MAAMt9C,KAAKw2D,WAAWlZ,OAGnCt9C,KAAK4C,QAAQolD,cACThoD,KAAKw2D,WAAW93B,MAAMuC,MACtBjhC,KAAK4G,IAAI5G,KAAKw2D,WAAW93B,MAAMuC,KAAM,SAAS,KAC1CjhC,KAAKw2D,WAAW59C,OAAO,IAKnC5Y,KAAKoG,eAAe,aACvB,CAED,OAAA4wC,CAAQ18C,EAAOm+C,GAAS,GACpBz4C,KAAKw2D,WAAWxf,QAAQ18C,EAAOm+C,EAClC,CAED,KAAA7/B,CAAM6/B,GAAS,GACXz4C,KAAKw2D,WAAW59C,MAAM6/B,EACzB,CAED,OAAA/3C,GACIk4B,MAAMl4B,SACT","x_google_ignoreList":[6,7,8,9]}
{"version":3,"file":"uikit.min.js","sources":["../../src/config.js","../../src/utils.js","../../src/core.js","../../src/component.js","../../src/plugins/pikaday/1.8.2/pikaday.js","../../node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","../../node_modules/@floating-ui/core/dist/floating-ui.core.mjs","../../node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs","../../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","../../src/components/modal.js","../../src/plugins/tomselect/2.2.2/tom-select.js","../../src/plugins/tomselect/2.2.2/plugins/remove_button/plugin.js","../../src/plugins/tomselect/2.2.2/plugins/clear_button/plugin.js","../../src/plugins/tomselect/2.2.2/plugins/checkbox_options/plugin.js","../../src/plugins/tomselect/2.2.2/plugins/caret_position/plugin.js","../../src/plugins/tomselect/2.2.2/plugins/input_autogrow/plugin.js","../../src/plugins/tomselect/2.2.2/plugins/no_active_items/plugin.js","../../src/plugins/tomselect/2.2.2/plugins/no_backspace_delete/plugin.js","../../src/uikit.js","../../src/components/accordion.js","../../src/components/autogrow.js","../../src/components/checkbox.js","../../src/components/clipboard.js","../../src/components/datatable.js","../../src/components/datepicker.js","../../src/components/dismiss.js","../../src/components/dropdown.js","../../src/components/dropzone.js","../../src/components/fetch.js","../../src/components/highlight.js","../../src/components/input.js","../../src/components/offcanvas.js","../../src/components/password.js","../../src/components/pincode.js","../../src/components/tab.js","../../src/components/theme.js","../../src/components/toast.js","../../src/components/toggle.js","../../src/components/tooltip.js","../../src/components/scroll.js","../../src/components/scrollspy.js","../../src/components/select.js"],"sourcesContent":["export default {\r\n    prefix: 'uk',\r\n    elementPropName: 'uikitInstance',\r\n};","/**\r\n * Parse nested dataset key\r\n */\r\nexport const parseNestedDatasetKey = (keys, value, data) => {\r\n\tdata = data || {};\r\n\tlet key = keys[0].substr( 0, 1 ).toLowerCase() + keys[0].substr( 1 );\r\n\r\n\tif (!data[key]) {\r\n\t\tdata[key] = {};\r\n\t}\r\n\r\n\tif (keys.length > 1) {\r\n\t\tkeys.splice(0, 1);\r\n\t\tdata[key] = parseNestedDatasetKey(keys, value, data[key]);\r\n\t} else {\r\n\t\tdata[key] = value;\r\n\t}\r\n\r\n\treturn data;\r\n}\r\n\r\n/**\r\n * Parse nested dataset\r\n */\r\nexport const parseNestedDataset = (dataset) => {\r\n\tlet keys = Object.keys(dataset);\r\n\tlet data = {};\r\n    let value = null;\r\n\tfor (let i = 0; i < keys.length; i++) {\r\n\t\tlet key = keys[i];\r\n\t\tlet splat = key.split('-');\r\n\r\n        try {\r\n            value = JSON.parse(dataset[key]);\r\n        } catch (error) {\r\n            value = dataset[key];\r\n        }\r\n\r\n\t\tdata = parseNestedDatasetKey(splat, value, data);\r\n\t}\r\n\r\n\treturn data;\r\n}\r\n\r\n/**\r\n * A native JS extend() function\r\n *\r\n * Returns a new object instead, preserving all of the original objects\r\n * and their properties. Supported back to IE6.\r\n *\r\n * Usage:\r\n * 1.- Pass in the objects to merge as arguments.\r\n * 2.- For a deep extend, set the first argument to `true`.\r\n *\r\n * Example:\r\n * const object1 = {\r\n *     apple: 0,\r\n *     banana: { weight: 52, price: 100 },\r\n *     cherry: 97\r\n * };\r\n * const object2 = {\r\n *     banana: { price: 200 },\r\n *     durian: 100\r\n * };\r\n * const object3 = {\r\n *     apple: 'yum',\r\n *     pie: 3.214,\r\n *     applePie: true\r\n * }\r\n *\r\n * // create a new object by combining two or more objects:\r\n * const newObjectShallow = extend(object1, object2, object3);\r\n * const newObjectDeep = extend(true, object1, object2, object3);\r\n *\r\n * All credits to author.\r\n * https://gomakethings.com/vanilla-javascript-version-of-jquery-extend/\r\n * \r\n * @returns {Object}\r\n */\r\nexport const extend = (...options) => {\r\n    let extended = {};\r\n    let deep = false;\r\n    let i = 0;\r\n    let length = options.length;\r\n\r\n    // check if a deep merge\r\n    if (typeof options[0] === 'boolean') {\r\n        deep = options[0];\r\n        i ++;\r\n    }\r\n\r\n    // merge the object into the extended object\r\n    let merge = (obj) => {\r\n        for (const prop in obj) if (Object.prototype.hasOwnProperty.call(obj, prop)) {\r\n            // if deep merge and property is an object, merge properties\r\n            if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\r\n                extended[prop] = extend(true, extended[prop], obj[prop]);\r\n            } else {\r\n                extended[prop] = obj[prop];\r\n            }\r\n        }\r\n    };\r\n\r\n    // loop through each object and conduct a merge\r\n    for (; i < length; i++) {\r\n        let obj = options[i];\r\n        merge(obj);\r\n    }\r\n\r\n    return extended;\r\n};\r\n\r\n/**\r\n * Deep clone object\r\n * \r\n * @param {Object} obj \r\n * @returns {Object}\r\n */\r\nexport const deepClone = (obj) => {\r\n    if (obj === null) return null;\r\n\r\n    let clone = Object.assign({}, obj);\r\n\r\n    Object.keys(clone).forEach((key) => {\r\n        return clone[key] = typeof obj[key] === 'object' ? deepClone(obj[key]) : obj[key];\r\n    });\r\n\r\n    if (Array.isArray(obj)) {\r\n        clone.length = obj.length;\r\n\r\n        return Array.from(clone);\r\n    }\r\n\r\n    return clone;\r\n};\r\n\r\n/**\r\n * Replace object keys\r\n */\r\nexport const replaceObjectKeys = (object, search, replace = '') => {\r\n\tobject = Object.entries(object).map(([key, value]) => {\r\n        key = key == search ? key : key.replace(search, replace)\r\n        key = key.charAt(0).toLowerCase() + key.slice(1);\r\n        return [key, value];\r\n    });\r\n\r\n\treturn Object.fromEntries(object);\r\n}\r\n\r\n/**\r\n * Check if string is a valid html string\r\n */\r\nexport const isHtmlString = (string) => {\r\n\tif (typeof string === 'string' && string.indexOf('<') > -1) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\n/**\r\n * Check if element is visible\r\n */\r\nexport const isVisible = (element) => {\r\n    return !!(element.offsetWidth || element.offsetHeight || element.getClientRects().length);\r\n}\r\n\r\n/**\r\n * Convert HTML string to DOM node\r\n * \r\n * @param {string} html\r\n * @returns {?HTMLElement}\r\n */\r\nexport const stringToDom = (html) => {\r\n\tif (html instanceof HTMLElement) {\r\n        return html;\r\n    }\r\n\r\n    if (isHtmlString(html)) {\r\n        const template = document.createElement('template');\r\n        template.innerHTML = html.trim();\r\n\r\n        return template.content.firstChild;\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n/**\r\n * Escape HTML tags\r\n */\r\nexport const escapeHtml = (html) => {\r\n\treturn html.replace(\r\n\t\t/[&<>'\"]/g,\r\n\t\ttag =>\r\n\t\t\t({\r\n\t\t\t'&': '&amp;',\r\n\t\t\t'<': '&lt;',\r\n\t\t\t'>': '&gt;',\r\n\t\t\t\"'\": '&#39;',\r\n\t\t\t'\"': '&quot;'\r\n\t\t\t}[tag] || tag)\r\n\t\t);\r\n}\r\n\r\n/**\r\n * Unescape HTML tags\r\n */\r\nexport const unescapeHtml = (html) => {\r\n\treturn html.replace(\r\n\t\t/&amp;|&lt;|&gt;|&#39;|&quot;/g,\r\n\t\ttag =>\r\n\t\t\t({\r\n\t\t\t'&amp;': '&',\r\n\t\t\t'&lt;': '<',\r\n\t\t\t'&gt;': '>',\r\n\t\t\t'&#39;': \"'\",\r\n\t\t\t'&quot;': '\"'\r\n\t\t\t}[tag] || tag)\r\n\t\t);\r\n}\r\n\r\n/**\r\n * Trim HTML starting white spaces\r\n */\r\nexport const trimHtml = (html) => {\r\n\tlet matches = html.match(/ +/g);\r\n    let initial = matches[0].length;\r\n    let regex = RegExp(`\\n {${initial}}`, 'g');\r\n\r\n    return html.replace(regex, '\\n').trim();\r\n}\r\n\r\n/**\r\n * Checks if value is a number\r\n */\r\nexport const isNumber = (value) => {\r\n    return !isNaN(parseFloat(value)) && isFinite(value);\r\n}\r\n\r\n/**\r\n * Show element\r\n */\r\nexport const showElement = (element, display = 'inherit') => {\r\n    if (!element) return;\r\n\r\n    element.style.display = display;\r\n}\r\n\r\n/**\r\n * Hide element\r\n */\r\nexport const hideElement = (element, display = 'none') => {\r\n    if (!element) return;\r\n\r\n    element.style.display = display;\r\n}\r\n\r\n/**\r\n * Set styles\r\n */\r\nexport const styles = (element, styles = {}) => {\r\n    if (!element) return;\r\n\r\n    for (const styleName in styles) {\r\n        element.style[styleName] = styles[styleName];\r\n    }\r\n}\r\n\r\n/**\r\n * Set multiple attributes on element\r\n */\r\nexport const setAttributes = (element, attributes = {}) => {\r\n    if (!element) return;\r\n\r\n    for (const attribute in attributes) {\r\n        element.setAttribute(kebabCase(attribute), attributes[attribute]);\r\n    }\r\n}\r\n\r\n/**\r\n * Remove multiple attributes from element\r\n */\r\nexport const removeAttributes = (element, attributes = []) => {\r\n    if (!element) return;\r\n\r\n    for (const attribute of attributes) {\r\n        element.removeAttribute(kebabCase(attribute));\r\n    }\r\n}\r\n\r\n/**\r\n * Add class\r\n */\r\nexport const addClass = (element, classNames) => {\r\n    if (!element || !classNames) return;\r\n\r\n    classNames = classNames ? classNames.split(' ') : [];\r\n    element.classList.add(...classNames);\r\n}\r\n\r\n/**\r\n * Remove class\r\n */\r\nexport const removeClass = (element, classNames) => {\r\n    if (!element || !classNames) return;\r\n\r\n    classNames = classNames ? classNames.split(' ') : [];\r\n    element.classList.remove(...classNames);\r\n}\r\n\r\n/**\r\n * Adds a color-scheme meta tag to the document head\r\n */\r\nexport const createColorSchemeMeta = (theme) => {\r\n    const themeMetaTag = document.querySelector('meta[name=\"color-scheme\"]');\r\n    const meta = document.createElement('meta');\r\n\r\n    if (!themeMetaTag) {\r\n        meta.name = 'color-scheme';\r\n        meta.content = theme;\r\n        document.head.appendChild(meta);\r\n\r\n        return;\r\n    }\r\n\r\n    themeMetaTag.setAttribute('content', theme);\r\n}\r\n\r\n/**\r\n * Sets the dark mode theme\r\n */\r\nexport const setTheme = (theme = 'dark') => {\r\n\tdocument.documentElement.classList.add(theme);\r\n    createColorSchemeMeta(theme);\r\n}\r\n\r\n/**\r\n * Removes the dark mode theme\r\n */\r\nexport const removeTheme = (theme = 'dark') => {\r\n\tdocument.documentElement.classList.remove(theme);\r\n    createColorSchemeMeta('light');\r\n}\r\n\r\n/**\r\n * Returns the first element that matches the selector\r\n * \r\n * @param {(string|HTMLElement)} selector\r\n * @param {HTMLElement} context\r\n * @returns {?HTMLElement}\r\n */\r\nexport const getElement = (selector, context = document) => {\r\n\tif (selector instanceof HTMLElement) {\r\n        return selector;\r\n    }\r\n\r\n    return typeof selector === 'string' \r\n        ? context.querySelector(selector) \r\n        : null;\r\n}\r\n\r\n/**\r\n * Returns multiple elements that match the selector\r\n * \r\n * @param {(string|NodeList)} selector\r\n * @param {HTMLElement} context\r\n * @returns {NodeList}\r\n */\r\nexport const getElements = (selector, context = document) => {\r\n\tif (selector instanceof NodeList) {\r\n        return selector;\r\n    }\r\n\r\n    return context.querySelectorAll(selector);\r\n}\r\n\r\n/**\r\n * Capitalize the first letter of a string\r\n */\r\nexport const capitalize = string => {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\n/**\r\n * Convert string to camel case\r\n */\r\nexport const camelCase = string => {\r\n    return string\r\n        .replace(/(?:^\\w|[A-Z]|\\b\\w)/g, (word, index) => {\r\n            return index === 0 ? word.toLowerCase() : word.toUpperCase();\r\n        })\r\n        .replace(/\\s+/g, '');\r\n}\r\n\r\n/**\r\n * Convert string to kebab case\r\n */\r\nexport const kebabCase = string => {\r\n    return string\r\n        .replace(/[A-Z]/g, (letter) => `-${letter.toLowerCase()}`);\r\n}\r\n\r\n/**\r\n * Converts a string to a URL-friendly slug\r\n */\r\nexport const slug = string => {\r\n    return string\r\n        .toLowerCase()\r\n        .trim()\r\n        .replace(/[^\\w\\s-]/g, '')\r\n        .replace(/[\\s_-]+/g, '-')\r\n        .replace(/^-+|-+$/g, '');\r\n}\r\n\r\n/**\r\n * Shuffle a string \r\n * \r\n * @param {String} string \r\n */\r\nexport const shuffle = string => {\r\n    return [...string].sort(()=>Math.random()-.5).join('');\r\n}\r\n\r\n/**\r\n * Random string generator \r\n * \r\n * @param {Number} length Accepts a number between 1 and 16\r\n */\r\nexport const randomString = (length) => {\r\n    length = length >= 1 && length <= 16 ? length : 16; \r\n\r\n    const string = String(\r\n        Date.now().toString(24) + Math.random().toString(24)\r\n    ).replace(/\\./g, '');\r\n\r\n    return string.substring(string.length - length);\r\n}\r\n\r\n/**\r\n * Random number generator \r\n * \r\n * @param {Number} length Accepts a number between 1 and 24\r\n */\r\nexport const randomNumber = (length) => {\r\n    length = length >= 1 && length <= 24 ? length : 24; \r\n\r\n    let string = String(\r\n        Date.now().toString() + Math.random().toString()\r\n    ).replace(/\\./g, '');\r\n    string = shuffle(string);\r\n\r\n    return string.substring(string.length - length);\r\n}","import config from './config.js';\r\nimport { extend, getElement, kebabCase } from './utils.js';\r\n\r\nwindow.UIkit = window.UIkit || {};\r\n\r\nHTMLElement.prototype.storeUikitInstance = function(component, instance) {\r\n    if (!this[config.elementPropName]) {\r\n        this[config.elementPropName] = {};\r\n    }\r\n\r\n    this[config.elementPropName][component] = instance;\r\n};\r\n\r\nUIkit.config = config;\r\nUIkit.globalConfig = {};\r\nUIkit.store = {};\r\nUIkit.events = {};\r\nUIkit.components = [];\r\n\r\nUIkit.setConfig = (options) => {\r\n    options = options instanceof Object ? options : {};\r\n    UIkit.globalConfig = extend(UIkit.globalConfig, options);\r\n};\r\n\r\nUIkit.register = (components) => {\r\n    for (const name in components) {\r\n        UIkit[name] = (...args) => {\r\n            const element = args[0] instanceof HTMLElement \r\n                ? args[0] \r\n                : typeof args[0] === 'string' \r\n                ? getElement(args[0]) \r\n                : null;\r\n    \r\n            const options = (args[1] instanceof Object) && !(args[1] instanceof HTMLElement) \r\n                ? args[1] \r\n                : args.length === 1 && (args[0] instanceof Object) && !(args[0] instanceof HTMLElement) \r\n                ? args[0] \r\n                : undefined;\r\n    \r\n            if (element) {\r\n                if (element[config.elementPropName]) {\r\n                    if ((!options || Object.keys(options).length === 0) && element[config.elementPropName][name]) {\r\n                        return element[config.elementPropName][name];\r\n                    }\r\n        \r\n                    if (options && Object.keys(options).length > 0 && element[config.elementPropName][name]) {\r\n                        element[config.elementPropName][name]?.destroy();\r\n                    }\r\n                }\r\n            }\r\n        \r\n            const instance = (args[0] instanceof Object) && !(args[0] instanceof HTMLElement) \r\n                ? new components[name](options)\r\n                : new components[name](element, options);\r\n    \r\n            if (element) {\r\n                element.storeUikitInstance(name, instance);\r\n            }\r\n        \r\n            return instance;\r\n        };\r\n\r\n        // Add to autoload list\r\n        UIkit.components.push(name);\r\n    }\r\n};\r\n\r\nUIkit.autoload = (filter, context) => {\r\n    context = context ?? document;\r\n    const components = filter instanceof Array ? filter : UIkit.components;\r\n\r\n    components.forEach((component) => {\r\n        const componentName = kebabCase(component);\r\n        const elements = context.querySelectorAll(`[data-${config.prefix}-${componentName}=true]`);\r\n\r\n        elements.forEach((element) => {\r\n            try {\r\n                window.UIkit[component](element);\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        });\r\n    });\r\n};","import { \r\n    getElement, \r\n    parseNestedDataset, \r\n    replaceObjectKeys, \r\n    extend, \r\n    addClass, \r\n    removeClass, \r\n    capitalize \r\n} from './utils.js';\r\n\r\nexport default class Component {\r\n    constructor(options) {\r\n\r\n        /**\r\n         * Component data object.\r\n         */\r\n        this._component = extend(true, {\r\n            name: null,\r\n            element: null,\r\n            defaultConfig: {\r\n                classes: {},\r\n                debug: false,\r\n                maxMobileWidth: '640px'\r\n            },\r\n            config: {},\r\n            storage: false,\r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        }, options);\r\n        \r\n        /**\r\n         * The global component config.\r\n         */\r\n        const globalConfig = UIkit.globalConfig[this._component.name] || {};\r\n        \r\n        /**\r\n         * The component element.\r\n         */\r\n        this._element = getElement(this._component.element);\r\n        \r\n        /**\r\n         * The timeout ID.\r\n         */\r\n        this._timeout = undefined;\r\n\r\n        /**\r\n         * Get component config from dataset.\r\n         */\r\n        const getDatasetConfig = () => {\r\n            const config = {};\r\n            let dataset = this._element ? this._element.dataset : null;\r\n            dataset = dataset ? parseNestedDataset(dataset) : {};\r\n\r\n            for (const key in dataset) {\r\n                if (key.substring(0, this._component.name.length) === this._component.name) {\r\n                    config[key] = dataset[key];\r\n                }\r\n            }\r\n\r\n            return replaceObjectKeys(config, this._component.name);\r\n        };\r\n\r\n        /**\r\n         * Transforms config\r\n         * \r\n         * @param {object} config\r\n         * @returns {object}\r\n         */\r\n        const configFactory = (config) => {\r\n            config = config instanceof Object ? config : {};\r\n            options = {\r\n                classes: {}\r\n            };\r\n\r\n            if (config['removeClasses'] instanceof Object) {         \r\n                for (const key in config['removeClasses']) {\r\n                    const classes = config['removeClasses'][key].split(' ') || [];\r\n                    const existingClasses = typeof this._config.classes[key] === 'string' \r\n                        ? this._config.classes[key].split(' ') \r\n                        : [];\r\n\r\n                    options.classes[key] = existingClasses.filter(x => !classes.includes(x)).join(' ');\r\n                    this._config.classes[key] = options.classes[key] !== '' ? options.classes[key] : null;\r\n                }\r\n\r\n                delete config['removeClasses'];\r\n            }\r\n\r\n            if (config['addClasses'] instanceof Object) {         \r\n                for (const key in config['addClasses']) {\r\n                    const classes = config['addClasses'][key].split(' ') || [];\r\n                    const existingClasses = typeof this._config.classes[key] === 'string' \r\n                        ? this._config.classes[key].split(' ') \r\n                        : [];\r\n\r\n                    const filteredClasses = classes.filter(x => !existingClasses.includes(x));\r\n                    this._config.classes[key] = filteredClasses.length > 0 \r\n                        ? this._config.classes[key] + ' ' + filteredClasses.join(' ') \r\n                        : this._config.classes[key];\r\n                    options.classes[key] = this._config.classes[key];\r\n                }\r\n\r\n                delete config['addClasses'];\r\n            }\r\n\r\n            for (const key in config) {\r\n                options[key] = config[key];\r\n            }\r\n   \r\n            return options;\r\n        };\r\n\r\n        /**\r\n         * Merge all configurations.\r\n         */\r\n        this._config = extend(true, this._component.defaultConfig, globalConfig);\r\n\r\n        this._config = extend(\r\n            true,\r\n            this._config,\r\n            configFactory(this._component.config),\r\n            configFactory(getDatasetConfig())\r\n        );\r\n\r\n        /**\r\n         * Lock the listed config to the provided values.\r\n         * \r\n         * @param {object} config\r\n         */\r\n        this._lockConfig = (config) => {\r\n            config = config instanceof Object ? config : {};\r\n\r\n            this._config = extend(true, this._config, config);\r\n        };\r\n\r\n        /**\r\n         * Get the current transition state.\r\n         */\r\n        this._isTransitioning = false;\r\n\r\n        /**\r\n         * Events storage.\r\n         */\r\n        this._events = {};\r\n\r\n        /**\r\n         * Allow local or session storage.\r\n         */\r\n        if (this._component.storage) {\r\n            this._config = extend({\r\n                storage: 'local',\r\n            }, this._config);\r\n\r\n            this._storage = {\r\n                set: (key, value) => {\r\n                    key = `${this._component.name}_${key}`;\r\n                    window[`${this._config.storage}Storage`].setItem(key, value);\r\n                },\r\n                get: (key) => {\r\n                    key = `${this._component.name}_${key}`;\r\n                    \r\n                    return window[`${this._config.storage}Storage`].getItem(key);\r\n                },\r\n                remove: (key) => {\r\n                    key = `${this._component.name}_${key}`;\r\n                    window[`${this._config.storage}Storage`].removeItem(key);\r\n                }\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Enable the use of enter transitions config for component.\r\n         */\r\n        if (this._component.transitions.enter) {\r\n            this._config = extend({\r\n                transitionEnter: null,\r\n                transitionEnterStart: null,\r\n                transitionEnterEnd: null\r\n            }, this._config);\r\n        }\r\n\r\n        /**\r\n         * Enable the use of leave transitions config for component.\r\n         */\r\n        if (this._component.transitions.leave) {\r\n            this._config = extend({\r\n                transitionLeave: null,\r\n                transitionLeaveStart: null,\r\n                transitionLeaveEnd: null\r\n            }, this._config);\r\n        }\r\n\r\n        /**\r\n         * Check if component is using the transition options.\r\n         */\r\n        this._hasTransition = this._config.transitionEnter || this._config.transitionLeave \r\n            ? true \r\n            : false;\r\n\r\n        /**\r\n         * Run a transition/animation.\r\n         * \r\n         * @param {string} type transitionEnter/transitionLeave\r\n         * @param {HTMLElement} element \r\n         * @param {function} callback\r\n         * @returns \r\n         */\r\n        this._transition = (type, element, callback) => {\r\n            let transitionEvent = 'transitionend';\r\n            callback =  typeof callback === 'function' ? callback : () => void 0;\r\n\r\n            if (!this._config[`${type}`]) {\r\n                return false;\r\n            }\r\n\r\n            const transitionCleanup = (element) => {\r\n                const transitions = ['transitionEnter', 'transitionLeave'];\r\n    \r\n                for (const transition of transitions) {\r\n                    removeClass(element, this._config[`${transition}`]);\r\n                    removeClass(element, this._config[`${transition}Start`]);\r\n                    removeClass(element, this._config[`${transition}End`]);\r\n                }\r\n            };\r\n\r\n            transitionCleanup(element);\r\n            addClass(element, this._config[`${type}`]);\r\n            addClass(element, this._config[`${type}Start`]);\r\n\r\n            let animationDuration = parseFloat(window.getComputedStyle(element).animationDuration);\r\n\r\n            transitionEvent = isNaN(animationDuration) || animationDuration <= 0 \r\n                ? transitionEvent \r\n                : 'animationend';\r\n            \r\n            const _handler = (e) => {\r\n                this._isTransitioning = false;\r\n                callback(e);\r\n                removeClass(element, this._config[`${type}`]);\r\n                removeClass(element, this._config[`${type}End`]);\r\n            }\r\n\r\n            this._one(element, transitionEvent.replace('end', 'start'), () => {\r\n                this._isTransitioning = true;\r\n            });\r\n \r\n            this._one(element, transitionEvent, _handler);\r\n\r\n            window.requestAnimationFrame(() => {\r\n                removeClass(element, this._config[`${type}Start`]);\r\n                addClass(element, this._config[`${type}End`]);\r\n            });\r\n\r\n            return true;\r\n        };\r\n\r\n        /**\r\n         * Store events.\r\n         * \r\n         * @param {HTMLElement} target \r\n         * @param {string} eventName \r\n         * @param {function} handler \r\n         * @param {boolean|object} options \r\n         * @returns \r\n         */\r\n        this._storeEvent = (target, eventName, handler, options) => {\r\n            options = typeof options === 'boolean' ? { useCapture: options } : options;\r\n            const eventItem = extend({\r\n                once: false,\r\n                passive: false,\r\n                useCapture: false,\r\n                type: eventName,\r\n                listener: handler,\r\n                target: target\r\n            }, options);\r\n\r\n            if (target === window && !UIkit.events[this._component.name]) {\r\n                UIkit.events[this._component.name]= {};\r\n                UIkit.events[this._component.name][eventName] = [ eventItem ];\r\n\r\n                return;\r\n            }\r\n\r\n            if (target === window && UIkit.events[this._component.name][eventName]) {\r\n                UIkit.events[this._component.name][eventName].push(eventItem);\r\n\r\n                return;\r\n            }\r\n\r\n            if (!this._events[eventName]) {\r\n                this._events[eventName] = [ eventItem ];\r\n\r\n                return;\r\n            }\r\n\r\n            this._events[eventName].push(eventItem);\r\n        };\r\n\r\n        /**\r\n         * Remove stored events.\r\n         * \r\n         * @param {string} eventName \r\n         * @param {HTMLElement} target \r\n         */\r\n        this._removeEvent = (eventName = null, target = null) => {\r\n            for (const name in this._events) {\r\n\r\n                if (eventName !== null && eventName !== name) {\r\n                    continue;\r\n                }\r\n\r\n                for (const item of this._events[name]) {\r\n\r\n                    item.target.removeEventListener(item.type, item.listener, {\r\n                        once: item.once,\r\n                        passive: item.passive,\r\n                        useCapture: item.useCapture\r\n                    });\r\n\r\n                    if (target !== null && target === item.target) {\r\n                        this._events[name].splice(this._events[name].indexOf(item), 1);\r\n\r\n                        if (this._events[name].length === 0) {\r\n                            delete this._events[name];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Generate a prefixed event name.\r\n         * \r\n         * @param {string} eventName \r\n         * @returns \r\n         */\r\n        this._prefixedEventName = (eventName) => {\r\n            return UIkit.config.prefix + '.' + this._component.name + '.' + eventName;\r\n        };\r\n\r\n        /**\r\n         * Create new configs to be used by the component.\r\n         * \r\n         * @param {array} configNames \r\n         * @param {array} allowedOptions \r\n         * @returns \r\n         */\r\n        this._createConfig = (configNames = [], allowedOptions = []) => {\r\n            configNames = configNames instanceof Array ? configNames : [];\r\n            allowedOptions = allowedOptions instanceof Array ? allowedOptions : [];\r\n            configNames.push('');\r\n            const config = {};\r\n            const items = {};\r\n\r\n            for (let name of configNames) {\r\n                name = name.replace(/[^a-z0-9]/gi, '').toLowerCase().trim();\r\n                items[name] = {};\r\n\r\n                for (let option of allowedOptions) {\r\n                    const newName = name !== '' ? name + capitalize(option) : option;\r\n                    config[newName] = null;\r\n                    items[name][option] = name == '' ? option : newName;\r\n                }\r\n            }\r\n\r\n            this._config = extend(\r\n                true,\r\n                config,\r\n                this._config,\r\n                getDatasetConfig()\r\n            );\r\n\r\n            return items;\r\n        };\r\n\r\n        /**\r\n         * Checks for mobile devices\r\n         */\r\n        this._isMobile = () => {\r\n            return window.matchMedia(`(max-width: ${this._config.maxMobileWidth})`).matches;\r\n        };\r\n\r\n        /**\r\n         * Shows debugging messages when turned on.\r\n         * \r\n         * @param {string} message \r\n         * @param {string} type log, error, info, warn\r\n         */\r\n        this._debug = (message, type = 'error') => {\r\n            if (!this._config.debug) return;\r\n\r\n            console[type](message);\r\n        };\r\n\r\n        /**\r\n         * Remove stored instance on element.\r\n         * \r\n         * @param {HTMLElement} context \r\n         * @param {string} component \r\n         */\r\n        this._removeInstance = (element, component) => {\r\n            if (!element) return;\r\n\r\n            if (element[UIkit.config.elementPropName]) {\r\n                delete element[UIkit.config.elementPropName][component];\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Dispatch custom event.\r\n         * \r\n         * @param {string} eventName \r\n         * @param {?object} detail \r\n         * @param {?HTMLElement} context \r\n         */\r\n        this._dispatchEvent = (eventName, detail, context) => {\r\n            const element = context || this._element;\r\n            const callbackName = 'on' + capitalize(eventName);\r\n            const callback = this._config[callbackName];\r\n            detail = detail instanceof Object \r\n                ? { detail: { self: this, ...detail } } \r\n                : { detail: { self: this } } ;\r\n\r\n            if (callback instanceof Function) {\r\n                callback(detail.detail);\r\n            }\r\n\r\n            if (!element) return;\r\n            \r\n            setTimeout(() => {\r\n                element.dispatchEvent(new CustomEvent(this._prefixedEventName(eventName), detail));\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Add event listener.\r\n         * \r\n         * @param {HTMLElement} target \r\n         * @param {string} eventName \r\n         * @param {function} handler \r\n         * @param {(boolean|object)} options \r\n         */\r\n        this._on = (target, eventName, handler, options = false) => {\r\n            if (!target) return;\r\n\r\n            target.addEventListener(eventName, handler, options);\r\n            \r\n            setTimeout(() => {\r\n                this._storeEvent(target, eventName, handler, options);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Remove event listener.\r\n         * \r\n         * @param {HTMLElement} target \r\n         * @param {string} eventName \r\n         * @param {function} handler \r\n         * @param {(boolean|object)} options \r\n         */\r\n        this._off = (target, eventName, handler, options = false) => {\r\n            if (!target) return;\r\n\r\n            this._removeEvent(eventName, target);\r\n            target.removeEventListener(eventName, handler, options);\r\n        }\r\n\r\n        /**\r\n         * Add event listener to be executed once.\r\n         * \r\n         * @param {HTMLElement} target \r\n         * @param {string} eventName \r\n         * @param {function} handler \r\n         */\r\n        this._one = (target, eventName, handler) => {\r\n            if (!target) return;\r\n\r\n            target.addEventListener(eventName, handler, { once : true });\r\n        }\r\n\r\n        /**\r\n         * Timer to execute to call a function.\r\n         * \r\n         * @param {function} handler \r\n         * @param {number} timeout \r\n         */\r\n        this._setTimeout = (handler, timeout) => {\r\n            clearTimeout(this._timeout);\r\n            this._timeout = setTimeout(handler, timeout);\r\n        }\r\n\r\n        if (UIkit.events[this._component.name]) {  \r\n            for (const key in UIkit.events[this._component.name]) {\r\n                const eventArray = UIkit.events[this._component.name][key];\r\n\r\n                for (const item of eventArray) {\r\n        \r\n                    item.target.removeEventListener(item.type, item.listener, {\r\n                        once: item.once,\r\n                        passive: item.passive,\r\n                        useCapture: item.useCapture\r\n                    });\r\n        \r\n                    eventArray.splice(eventArray.indexOf(item), 1);\r\n\r\n                    if (eventArray.length === 0) {\r\n                        delete UIkit.events[this._component.name];\r\n                    }\r\n                }\r\n            }          \r\n        }\r\n    }\r\n\r\n    /**\r\n     * Removes all events and stored data.\r\n     */\r\n    destroy() {\r\n        this._removeEvent();\r\n        this._removeInstance(this._element, this._component.name);\r\n    }\r\n\r\n    /**\r\n     * Retrieves component options\r\n     * \r\n     * @param {string} key \r\n     * @returns\r\n     */\r\n    config(key = null) {\r\n        if (key) {\r\n            return this._config[key];\r\n        }\r\n\r\n        return this._config;\r\n    }\r\n\r\n    /**\r\n     * Add event listener.\r\n     * \r\n     * @param {string} eventName \r\n     * @param {function} handler \r\n     * @param {(boolean|object)} options \r\n     */\r\n    on(eventName, handler, options = false) {\r\n        if (!this._element) return;\r\n\r\n        this._element.addEventListener(this._prefixedEventName(eventName), handler, options);\r\n        this._storeEvent(this._element, this._prefixedEventName(eventName), handler, options);\r\n    }\r\n\r\n    /**\r\n     * Remove event listener.\r\n     * \r\n     * @param {string} eventName \r\n     * @param {function} handler \r\n     * @param {(boolean|object)} options \r\n     */\r\n    off(eventName, handler, options = false) {\r\n        if (!this._element) return;\r\n\r\n        if (handler === undefined && options === false) {\r\n            this._removeEvent(this._prefixedEventName(eventName));\r\n        }\r\n\r\n        this._element.removeEventListener(this._prefixedEventName(eventName), handler, options);\r\n    }\r\n\r\n    /**\r\n     * Add event listener to be executed once.\r\n     * \r\n     * @param {string} eventName \r\n     * @param {function} handler \r\n     */\r\n    one(eventName, handler) {\r\n        if (!this._element) return;\r\n        \r\n        this._element.addEventListener(this._prefixedEventName(eventName), handler, { once : true });\r\n    }\r\n}","/*!\r\n * Pikaday\r\n *\r\n * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday\r\n */\r\n\r\n(function (root, factory)\r\n{\r\n    'use strict';\r\n\r\n    var moment;\r\n    if (typeof exports === 'object') {\r\n        // CommonJS module\r\n        // Load moment.js as an optional dependency\r\n        try { moment = require('moment'); } catch (e) {}\r\n        module.exports = factory(moment);\r\n    } else if (typeof define === 'function' && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define(function (req)\r\n        {\r\n            // Load moment.js as an optional dependency\r\n            var id = 'moment';\r\n            try { moment = req(id); } catch (e) {}\r\n            return factory(moment);\r\n        });\r\n    } else {\r\n        root.Pikaday = factory(root.moment);\r\n    }\r\n}(this || window, function (moment)\r\n{\r\n    'use strict';\r\n\r\n    /**\r\n     * feature detection and helper functions\r\n     */\r\n    var hasMoment = typeof moment === 'function',\r\n\r\n    hasEventListeners = !!window.addEventListener,\r\n\r\n    document = window.document,\r\n\r\n    sto = window.setTimeout,\r\n\r\n    addEvent = function(el, e, callback, capture)\r\n    {\r\n        if (hasEventListeners) {\r\n            el.addEventListener(e, callback, !!capture);\r\n        } else {\r\n            el.attachEvent('on' + e, callback);\r\n        }\r\n    },\r\n\r\n    removeEvent = function(el, e, callback, capture)\r\n    {\r\n        if (hasEventListeners) {\r\n            el.removeEventListener(e, callback, !!capture);\r\n        } else {\r\n            el.detachEvent('on' + e, callback);\r\n        }\r\n    },\r\n\r\n    trim = function(str)\r\n    {\r\n        return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g,'');\r\n    },\r\n\r\n    hasClass = function(el, cn)\r\n    {\r\n        return (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1;\r\n    },\r\n\r\n    addClass = function(el, cn)\r\n    {\r\n        if (!hasClass(el, cn)) {\r\n            el.className = (el.className === '') ? cn : el.className + ' ' + cn;\r\n        }\r\n    },\r\n\r\n    removeClass = function(el, cn)\r\n    {\r\n        el.className = trim((' ' + el.className + ' ').replace(' ' + cn + ' ', ' '));\r\n    },\r\n\r\n    isArray = function(obj)\r\n    {\r\n        return (/Array/).test(Object.prototype.toString.call(obj));\r\n    },\r\n\r\n    isDate = function(obj)\r\n    {\r\n        return (/Date/).test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\r\n    },\r\n\r\n    isWeekend = function(date)\r\n    {\r\n        var day = date.getDay();\r\n        return day === 0 || day === 6;\r\n    },\r\n\r\n    isLeapYear = function(year)\r\n    {\r\n        // solution lifted from date.js (MIT license): https://github.com/datejs/Datejs\r\n        return ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0);\r\n    },\r\n\r\n    getDaysInMonth = function(year, month)\r\n    {\r\n        return [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\r\n    },\r\n\r\n    setToStartOfDay = function(date)\r\n    {\r\n        if (isDate(date)) date.setHours(0,0,0,0);\r\n    },\r\n\r\n    compareDates = function(a,b)\r\n    {\r\n        // weak date comparison (use setToStartOfDay(date) to ensure correct result)\r\n        return a.getTime() === b.getTime();\r\n    },\r\n\r\n    extend = function(to, from, overwrite)\r\n    {\r\n        var prop, hasProp;\r\n        for (prop in from) {\r\n            hasProp = to[prop] !== undefined;\r\n            if (hasProp && typeof from[prop] === 'object' && from[prop] !== null && from[prop].nodeName === undefined) {\r\n                if (isDate(from[prop])) {\r\n                    if (overwrite) {\r\n                        to[prop] = new Date(from[prop].getTime());\r\n                    }\r\n                }\r\n                else if (isArray(from[prop])) {\r\n                    if (overwrite) {\r\n                        to[prop] = from[prop].slice(0);\r\n                    }\r\n                } else {\r\n                    to[prop] = extend({}, from[prop], overwrite);\r\n                }\r\n            } else if (overwrite || !hasProp) {\r\n                to[prop] = from[prop];\r\n            }\r\n        }\r\n        return to;\r\n    },\r\n\r\n    fireEvent = function(el, eventName, data)\r\n    {\r\n        var ev;\r\n\r\n        if (document.createEvent) {\r\n            ev = document.createEvent('HTMLEvents');\r\n            ev.initEvent(eventName, true, false);\r\n            ev = extend(ev, data);\r\n            el.dispatchEvent(ev);\r\n        } else if (document.createEventObject) {\r\n            ev = document.createEventObject();\r\n            ev = extend(ev, data);\r\n            el.fireEvent('on' + eventName, ev);\r\n        }\r\n    },\r\n\r\n    adjustCalendar = function(calendar) {\r\n        if (calendar.month < 0) {\r\n            calendar.year -= Math.ceil(Math.abs(calendar.month)/12);\r\n            calendar.month += 12;\r\n        }\r\n        if (calendar.month > 11) {\r\n            calendar.year += Math.floor(Math.abs(calendar.month)/12);\r\n            calendar.month -= 12;\r\n        }\r\n        return calendar;\r\n    },\r\n\r\n    /**\r\n     * defaults and localisation\r\n     */\r\n    defaults = {\r\n\r\n        // bind the picker to a form field\r\n        field: null,\r\n\r\n        // automatically show/hide the picker on `field` focus (default `true` if `field` is set)\r\n        bound: undefined,\r\n\r\n        // data-attribute on the input field with an aria assistance text (only applied when `bound` is set)\r\n        ariaLabel: 'Use the arrow keys to pick a date',\r\n\r\n        // position of the datepicker, relative to the field (default to bottom & left)\r\n        // ('bottom' & 'left' keywords are not used, 'top' & 'right' are modifier on the bottom/left position)\r\n        position: 'bottom left',\r\n\r\n        // automatically fit in the viewport even if it means repositioning from the position option\r\n        reposition: true,\r\n\r\n        // the default output format for `.toString()` and `field` value\r\n        format: 'YYYY-MM-DD',\r\n\r\n        // the toString function which gets passed a current date object and format\r\n        // and returns a string\r\n        toString: null,\r\n\r\n        // used to create date object from current input string\r\n        parse: null,\r\n\r\n        // the initial date to view when first opened\r\n        defaultDate: null,\r\n\r\n        // make the `defaultDate` the initial selected value\r\n        setDefaultDate: false,\r\n\r\n        // first day of week (0: Sunday, 1: Monday etc)\r\n        firstDay: 0,\r\n\r\n        // minimum number of days in the week that gets week number one\r\n        // default ISO 8601, week 01 is the week with the first Thursday (4)\r\n        firstWeekOfYearMinDays: 4,\r\n\r\n        // the default flag for moment's strict date parsing\r\n        formatStrict: false,\r\n\r\n        // the minimum/earliest date that can be selected\r\n        minDate: null,\r\n        // the maximum/latest date that can be selected\r\n        maxDate: null,\r\n\r\n        // number of years either side, or array of upper/lower range\r\n        yearRange: 10,\r\n\r\n        // show week numbers at head of row\r\n        showWeekNumber: false,\r\n\r\n        // Week picker mode\r\n        pickWholeWeek: false,\r\n\r\n        // used internally (don't config outside)\r\n        minYear: 0,\r\n        maxYear: 9999,\r\n        minMonth: undefined,\r\n        maxMonth: undefined,\r\n\r\n        startRange: null,\r\n        endRange: null,\r\n\r\n        isRTL: false,\r\n\r\n        // Additional text to append to the year in the calendar title\r\n        yearSuffix: '',\r\n\r\n        // Render the month after year in the calendar title\r\n        showMonthAfterYear: false,\r\n\r\n        // Render days of the calendar grid that fall in the next or previous month\r\n        showDaysInNextAndPreviousMonths: false,\r\n\r\n        // Allows user to select days that fall in the next or previous month\r\n        enableSelectionDaysInNextAndPreviousMonths: false,\r\n\r\n        // how many months are visible\r\n        numberOfMonths: 1,\r\n\r\n        // when numberOfMonths is used, this will help you to choose where the main calendar will be (default `left`, can be set to `right`)\r\n        // only used for the first display or when a selected date is not visible\r\n        mainCalendar: 'left',\r\n\r\n        // Specify a DOM element to render the calendar in\r\n        container: undefined,\r\n\r\n        // Blur field when date is selected\r\n        blurFieldOnSelect : true,\r\n\r\n        // internationalization\r\n        i18n: {\r\n            previousMonth : 'Previous Month',\r\n            nextMonth     : 'Next Month',\r\n            months        : ['January','February','March','April','May','June','July','August','September','October','November','December'],\r\n            weekdays      : ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],\r\n            weekdaysShort : ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']\r\n        },\r\n\r\n        // Theme Classname\r\n        theme: null,\r\n\r\n        // events array\r\n        events: [],\r\n\r\n        // callback function\r\n        onInitialize: null,\r\n        onSelect: null,\r\n        onBeforeOpen: null,\r\n        onOpen: null,\r\n        onBeforeClose: null,\r\n        onClose: null,\r\n        onDraw: null,\r\n\r\n        // Enable keyboard input\r\n        keyboardInput: true,\r\n\r\n        // option to show calendar title text\r\n        heading: null,\r\n\r\n        // option to prevent calendar from auto-closing after date is selected\r\n        autoClose: true,\r\n\r\n        // option to show buttons at the bottom. autoClose will auto be set to false.\r\n        showButtons: false,\r\n\r\n        // option to place buttons at the top or bottom.\r\n        buttonsPlacement: 'bottom',\r\n\r\n        // option to show or hide buttons\r\n        // changing the order of values changes the order of buttons\r\n        buttons: ['clear', 'cancel', 'today', 'apply'],\r\n\r\n        // clear button text or inner html\r\n        clear: 'Clear',\r\n\r\n        // today button text or inner html\r\n        today: 'Today',\r\n\r\n        // cancel button text or inner html\r\n        cancel: 'Cancel',\r\n\r\n        // apply button text or inner html\r\n        apply: 'Set Date',\r\n\r\n        // Custom additions\r\n        calendarClass: null,\r\n        headerClass: '',\r\n        monthClass: '',\r\n        yearClass: '',\r\n        titleClass: '',\r\n        previousClass: '',\r\n        nextClass: '',\r\n        weekdayClass: '',\r\n        daysClass: '',\r\n        dayClass: '',\r\n        buttonsClass: '',\r\n        clearClass: '',\r\n        todayClass: '',\r\n        cancelClass: '',\r\n        applyClass: ''\r\n    },\r\n\r\n\r\n    /**\r\n     * templating functions to abstract HTML rendering\r\n     */\r\n    renderDayName = function(opts, day, abbr)\r\n    {\r\n        day += opts.firstDay;\r\n        while (day >= 7) {\r\n            day -= 7;\r\n        }\r\n        return abbr ? opts.i18n.weekdaysShort[day] : opts.i18n.weekdays[day];\r\n    },\r\n\r\n    renderDay = function(opts, self)\r\n    {\r\n        let attr = [];\r\n        var arr = [];\r\n        var ariaSelected = 'false';\r\n        if (opts.isEmpty) {\r\n            if (opts.showDaysInNextAndPreviousMonths) {\r\n                // arr.push('is-outside-current-month');\r\n                attr.push('data-dp-muted');\r\n\r\n                if(!opts.enableSelectionDaysInNextAndPreviousMonths) {\r\n                    // arr.push('is-selection-disabled');\r\n                    attr.push('disabled');\r\n                }\r\n\r\n            } else {\r\n                return `<td class=\"is-empty ${self.daysClass}\"></td>`;\r\n            }\r\n        }\r\n        if (opts.isDisabled) {\r\n            arr.push('is-disabled');\r\n            attr.push('disabled');\r\n        }\r\n        if (opts.isToday) {\r\n            // arr.push('is-today');\r\n            attr.push('data-dp-today');\r\n        }\r\n        if (opts.isSelected) {\r\n            arr.push('is-selected');\r\n            attr.push('data-dp-selected');\r\n            ariaSelected = 'true';\r\n        }\r\n        if (opts.hasEvent) {\r\n            // arr.push('has-event');\r\n            attr.push('data-dp-event');\r\n        }\r\n        if (opts.isInRange) {\r\n            // arr.push('is-inrange');\r\n            attr.push('data-dp-range');\r\n        }\r\n        if (opts.isStartRange) {\r\n            // arr.push('is-startrange');\r\n            attr.push('data-dp-range-start');\r\n        }\r\n        if (opts.isEndRange) {\r\n            // arr.push('is-endrange');\r\n            attr.push('data-dp-range-end');\r\n        }\r\n     \r\n        return `<td data-day=\"${opts.day}\" class=\"${arr.join(' ')} ${self.daysClass}\" aria-selected=\"${ariaSelected}\">\r\n                    <button class=\"dp-button dp-day ${self.dayClass}\" type=\"button\" data-dp-year=\"${opts.year}\" data-dp-month=\"${opts.month}\" data-dp-day=\"${opts.day}\" ${attr.join(' ')}>\r\n                        ${opts.day}\r\n                    </button>\r\n                </td>`;\r\n    },\r\n\r\n    isoWeek = function(date, firstWeekOfYearMinDays) {\r\n        // Ensure we're at the start of the day.\r\n        date.setHours(0, 0, 0, 0);\r\n\r\n        // Thursday in current week decides the year because January 4th\r\n        // is always in the first week according to ISO8601.\r\n        var yearDay        = date.getDate(),\r\n            weekDay        = date.getDay(),\r\n            dayInFirstWeek = firstWeekOfYearMinDays,\r\n            dayShift       = dayInFirstWeek - 1, // counting starts at 0\r\n            daysPerWeek    = 7,\r\n            prevWeekDay    = function(day) { return (day + daysPerWeek - 1) % daysPerWeek; };\r\n\r\n        // Adjust to Thursday in week 1 and count number of weeks from date to week 1.\r\n        date.setDate(yearDay + dayShift - prevWeekDay(weekDay));\r\n\r\n        var jan4th      = new Date(date.getFullYear(), 0, dayInFirstWeek),\r\n            msPerDay    = 24 * 60 * 60 * 1000,\r\n            daysBetween = (date.getTime() - jan4th.getTime()) / msPerDay,\r\n            weekNum     = 1 + Math.round((daysBetween - dayShift + prevWeekDay(jan4th.getDay())) / daysPerWeek);\r\n\r\n        return weekNum;\r\n    },\r\n\r\n    renderWeek = function (d, m, y, firstWeekOfYearMinDays) {\r\n        var date = new Date(y, m, d),\r\n            week = hasMoment ? moment(date).isoWeek() : isoWeek(date, firstWeekOfYearMinDays);\r\n\r\n        return '<td class=\"dp-week\">' + week + '</td>';\r\n    },\r\n\r\n    renderRow = function(days, isRTL, pickWholeWeek, isRowSelected)\r\n    {\r\n        return '<tr class=\"dp-row' + (pickWholeWeek ? ' pick-whole-week' : '') + (isRowSelected ? ' is-selected' : '') + '\">' + (isRTL ? days.reverse() : days).join('') + '</tr>';\r\n    },\r\n\r\n    renderBody = function(rows)\r\n    {\r\n        return '<tbody>' + rows.join('') + '</tbody>';\r\n    },\r\n\r\n    renderHead = function(opts)\r\n    {\r\n        var i, arr = [];\r\n        if (opts.showWeekNumber) {\r\n            arr.push('<th></th>');\r\n        }\r\n        for (i = 0; i < 7; i++) {\r\n            arr.push('<th scope=\"col\"><div class=\"' + opts.weekdayClass + '\" title=\"' + renderDayName(opts, i) + '\" aria-label=\"' + renderDayName(opts, i) + '\">' + renderDayName(opts, i, true) + '</div></th>');\r\n        }\r\n        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\r\n    },\r\n\r\n    renderTitle = function(instance, c, year, month, refYear, randId)\r\n    {\r\n        var i, j, arr,\r\n            opts = instance._o,\r\n            isMinYear = year === opts.minYear,\r\n            isMaxYear = year === opts.maxYear,\r\n            html = '<div id=\"' + randId + '\" class=\"dp-title ' + opts.headerClass + '\" role=\"heading\" aria-live=\"polite\">',\r\n            monthHtml,\r\n            yearHtml,\r\n            prev = true,\r\n            next = true;\r\n\r\n        for (arr = [], i = 0; i < 12; i++) {\r\n            arr.push('<option value=\"' + (year === refYear ? i - c : 12 + i - c) + '\"' +\r\n                (i === month ? ' selected=\"selected\"': '') +\r\n                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth) ? ' disabled=\"disabled\"' : '') + '>' +\r\n                opts.i18n.months[i] + '</option>');\r\n        }\r\n\r\n        monthHtml = '<div class=\"dp-label ' + opts.monthClass + '\">' + opts.i18n.months[month] + '<select class=\"dp-select dp-select-month\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\r\n        // monthHtml = '<div class=\"dp-label\">' + opts.i18n.months[month] + '<select class=\"dp-select dp-select-month\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\r\n\r\n        if (isArray(opts.yearRange)) {\r\n            i = opts.yearRange[0];\r\n            j = opts.yearRange[1] + 1;\r\n        } else {\r\n            i = year - opts.yearRange;\r\n            j = 1 + year + opts.yearRange;\r\n        }\r\n\r\n        for (arr = []; i < j && i <= opts.maxYear; i++) {\r\n            if (i >= opts.minYear) {\r\n                arr.push('<option value=\"' + i + '\"' + (i === year ? ' selected=\"selected\"': '') + '>' + (i) + '</option>');\r\n            }\r\n        }\r\n        yearHtml = '<div class=\"dp-label ' + opts.yearClass + '\">' + year + opts.yearSuffix + '<select class=\"dp-select dp-select-year\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\r\n        // yearHtml = '<div class=\"dp-label\">' + year + opts.yearSuffix + '<select class=\"dp-select dp-select-year\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\r\n\r\n        if (isMinYear && (month === 0 || opts.minMonth >= month)) {\r\n            prev = false;\r\n        }\r\n\r\n        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\r\n            next = false;\r\n        }\r\n\r\n        if (c === 0) {\r\n            html += `<button class=\"dp-prev ${prev ? '' : 'is-disabled'} ${opts.previousClass}\" type=\"button\" ${prev ? '' : 'disabled'}>${opts.i18n.previousMonth}</button>`;\r\n        }\r\n\r\n        if (opts.showMonthAfterYear) {\r\n            html += yearHtml + monthHtml;\r\n        } else {\r\n            html += monthHtml + yearHtml;\r\n        }\r\n\r\n        if (c === (instance._o.numberOfMonths - 1) ) {\r\n            html += `<button class=\"dp-next ${next ? '' : 'is-disabled'} ${opts.nextClass}\" type=\"button\" ${next ? '' : 'disabled'}>${opts.i18n.nextMonth}</button>`;\r\n        }\r\n\r\n        return html += '</div>';\r\n    },\r\n\r\n    renderTable = function(opts, data, randId)\r\n    {\r\n        return '<table cellpadding=\"0\" cellspacing=\"0\" class=\"dp-table\" role=\"grid\" aria-labelledby=\"' + randId + '\">' + renderHead(opts) + renderBody(data) + '</table>';\r\n    },\r\n\r\n    renderHeading = function(opts)\r\n    {\r\n        if (opts.title) {\r\n            return '<div class=\"dp-header-title ' + opts.titleClass + '\">' + opts.title + '</div>';\r\n        }\r\n\r\n        return '';\r\n    },\r\n\r\n    renderFoot = function(opts)\r\n    {\r\n        let html = '';\r\n        let buttons = {\r\n            clear: '<button class=\"dp-clear ' + opts.clearClass + '\" type=\"button\">' + opts.clear + '</button>',\r\n            cancel: '<button class=\"dp-cancel ' + opts.cancelClass + '\" type=\"button\">' + opts.cancel + '</button>',\r\n            today: '<button class=\"dp-today ' + opts.todayClass + '\" type=\"button\">' + opts.today + '</button>',\r\n            apply: '<button class=\"dp-apply ' + opts.applyClass + '\" type=\"button\">' + opts.apply + '</button>'\r\n        };\r\n        if (opts.showButtons) {\r\n            html += '<div class=\"dp-buttons ' + opts.buttonsClass + '\">';\r\n\r\n            opts.buttons.forEach((button) => {\r\n                html += buttons[button];\r\n            });\r\n\r\n            html += '</div>';\r\n        }\r\n        return html;\r\n    },\r\n\r\n\r\n    /**\r\n     * Pikaday constructor\r\n     */\r\n    Pikaday = function(options)\r\n    {\r\n        var self = this,\r\n            opts = self.config(options);\r\n\r\n        self._onMouseDown = function(e)\r\n        {\r\n            if (!self._v) {\r\n                return;\r\n            }\r\n            e = e || window.event;\r\n            var target = e.target || e.srcElement;\r\n            if (!target) {\r\n                return;\r\n            }\r\n\r\n            if (opts.showButtons) {\r\n\r\n                // set today's date\r\n                if (hasClass(target, 'dp-today')) {      \r\n                    let today = new Date();\r\n\r\n                    if (self._o.toString) {\r\n                        self._o.field.value = self._o.toString(today, self._o.format);\r\n                    } else if (hasMoment) {\r\n                        self._o.field.value = moment(today).format(self._o.format);\r\n                    } else {\r\n                        self._o.field.value = today.toDateString();\r\n                    }\r\n\r\n                    self.hide();\r\n                    if (opts.field && opts.blurFieldOnSelect) {\r\n                        opts.field.blur();\r\n                    }\r\n\r\n                    self.setDate(new Date(today.getFullYear(), today.getMonth(), today.getDate()));\r\n                }\r\n\r\n                // manually apply date\r\n                if (hasClass(target, 'dp-apply')) {\r\n                    self._o.field.value = self.toString();\r\n                    self.hide();\r\n                    if (opts.field && opts.blurFieldOnSelect) {\r\n                        opts.field.blur();\r\n                    }\r\n                }\r\n\r\n                // close calendar\r\n                if (hasClass(target, 'dp-cancel')) {\r\n                    self.hide();\r\n                    if (opts.field && opts.blurFieldOnSelect) {\r\n                        opts.field.blur();\r\n                    }\r\n                }\r\n\r\n                // clear date\r\n                if (hasClass(target, 'dp-clear')) {\r\n                    self.hide();\r\n                    if (opts.field && opts.blurFieldOnSelect) {\r\n                        opts.field.blur();\r\n                    }\r\n                    self.clear();\r\n                }\r\n            }\r\n\r\n            if (!hasClass(target, 'is-disabled')) {\r\n                if (hasClass(target, 'dp-button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled')) {\r\n                    self.setDate(new Date(target.getAttribute('data-dp-year'), target.getAttribute('data-dp-month'), target.getAttribute('data-dp-day')));\r\n                    if (opts.bound) {\r\n                        sto(function() {\r\n                            // self.hide();\r\n                            if (opts.autoClose) {\r\n                                self.hide();\r\n                            }\r\n                            if (opts.blurFieldOnSelect && opts.field) {\r\n                                opts.field.blur();\r\n                            }\r\n                        }, 100);\r\n                    }\r\n                }\r\n                else if (hasClass(target, 'dp-prev')) {\r\n                    self.prevMonth();\r\n                }\r\n                else if (hasClass(target, 'dp-next')) {\r\n                    self.nextMonth();\r\n                }\r\n            }\r\n            if (!hasClass(target, 'dp-select')) {\r\n                // if this is touch event prevent mouse events emulation\r\n                if (e.preventDefault) {\r\n                    e.preventDefault();\r\n                } else {\r\n                    e.returnValue = false;\r\n                    return false;\r\n                }\r\n            } else {\r\n                self._c = true;\r\n            }\r\n        };\r\n\r\n        self._onChange = function(e)\r\n        {\r\n            e = e || window.event;\r\n            var target = e.target || e.srcElement;\r\n            if (!target) {\r\n                return;\r\n            }\r\n            if (hasClass(target, 'dp-select-month')) {\r\n                self.gotoMonth(target.value);\r\n            }\r\n            else if (hasClass(target, 'dp-select-year')) {\r\n                self.gotoYear(target.value);\r\n            }\r\n        };\r\n\r\n        self._onKeyChange = function(e)\r\n        {\r\n            e = e || window.event;\r\n            \r\n            if (self.isVisible()) {\r\n                e.preventDefault();\r\n\r\n                switch(e.key){\r\n                    case 'Enter':\r\n                    case ' ':\r\n                        if (opts.field) {\r\n                            opts.field.blur();\r\n                            self.hide();\r\n                        }\r\n                        break;\r\n                    case 'Escape':\r\n                        if (self.isVisible()) {\r\n                            self.hide();\r\n                        }\r\n                        break;\r\n                    case 'ArrowLeft':\r\n                        self.adjustDate('subtract', 1);\r\n                        break;\r\n                    case 'ArrowUp':\r\n                        self.adjustDate('subtract', 7);\r\n                        break;\r\n                    case 'ArrowRight':\r\n                        self.adjustDate('add', 1);\r\n                        break;\r\n                    case 'ArrowDown':\r\n                        self.adjustDate('add', 7);\r\n                        break;\r\n                    case 'Backspace':\r\n                    case 'Delete':\r\n                        self.setDate(null);\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n\r\n        self._parseFieldValue = function()\r\n        {\r\n            if (opts.parse) {\r\n                return opts.parse(opts.field.value, opts.format);\r\n            } else if (hasMoment) {\r\n                var date = moment(opts.field.value, opts.format, opts.formatStrict);\r\n                return (date && date.isValid()) ? date.toDate() : null;\r\n            } else {\r\n                return new Date(Date.parse(opts.field.value));\r\n            }\r\n        };\r\n\r\n        self._onInputChange = function(e)\r\n        {\r\n            var date;\r\n\r\n            if (e.firedBy === self) {\r\n                return;\r\n            }\r\n            date = self._parseFieldValue();\r\n            if (isDate(date)) {\r\n              self.setDate(date);\r\n            } else {\r\n                self.clear();\r\n            }\r\n            // if (!self._v) {\r\n            //     self.show();\r\n            // }\r\n        };\r\n\r\n        self._onInputFocus = function()\r\n        {\r\n            self.show();\r\n        };\r\n\r\n        self._onInputClick = function()\r\n        {\r\n            self.show();\r\n        };\r\n\r\n        self._onInputBlur = function()\r\n        {\r\n            // IE allows pika div to gain focus; catch blur the input field\r\n            var pEl = document.activeElement;\r\n            do {\r\n                if (hasClass(pEl, 'dp-single')) {\r\n                    return;\r\n                }\r\n            }\r\n            while ((pEl = pEl.parentNode));\r\n\r\n            // if (!self._c) {\r\n            //     self._b = sto(function() {\r\n            //         self.hide();\r\n            //     }, 50);\r\n            // }\r\n            if ((!opts.autoClose) && (opts.autoClose && !self._c)) {\r\n                self._b = sto(function() {\r\n                    self.hide();\r\n                }, 50);\r\n            }\r\n            self._c = false;\r\n        };\r\n\r\n        self._onClick = function(e)\r\n        {\r\n            e = e || window.event;\r\n            var target = e.target || e.srcElement,\r\n                pEl = target;\r\n            if (!target) {\r\n                return;\r\n            }\r\n            if (!hasEventListeners && hasClass(target, 'dp-select')) {\r\n                if (!target.onchange) {\r\n                    target.setAttribute('onchange', 'return;');\r\n                    addEvent(target, 'change', self._onChange);\r\n                }\r\n            }\r\n            do {\r\n                if (hasClass(pEl, 'dp-single') || pEl === opts.trigger) {\r\n                    return;\r\n                }\r\n            }\r\n            while ((pEl = pEl.parentNode));\r\n            if (self._v && target !== opts.trigger && pEl !== opts.trigger) {\r\n                self.hide();\r\n            }\r\n        };\r\n\r\n        self.el = document.createElement('div');\r\n        let calendarClass = opts.calendarClass ? ' ' + opts.calendarClass : '';\r\n        self.el.className = 'dp-single' + (opts.isRTL ? ' is-rtl' : '') + (opts.theme ? ' ' + opts.theme : '') + calendarClass;\r\n\r\n        if (opts.bound) {\r\n            self.el.style.display = 'none';\r\n        }\r\n        \r\n        addEvent(self.el, 'mousedown', self._onMouseDown, true);\r\n        addEvent(self.el, 'touchend', self._onMouseDown, true);\r\n        addEvent(self.el, 'change', self._onChange);\r\n\r\n        if (opts.keyboardInput) {\r\n            addEvent(document, 'keydown', self._onKeyChange);\r\n        }\r\n\r\n        if (opts.field) {\r\n            if (opts.container) {\r\n                opts.container.appendChild(self.el);\r\n            } else if (opts.bound) {\r\n                document.body.appendChild(self.el);\r\n            } else {\r\n                opts.field.parentNode.insertBefore(self.el, opts.field.nextSibling);\r\n            }\r\n            addEvent(opts.field, 'change', self._onInputChange);\r\n\r\n            if (!opts.defaultDate) {\r\n                opts.defaultDate = self._parseFieldValue();\r\n                opts.setDefaultDate = true;\r\n            }\r\n        }\r\n\r\n        var defDate = opts.defaultDate;\r\n\r\n        if (isDate(defDate)) {\r\n            if (opts.setDefaultDate) {\r\n                self.setDate(defDate, true);\r\n            } else {\r\n                self.gotoDate(defDate);\r\n            }\r\n        } else {\r\n            self.gotoDate(new Date());\r\n        }\r\n\r\n        if (opts.bound) {\r\n            this.hide();\r\n            self.el.className += ' is-bound';\r\n            addEvent(opts.trigger, 'click', self._onInputClick);\r\n            addEvent(opts.trigger, 'focus', self._onInputFocus);\r\n            addEvent(opts.trigger, 'blur', self._onInputBlur);\r\n        } else {\r\n            this.show();\r\n        }\r\n\r\n        if (typeof this._o.onInitialize === 'function') {\r\n            this._o.onInitialize.call(this);\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * public Pikaday API\r\n     */\r\n    Pikaday.prototype = {\r\n\r\n\r\n        /**\r\n         * configure functionality\r\n         */\r\n        config: function(options)\r\n        {\r\n            if (!this._o) {\r\n                this._o = extend({}, defaults, true);\r\n            }\r\n\r\n            var opts = extend(this._o, options, true);\r\n\r\n            opts.isRTL = !!opts.isRTL;\r\n\r\n            opts.showButtons = !!opts.showButtons;\r\n            \r\n            opts.autoClose = (opts.showButtons && opts.buttons.includes('apply')) ? false : !!opts.autoClose;\r\n\r\n            opts.field = (opts.field && opts.field.nodeName) ? opts.field : null;\r\n\r\n            opts.theme = (typeof opts.theme) === 'string' && opts.theme ? opts.theme : null;\r\n\r\n            opts.bound = !!(opts.bound !== undefined ? opts.field && opts.bound : opts.field);\r\n\r\n            opts.trigger = (opts.trigger && opts.trigger.nodeName) ? opts.trigger : opts.field;\r\n\r\n            opts.disableWeekends = !!opts.disableWeekends;\r\n\r\n            opts.disableDayFn = (typeof opts.disableDayFn) === 'function' ? opts.disableDayFn : null;\r\n\r\n            opts.events = opts.events.map((date) => (new Date(Date.parse(date))).toDateString());\r\n\r\n            var nom = parseInt(opts.numberOfMonths, 10) || 1;\r\n            opts.numberOfMonths = nom > 4 ? 4 : nom;\r\n\r\n            if (!isDate(opts.minDate)) {\r\n                opts.minDate = false;\r\n            }\r\n            if (!isDate(opts.maxDate)) {\r\n                opts.maxDate = false;\r\n            }\r\n            if ((opts.minDate && opts.maxDate) && opts.maxDate < opts.minDate) {\r\n                opts.maxDate = opts.minDate = false;\r\n            }\r\n            if (opts.minDate) {\r\n                this.setMinDate(opts.minDate);\r\n            }\r\n            if (opts.maxDate) {\r\n                this.setMaxDate(opts.maxDate);\r\n            }\r\n\r\n            if (isArray(opts.yearRange)) {\r\n                var fallback = new Date().getFullYear() - 10;\r\n                opts.yearRange[0] = parseInt(opts.yearRange[0], 10) || fallback;\r\n                opts.yearRange[1] = parseInt(opts.yearRange[1], 10) || fallback;\r\n            } else {\r\n                opts.yearRange = Math.abs(parseInt(opts.yearRange, 10)) || defaults.yearRange;\r\n                if (opts.yearRange > 100) {\r\n                    opts.yearRange = 100;\r\n                }\r\n            }\r\n\r\n            return opts;\r\n        },\r\n\r\n        /**\r\n         * return a formatted string of the current selection (using Moment.js if available)\r\n         */\r\n        toString: function(format)\r\n        {\r\n            format = format || this._o.format;\r\n            if (!isDate(this._d)) {\r\n                return '';\r\n            }\r\n            if (this._o.toString) {\r\n              return this._o.toString(this._d, format);\r\n            }\r\n            if (hasMoment) {\r\n              return moment(this._d).format(format);\r\n            }\r\n            return this._d.toDateString();\r\n        },\r\n\r\n        /**\r\n         * return a Moment.js object of the current selection (if available)\r\n         */\r\n        getMoment: function()\r\n        {\r\n            return hasMoment ? moment(this._d) : null;\r\n        },\r\n\r\n        /**\r\n         * set the current selection from a Moment.js object (if available)\r\n         */\r\n        setMoment: function(date, preventOnSelect)\r\n        {\r\n            if (hasMoment && moment.isMoment(date)) {\r\n                this.setDate(date.toDate(), preventOnSelect);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * return a Date object of the current selection\r\n         */\r\n        getDate: function()\r\n        {\r\n            return isDate(this._d) ? new Date(this._d.getTime()) : null;\r\n        },\r\n\r\n        /**\r\n         * set the current selection\r\n         */\r\n        setDate: function(date, preventOnSelect)\r\n        {\r\n            if (!date) {\r\n                this._d = null;\r\n\r\n                if (this._o.field) {\r\n                    this._o.field.value = '';\r\n                    fireEvent(this._o.field, 'change', { firedBy: this });\r\n                }\r\n\r\n                return this.draw();\r\n            }\r\n            if (typeof date === 'string') {\r\n                date = new Date(Date.parse(date));\r\n            }\r\n            if (!isDate(date)) {\r\n                return;\r\n            }\r\n\r\n            var min = this._o.minDate,\r\n                max = this._o.maxDate;\r\n\r\n            if (isDate(min) && date < min) {\r\n                date = min;\r\n            } else if (isDate(max) && date > max) {\r\n                date = max;\r\n            }\r\n\r\n            this._d = new Date(date.getTime());\r\n            setToStartOfDay(this._d);\r\n            this.gotoDate(this._d);\r\n\r\n            if (this._o.field) {\r\n                // this._o.field.value = this.toString();\r\n                if (!this._o.showButtons) {\r\n                    this._o.field.value = this.toString();\r\n                }\r\n\r\n                if (this._o.showButtons && !this._o.buttons.includes('apply')) {\r\n                    this._o.field.value = this.toString();\r\n                }\r\n\r\n                fireEvent(this._o.field, 'change', { firedBy: this });\r\n            }\r\n            if (!preventOnSelect && typeof this._o.onSelect === 'function') {\r\n                let hasEvent = false;\r\n\r\n                for (const event of this._o.events) {\r\n                    if (event == this.getDate()?.toDateString()) {\r\n                        hasEvent = true;\r\n                    }\r\n                }\r\n\r\n                this._o.onSelect.call(this, this.getDate(), hasEvent);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * clear and reset the date\r\n         */\r\n        clear: function()\r\n        {\r\n            this.setDate(null);\r\n        },\r\n\r\n        /**\r\n         * change view to a specific date\r\n         */\r\n        gotoDate: function(date)\r\n        {\r\n            var newCalendar = true;\r\n\r\n            if (!isDate(date)) {\r\n                return;\r\n            }\r\n\r\n            if (this.calendars) {\r\n                var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),\r\n                    lastVisibleDate = new Date(this.calendars[this.calendars.length-1].year, this.calendars[this.calendars.length-1].month, 1),\r\n                    visibleDate = date.getTime();\r\n                // get the end of the month\r\n                lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1);\r\n                lastVisibleDate.setDate(lastVisibleDate.getDate()-1);\r\n                newCalendar = (visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate);\r\n            }\r\n\r\n            if (newCalendar) {\r\n                this.calendars = [{\r\n                    month: date.getMonth(),\r\n                    year: date.getFullYear()\r\n                }];\r\n                if (this._o.mainCalendar === 'right') {\r\n                    this.calendars[0].month += 1 - this._o.numberOfMonths;\r\n                }\r\n            }\r\n\r\n            this.adjustCalendars();\r\n        },\r\n\r\n        adjustDate: function(sign, days) {\r\n\r\n            var day = this.getDate() || new Date();\r\n            var difference = parseInt(days)*24*60*60*1000;\r\n\r\n            var newDay;\r\n\r\n            if (sign === 'add') {\r\n                newDay = new Date(day.valueOf() + difference);\r\n            } else if (sign === 'subtract') {\r\n                newDay = new Date(day.valueOf() - difference);\r\n            }\r\n\r\n            this.setDate(newDay);\r\n        },\r\n\r\n        adjustCalendars: function() {\r\n            this.calendars[0] = adjustCalendar(this.calendars[0]);\r\n            for (var c = 1; c < this._o.numberOfMonths; c++) {\r\n                this.calendars[c] = adjustCalendar({\r\n                    month: this.calendars[0].month + c,\r\n                    year: this.calendars[0].year\r\n                });\r\n            }\r\n            this.draw();\r\n        },\r\n\r\n        gotoToday: function()\r\n        {\r\n            this.gotoDate(new Date());\r\n        },\r\n\r\n        /**\r\n         * change view to a specific month (zero-index, e.g. 0: January)\r\n         */\r\n        gotoMonth: function(month)\r\n        {\r\n            if (!isNaN(month)) {\r\n                this.calendars[0].month = parseInt(month, 10);\r\n                this.adjustCalendars();\r\n            }\r\n        },\r\n\r\n        nextMonth: function()\r\n        {\r\n            this.calendars[0].month++;\r\n            this.adjustCalendars();\r\n        },\r\n\r\n        prevMonth: function()\r\n        {\r\n            this.calendars[0].month--;\r\n            this.adjustCalendars();\r\n        },\r\n\r\n        /**\r\n         * change view to a specific full year (e.g. \"2012\")\r\n         */\r\n        gotoYear: function(year)\r\n        {\r\n            if (!isNaN(year)) {\r\n                this.calendars[0].year = parseInt(year, 10);\r\n                this.adjustCalendars();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * change the minDate\r\n         */\r\n        setMinDate: function(value)\r\n        {\r\n            if(value instanceof Date) {\r\n                setToStartOfDay(value);\r\n                this._o.minDate = value;\r\n                this._o.minYear  = value.getFullYear();\r\n                this._o.minMonth = value.getMonth();\r\n            } else {\r\n                this._o.minDate = defaults.minDate;\r\n                this._o.minYear  = defaults.minYear;\r\n                this._o.minMonth = defaults.minMonth;\r\n                this._o.startRange = defaults.startRange;\r\n            }\r\n\r\n            this.draw();\r\n        },\r\n\r\n        /**\r\n         * change the maxDate\r\n         */\r\n        setMaxDate: function(value)\r\n        {\r\n            if(value instanceof Date) {\r\n                setToStartOfDay(value);\r\n                this._o.maxDate = value;\r\n                this._o.maxYear = value.getFullYear();\r\n                this._o.maxMonth = value.getMonth();\r\n            } else {\r\n                this._o.maxDate = defaults.maxDate;\r\n                this._o.maxYear = defaults.maxYear;\r\n                this._o.maxMonth = defaults.maxMonth;\r\n                this._o.endRange = defaults.endRange;\r\n            }\r\n\r\n            this.draw();\r\n        },\r\n\r\n        setStartRange: function(value)\r\n        {\r\n            this._o.startRange = value;\r\n        },\r\n\r\n        setEndRange: function(value)\r\n        {\r\n            this._o.endRange = value;\r\n        },\r\n\r\n        /**\r\n         * refresh the HTML\r\n         */\r\n        draw: function(force)\r\n        {\r\n            if (!this._v && !force) {\r\n                return;\r\n            }\r\n            var opts = this._o,\r\n                minYear = opts.minYear,\r\n                maxYear = opts.maxYear,\r\n                minMonth = opts.minMonth,\r\n                maxMonth = opts.maxMonth,\r\n                html = '',\r\n                randId;\r\n\r\n            if (this._y <= minYear) {\r\n                this._y = minYear;\r\n                if (!isNaN(minMonth) && this._m < minMonth) {\r\n                    this._m = minMonth;\r\n                }\r\n            }\r\n            if (this._y >= maxYear) {\r\n                this._y = maxYear;\r\n                if (!isNaN(maxMonth) && this._m > maxMonth) {\r\n                    this._m = maxMonth;\r\n                }\r\n            }\r\n\r\n            for (var c = 0; c < opts.numberOfMonths; c++) {\r\n                randId = 'dp-title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2);\r\n\r\n                if (opts.buttonsPlacement == 'top') {\r\n                    html += renderFoot(opts);\r\n                }\r\n\r\n                html += renderHeading(opts);\r\n                html += '<div class=\"dp-lendar\">' + renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId) + '</div>';\r\n\r\n                if (opts.buttonsPlacement == 'bottom') {\r\n                    html += renderFoot(opts);\r\n                }\r\n            }\r\n\r\n            this.el.innerHTML = html;\r\n\r\n            if (opts.bound) {\r\n                if(opts.field.type !== 'hidden') {\r\n                    sto(function() {\r\n                        opts.trigger.focus();\r\n                    }, 1);\r\n                }\r\n            }\r\n\r\n            if (typeof this._o.onDraw === 'function') {\r\n                this._o.onDraw(this);\r\n            }\r\n\r\n            if (opts.bound) {\r\n                // let the screen reader user know to use arrow keys\r\n                opts.field.setAttribute('aria-label', opts.ariaLabel);\r\n            }\r\n        },\r\n\r\n        adjustPosition: function()\r\n        {\r\n            var field, pEl, width, height, viewportWidth, viewportHeight, scrollTop, left, top, clientRect, leftAligned, bottomAligned;\r\n\r\n            if (this._o.container) return;\r\n\r\n            this.el.style.display = 'block';\r\n            this.el.style.position = 'absolute';\r\n\r\n            field = this._o.trigger;\r\n            pEl = field;\r\n            width = this.el.offsetWidth;\r\n            height = this.el.offsetHeight;\r\n            viewportWidth = window.innerWidth || document.documentElement.clientWidth;\r\n            viewportHeight = window.innerHeight || document.documentElement.clientHeight;\r\n            scrollTop = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\r\n            leftAligned = true;\r\n            bottomAligned = true;\r\n\r\n            if (typeof field.getBoundingClientRect === 'function') {\r\n                clientRect = field.getBoundingClientRect();\r\n                left = clientRect.left + window.pageXOffset;\r\n                top = clientRect.bottom + window.pageYOffset;\r\n            } else {\r\n                left = pEl.offsetLeft;\r\n                top  = pEl.offsetTop + pEl.offsetHeight;\r\n                while((pEl = pEl.offsetParent)) {\r\n                    left += pEl.offsetLeft;\r\n                    top  += pEl.offsetTop;\r\n                }\r\n            }\r\n\r\n            // default position is bottom & left\r\n            if ((this._o.reposition && left + width > viewportWidth) ||\r\n                (\r\n                    this._o.position.indexOf('right') > -1 &&\r\n                    left - width + field.offsetWidth > 0\r\n                )\r\n            ) {\r\n                left = left - width + field.offsetWidth;\r\n                leftAligned = false;\r\n            }\r\n            if ((this._o.reposition && top + height > viewportHeight + scrollTop) ||\r\n                (\r\n                    this._o.position.indexOf('top') > -1 &&\r\n                    top - height - field.offsetHeight > 0\r\n                )\r\n            ) {\r\n                top = top - height - field.offsetHeight;\r\n                bottomAligned = false;\r\n            }\r\n            \r\n            if (left < 0) {\r\n                left = 0;\r\n            }\r\n\r\n            if (top < 0) {\r\n                top = 0;\r\n            }\r\n\r\n            this.el.style.left = left + 'px';\r\n            this.el.style.top = top + 'px';\r\n\r\n            addClass(this.el, leftAligned ? 'left-aligned' : 'right-aligned');\r\n            addClass(this.el, bottomAligned ? 'bottom-aligned' : 'top-aligned');\r\n            removeClass(this.el, !leftAligned ? 'left-aligned' : 'right-aligned');\r\n            removeClass(this.el, !bottomAligned ? 'bottom-aligned' : 'top-aligned');\r\n        },\r\n\r\n        /**\r\n         * render HTML for a particular month\r\n         */\r\n        render: function(year, month, randId)\r\n        {\r\n            var opts   = this._o,\r\n                now    = new Date(),\r\n                days   = getDaysInMonth(year, month),\r\n                before = new Date(year, month, 1).getDay(),\r\n                data   = [],\r\n                row    = [];\r\n            setToStartOfDay(now);\r\n            if (opts.firstDay > 0) {\r\n                before -= opts.firstDay;\r\n                if (before < 0) {\r\n                    before += 7;\r\n                }\r\n            }\r\n            var previousMonth = month === 0 ? 11 : month - 1,\r\n                nextMonth = month === 11 ? 0 : month + 1,\r\n                yearOfPreviousMonth = month === 0 ? year - 1 : year,\r\n                yearOfNextMonth = month === 11 ? year + 1 : year,\r\n                daysInPreviousMonth = getDaysInMonth(yearOfPreviousMonth, previousMonth);\r\n            var cells = days + before,\r\n                after = cells;\r\n            while(after > 7) {\r\n                after -= 7;\r\n            }\r\n            cells += 7 - after;\r\n            var isWeekSelected = false;\r\n            for (var i = 0, r = 0; i < cells; i++)\r\n            {\r\n                var day = new Date(year, month, 1 + (i - before)),\r\n                    isSelected = isDate(this._d) ? compareDates(day, this._d) : false,\r\n                    isToday = compareDates(day, now),\r\n                    hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,\r\n                    isEmpty = i < before || i >= (days + before),\r\n                    dayNumber = 1 + (i - before),\r\n                    monthNumber = month,\r\n                    yearNumber = year,\r\n                    isStartRange = opts.startRange && compareDates(opts.startRange, day),\r\n                    isEndRange = opts.endRange && compareDates(opts.endRange, day),\r\n                    isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,\r\n                    isDisabled = (opts.minDate && day < opts.minDate) ||\r\n                                 (opts.maxDate && day > opts.maxDate) ||\r\n                                 (opts.disableWeekends && isWeekend(day)) ||\r\n                                 (opts.disableDayFn && opts.disableDayFn(day));\r\n\r\n                if (isEmpty) {\r\n                    if (i < before) {\r\n                        dayNumber = daysInPreviousMonth + dayNumber;\r\n                        monthNumber = previousMonth;\r\n                        yearNumber = yearOfPreviousMonth;\r\n                    } else {\r\n                        dayNumber = dayNumber - days;\r\n                        monthNumber = nextMonth;\r\n                        yearNumber = yearOfNextMonth;\r\n                    }\r\n                }\r\n\r\n                var dayConfig = {\r\n                        day: dayNumber,\r\n                        month: monthNumber,\r\n                        year: yearNumber,\r\n                        hasEvent: hasEvent,\r\n                        isSelected: isSelected,\r\n                        isToday: isToday,\r\n                        isDisabled: isDisabled,\r\n                        isEmpty: isEmpty,\r\n                        isStartRange: isStartRange,\r\n                        isEndRange: isEndRange,\r\n                        isInRange: isInRange,\r\n                        showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths,\r\n                        enableSelectionDaysInNextAndPreviousMonths: opts.enableSelectionDaysInNextAndPreviousMonths\r\n                    };\r\n\r\n                if (opts.pickWholeWeek && isSelected) {\r\n                    isWeekSelected = true;\r\n                }\r\n\r\n                row.push(renderDay(dayConfig, this._o));\r\n\r\n                if (++r === 7) {\r\n                    if (opts.showWeekNumber) {\r\n                        row.unshift(renderWeek(i - before, month, year, opts.firstWeekOfYearMinDays));\r\n                    }\r\n                    data.push(renderRow(row, opts.isRTL, opts.pickWholeWeek, isWeekSelected));\r\n                    row = [];\r\n                    r = 0;\r\n                    isWeekSelected = false;\r\n                }\r\n            }\r\n            return renderTable(opts, data, randId);\r\n        },\r\n\r\n        isVisible: function()\r\n        {\r\n            return this._v;\r\n        },\r\n\r\n        show: function()\r\n        {\r\n            if (!this.isVisible()) {\r\n                this._v = true;\r\n                if (typeof this._o.onBeforeOpen === 'function') {\r\n                    this._o.onBeforeOpen.call(this);\r\n                }\r\n                this.draw();\r\n                removeClass(this.el, 'is-hidden');\r\n                if (this._o.bound) {\r\n                    addEvent(document, 'click', this._onClick);\r\n                    // this.adjustPosition();\r\n                    this.el.style.display = 'block';\r\n                }\r\n                if (typeof this._o.onOpen === 'function') {\r\n                    this._o.onOpen.call(this);\r\n                }\r\n            }\r\n        },\r\n\r\n        hide: function()\r\n        {\r\n            var v = this._v;\r\n            if (v !== false) {\r\n                if (v !== undefined && typeof this._o.onBeforeClose === 'function') {\r\n                    this._o.onBeforeClose.call(this);\r\n                }\r\n                \r\n                if (this._o.bound) {\r\n                    removeEvent(document, 'click', this._onClick);\r\n                }\r\n\r\n                if (!this._o.container) {\r\n                    this.el.style.position = 'absolute'; // reset\r\n                    // this.el.style.left = 'auto';\r\n                    // this.el.style.top = 'auto';\r\n                    // this.el.style.display = 'none';\r\n                }\r\n                addClass(this.el, 'is-hidden');\r\n                this._v = false;\r\n                if (v !== undefined && typeof this._o.onClose === 'function') {\r\n                    this._o.onClose.call(this);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * GAME OVER\r\n         */\r\n        destroy: function()\r\n        {\r\n            var opts = this._o;\r\n\r\n            this.hide();\r\n            removeEvent(this.el, 'mousedown', this._onMouseDown, true);\r\n            removeEvent(this.el, 'touchend', this._onMouseDown, true);\r\n            removeEvent(this.el, 'change', this._onChange);\r\n            if (opts.keyboardInput) {\r\n                removeEvent(document, 'keydown', this._onKeyChange);\r\n            }\r\n            if (opts.field) {\r\n                removeEvent(opts.field, 'change', this._onInputChange);\r\n                if (opts.bound) {\r\n                    removeEvent(opts.trigger, 'click', this._onInputClick);\r\n                    removeEvent(opts.trigger, 'focus', this._onInputFocus);\r\n                    removeEvent(opts.trigger, 'blur', this._onInputBlur);\r\n                }\r\n            }\r\n            if (this.el.parentNode) {\r\n                this.el.parentNode.removeChild(this.el);\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    return Pikaday;\r\n}));\r\n\r\nexport default Pikaday;","/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isYAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","function getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const webkit = isWebKit();\n  const css = getComputedStyle(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isWebKit };\n","import { rectToClientRect, autoPlacement as autoPlacement$1, shift as shift$1, flip as flip$1, size as size$1, hide as hide$1, arrow as arrow$1, inline as inline$1, limitShift as limitShift$1, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { detectOverflow, offset } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getContainingBlock, getDocumentElement, getNodeName, isOverflowElement, getNodeScroll, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentIFrame = win.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== win) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentIFrame = getWindow(currentIFrame).frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction topLayer(floating) {\n  let isTopLayer = false;\n  let x = 0;\n  let y = 0;\n  function setIsTopLayer(selector) {\n    try {\n      isTopLayer = isTopLayer || floating.matches(selector);\n    } catch (e) {}\n  }\n  topLayerSelectors.forEach(selector => {\n    setIsTopLayer(selector);\n  });\n  if (isTopLayer) {\n    const containingBlock = getContainingBlock(floating);\n    if (containingBlock) {\n      const rect = containingBlock.getBoundingClientRect();\n      x = rect.x;\n      y = rect.y;\n    }\n  }\n  return [isTopLayer, x, y];\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const documentElement = getDocumentElement(offsetParent);\n  const [isTopLayer] = elements ? topLayer(elements.floating) : [false];\n  if (offsetParent === documentElement || isTopLayer) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy, floating) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  let x = rect.left + scroll.scrollLeft - offsets.x;\n  let y = rect.top + scroll.scrollTop - offsets.y;\n  const [isTopLayer, topLayerX, topLayerY] = topLayer(floating);\n  if (isTopLayer) {\n    x += topLayerX;\n    y += topLayerY;\n    if (isOffsetParentAnElement) {\n      x += offsetParent.clientLeft;\n      y += offsetParent.clientTop;\n    }\n  }\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const window = getWindow(element);\n  if (!isHTMLElement(element)) {\n    return window;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy, data.floating),\n    floating: {\n      x: 0,\n      y: 0,\n      ...(await getDimensionsFn(data.floating))\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 100);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, flip, hide, inline, limitShift, platform, shift, size };\n","import {\r\n    randomNumber,\r\n    kebabCase,\r\n    styles,\r\n    addClass,\r\n    removeClass,\r\n    setAttributes,\r\n    removeAttributes,\r\n    getElement,\r\n    getElements\r\n} from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Modal extends Component {\r\n    constructor(element, config, componentSettings) {\r\n\r\n        const _defaults = {\r\n            target: null,\r\n            keyboard: true,\r\n            focus: false,\r\n            backdropFadeDuration: 200,\r\n            backdropClose: true,\r\n            hideBackdrop: false,\r\n            dialog: 'data-dialog',\r\n            content: 'data-content',\r\n            close: 'data-close',\r\n            backdrop: 'data-backdrop',\r\n            autoCloseDelay: 0,\r\n            history: false,\r\n            allowScroll: false,\r\n            zindex: 1055,\r\n            namespace: 'modal',\r\n            classes: {\r\n                backdrop: null,\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = Object.assign({\r\n            name: 'modal',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        }, componentSettings ?? {});\r\n\r\n        super(_component);\r\n        \r\n        if (!this._element) return;\r\n     \r\n        this._isOpened = false;\r\n        this._previous = false;\r\n        this._config.zindex = parseInt(this._config.zindex) || 0;\r\n        this._config.namespace = kebabCase(this._config.namespace);\r\n        this._modal = getElement(this._config.target) ?? this._element;\r\n\r\n        if (!this._modal) return;\r\n\r\n        this._dialog = getElement(`[${this._config.dialog}]`, this._modal);\r\n        this._content = getElement(`[${this._config.content}]`, this._modal);\r\n        this._initialFocus = this._modal;\r\n        this._finalFocus = this._element;\r\n        this._config.backdropFadeDuration = parseInt(this._config.backdropFadeDuration) / 1000;\r\n        this._config.autoCloseDelay = parseInt(this._config.autoCloseDelay);\r\n        const modalId = this._modal.id !== '' ? this._modal.id : 'modal-' + randomNumber(4);\r\n        const closeTriggers = getElements(`[${this._config.close}]`, this._modal);\r\n        const minimumAutoCloseDelay = 3000;\r\n        UIkit.store[this._config.namespace] = UIkit.store[this._config.namespace] ? UIkit.store[this._config.namespace] : {};\r\n\r\n        // Set modal attributes.\r\n        setAttributes(this._modal, {\r\n            id: modalId,\r\n            tabindex: -1,\r\n            role: 'dialog',\r\n            ariaModal: true\r\n        });\r\n\r\n        // Set modal styles.\r\n        styles(this._modal, {\r\n            zIndex: this._config.zindex\r\n        });\r\n\r\n        // Search for all elements that can close the modal \r\n        // and set the following attributes.\r\n        closeTriggers.forEach((close) => {\r\n            setAttributes(close, {\r\n                role: 'button',\r\n                ariaLabel: close.innerText.trim()!= '' ? close.innerText.trim() : 'Close'\r\n            });\r\n        });\r\n\r\n        // Accessible event data\r\n        const eventData = {\r\n            content: this._content\r\n        };\r\n\r\n        /**\r\n         * Show modal when target is clicked.\r\n         */\r\n        const onClickShow = (e) => {\r\n            e.preventDefault();\r\n            this._show(this);\r\n        };\r\n\r\n        /**\r\n         * Hide modal when target is clicked.\r\n         */\r\n        const onClickHide = (e) => {\r\n            e.preventDefault();\r\n            this._previous = true;\r\n            this._hide(this);\r\n        };\r\n\r\n        /**\r\n         * Hide modal when clicked outside.\r\n         */\r\n        const onClickModalHide = (e) => {\r\n            \r\n            if (this._isTransitioning || this._content.contains(e.target)) return;\r\n\r\n            if (!this._config.backdropClose) {\r\n                this._dispatchEvent('hidePrevented', eventData);\r\n\r\n                return;\r\n            }\r\n    \r\n            this._previous = true;\r\n            this._hide(this);\r\n        };\r\n\r\n        /**\r\n         * Hide modal when clicked outside.\r\n         */\r\n        const autoCloseModal = () => {\r\n            if (this._config.autoCloseDelay >= minimumAutoCloseDelay) {\r\n                this._setTimeout(() => {\r\n                    this._hide(this);\r\n                }, this._config.autoCloseDelay);\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Move focus within modal.\r\n         */\r\n        const onKeydown = (e) => {\r\n            if (e.key === 'Tab' || (e.shiftKey && e.key === 'Tab')) {\r\n                setFocus(e, this, e.shiftKey);\r\n            }\r\n\r\n            if (e.key === 'Escape' && !this._config.keyboard) {\r\n                this._dispatchEvent('hidePrevented', eventData);\r\n\r\n                return;\r\n            }\r\n\r\n            if (e.key === 'Escape' && this._config.keyboard) {\r\n                this._previous = true;\r\n                this._hide(this);\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Get all focusable elements.\r\n         * \r\n         * @param {object} self \r\n         */\r\n        const getFocusable = (self) => {\r\n            const focusable = getElements('*', self._content);\r\n\r\n            return [...focusable].filter(node => node.tabIndex >= 0);\r\n        };\r\n\r\n        /**\r\n         * Focus on a target element.\r\n         * \r\n         * @param {object} e event object\r\n         * @param {object} self \r\n         * @param {boolean} reverse \r\n         * @returns \r\n         */\r\n        const setFocus = (e, self, reverse = false) => {\r\n            let focusable = getFocusable(self);\r\n            const total = focusable.length;\r\n\r\n            if (total == 0) {\r\n                self._modal.focus();\r\n                e.preventDefault();\r\n                \r\n                return;\r\n            }\r\n\r\n            if (total >= 1 && document.activeElement == focusable[total - 1]) {\r\n                focusable[0].focus();\r\n                e.preventDefault();\r\n\r\n                return;\r\n            }\r\n\r\n            if (total >= 1 && document.activeElement == focusable[0] && reverse) {\r\n                focusable[total - 1].focus();\r\n                e.preventDefault();\r\n\r\n                return;\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Stores modal data.\r\n         * \r\n         * @param {object} data \r\n         */\r\n        const storeModal = (data) => {\r\n\r\n            if (UIkit.store[this._config.namespace].openedModals instanceof Array) {\r\n                UIkit.store[this._config.namespace].openedModals.push(data);\r\n\r\n                return;\r\n            }\r\n\r\n            UIkit.store[this._config.namespace].openedModals = [data];\r\n            UIkit.store[this._config.namespace].firstModal = data._modal;\r\n            UIkit.store[this._config.namespace].firstModalTrigger = data._element;\r\n        };\r\n\r\n        /**\r\n         * Remove stored modal data.\r\n         * \r\n         * @param {HTMLElement} modal \r\n         */\r\n        const removeModal = (modal) => {\r\n            if (UIkit.store[this._config.namespace].openedModals instanceof Array) {\r\n                UIkit.store[this._config.namespace].openedModals.forEach((data, index) => {\r\n                    if (data._modal == modal) {\r\n                        UIkit.store[this._config.namespace].openedModals.splice(index, 1);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Get the total opened modals.\r\n         */\r\n        const getTotalModals = () => {\r\n            return UIkit.store[this._config.namespace].openedModals ? UIkit.store[this._config.namespace].openedModals.length : 0;\r\n        };\r\n\r\n        /**\r\n         * Check if is the first opened modal.\r\n         * \r\n         * @param {HTMLElement} modal \r\n         */\r\n        const isFirstModal = (modal) => {\r\n            return UIkit.store[this._config.namespace].firstModal == modal;\r\n        };\r\n\r\n        /**\r\n         * Get the first modal trigger.\r\n         */\r\n        const getFirstModalTrigger = () => {\r\n            return UIkit.store[this._config.namespace].firstModalTrigger;\r\n        };\r\n\r\n        /**\r\n         * Remove all stored modals.\r\n         */\r\n        const clearModals = () => {\r\n            // delete UIkit.store[this._config.namespace];\r\n            delete UIkit.store[this._config.namespace].openedModals;\r\n            delete UIkit.store[this._config.namespace].firstModal;\r\n            delete UIkit.store[this._config.namespace].firstModalTrigger;\r\n        };\r\n\r\n        /**\r\n         * Get previously opened modal.\r\n         * \r\n         * @param {HTMLElement} modal \r\n         * @returns\r\n         */\r\n        const getPreviousModal = (modal) => {\r\n            let previousModal = null;\r\n\r\n            if (UIkit.store[this._config.namespace].openedModals instanceof Array && UIkit.store[this._config.namespace].openedModals.length > 0) {\r\n                UIkit.store[this._config.namespace].openedModals.forEach((data, index) => {\r\n                    if (data._modal == modal) {\r\n                        previousModal = UIkit.store[this._config.namespace].openedModals[index - 1];\r\n                    }\r\n                });\r\n            }\r\n\r\n            return previousModal;\r\n        };\r\n\r\n        /**\r\n         * Focus on an element.\r\n         * \r\n         * @param {HTMLElement} element \r\n         */\r\n        const focus = (element) => {\r\n            if (!element) return;\r\n            \r\n            element.focus();\r\n        };\r\n\r\n        /**\r\n         * Set opened dialog attribute.\r\n         */\r\n        const setOpenedDialogsAttribute = () => {\r\n            let attributes = document.body.dataset.openedDialogs || '';\r\n            attributes = attributes.split(',');\r\n            attributes = attributes.filter(attribute => attribute != '');\r\n\r\n            if (attributes.indexOf(this._config.namespace) === -1) {\r\n                attributes.push(this._config.namespace);\r\n                let value = attributes.length > 1 ? attributes.join(',') : this._config.namespace;\r\n                document.body.setAttribute(`data-opened-dialogs`, value);\r\n            }  \r\n        };\r\n\r\n        /**\r\n         * Remove opened dialog attribute.\r\n         */\r\n        const removeOpenedDialogsAttribute = () => {\r\n            let attributes = document.body.dataset.openedDialogs || '';\r\n            attributes = attributes.split(',');\r\n\r\n            if (attributes.indexOf(this._config.namespace) !== -1) {\r\n                attributes.splice(attributes.indexOf(this._config.namespace), 1);\r\n\r\n                if (attributes.length > 0) {                    \r\n                    let value = attributes.length > 1 ? attributes.join(',') : attributes[0];\r\n                    document.body.setAttribute(`data-opened-dialogs`, value);\r\n                } else {\r\n                    document.body.removeAttribute(`data-opened-dialogs`);\r\n                }\r\n            }  \r\n        };\r\n\r\n        /**\r\n         * Hide scrollbar. \r\n         */\r\n        const hideScrollbar = () => {\r\n            if (this._config.allowScroll) return;\r\n            \r\n            // Hide modal scrollbar\r\n            this._modal.style.overflow = `hidden`;\r\n\r\n            // Restore scrollbar and right margin\r\n            if (!document.body.dataset.openedDialogs) {                \r\n                styles(document.body, {\r\n                    overflow: null,\r\n                    marginRight: null\r\n                });\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Check if document body has overflow and margin styles. \r\n         */\r\n        const hasOverflowMargin = () => {\r\n            return Boolean(document.body.style.overflow && document.body.style.marginRight);\r\n        };\r\n\r\n        /**\r\n         * Restore modal scrollbar.\r\n         * \r\n         * @param {object} self \r\n         */\r\n        const restoreModalScrollbar = (self) => {\r\n            if (self._config.allowScroll) return;\r\n\r\n            self._modal.style.overflow = null;\r\n        };\r\n\r\n        /**\r\n         * Create a backdrop.\r\n         * \r\n         * @returns \r\n         */\r\n        const backdrop = () => {\r\n            const backdrop = document.createElement('div');\r\n            \r\n            if (!this._config.classes.backdrop) {        \r\n                backdrop.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';\r\n            }\r\n    \r\n            styles(backdrop, {\r\n                position: 'fixed',\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0,\r\n                zIndex: this._config.zindex - 5\r\n            });\r\n\r\n            if (this._hasTransition) {\r\n                styles(backdrop, {\r\n                    opacity: 0,\r\n                    transition: `opacity ${this._config.backdropFadeDuration}s linear`,\r\n                });\r\n            }\r\n    \r\n            addClass(backdrop, this._config.classes.backdrop);\r\n            setAttributes(backdrop, {\r\n                [`${this._config.backdrop}`]: this._config.namespace\r\n            });\r\n\r\n            return backdrop;\r\n        };\r\n\r\n        /**\r\n         * Show backdrop.\r\n         */\r\n        const showBackdrop = () => {\r\n            this._backdrop = getElement(`[${this._config.backdrop}=\"${this._config.namespace}\"]`) || backdrop();\r\n\r\n            if (!this._config.hideBackdrop) {\r\n                document.body.append(this._backdrop);\r\n            }\r\n\r\n            // Hide scrollbar and set right margin\r\n            if (getTotalModals() == 0 && !this._config.allowScroll && !hasOverflowMargin()) {                \r\n                const scrollBarWidth = window.innerWidth - document.documentElement.clientWidth;\r\n                styles(document.body, {\r\n                    overflow: `hidden`,\r\n                    marginRight: `${scrollBarWidth}px`\r\n                });\r\n            }\r\n\r\n            if (this._hasTransition) {\r\n                window.requestAnimationFrame(() => {\r\n                    this._backdrop.style.opacity = 1\r\n                });\r\n            }\r\n            \r\n            if (!this._previous) {\r\n                storeModal(this);\r\n\r\n                setOpenedDialogsAttribute();\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Hide and remove backdrop.\r\n         */\r\n        const hideBackdrop = () => {\r\n            if ((!this._backdrop || getTotalModals() > 1) && !this._config.hideBackdrop) return;\r\n\r\n            removeOpenedDialogsAttribute();\r\n\r\n            if (!this._config.history) {\r\n                this._finalFocus = getFirstModalTrigger();\r\n            }\r\n\r\n            if (this._config.hideBackdrop && getTotalModals() == 1) {\r\n                hideScrollbar();\r\n                clearModals();\r\n            }\r\n\r\n            if (!this._hasTransition) {\r\n                hideScrollbar();\r\n                clearModals();\r\n                this._backdrop.remove();\r\n\r\n                return;\r\n            }\r\n\r\n            const transitionEndEvent = () => { \r\n                hideScrollbar();\r\n                clearModals();\r\n                this._backdrop.remove();\r\n                this._off(this._backdrop, 'transitionend', transitionEndEvent);\r\n            };\r\n\r\n            window.requestAnimationFrame(() => {\r\n                this._backdrop.style.opacity = 0\r\n            });\r\n\r\n            this._on(this._backdrop, 'transitionend', transitionEndEvent);\r\n        };\r\n\r\n        /**\r\n         * Forcefully remove backdrop.\r\n         */\r\n        const removeBackdrop = () => {\r\n            const animationDuration = parseFloat(window.getComputedStyle(this._dialog).animationDuration) || 0;\r\n            const transitionDuration = parseFloat(window.getComputedStyle(this._dialog).transitionDuration) || 0;\r\n    \r\n            if (transitionDuration >= this._config.backdropFadeDuration || animationDuration >= this._config.backdropFadeDuration) {\r\n                return;\r\n            }\r\n\r\n            if ((isFirstModal(this._modal) && this._config.history) || !this._config.history) {\r\n                clearModals();\r\n                this._backdrop?.remove();\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Show the modal.\r\n         * \r\n         * @param {object} self \r\n         */\r\n        this._show = (self) => {\r\n            self._isOpened = true;\r\n            self._dispatchEvent('show', eventData);\r\n            showBackdrop();\r\n\r\n            const previousInstance = getPreviousModal(self._modal);\r\n\r\n            if (previousInstance && !this._previous) {\r\n                self._hide(previousInstance);\r\n            }\r\n\r\n            this._previous = false;\r\n\r\n            if (self._config.focus && getFocusable(self).length > 0) {\r\n                self._initialFocus = getFocusable(self)[0];\r\n            }\r\n\r\n            removeClass(self._modal, self._config.classes.display);\r\n            \r\n            const transitioned = self._transition('transitionEnter', self._dialog, (e) => {\r\n                focus(self._initialFocus);\r\n                self._dispatchEvent('shown', eventData);\r\n                autoCloseModal();\r\n            });\r\n            \r\n            if (transitioned) return;\r\n            \r\n            focus(self._initialFocus);\r\n            self._dispatchEvent('shown', eventData);\r\n            autoCloseModal();\r\n        };\r\n\r\n        /**\r\n         * Hide the modal.\r\n         * \r\n         * @param {object} self \r\n         */\r\n        this._hide = (self) => {\r\n\r\n            self._isOpened = false;\r\n            self._dispatchEvent('hide', eventData);\r\n            hideBackdrop();\r\n\r\n            const previousInstance = getPreviousModal(self._modal);\r\n\r\n            if (previousInstance && this._previous) {\r\n                removeModal(self._modal);\r\n                self._show(previousInstance);\r\n            }\r\n\r\n            this._previous = false;\r\n\r\n            if (!self._config.history) {\r\n                removeModal(self._modal);\r\n            }\r\n\r\n            const transitioned = self._transition('transitionLeave', self._dialog, (e) => {\r\n                addClass(self._modal, self._config.classes.display);\r\n\r\n                // If last modal is closed\r\n                if (getTotalModals() < 1) focus(self._finalFocus);\r\n\r\n                restoreModalScrollbar(self);\r\n                self._dispatchEvent('hidden', eventData);\r\n\r\n                removeBackdrop();\r\n            });\r\n\r\n            if (transitioned) return;\r\n\r\n            addClass(self._modal, self._config.classes.display);\r\n            \r\n            // If last modal is closed\r\n            if (getTotalModals() < 1) focus(self._finalFocus);\r\n\r\n            restoreModalScrollbar(self);\r\n            self._dispatchEvent('hidden', eventData);\r\n        };\r\n\r\n        /**\r\n         * Events.\r\n         */\r\n        if (this._config.target) {\r\n            this._on(this._element, 'click', onClickShow);\r\n        }\r\n\r\n        this._on(this._modal, 'keydown', onKeydown);\r\n        this._on(this._modal, 'click', onClickModalHide);\r\n\r\n        for (const close of closeTriggers) {\r\n            this._on(close, 'click', onClickHide);\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    show() {\r\n        this._show?.(this);\r\n    }\r\n\r\n    hide() {\r\n        this._hide?.(this);\r\n    }\r\n\r\n    visible() {\r\n        return this._isOpened;\r\n    }\r\n\r\n    destroy() {\r\n        this._hide(this);\r\n        this._backdrop?.remove();\r\n        this._transitionCleanup(this._dialog);\r\n        delete UIkit.store.openedModals;\r\n        addClass(this._modal, this._config.classes.display);\r\n        removeAttributes(this._modal, [ 'id', 'tabindex', 'role', 'ariaModal' ]);\r\n        styles(this._modal, { zIndex: null });\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Modal;","/**\n * Tom Select v2.2.2\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n */\n\n/**\n * MicroEvent - to make any js object an event emitter\n *\n * - pure javascript - server compatible, browser compatible\n * - dont rely on the browser doms\n * - super simple - you get it immediatly, no mistery, no magic involved\n *\n * @author Jerome Etienne (https://github.com/jeromeetienne)\n */\n\n/**\n * Execute callback for each event in space separated list of event names\n *\n */\nfunction forEvents(events, callback) {\n    events.split(/\\s+/).forEach((event) => {\n        callback(event);\n    });\n}\n\nclass MicroEvent {\n    constructor() {\n        this._events = void 0;\n        this._events = {};\n    }\n\n    on(events, fct) {\n        forEvents(events, (event) => {\n            const event_array = this._events[event] || [];\n            event_array.push(fct);\n            this._events[event] = event_array;\n        });\n    }\n\n    off(events, fct) {\n        var n = arguments.length;\n\n        if (n === 0) {\n            this._events = {};\n            return;\n        }\n\n        forEvents(events, (event) => {\n            if (n === 1) {\n                delete this._events[event];\n                return;\n            }\n\n            const event_array = this._events[event];\n            if (event_array === undefined) return;\n            event_array.splice(event_array.indexOf(fct), 1);\n            this._events[event] = event_array;\n        });\n    }\n\n    trigger(events, ...args) {\n        var self = this;\n        forEvents(events, (event) => {\n            const event_array = self._events[event];\n            if (event_array === undefined) return;\n            event_array.forEach((fct) => {\n                fct.apply(self, args);\n            });\n        });\n    }\n}\n\n/**\n * microplugin.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\nfunction MicroPlugin(Interface) {\n    Interface.plugins = {};\n    return class extends Interface {\n        constructor(...args) {\n            super(...args);\n            this.plugins = {\n                names: [],\n                settings: {},\n                requested: {},\n                loaded: {},\n            };\n        }\n\n        /**\n         * Registers a plugin.\n         *\n         * @param {function} fn\n         */\n        static define(name, fn) {\n            Interface.plugins[name] = {\n                name: name,\n                fn: fn,\n            };\n        }\n        /**\n         * Initializes the listed plugins (with options).\n         * Acceptable formats:\n         *\n         * List (without options):\n         *   ['a', 'b', 'c']\n         *\n         * List (with options):\n         *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n         *\n         * Hash (with options):\n         *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n         *\n         * @param {array|object} plugins\n         */\n\n        initializePlugins(plugins) {\n            var key, name;\n            const self = this;\n            const queue = [];\n\n            if (Array.isArray(plugins)) {\n                plugins.forEach((plugin) => {\n                    if (typeof plugin === \"string\") {\n                        queue.push(plugin);\n                    } else {\n                        self.plugins.settings[plugin.name] = plugin.options;\n                        queue.push(plugin.name);\n                    }\n                });\n            } else if (plugins) {\n                for (key in plugins) {\n                    if (plugins.hasOwnProperty(key)) {\n                        self.plugins.settings[key] = plugins[key];\n                        queue.push(key);\n                    }\n                }\n            }\n\n            while ((name = queue.shift())) {\n                self.require(name);\n            }\n        }\n\n        loadPlugin(name) {\n            var self = this;\n            var plugins = self.plugins;\n            var plugin = Interface.plugins[name];\n\n            if (!Interface.plugins.hasOwnProperty(name)) {\n                throw new Error('Unable to find \"' + name + '\" plugin');\n            }\n\n            plugins.requested[name] = true;\n            plugins.loaded[name] = plugin.fn.apply(self, [\n                self.plugins.settings[name] || {},\n            ]);\n            plugins.names.push(name);\n        }\n        /**\n         * Initializes a plugin.\n         *\n         */\n\n        require(name) {\n            var self = this;\n            var plugins = self.plugins;\n\n            if (!self.plugins.loaded.hasOwnProperty(name)) {\n                if (plugins.requested[name]) {\n                    throw new Error(\n                        'Plugin has circular dependency (\"' + name + '\")'\n                    );\n                }\n\n                self.loadPlugin(name);\n            }\n\n            return plugins.loaded[name];\n        }\n    };\n}\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\n/**\n * Convert array of strings to a regular expression\n *\tex ['ab','a'] => (?:ab|a)\n * \tex ['a','b'] => [ab]\n * @param {string[]} chars\n * @return {string}\n */\nconst arrayToPattern = (chars) => {\n    chars = chars.filter(Boolean);\n\n    if (chars.length < 2) {\n        return chars[0] || \"\";\n    }\n\n    return maxValueLength(chars) == 1\n        ? \"[\" + chars.join(\"\") + \"]\"\n        : \"(?:\" + chars.join(\"|\") + \")\";\n};\n/**\n * @param {string[]} array\n * @return {string}\n */\n\nconst sequencePattern = (array) => {\n    if (!hasDuplicates(array)) {\n        return array.join(\"\");\n    }\n\n    let pattern = \"\";\n    let prev_char_count = 0;\n\n    const prev_pattern = () => {\n        if (prev_char_count > 1) {\n            pattern += \"{\" + prev_char_count + \"}\";\n        }\n    };\n\n    array.forEach((char, i) => {\n        if (char === array[i - 1]) {\n            prev_char_count++;\n            return;\n        }\n\n        prev_pattern();\n        pattern += char;\n        prev_char_count = 1;\n    });\n    prev_pattern();\n    return pattern;\n};\n/**\n * Convert array of strings to a regular expression\n *\tex ['ab','a'] => (?:ab|a)\n * \tex ['a','b'] => [ab]\n * @param {Set<string>} chars\n * @return {string}\n */\n\nconst setToPattern = (chars) => {\n    let array = toArray(chars);\n    return arrayToPattern(array);\n};\n/**\n *\n * https://stackoverflow.com/questions/7376598/in-javascript-how-do-i-check-if-an-array-has-duplicate-values\n * @param {any[]} array\n */\n\nconst hasDuplicates = (array) => {\n    return new Set(array).size !== array.length;\n};\n/**\n * https://stackoverflow.com/questions/63006601/why-does-u-throw-an-invalid-escape-error\n * @param {string} str\n * @return {string}\n */\n\nconst escape_regex = (str) => {\n    return (str + \"\").replace(/([\\$\\(\\)\\*\\+\\.\\?\\[\\]\\^\\{\\|\\}\\\\])/gu, \"\\\\$1\");\n};\n/**\n * Return the max length of array values\n * @param {string[]} array\n *\n */\n\nconst maxValueLength = (array) => {\n    return array.reduce(\n        (longest, value) => Math.max(longest, unicodeLength(value)),\n        0\n    );\n};\n/**\n * @param {string} str\n */\n\nconst unicodeLength = (str) => {\n    return toArray(str).length;\n};\n/**\n * @param {any} p\n * @return {any[]}\n */\n\nconst toArray = (p) => Array.from(p);\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\n/**\n * Get all possible combinations of substrings that add up to the given string\n * https://stackoverflow.com/questions/30169587/find-all-the-combination-of-substrings-that-add-up-to-the-given-string\n * @param {string} input\n * @return {string[][]}\n */\nconst allSubstrings = (input) => {\n    if (input.length === 1) return [[input]];\n    /** @type {string[][]} */\n\n    let result = [];\n    const start = input.substring(1);\n    const suba = allSubstrings(start);\n    suba.forEach(function (subresult) {\n        let tmp = subresult.slice(0);\n        tmp[0] = input.charAt(0) + tmp[0];\n        result.push(tmp);\n        tmp = subresult.slice(0);\n        tmp.unshift(input.charAt(0));\n        result.push(tmp);\n    });\n    return result;\n};\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\n\n/**\n * @typedef {{[key:string]:string}} TUnicodeMap\n * @typedef {{[key:string]:Set<string>}} TUnicodeSets\n * @typedef {[[number,number]]} TCodePoints\n * @typedef {{folded:string,composed:string,code_point:number}} TCodePointObj\n * @typedef {{start:number,end:number,length:number,substr:string}} TSequencePart\n */\n/** @type {TCodePoints} */\n\nconst code_points = [[0, 65535]];\nconst accent_pat = \"[\\u0300-\\u036F\\u{b7}\\u{2be}\\u{2bc}]\";\n/** @type {TUnicodeMap} */\n\nlet unicode_map;\n/** @type {RegExp} */\n\nlet multi_char_reg;\nconst max_char_length = 3;\n/** @type {TUnicodeMap} */\n\nconst latin_convert = {};\n/** @type {TUnicodeMap} */\n\nconst latin_condensed = {\n    \"/\": \"⁄∕\",\n    0: \"߀\",\n    a: \"ⱥɐɑ\",\n    aa: \"ꜳ\",\n    ae: \"æǽǣ\",\n    ao: \"ꜵ\",\n    au: \"ꜷ\",\n    av: \"ꜹꜻ\",\n    ay: \"ꜽ\",\n    b: \"ƀɓƃ\",\n    c: \"ꜿƈȼↄ\",\n    d: \"đɗɖᴅƌꮷԁɦ\",\n    e: \"ɛǝᴇɇ\",\n    f: \"ꝼƒ\",\n    g: \"ǥɠꞡᵹꝿɢ\",\n    h: \"ħⱨⱶɥ\",\n    i: \"ɨı\",\n    j: \"ɉȷ\",\n    k: \"ƙⱪꝁꝃꝅꞣ\",\n    l: \"łƚɫⱡꝉꝇꞁɭ\",\n    m: \"ɱɯϻ\",\n    n: \"ꞥƞɲꞑᴎлԉ\",\n    o: \"øǿɔɵꝋꝍᴑ\",\n    oe: \"œ\",\n    oi: \"ƣ\",\n    oo: \"ꝏ\",\n    ou: \"ȣ\",\n    p: \"ƥᵽꝑꝓꝕρ\",\n    q: \"ꝗꝙɋ\",\n    r: \"ɍɽꝛꞧꞃ\",\n    s: \"ßȿꞩꞅʂ\",\n    t: \"ŧƭʈⱦꞇ\",\n    th: \"þ\",\n    tz: \"ꜩ\",\n    u: \"ʉ\",\n    v: \"ʋꝟʌ\",\n    vy: \"ꝡ\",\n    w: \"ⱳ\",\n    y: \"ƴɏỿ\",\n    z: \"ƶȥɀⱬꝣ\",\n    hv: \"ƕ\",\n};\n\nfor (let latin in latin_condensed) {\n    let unicode = latin_condensed[latin] || \"\";\n\n    for (let i = 0; i < unicode.length; i++) {\n        let char = unicode.substring(i, i + 1);\n        latin_convert[char] = latin;\n    }\n}\n\nconst convert_pat = new RegExp(\n    Object.keys(latin_convert).join(\"|\") + \"|\" + accent_pat,\n    \"gu\"\n);\n/**\n * Initialize the unicode_map from the give code point ranges\n *\n * @param {TCodePoints=} _code_points\n */\n\nconst initialize = (_code_points) => {\n    if (unicode_map !== undefined) return;\n    unicode_map = generateMap(_code_points || code_points);\n};\n/**\n * Helper method for normalize a string\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize\n * @param {string} str\n * @param {string} form\n */\n\nconst normalize = (str, form = \"NFKD\") => str.normalize(form);\n/**\n * Remove accents without reordering string\n * calling str.normalize('NFKD') on \\u{594}\\u{595}\\u{596} becomes \\u{596}\\u{594}\\u{595}\n * via https://github.com/krisk/Fuse/issues/133#issuecomment-318692703\n * @param {string} str\n * @return {string}\n */\n\nconst asciifold = (str) => {\n    return toArray(str).reduce(\n        /**\n         * @param {string} result\n         * @param {string} char\n         */\n        (result, char) => {\n            return result + _asciifold(char);\n        },\n        \"\"\n    );\n};\n/**\n * @param {string} str\n * @return {string}\n */\n\nconst _asciifold = (str) => {\n    str = normalize(str)\n        .toLowerCase()\n        .replace(\n            convert_pat,\n            (\n                /** @type {string} */\n                char\n            ) => {\n                return latin_convert[char] || \"\";\n            }\n        ); //return str;\n\n    return normalize(str, \"NFC\");\n};\n/**\n * Generate a list of unicode variants from the list of code points\n * @param {TCodePoints} code_points\n * @yield {TCodePointObj}\n */\n\nfunction* generator(code_points) {\n    for (const [code_point_min, code_point_max] of code_points) {\n        for (let i = code_point_min; i <= code_point_max; i++) {\n            let composed = String.fromCharCode(i);\n            let folded = asciifold(composed);\n\n            if (folded == composed.toLowerCase()) {\n                continue;\n            } // skip when folded is a string longer than 3 characters long\n            // bc the resulting regex patterns will be long\n            // eg:\n            // folded صلى الله عليه وسلم length 18 code point 65018\n            // folded جل جلاله length 8 code point 65019\n\n            if (folded.length > max_char_length) {\n                continue;\n            }\n\n            if (folded.length == 0) {\n                continue;\n            }\n\n            yield {\n                folded: folded,\n                composed: composed,\n                code_point: i,\n            };\n        }\n    }\n}\n/**\n * Generate a unicode map from the list of code points\n * @param {TCodePoints} code_points\n * @return {TUnicodeSets}\n */\n\nconst generateSets = (code_points) => {\n    /** @type {{[key:string]:Set<string>}} */\n    const unicode_sets = {};\n    /**\n     * @param {string} folded\n     * @param {string} to_add\n     */\n\n    const addMatching = (folded, to_add) => {\n        /** @type {Set<string>} */\n        const folded_set = unicode_sets[folded] || new Set();\n        const patt = new RegExp(\"^\" + setToPattern(folded_set) + \"$\", \"iu\");\n\n        if (to_add.match(patt)) {\n            return;\n        }\n\n        folded_set.add(escape_regex(to_add));\n        unicode_sets[folded] = folded_set;\n    };\n\n    for (let value of generator(code_points)) {\n        addMatching(value.folded, value.folded);\n        addMatching(value.folded, value.composed);\n    }\n\n    return unicode_sets;\n};\n/**\n * Generate a unicode map from the list of code points\n * ae => (?:(?:ae|Æ|Ǽ|Ǣ)|(?:A|Ⓐ|Ａ...)(?:E|ɛ|Ⓔ...))\n *\n * @param {TCodePoints} code_points\n * @return {TUnicodeMap}\n */\n\nconst generateMap = (code_points) => {\n    /** @type {TUnicodeSets} */\n    const unicode_sets = generateSets(code_points);\n    /** @type {TUnicodeMap} */\n\n    const unicode_map = {};\n    /** @type {string[]} */\n\n    let multi_char = [];\n\n    for (let folded in unicode_sets) {\n        let set = unicode_sets[folded];\n\n        if (set) {\n            unicode_map[folded] = setToPattern(set);\n        }\n\n        if (folded.length > 1) {\n            multi_char.push(escape_regex(folded));\n        }\n    }\n\n    multi_char.sort((a, b) => b.length - a.length);\n    const multi_char_patt = arrayToPattern(multi_char);\n    multi_char_reg = new RegExp(\"^\" + multi_char_patt, \"u\");\n    return unicode_map;\n};\n/**\n * Map each element of an array from it's folded value to all possible unicode matches\n * @param {string[]} strings\n * @param {number} min_replacement\n * @return {string}\n */\n\nconst mapSequence = (strings, min_replacement = 1) => {\n    let chars_replaced = 0;\n    strings = strings.map((str) => {\n        if (unicode_map[str]) {\n            chars_replaced += str.length;\n        }\n\n        return unicode_map[str] || str;\n    });\n\n    if (chars_replaced >= min_replacement) {\n        return sequencePattern(strings);\n    }\n\n    return \"\";\n};\n/**\n * Convert a short string and split it into all possible patterns\n * Keep a pattern only if min_replacement is met\n *\n * 'abc'\n * \t\t=> [['abc'],['ab','c'],['a','bc'],['a','b','c']]\n *\t\t=> ['abc-pattern','ab-c-pattern'...]\n *\n *\n * @param {string} str\n * @param {number} min_replacement\n * @return {string}\n */\n\nconst substringsToPattern = (str, min_replacement = 1) => {\n    min_replacement = Math.max(min_replacement, str.length - 1);\n    return arrayToPattern(\n        allSubstrings(str).map((sub_pat) => {\n            return mapSequence(sub_pat, min_replacement);\n        })\n    );\n};\n/**\n * Convert an array of sequences into a pattern\n * [{start:0,end:3,length:3,substr:'iii'}...] => (?:iii...)\n *\n * @param {Sequence[]} sequences\n * @param {boolean} all\n */\n\nconst sequencesToPattern = (sequences, all = true) => {\n    let min_replacement = sequences.length > 1 ? 1 : 0;\n    return arrayToPattern(\n        sequences.map((sequence) => {\n            let seq = [];\n            const len = all ? sequence.length() : sequence.length() - 1;\n\n            for (let j = 0; j < len; j++) {\n                seq.push(\n                    substringsToPattern(\n                        sequence.substrs[j] || \"\",\n                        min_replacement\n                    )\n                );\n            }\n\n            return sequencePattern(seq);\n        })\n    );\n};\n/**\n * Return true if the sequence is already in the sequences\n * @param {Sequence} needle_seq\n * @param {Sequence[]} sequences\n */\n\nconst inSequences = (needle_seq, sequences) => {\n    for (const seq of sequences) {\n        if (seq.start != needle_seq.start || seq.end != needle_seq.end) {\n            continue;\n        }\n\n        if (seq.substrs.join(\"\") !== needle_seq.substrs.join(\"\")) {\n            continue;\n        }\n\n        let needle_parts = needle_seq.parts;\n        /**\n         * @param {TSequencePart} part\n         */\n\n        const filter = (part) => {\n            for (const needle_part of needle_parts) {\n                if (\n                    needle_part.start === part.start &&\n                    needle_part.substr === part.substr\n                ) {\n                    return false;\n                }\n\n                if (part.length == 1 || needle_part.length == 1) {\n                    continue;\n                } // check for overlapping parts\n                // a = ['::=','==']\n                // b = ['::','===']\n                // a = ['r','sm']\n                // b = ['rs','m']\n\n                if (\n                    part.start < needle_part.start &&\n                    part.end > needle_part.start\n                ) {\n                    return true;\n                }\n\n                if (\n                    needle_part.start < part.start &&\n                    needle_part.end > part.start\n                ) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n\n        let filtered = seq.parts.filter(filter);\n\n        if (filtered.length > 0) {\n            continue;\n        }\n\n        return true;\n    }\n\n    return false;\n};\n\nclass Sequence {\n    constructor() {\n        /** @type {TSequencePart[]} */\n        this.parts = [];\n        /** @type {string[]} */\n\n        this.substrs = [];\n        this.start = 0;\n        this.end = 0;\n    }\n    /**\n     * @param {TSequencePart|undefined} part\n     */\n\n    add(part) {\n        if (part) {\n            this.parts.push(part);\n            this.substrs.push(part.substr);\n            this.start = Math.min(part.start, this.start);\n            this.end = Math.max(part.end, this.end);\n        }\n    }\n\n    last() {\n        return this.parts[this.parts.length - 1];\n    }\n\n    length() {\n        return this.parts.length;\n    }\n    /**\n     * @param {number} position\n     * @param {TSequencePart} last_piece\n     */\n\n    clone(position, last_piece) {\n        let clone = new Sequence();\n        let parts = JSON.parse(JSON.stringify(this.parts));\n        let last_part = parts.pop();\n\n        for (const part of parts) {\n            clone.add(part);\n        }\n\n        let last_substr = last_piece.substr.substring(\n            0,\n            position - last_part.start\n        );\n        let clone_last_len = last_substr.length;\n        clone.add({\n            start: last_part.start,\n            end: last_part.start + clone_last_len,\n            length: clone_last_len,\n            substr: last_substr,\n        });\n        return clone;\n    }\n}\n/**\n * Expand a regular expression pattern to include unicode variants\n * \teg /a/ becomes /aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐɑAⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ/\n *\n * Issue:\n *  ﺊﺋ [ 'ﺊ = \\\\u{fe8a}', 'ﺋ = \\\\u{fe8b}' ]\n *\tbecomes:\tئئ [ 'ي = \\\\u{64a}', 'ٔ = \\\\u{654}', 'ي = \\\\u{64a}', 'ٔ = \\\\u{654}' ]\n *\n *\tİĲ = IIJ = ⅡJ\n *\n * \t1/2/4\n *\n * @param {string} str\n * @return {string|undefined}\n */\n\nconst getPattern = (str) => {\n    initialize();\n    str = asciifold(str);\n    let pattern = \"\";\n    let sequences = [new Sequence()];\n\n    for (let i = 0; i < str.length; i++) {\n        let substr = str.substring(i);\n        let match = substr.match(multi_char_reg);\n        const char = str.substring(i, i + 1);\n        const match_str = match ? match[0] : null; // loop through sequences\n        // add either the char or multi_match\n\n        let overlapping = [];\n        let added_types = new Set();\n\n        for (const sequence of sequences) {\n            const last_piece = sequence.last();\n\n            if (!last_piece || last_piece.length == 1 || last_piece.end <= i) {\n                // if we have a multi match\n                if (match_str) {\n                    const len = match_str.length;\n                    sequence.add({\n                        start: i,\n                        end: i + len,\n                        length: len,\n                        substr: match_str,\n                    });\n                    added_types.add(\"1\");\n                } else {\n                    sequence.add({\n                        start: i,\n                        end: i + 1,\n                        length: 1,\n                        substr: char,\n                    });\n                    added_types.add(\"2\");\n                }\n            } else if (match_str) {\n                let clone = sequence.clone(i, last_piece);\n                const len = match_str.length;\n                clone.add({\n                    start: i,\n                    end: i + len,\n                    length: len,\n                    substr: match_str,\n                });\n                overlapping.push(clone);\n            } else {\n                // don't add char\n                // adding would create invalid patterns: 234 => [2,34,4]\n                added_types.add(\"3\");\n            }\n        } // if we have overlapping\n\n        if (overlapping.length > 0) {\n            // ['ii','iii'] before ['i','i','iii']\n            overlapping = overlapping.sort((a, b) => {\n                return a.length() - b.length();\n            });\n\n            for (let clone of overlapping) {\n                // don't add if we already have an equivalent sequence\n                if (inSequences(clone, sequences)) {\n                    continue;\n                }\n\n                sequences.push(clone);\n            }\n\n            continue;\n        } // if we haven't done anything unique\n        // clean up the patterns\n        // helps keep patterns smaller\n        // if str = 'r₨㎧aarss', pattern will be 446 instead of 655\n\n        if (i > 0 && added_types.size == 1 && !added_types.has(\"3\")) {\n            pattern += sequencesToPattern(sequences, false);\n            let new_seq = new Sequence();\n            const old_seq = sequences[0];\n\n            if (old_seq) {\n                new_seq.add(old_seq.last());\n            }\n\n            sequences = [new_seq];\n        }\n    }\n\n    pattern += sequencesToPattern(sequences, true);\n    return pattern;\n};\n\n/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */\n\n/**\n * A property getter resolving dot-notation\n * @param  {Object}  obj     The root object to fetch property on\n * @param  {String}  name    The optionally dotted property name to fetch\n * @return {Object}          The resolved property value\n */\nconst getAttr = (obj, name) => {\n    if (!obj) return;\n    return obj[name];\n};\n/**\n * A property getter resolving dot-notation\n * @param  {Object}  obj     The root object to fetch property on\n * @param  {String}  name    The optionally dotted property name to fetch\n * @return {Object}          The resolved property value\n */\n\nconst getAttrNesting = (obj, name) => {\n    if (!obj) return;\n    var part,\n        names = name.split(\".\");\n\n    while ((part = names.shift()) && (obj = obj[part]));\n\n    return obj;\n};\n/**\n * Calculates how close of a match the\n * given value is against a search token.\n *\n */\n\nconst scoreValue = (value, token, weight) => {\n    var score, pos;\n    if (!value) return 0;\n    value = value + \"\";\n    if (token.regex == null) return 0;\n    pos = value.search(token.regex);\n    if (pos === -1) return 0;\n    score = token.string.length / value.length;\n    if (pos === 0) score += 0.5;\n    return score * weight;\n};\n/**\n * Cast object property to an array if it exists and has a value\n *\n */\n\nconst propToArray = (obj, key) => {\n    var value = obj[key];\n    if (typeof value == \"function\") return value;\n\n    if (value && !Array.isArray(value)) {\n        obj[key] = [value];\n    }\n};\n/**\n * Iterates over arrays and hashes.\n *\n * ```\n * iterate(this.items, function(item, id) {\n *    // invoked for each item\n * });\n * ```\n *\n */\n\nconst iterate$1 = (object, callback) => {\n    if (Array.isArray(object)) {\n        object.forEach(callback);\n    } else {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                callback(object[key], key);\n            }\n        }\n    }\n};\nconst cmp = (a, b) => {\n    if (typeof a === \"number\" && typeof b === \"number\") {\n        return a > b ? 1 : a < b ? -1 : 0;\n    }\n\n    a = asciifold(a + \"\").toLowerCase();\n    b = asciifold(b + \"\").toLowerCase();\n    if (a > b) return 1;\n    if (b > a) return -1;\n    return 0;\n};\n\n/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */\n\n/**\n * sifter.js\n * Copyright (c) 2013–2020 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\nclass Sifter {\n    // []|{};\n\n    /**\n     * Textually searches arrays and hashes of objects\n     * by property (or multiple properties). Designed\n     * specifically for autocomplete.\n     *\n     */\n    constructor(items, settings) {\n        this.items = void 0;\n        this.settings = void 0;\n        this.items = items;\n        this.settings = settings || {\n            diacritics: true,\n        };\n    }\n\n    /**\n     * Splits a search string into an array of individual\n     * regexps to be used to match results.\n     *\n     */\n    tokenize(query, respect_word_boundaries, weights) {\n        if (!query || !query.length) return [];\n        const tokens = [];\n        const words = query.split(/\\s+/);\n        var field_regex;\n\n        if (weights) {\n            field_regex = new RegExp(\n                \"^(\" +\n                Object.keys(weights).map(escape_regex).join(\"|\") +\n                \"):(.*)$\"\n            );\n        }\n\n        words.forEach((word) => {\n            let field_match;\n            let field = null;\n            let regex = null; // look for \"field:query\" tokens\n\n            if (field_regex && (field_match = word.match(field_regex))) {\n                field = field_match[1];\n                word = field_match[2];\n            }\n\n            if (word.length > 0) {\n                if (this.settings.diacritics) {\n                    regex = getPattern(word) || null;\n                } else {\n                    regex = escape_regex(word);\n                }\n\n                if (regex && respect_word_boundaries) regex = \"\\\\b\" + regex;\n            }\n\n            tokens.push({\n                string: word,\n                regex: regex ? new RegExp(regex, \"iu\") : null,\n                field: field,\n            });\n        });\n        return tokens;\n    }\n\n    /**\n     * Returns a function to be used to score individual results.\n     *\n     * Good matches will have a higher score than poor matches.\n     * If an item is not a match, 0 will be returned by the function.\n     *\n     * @returns {T.ScoreFn}\n     */\n    getScoreFunction(query, options) {\n        var search = this.prepareSearch(query, options);\n        return this._getScoreFunction(search);\n    }\n    /**\n     * @returns {T.ScoreFn}\n     *\n     */\n\n    _getScoreFunction(search) {\n        const tokens = search.tokens,\n            token_count = tokens.length;\n\n        if (!token_count) {\n            return function () {\n                return 0;\n            };\n        }\n\n        const fields = search.options.fields,\n            weights = search.weights,\n            field_count = fields.length,\n            getAttrFn = search.getAttrFn;\n\n        if (!field_count) {\n            return function () {\n                return 1;\n            };\n        }\n        /**\n         * Calculates the score of an object\n         * against the search query.\n         *\n         */\n\n        const scoreObject = (function () {\n            if (field_count === 1) {\n                return function (token, data) {\n                    const field = fields[0].field;\n                    return scoreValue(\n                        getAttrFn(data, field),\n                        token,\n                        weights[field] || 1\n                    );\n                };\n            }\n\n            return function (token, data) {\n                var sum = 0; // is the token specific to a field?\n\n                if (token.field) {\n                    const value = getAttrFn(data, token.field);\n\n                    if (!token.regex && value) {\n                        sum += 1 / field_count;\n                    } else {\n                        sum += scoreValue(value, token, 1);\n                    }\n                } else {\n                    iterate$1(weights, (weight, field) => {\n                        sum += scoreValue(\n                            getAttrFn(data, field),\n                            token,\n                            weight\n                        );\n                    });\n                }\n\n                return sum / field_count;\n            };\n        })();\n\n        if (token_count === 1) {\n            return function (data) {\n                return scoreObject(tokens[0], data);\n            };\n        }\n\n        if (search.options.conjunction === \"and\") {\n            return function (data) {\n                var score,\n                    sum = 0;\n\n                for (let token of tokens) {\n                    score = scoreObject(token, data);\n                    if (score <= 0) return 0;\n                    sum += score;\n                }\n\n                return sum / token_count;\n            };\n        } else {\n            return function (data) {\n                var sum = 0;\n                iterate$1(tokens, (token) => {\n                    sum += scoreObject(token, data);\n                });\n                return sum / token_count;\n            };\n        }\n    }\n\n    /**\n     * Returns a function that can be used to compare two\n     * results, for sorting purposes. If no sorting should\n     * be performed, `null` will be returned.\n     *\n     * @return function(a,b)\n     */\n    getSortFunction(query, options) {\n        var search = this.prepareSearch(query, options);\n        return this._getSortFunction(search);\n    }\n\n    _getSortFunction(search) {\n        var implicit_score,\n            sort_flds = [];\n        const self = this,\n            options = search.options,\n            sort =\n                !search.query && options.sort_empty\n                    ? options.sort_empty\n                    : options.sort;\n\n        if (typeof sort == \"function\") {\n            return sort.bind(this);\n        }\n        /**\n         * Fetches the specified sort field value\n         * from a search result item.\n         *\n         */\n\n        const get_field = function get_field(name, result) {\n            if (name === \"$score\") return result.score;\n            return search.getAttrFn(self.items[result.id], name);\n        }; // parse options\n\n        if (sort) {\n            for (let s of sort) {\n                if (search.query || s.field !== \"$score\") {\n                    sort_flds.push(s);\n                }\n            }\n        } // the \"$score\" field is implied to be the primary\n        // sort field, unless it's manually specified\n\n        if (search.query) {\n            implicit_score = true;\n\n            for (let fld of sort_flds) {\n                if (fld.field === \"$score\") {\n                    implicit_score = false;\n                    break;\n                }\n            }\n\n            if (implicit_score) {\n                sort_flds.unshift({\n                    field: \"$score\",\n                    direction: \"desc\",\n                });\n            } // without a search.query, all items will have the same score\n        } else {\n            sort_flds = sort_flds.filter((fld) => fld.field !== \"$score\");\n        } // build function\n\n        const sort_flds_count = sort_flds.length;\n\n        if (!sort_flds_count) {\n            return null;\n        }\n\n        return function (a, b) {\n            var result, field;\n\n            for (let sort_fld of sort_flds) {\n                field = sort_fld.field;\n                let multiplier = sort_fld.direction === \"desc\" ? -1 : 1;\n                result =\n                    multiplier * cmp(get_field(field, a), get_field(field, b));\n                if (result) return result;\n            }\n\n            return 0;\n        };\n    }\n\n    /**\n     * Parses a search query and returns an object\n     * with tokens and fields ready to be populated\n     * with results.\n     *\n     */\n    prepareSearch(query, optsUser) {\n        const weights = {};\n        var options = Object.assign({}, optsUser);\n        propToArray(options, \"sort\");\n        propToArray(options, \"sort_empty\"); // convert fields to new format\n\n        if (options.fields) {\n            propToArray(options, \"fields\");\n            const fields = [];\n            options.fields.forEach((field) => {\n                if (typeof field == \"string\") {\n                    field = {\n                        field: field,\n                        weight: 1,\n                    };\n                }\n\n                fields.push(field);\n                weights[field.field] = \"weight\" in field ? field.weight : 1;\n            });\n            options.fields = fields;\n        }\n\n        return {\n            options: options,\n            query: query.toLowerCase().trim(),\n            tokens: this.tokenize(\n                query,\n                options.respect_word_boundaries,\n                weights\n            ),\n            total: 0,\n            items: [],\n            weights: weights,\n            getAttrFn: options.nesting ? getAttrNesting : getAttr,\n        };\n    }\n\n    /**\n     * Searches through all items and returns a sorted array of matches.\n     *\n     */\n    search(query, options) {\n        var self = this,\n            score,\n            search;\n        search = this.prepareSearch(query, options);\n        options = search.options;\n        query = search.query; // generate result scoring function\n\n        const fn_score = options.score || self._getScoreFunction(search); // perform search and sort\n\n        if (query.length) {\n            iterate$1(self.items, (item, id) => {\n                score = fn_score(item);\n\n                if (options.filter === false || score > 0) {\n                    search.items.push({\n                        score: score,\n                        id: id,\n                    });\n                }\n            });\n        } else {\n            iterate$1(self.items, (_, id) => {\n                search.items.push({\n                    score: 1,\n                    id: id,\n                });\n            });\n        }\n\n        const fn_sort = self._getSortFunction(search);\n\n        if (fn_sort) search.items.sort(fn_sort); // apply limits\n\n        search.total = search.items.length;\n\n        if (typeof options.limit === \"number\") {\n            search.items = search.items.slice(0, options.limit);\n        }\n\n        return search;\n    }\n}\n\n/**\n * Iterates over arrays and hashes.\n *\n * ```\n * iterate(this.items, function(item, id) {\n *    // invoked for each item\n * });\n * ```\n *\n */\n\nconst iterate = (object, callback) => {\n    if (Array.isArray(object)) {\n        object.forEach(callback);\n    } else {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                callback(object[key], key);\n            }\n        }\n    }\n};\n\n/**\n * Return a dom element from either a dom query string, jQuery object, a dom element or html string\n * https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro/35385518#35385518\n *\n * param query should be {}\n */\n\nconst getDom = (query) => {\n    if (query.jquery) {\n        return query[0];\n    }\n\n    if (query instanceof HTMLElement) {\n        return query;\n    }\n\n    if (isHtmlString(query)) {\n        var tpl = document.createElement(\"template\");\n        tpl.innerHTML = query.trim(); // Never return a text node of whitespace as the result\n\n        return tpl.content.firstChild;\n    }\n\n    return document.querySelector(query);\n};\nconst isHtmlString = (arg) => {\n    if (typeof arg === \"string\" && arg.indexOf(\"<\") > -1) {\n        return true;\n    }\n\n    return false;\n};\nconst escapeQuery = (query) => {\n    return query.replace(/['\"\\\\]/g, \"\\\\$&\");\n};\n/**\n * Dispatch an event\n *\n */\n\nconst triggerEvent = (dom_el, event_name) => {\n    var event = document.createEvent(\"HTMLEvents\");\n    event.initEvent(event_name, true, false);\n    dom_el.dispatchEvent(event);\n};\n/**\n * Apply CSS rules to a dom element\n *\n */\n\nconst applyCSS = (dom_el, css) => {\n    Object.assign(dom_el.style, css);\n};\n/**\n * Add css classes\n *\n */\n\nconst addClasses = (elmts, ...classes) => {\n    var norm_classes = classesArray(classes);\n    elmts = castAsArray(elmts);\n    elmts.map((el) => {\n        norm_classes.map((cls) => {\n            el.classList.add(cls);\n        });\n    });\n};\n/**\n * Remove css classes\n *\n */\n\nconst removeClasses = (elmts, ...classes) => {\n    var norm_classes = classesArray(classes);\n    elmts = castAsArray(elmts);\n    elmts.map((el) => {\n        norm_classes.map((cls) => {\n            el.classList.remove(cls);\n        });\n    });\n};\n/**\n * Return arguments\n *\n */\n\nconst classesArray = (args) => {\n    var classes = [];\n    iterate(args, (_classes) => {\n        if (typeof _classes === \"string\") {\n            _classes = _classes.trim().split(/[\\11\\12\\14\\15\\40]/);\n        }\n\n        if (Array.isArray(_classes)) {\n            classes = classes.concat(_classes);\n        }\n    });\n    return classes.filter(Boolean);\n};\n/**\n * Create an array from arg if it's not already an array\n *\n */\n\nconst castAsArray = (arg) => {\n    if (!Array.isArray(arg)) {\n        arg = [arg];\n    }\n\n    return arg;\n};\n/**\n * Get the closest node to the evt.target matching the selector\n * Stops at wrapper\n *\n */\n\nconst parentMatch = (target, selector, wrapper) => {\n    if (wrapper && !wrapper.contains(target)) {\n        return;\n    }\n\n    while (target && target.matches) {\n        if (target.matches(selector)) {\n            return target;\n        }\n\n        target = target.parentNode;\n    }\n};\n/**\n * Get the first or last item from an array\n *\n * > 0 - right (last)\n * <= 0 - left (first)\n *\n */\n\nconst getTail = (list, direction = 0) => {\n    if (direction > 0) {\n        return list[list.length - 1];\n    }\n\n    return list[0];\n};\n/**\n * Return true if an object is empty\n *\n */\n\nconst isEmptyObject = (obj) => {\n    return Object.keys(obj).length === 0;\n};\n/**\n * Get the index of an element amongst sibling nodes of the same type\n *\n */\n\nconst nodeIndex = (el, amongst) => {\n    if (!el) return -1;\n    amongst = amongst || el.nodeName;\n    var i = 0;\n\n    while ((el = el.previousElementSibling)) {\n        if (el.matches(amongst)) {\n            i++;\n        }\n    }\n\n    return i;\n};\n/**\n * Set attributes of an element\n *\n */\n\nconst setAttr = (el, attrs) => {\n    iterate(attrs, (val, attr) => {\n        if (val == null) {\n            el.removeAttribute(attr);\n        } else {\n            el.setAttribute(attr, \"\" + val);\n        }\n    });\n};\n/**\n * Replace a node\n */\n\nconst replaceNode = (existing, replacement) => {\n    if (existing.parentNode)\n        existing.parentNode.replaceChild(replacement, existing);\n};\n\n/**\n * highlight v3 | MIT license | Johann Burkard <jb@eaio.com>\n * Highlights arbitrary terms in a node.\n *\n * - Modified by Marshal <beatgates@gmail.com> 2011-6-24 (added regex)\n * - Modified by Brian Reavis <brian@thirdroute.com> 2012-8-27 (cleanup)\n */\nconst highlight = (element, regex, highlightClass) => {\n    if (regex === null) return; // convet string to regex\n\n    if (typeof regex === \"string\") {\n        if (!regex.length) return;\n        regex = new RegExp(regex, \"i\");\n    } // Wrap matching part of text node with highlighting <span>, e.g.\n    // Soccer  ->  <span class=\"highlight\">Soc</span>cer  for regex = /soc/i\n\n    const highlightText = (node) => {\n        var match = node.data.match(regex);\n\n        if (match && node.data.length > 0) {\n            var spannode = document.createElement(\"span\");\n            spannode.className = \"highlight \" + highlightClass;\n            var middlebit = node.splitText(match.index);\n            middlebit.splitText(match[0].length);\n            var middleclone = middlebit.cloneNode(true);\n            spannode.appendChild(middleclone);\n            replaceNode(middlebit, spannode);\n            return 1;\n        }\n\n        return 0;\n    }; // Recurse element node, looking for child text nodes to highlight, unless element\n    // is childless, <script>, <style>, or already highlighted: <span class=\"hightlight\">\n\n    const highlightChildren = (node) => {\n        if (\n            node.nodeType === 1 &&\n            node.childNodes &&\n            !/(script|style)/i.test(node.tagName) &&\n            // (node.className !== \"highlight\" || node.tagName !== \"SPAN\")\n            (!node.classList.contains('highlight') || node.tagName !== \"SPAN\")\n        ) {\n            Array.from(node.childNodes).forEach((element) => {\n                highlightRecursive(element);\n            });\n        }\n    };\n\n    const highlightRecursive = (node) => {\n        if (node.nodeType === 3) {\n            return highlightText(node);\n        }\n\n        highlightChildren(node);\n        return 0;\n    };\n\n    highlightRecursive(element);\n};\n/**\n * removeHighlight fn copied from highlight v5 and\n * edited to remove with(), pass js strict mode, and use without jquery\n */\n\nconst removeHighlight = (el) => {\n    var elements = el.querySelectorAll(\"span.highlight\");\n    Array.prototype.forEach.call(elements, function (el) {\n        var parent = el.parentNode;\n        parent.replaceChild(el.firstChild, el);\n        parent.normalize();\n    });\n};\n\nconst KEY_A = 65;\nconst KEY_RETURN = 13;\nconst KEY_ESC = 27;\nconst KEY_LEFT = 37;\nconst KEY_UP = 38;\nconst KEY_RIGHT = 39;\nconst KEY_DOWN = 40;\nconst KEY_BACKSPACE = 8;\nconst KEY_DELETE = 46;\nconst KEY_TAB = 9;\nconst IS_MAC =\n    typeof navigator === \"undefined\" ? false : /Mac/.test(navigator.userAgent);\nconst KEY_SHORTCUT = IS_MAC ? \"metaKey\" : \"ctrlKey\"; // ctrl key or apple key for ma\n\nvar defaults = {\n    options: [],\n    optgroups: [],\n    plugins: [],\n    delimiter: \",\",\n    splitOn: null,\n    // regexp or string for splitting up values from a paste command\n    persist: true,\n    diacritics: true,\n    create: null,\n    createOnBlur: false,\n    createFilter: null,\n    highlight: true,\n    openOnFocus: true,\n    shouldOpen: null,\n    maxOptions: 50,\n    maxItems: null,\n    hideSelected: null,\n    duplicates: false,\n    addPrecedence: false,\n    selectOnTab: false,\n    preload: null,\n    allowEmptyOption: false,\n    //closeAfterSelect: false,\n    loadThrottle: 300,\n    loadingClass: \"loading\",\n    dataAttr: null,\n    //'data-data',\n    optgroupField: \"optgroup\",\n    valueField: \"value\",\n    labelField: \"text\",\n    disabledField: \"disabled\",\n    optgroupLabelField: \"label\",\n    optgroupValueField: \"value\",\n    lockOptgroupOrder: false,\n    sortField: \"$order\",\n    searchField: [\"text\"],\n    searchConjunction: \"and\",\n    mode: null,\n    wrapperClass: \"ts-wrapper\",\n    controlClass: \"ts-control\",\n    dropdownClass: \"ts-dropdown\",\n    dropdownContentClass: \"ts-dropdown-content\",\n    itemClass: \"item\",\n    optionClass: \"option\",\n    highlightClass: \"\",\n    dropdownParent: null,\n    controlInput: '<input type=\"text\" autocomplete=\"off\" size=\"1\" />',\n    copyClassesToDropdown: false,\n    placeholder: null,\n    hidePlaceholder: null,\n    shouldLoad: function (query) {\n        return query.length > 0;\n    },\n\n    /*\n    load                 : null, // function(query, callback) { ... }\n    score                : null, // function(search) { ... }\n    onInitialize         : null, // function() { ... }\n    onChange             : null, // function(value) { ... }\n    onItemAdd            : null, // function(value, $item) { ... }\n    onItemRemove         : null, // function(value) { ... }\n    onClear              : null, // function() { ... }\n    onOptionAdd          : null, // function(value, data) { ... }\n    onOptionRemove       : null, // function(value) { ... }\n    onOptionClear        : null, // function() { ... }\n    onOptionGroupAdd     : null, // function(id, data) { ... }\n    onOptionGroupRemove  : null, // function(id) { ... }\n    onOptionGroupClear   : null, // function() { ... }\n    onDropdownOpen       : null, // function(dropdown) { ... }\n    onDropdownClose      : null, // function(dropdown) { ... }\n    onType               : null, // function(str) { ... }\n    onDelete             : null, // function(values) { ... }\n    */\n    render: {\n        /*\n        item: null,\n        optgroup: null,\n        optgroup_header: null,\n        option: null,\n        option_create: null\n        */\n    },\n};\n\n/**\n * Converts a scalar to its best string representation\n * for hash keys and HTML attribute values.\n *\n * Transformations:\n *   'str'     -> 'str'\n *   null      -> ''\n *   undefined -> ''\n *   true      -> '1'\n *   false     -> '0'\n *   0         -> '0'\n *   1         -> '1'\n *\n */\nconst hash_key = (value) => {\n    if (typeof value === \"undefined\" || value === null) return null;\n    return get_hash(value);\n};\nconst get_hash = (value) => {\n    if (typeof value === \"boolean\") return value ? \"1\" : \"0\";\n    return value + \"\";\n};\n/**\n * Escapes a string for use within HTML.\n *\n */\n\nconst escape_html = (str) => {\n    return (str + \"\")\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n        .replace(/\"/g, \"&quot;\");\n};\n/**\n * Debounce the user provided load function\n *\n */\n\nconst loadDebounce = (fn, delay) => {\n    var timeout;\n    return function (value, callback) {\n        var self = this;\n\n        if (timeout) {\n            self.loading = Math.max(self.loading - 1, 0);\n            clearTimeout(timeout);\n        }\n\n        timeout = setTimeout(function () {\n            timeout = null;\n            self.loadedSearches[value] = true;\n            fn.call(self, value, callback);\n        }, delay);\n    };\n};\n/**\n * Debounce all fired events types listed in `types`\n * while executing the provided `fn`.\n *\n */\n\nconst debounce_events = (self, types, fn) => {\n    var type;\n    var trigger = self.trigger;\n    var event_args = {}; // override trigger method\n\n    self.trigger = function () {\n        var type = arguments[0];\n\n        if (types.indexOf(type) !== -1) {\n            event_args[type] = arguments;\n        } else {\n            return trigger.apply(self, arguments);\n        }\n    }; // invoke provided function\n\n    fn.apply(self, []);\n    self.trigger = trigger; // trigger queued events\n\n    for (type of types) {\n        if (type in event_args) {\n            trigger.apply(self, event_args[type]);\n        }\n    }\n};\n/**\n * Determines the current selection within a text input control.\n * Returns an object containing:\n *   - start\n *   - length\n *\n */\n\nconst getSelection = (input) => {\n    return {\n        start: input.selectionStart || 0,\n        length: (input.selectionEnd || 0) - (input.selectionStart || 0),\n    };\n};\n/**\n * Prevent default\n *\n */\n\nconst preventDefault = (evt, stop = false) => {\n    if (evt) {\n        evt.preventDefault();\n\n        if (stop) {\n            evt.stopPropagation();\n        }\n    }\n};\n/**\n * Add event helper\n *\n */\n\nconst addEvent = (target, type, callback, options) => {\n    target.addEventListener(type, callback, options);\n};\n/**\n * Return true if the requested key is down\n * Will return false if more than one control character is pressed ( when [ctrl+shift+a] != [ctrl+a] )\n * The current evt may not always set ( eg calling advanceSelection() )\n *\n */\n\nconst isKeyDown = (key_name, evt) => {\n    if (!evt) {\n        return false;\n    }\n\n    if (!evt[key_name]) {\n        return false;\n    }\n\n    var count =\n        (evt.altKey ? 1 : 0) +\n        (evt.ctrlKey ? 1 : 0) +\n        (evt.shiftKey ? 1 : 0) +\n        (evt.metaKey ? 1 : 0);\n\n    if (count === 1) {\n        return true;\n    }\n\n    return false;\n};\n/**\n * Get the id of an element\n * If the id attribute is not set, set the attribute with the given id\n *\n */\n\nconst getId = (el, id) => {\n    const existing_id = el.getAttribute(\"id\");\n\n    if (existing_id) {\n        return existing_id;\n    }\n\n    el.setAttribute(\"id\", id);\n    return id;\n};\n/**\n * Returns a string with backslashes added before characters that need to be escaped.\n */\n\nconst addSlashes = (str) => {\n    return str.replace(/[\\\\\"']/g, \"\\\\$&\");\n};\n/**\n *\n */\n\nconst append = (parent, node) => {\n    if (node) parent.append(node);\n};\n\nfunction getSettings(input, settings_user) {\n    var settings = Object.assign({}, defaults, settings_user);\n    var attr_data = settings.dataAttr;\n    var field_label = settings.labelField;\n    var field_value = settings.valueField;\n    var field_disabled = settings.disabledField;\n    var field_optgroup = settings.optgroupField;\n    var field_optgroup_label = settings.optgroupLabelField;\n    var field_optgroup_value = settings.optgroupValueField;\n    var tag_name = input.tagName.toLowerCase();\n    var placeholder =\n        input.getAttribute(\"placeholder\") ||\n        settings.placeholder;\n\n    if (!placeholder && !settings.allowEmptyOption) {\n        let option = input.querySelector('option[value=\"\"]');\n\n        if (option) {\n            placeholder = option.textContent;\n        }\n    }\n\n    var settings_element = {\n        placeholder: placeholder,\n        options: [],\n        optgroups: [],\n        items: [],\n        maxItems: null,\n    };\n    /**\n     * Initialize from a <select> element.\n     *\n     */\n\n    var init_select = () => {\n        var tagName;\n        var options = settings_element.options;\n        var optionsMap = {};\n        var group_count = 1;\n\n        var readData = (el) => {\n            var data = Object.assign({}, el.dataset); // get plain object from DOMStringMap\n\n            var json = attr_data && data[attr_data];\n\n            if (typeof json === \"string\" && json.length) {\n                data = Object.assign(data, JSON.parse(json));\n            }\n\n            return data;\n        };\n\n        var addOption = (option, group) => {\n            var value = hash_key(option.value);\n            if (value == null) return;\n            if (!value && !settings.allowEmptyOption) return; // if the option already exists, it's probably been\n            // duplicated in another optgroup. in this case, push\n            // the current group to the \"optgroup\" property on the\n            // existing option so that it's rendered in both places.\n\n            if (optionsMap.hasOwnProperty(value)) {\n                if (group) {\n                    var arr = optionsMap[value][field_optgroup];\n\n                    if (!arr) {\n                        optionsMap[value][field_optgroup] = group;\n                    } else if (!Array.isArray(arr)) {\n                        optionsMap[value][field_optgroup] = [arr, group];\n                    } else {\n                        arr.push(group);\n                    }\n                }\n            } else {\n                var option_data = readData(option);\n                option_data[field_label] =\n                    option_data[field_label] || option.textContent;\n                option_data[field_value] = option_data[field_value] || value;\n                option_data[field_disabled] =\n                    option_data[field_disabled] || option.disabled;\n                option_data[field_optgroup] =\n                    option_data[field_optgroup] || group;\n                option_data.$option = option;\n                optionsMap[value] = option_data;\n                options.push(option_data);\n            }\n\n            if (option.selected) {\n                settings_element.items.push(value);\n            }\n        };\n\n        var addGroup = (optgroup) => {\n            var id, optgroup_data;\n            optgroup_data = readData(optgroup);\n            optgroup_data[field_optgroup_label] =\n                optgroup_data[field_optgroup_label] ||\n                optgroup.getAttribute(\"label\") ||\n                \"\";\n            optgroup_data[field_optgroup_value] =\n                optgroup_data[field_optgroup_value] || group_count++;\n            optgroup_data[field_disabled] =\n                optgroup_data[field_disabled] || optgroup.disabled;\n            settings_element.optgroups.push(optgroup_data);\n            id = optgroup_data[field_optgroup_value];\n            iterate(optgroup.children, (option) => {\n                addOption(option, id);\n            });\n        };\n\n        settings_element.maxItems = input.hasAttribute(\"multiple\") ? null : 1;\n        iterate(input.children, (child) => {\n            tagName = child.tagName.toLowerCase();\n\n            if (tagName === \"optgroup\") {\n                addGroup(child);\n            } else if (tagName === \"option\") {\n                addOption(child);\n            }\n        });\n    };\n    /**\n     * Initialize from a <input type=\"text\"> element.\n     *\n     */\n\n    var init_textbox = () => {\n        const data_raw = input.getAttribute(attr_data);\n\n        if (!data_raw) {\n            var value = input.value.trim() || \"\";\n            if (!settings.allowEmptyOption && !value.length) return;\n            const values = value.split(settings.delimiter);\n            iterate(values, (value) => {\n                const option = {};\n                option[field_label] = value;\n                option[field_value] = value;\n                settings_element.options.push(option);\n            });\n            settings_element.items = values;\n        } else {\n            settings_element.options = JSON.parse(data_raw);\n            iterate(settings_element.options, (opt) => {\n                settings_element.items.push(opt[field_value]);\n            });\n        }\n    };\n\n    if (tag_name === \"select\") {\n        init_select();\n    } else {\n        init_textbox();\n    }\n\n    return Object.assign({}, defaults, settings_element, settings_user);\n}\n\nvar instance_i = 0;\nclass TomSelect extends MicroPlugin(MicroEvent) {\n    // @deprecated 1.8\n    constructor(input_arg, user_settings) {\n        super();\n        this.control_input = void 0;\n        this.wrapper = void 0;\n        this.dropdown = void 0;\n        this.control = void 0;\n        this.dropdown_content = void 0;\n        this.focus_node = void 0;\n        this.order = 0;\n        this.settings = void 0;\n        this.input = void 0;\n        this.tabIndex = void 0;\n        this.is_select_tag = void 0;\n        this.rtl = void 0;\n        this.inputId = void 0;\n        this._destroy = void 0;\n        this.sifter = void 0;\n        this.isOpen = false;\n        this.isDisabled = false;\n        this.isRequired = void 0;\n        this.isInvalid = false;\n        this.isValid = true;\n        this.isLocked = false;\n        this.isFocused = false;\n        this.isInputHidden = false;\n        this.isSetup = false;\n        this.ignoreFocus = false;\n        this.ignoreHover = false;\n        this.hasOptions = false;\n        this.currentResults = void 0;\n        this.lastValue = \"\";\n        this.caretPos = 0;\n        this.loading = 0;\n        this.loadedSearches = {};\n        this.activeOption = null;\n        this.activeItems = [];\n        this.optgroups = {};\n        this.options = {};\n        this.userOptions = {};\n        this.items = [];\n        instance_i++;\n        var dir;\n        var input = getDom(input_arg);\n\n        if (input.tomselect) {\n            throw new Error(\"Tom Select already initialized on this element\");\n        }\n\n        input.tomselect = this; // detect rtl environment\n\n        var computedStyle =\n            window.getComputedStyle && window.getComputedStyle(input, null);\n        dir = computedStyle.getPropertyValue(\"direction\"); // setup default state\n\n        const settings = getSettings(input, user_settings);\n        this.settings = settings;\n        this.input = input;\n        this.tabIndex = input.tabIndex || 0;\n        this.is_select_tag = input.tagName.toLowerCase() === \"select\";\n        this.rtl = /rtl/i.test(dir);\n        this.inputId = getId(input, \"tomselect-\" + instance_i);\n        this.isRequired = input.required; // search system\n\n        this.sifter = new Sifter(this.options, {\n            diacritics: settings.diacritics,\n        }); // option-dependent defaults\n\n        settings.mode =\n            settings.mode || (settings.maxItems === 1 ? \"single\" : \"multi\");\n\n        if (typeof settings.hideSelected !== \"boolean\") {\n            settings.hideSelected = settings.mode === \"multi\";\n        }\n\n        if (typeof settings.hidePlaceholder !== \"boolean\") {\n            settings.hidePlaceholder = settings.mode !== \"multi\";\n        } // set up createFilter callback\n\n        var filter = settings.createFilter;\n\n        if (typeof filter !== \"function\") {\n            if (typeof filter === \"string\") {\n                filter = new RegExp(filter);\n            }\n\n            if (filter instanceof RegExp) {\n                settings.createFilter = (input) => filter.test(input);\n            } else {\n                settings.createFilter = (value) => {\n                    return this.settings.duplicates || !this.options[value];\n                };\n            }\n        }\n\n        this.initializePlugins(settings.plugins);\n        this.setupCallbacks();\n        this.setupTemplates(); // Create all elements\n\n        const wrapper = getDom(\"<div>\");\n        const control = getDom(\"<div>\");\n\n        const dropdown = this._render(\"dropdown\");\n\n        const dropdown_content = getDom(`<div role=\"listbox\" tabindex=\"-1\">`);\n        // const classes = this.input.getAttribute(\"class\") || \"\";\n        const classes = \"\";\n        const inputMode = settings.mode;\n        var control_input;\n        addClasses(wrapper, settings.wrapperClass, classes, inputMode);\n        addClasses(control, settings.controlClass);\n        append(wrapper, control);\n        addClasses(dropdown, settings.dropdownClass, inputMode);\n\n        if (settings.copyClassesToDropdown) {\n            addClasses(dropdown, classes);\n        }\n\n        addClasses(dropdown_content, settings.dropdownContentClass);\n        append(dropdown, dropdown_content);\n        getDom(settings.dropdownParent || wrapper).appendChild(dropdown); // default controlInput\n\n        if (isHtmlString(settings.controlInput)) {\n            control_input = getDom(settings.controlInput); // set attributes\n\n            var attrs = [\"autocorrect\", \"autocapitalize\", \"autocomplete\"];\n            iterate$1(attrs, (attr) => {\n                if (input.getAttribute(attr)) {\n                    setAttr(control_input, {\n                        [attr]: input.getAttribute(attr),\n                    });\n                }\n            });\n            control_input.tabIndex = -1;\n            control.appendChild(control_input);\n            this.focus_node = control_input; // dom element\n        } else if (settings.controlInput) {\n            control_input = getDom(settings.controlInput);\n            this.focus_node = control_input;\n        } else {\n            control_input = getDom(\"<input/>\");\n            this.focus_node = control;\n        }\n\n        this.wrapper = wrapper;\n        this.dropdown = dropdown;\n        this.dropdown_content = dropdown_content;\n        this.control = control;\n        this.control_input = control_input;\n        this.setup();\n    }\n    /**\n     * set up event bindings.\n     *\n     */\n\n    setup() {\n        const self = this;\n        const settings = self.settings;\n        const control_input = self.control_input;\n        const dropdown = self.dropdown;\n        const dropdown_content = self.dropdown_content;\n        const wrapper = self.wrapper;\n        const control = self.control;\n        const input = self.input;\n        const focus_node = self.focus_node;\n        const passive_event = {\n            passive: true,\n        };\n        const listboxId = self.inputId + \"-ts-dropdown\";\n        setAttr(dropdown_content, {\n            id: listboxId,\n        });\n        setAttr(focus_node, {\n            role: \"combobox\",\n            \"aria-haspopup\": \"listbox\",\n            \"aria-expanded\": \"false\",\n            \"aria-controls\": listboxId,\n        });\n        const control_id = getId(focus_node, self.inputId + \"-ts-control\");\n        const query = \"label[for='\" + escapeQuery(self.inputId) + \"']\";\n        const label = document.querySelector(query);\n        const label_click = self.focus.bind(self);\n\n        if (label) {\n            addEvent(label, \"click\", label_click);\n            setAttr(label, {\n                for: control_id,\n            });\n            const label_id = getId(label, self.inputId + \"-ts-label\");\n            setAttr(focus_node, {\n                \"aria-labelledby\": label_id,\n            });\n            setAttr(dropdown_content, {\n                \"aria-labelledby\": label_id,\n            });\n        }\n\n        wrapper.style.width = input.style.width;\n\n        if (self.plugins.names.length) {\n            const classes_plugins =\n                \"plugin-\" + self.plugins.names.join(\" plugin-\");\n            addClasses([wrapper, dropdown], classes_plugins);\n        }\n\n        if (\n            (settings.maxItems === null || settings.maxItems > 1) &&\n            self.is_select_tag\n        ) {\n            setAttr(input, {\n                multiple: \"multiple\",\n            });\n        }\n\n        setAttr(control, {\n            \"data-multiple\": settings.mode === 'multi',\n            \"data-disabled\": input.disabled\n        });\n\n        if (settings.placeholder) {\n            setAttr(control_input, {\n                placeholder: settings.placeholder,\n            });\n        } // if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n\n        if (!settings.splitOn && settings.delimiter) {\n            settings.splitOn = new RegExp(\n                \"\\\\s*\" + escape_regex(settings.delimiter) + \"+\\\\s*\"\n            );\n        } // debounce user defined load() if loadThrottle > 0\n        // after initializePlugins() so plugins can create/modify user defined loaders\n\n        if (settings.load && settings.loadThrottle) {\n            settings.load = loadDebounce(settings.load, settings.loadThrottle);\n        }\n\n        self.control_input.type = input.type;\n        addEvent(dropdown, \"mousemove\", () => {\n            self.ignoreHover = false;\n        });\n        addEvent(\n            dropdown,\n            \"mouseenter\",\n            (e) => {\n                var target_match = parentMatch(\n                    e.target,\n                    \"[data-selectable]\",\n                    dropdown\n                );\n                if (target_match) self.onOptionHover(e, target_match);\n            },\n            {\n                capture: true,\n            }\n        ); // clicking on an option should select it\n\n        addEvent(dropdown, \"click\", (evt) => {\n            const option = parentMatch(evt.target, \"[data-selectable]\");\n\n            if (option) {\n                self.onOptionSelect(evt, option);\n                preventDefault(evt, true);\n            }\n        });\n        addEvent(control, \"click\", (evt) => {\n            var target_match = parentMatch(\n                evt.target,\n                \"[data-ts-item]\",\n                control\n            );\n\n            if (target_match && self.onItemSelect(evt, target_match)) {\n                preventDefault(evt, true);\n                return;\n            } // retain focus (see control_input mousedown)\n\n            if (control_input.value != \"\") {\n                return;\n            }\n\n            self.onClick();\n            preventDefault(evt, true);\n        }); // keydown on focus_node for arrow_down/arrow_up\n\n        addEvent(focus_node, \"keydown\", (e) => self.onKeyDown(e)); // keypress and input/keyup\n\n        addEvent(control_input, \"keypress\", (e) => self.onKeyPress(e));\n        addEvent(control_input, \"input\", (e) => self.onInput(e));\n        addEvent(focus_node, \"blur\", (e) => self.onBlur(e));\n        addEvent(focus_node, \"focus\", (e) => self.onFocus(e));\n        addEvent(control_input, \"paste\", (e) => self.onPaste(e));\n\n        const doc_mousedown = (evt) => {\n            // blur if target is outside of this instance\n            // dropdown is not always inside wrapper\n            const target = evt.composedPath()[0];\n\n            if (!wrapper.contains(target) && !dropdown.contains(target)) {\n                if (self.isFocused) {\n                    self.blur();\n                }\n\n                self.inputState();\n                return;\n            } // retain focus by preventing native handling. if the\n            // event target is the input it should not be modified.\n            // otherwise, text selection within the input won't work.\n            // Fixes bug #212 which is no covered by tests\n\n            if (target == control_input && self.isOpen) {\n                evt.stopPropagation(); // clicking anywhere in the control should not blur the control_input (which would close the dropdown)\n            } else {\n                preventDefault(evt, true);\n            }\n        };\n\n        const win_scroll = () => {\n            if (self.isOpen) {\n                self.positionDropdown();\n            }\n        };\n\n        addEvent(document, \"mousedown\", doc_mousedown);\n        addEvent(window, \"scroll\", win_scroll, passive_event);\n        addEvent(window, \"resize\", win_scroll, passive_event);\n\n        this._destroy = () => {\n            document.removeEventListener(\"mousedown\", doc_mousedown);\n            window.removeEventListener(\"scroll\", win_scroll);\n            window.removeEventListener(\"resize\", win_scroll);\n            if (label) label.removeEventListener(\"click\", label_click);\n        }; // store original html and tab index so that they can be\n        // restored when the destroy() method is called.\n\n        this.revertSettings = {\n            innerHTML: input.innerHTML,\n            tabIndex: input.tabIndex,\n        };\n        input.tabIndex = -1;\n        input.insertAdjacentElement(\"afterend\", self.wrapper);\n        self.sync(false);\n        settings.items = [];\n        delete settings.optgroups;\n        delete settings.options;\n        addEvent(input, \"invalid\", () => {\n            if (self.isValid) {\n                self.isValid = false;\n                self.isInvalid = true;\n                self.refreshState();\n            }\n        });\n        self.updateOriginalInput();\n        self.refreshItems();\n        self.close(false);\n        self.inputState();\n        self.isSetup = true;\n\n        if (input.disabled) {\n            self.disable();\n        } else {\n            self.enable(); //sets tabIndex\n        }\n\n        self.on(\"change\", this.onChange);\n        // addClasses(input, \"tomselected\", \"ts-hidden-accessible\");\n        // input.style.display = 'none';\n        self.trigger(\"initialize\"); // preload options\n\n        if (settings.preload === true) {\n            self.preload();\n        }\n    }\n    /**\n     * Register options and optgroups\n     *\n     */\n\n    setupOptions(options = [], optgroups = []) {\n        // build options table\n        this.addOptions(options); // build optgroup table\n\n        iterate$1(optgroups, (optgroup) => {\n            this.registerOptionGroup(optgroup);\n        });\n    }\n    /**\n     * Sets up default rendering functions.\n     */\n\n    setupTemplates() {\n        var self = this;\n        var field_label = self.settings.labelField;\n        var field_optgroup = self.settings.optgroupLabelField;\n        var templates = {\n            optgroup: (data) => {\n                let optgroup = document.createElement(\"div\");\n                optgroup.className = \"optgroup\";\n                optgroup.appendChild(data.options);\n                return optgroup;\n            },\n            optgroup_header: (data, escape) => {\n                return (\n                    '<div class=\"optgroup-header\">' +\n                    escape(data[field_optgroup]) +\n                    \"</div>\"\n                );\n            },\n            option: (data, escape) => {\n                return \"<div>\" + escape(data[field_label]) + \"</div>\";\n            },\n            item: (data, escape) => {\n                return \"<div>\" + escape(data[field_label]) + \"</div>\";\n            },\n            option_create: (data, escape) => {\n                return (\n                    '<div class=\"create\">Add <strong>' +\n                    escape(data.input) +\n                    \"</strong>&hellip;</div>\"\n                );\n            },\n            no_results: () => {\n                return '<div class=\"no-results\">No results found</div>';\n            },\n            loading: () => {\n                return '<div class=\"spinner\"></div>';\n            },\n            not_loading: () => { },\n            dropdown: () => {\n                return \"<div></div>\";\n            },\n        };\n        self.settings.render = Object.assign(\n            {},\n            templates,\n            self.settings.render\n        );\n    }\n    /**\n     * Maps fired events to callbacks provided\n     * in the settings used when creating the control.\n     */\n\n    setupCallbacks() {\n        var key, fn;\n        var callbacks = {\n            initialize: \"onInitialize\",\n            change: \"onChange\",\n            item_add: \"onItemAdd\",\n            item_remove: \"onItemRemove\",\n            item_select: \"onItemSelect\",\n            clear: \"onClear\",\n            option_add: \"onOptionAdd\",\n            option_remove: \"onOptionRemove\",\n            option_clear: \"onOptionClear\",\n            optgroup_add: \"onOptionGroupAdd\",\n            optgroup_remove: \"onOptionGroupRemove\",\n            optgroup_clear: \"onOptionGroupClear\",\n            dropdown_open: \"onDropdownOpen\",\n            dropdown_close: \"onDropdownClose\",\n            type: \"onType\",\n            load: \"onLoad\",\n            focus: \"onFocus\",\n            blur: \"onBlur\",\n        };\n\n        for (key in callbacks) {\n            fn = this.settings[callbacks[key]];\n            if (fn) this.on(key, fn);\n        }\n    }\n    /**\n     * Sync the Tom Select instance with the original input or select\n     *\n     */\n\n    sync(get_settings = true) {\n        const self = this;\n        const settings = get_settings\n            ? getSettings(self.input, {\n                delimiter: self.settings.delimiter,\n            })\n            : self.settings;\n        self.setupOptions(settings.options, settings.optgroups);\n        self.setValue(settings.items || [], true); // silent prevents recursion\n\n        self.lastQuery = null; // so updated options will be displayed in dropdown\n    }\n    /**\n     * Triggered when the main control element\n     * has a click event.\n     *\n     */\n\n    onClick() {\n        var self = this;\n\n        if (self.activeItems.length > 0) {\n            self.clearActiveItems();\n            self.focus();\n            return;\n        }\n\n        if (self.isFocused && self.isOpen) {\n            self.blur();\n        } else {\n            self.focus();\n        }\n    }\n    /**\n     * @deprecated v1.7\n     *\n     */\n\n    onMouseDown() { }\n    /**\n     * Triggered when the value of the control has been changed.\n     * This should propagate the event to the original DOM\n     * input / select element.\n     */\n\n    onChange() {\n        triggerEvent(this.input, \"input\");\n        triggerEvent(this.input, \"change\");\n    }\n    /**\n     * Triggered on <input> paste.\n     *\n     */\n\n    onPaste(e) {\n        var self = this;\n\n        if (self.isInputHidden || self.isLocked) {\n            preventDefault(e);\n            return;\n        } // If a regex or string is included, this will split the pasted\n        // input and create Items for each separate value\n\n        if (!self.settings.splitOn) {\n            return;\n        } // Wait for pasted text to be recognized in value\n\n        setTimeout(() => {\n            var pastedText = self.inputValue();\n\n            if (!pastedText.match(self.settings.splitOn)) {\n                return;\n            }\n\n            var splitInput = pastedText.trim().split(self.settings.splitOn);\n            iterate$1(splitInput, (piece) => {\n                const hash = hash_key(piece);\n\n                if (hash) {\n                    if (this.options[piece]) {\n                        self.addItem(piece);\n                    } else {\n                        self.createItem(piece);\n                    }\n                }\n            });\n        }, 0);\n    }\n    /**\n     * Triggered on <input> keypress.\n     *\n     */\n\n    onKeyPress(e) {\n        var self = this;\n\n        if (self.isLocked) {\n            preventDefault(e);\n            return;\n        }\n\n        var character = String.fromCharCode(e.keyCode || e.which);\n\n        if (\n            self.settings.create &&\n            self.settings.mode === \"multi\" &&\n            character === self.settings.delimiter\n        ) {\n            self.createItem();\n            preventDefault(e);\n            return;\n        }\n    }\n    /**\n     * Triggered on <input> keydown.\n     *\n     */\n\n    onKeyDown(e) {\n        var self = this;\n        self.ignoreHover = true;\n\n        if (self.isLocked) {\n            if (e.keyCode !== KEY_TAB) {\n                preventDefault(e);\n            }\n\n            return;\n        }\n\n        switch (e.keyCode) {\n            // ctrl+A: select all\n            case KEY_A:\n                if (isKeyDown(KEY_SHORTCUT, e)) {\n                    if (self.control_input.value == \"\") {\n                        preventDefault(e);\n                        self.selectAll();\n                        return;\n                    }\n                }\n\n                break;\n            // esc: close dropdown\n\n            case KEY_ESC:\n                if (self.isOpen) {\n                    preventDefault(e, true);\n                    self.close();\n                }\n\n                self.clearActiveItems();\n                return;\n            // down: open dropdown or move selection down\n\n            case KEY_DOWN:\n                if (!self.isOpen && self.hasOptions) {\n                    self.open();\n                } else if (self.activeOption) {\n                    let next = self.getAdjacent(self.activeOption, 1);\n                    if (next) self.setActiveOption(next);\n                }\n\n                preventDefault(e);\n                return;\n            // up: move selection up\n\n            case KEY_UP:\n                if (self.activeOption) {\n                    let prev = self.getAdjacent(self.activeOption, -1);\n                    if (prev) self.setActiveOption(prev);\n                }\n\n                preventDefault(e);\n                return;\n            // return: select active option\n\n            case KEY_RETURN:\n                if (self.canSelect(self.activeOption)) {\n                    self.onOptionSelect(e, self.activeOption);\n                    preventDefault(e); // if the option_create=null, the dropdown might be closed\n                } else if (self.settings.create && self.createItem()) {\n                    preventDefault(e); // don't submit form when searching for a value\n                } else if (\n                    document.activeElement == self.control_input &&\n                    self.isOpen\n                ) {\n                    preventDefault(e);\n                }\n\n                return;\n            // left: modifiy item selection to the left\n\n            case KEY_LEFT:\n                self.advanceSelection(-1, e);\n                return;\n            // right: modifiy item selection to the right\n\n            case KEY_RIGHT:\n                self.advanceSelection(1, e);\n                return;\n            // tab: select active option and/or create item\n\n            case KEY_TAB:\n                if (self.settings.selectOnTab) {\n                    if (self.canSelect(self.activeOption)) {\n                        self.onOptionSelect(e, self.activeOption); // prevent default [tab] behaviour of jump to the next field\n                        // if select isFull, then the dropdown won't be open and [tab] will work normally\n\n                        preventDefault(e);\n                    }\n\n                    if (self.settings.create && self.createItem()) {\n                        preventDefault(e);\n                    }\n                }\n\n                return;\n            // delete|backspace: delete items\n\n            case KEY_BACKSPACE:\n            case KEY_DELETE:\n                self.deleteSelection(e);\n                return;\n        } // don't enter text in the control_input when active items are selected\n\n        if (self.isInputHidden && !isKeyDown(KEY_SHORTCUT, e)) {\n            preventDefault(e);\n        }\n    }\n    /**\n     * Triggered on <input> keyup.\n     *\n     */\n\n    onInput(e) {\n        var self = this;\n\n        if (self.isLocked) {\n            return;\n        }\n\n        var value = self.inputValue();\n\n        if (self.lastValue !== value) {\n            self.lastValue = value;\n\n            if (self.settings.shouldLoad.call(self, value)) {\n                self.load(value);\n            }\n\n            self.refreshOptions();\n            self.trigger(\"type\", value);\n        }\n    }\n    /**\n     * Triggered when the user rolls over\n     * an option in the autocomplete dropdown menu.\n     *\n     */\n\n    onOptionHover(evt, option) {\n        if (this.ignoreHover) return;\n        this.setActiveOption(option, false);\n    }\n    /**\n     * Triggered on <input> focus.\n     *\n     */\n\n    onFocus(e) {\n        var self = this;\n        var wasFocused = self.isFocused;\n\n        if (self.isDisabled) {\n            self.blur();\n            preventDefault(e);\n            return;\n        }\n\n        if (self.ignoreFocus) return;\n        self.isFocused = true;\n        if (self.settings.preload === \"focus\") self.preload();\n        if (!wasFocused) self.trigger(\"focus\");\n\n        if (!self.activeItems.length) {\n            self.showInput();\n            self.refreshOptions(!!self.settings.openOnFocus);\n        }\n\n        self.refreshState();\n    }\n    /**\n     * Triggered on <input> blur.\n     *\n     */\n\n    onBlur(e) {\n        if (document.hasFocus() === false) return;\n        var self = this;\n        if (!self.isFocused) return;\n        self.isFocused = false;\n        self.ignoreFocus = false;\n\n        var deactivate = () => {\n            self.close();\n            self.setActiveItem();\n            self.setCaret(self.items.length);\n            self.trigger(\"blur\");\n        };\n\n        if (self.settings.create && self.settings.createOnBlur) {\n            self.createItem(null, deactivate);\n        } else {\n            deactivate();\n        }\n    }\n    /**\n     * Triggered when the user clicks on an option\n     * in the autocomplete dropdown menu.\n     *\n     */\n\n    onOptionSelect(evt, option) {\n        var value,\n            self = this; // should not be possible to trigger a option under a disabled optgroup\n\n        if (\n            option.parentElement &&\n            option.parentElement.matches(\"[data-disabled]\")\n        ) {\n            return;\n        }\n\n        if (option.classList.contains(\"create\")) {\n            self.createItem(null, () => {\n                if (self.settings.closeAfterSelect) {\n                    self.close();\n                }\n            });\n        } else {\n            value = option.dataset.value;\n\n            if (typeof value !== \"undefined\") {\n                self.lastQuery = null;\n                self.addItem(value);\n\n                if (self.settings.closeAfterSelect) {\n                    self.close();\n                }\n\n                if (\n                    !self.settings.hideSelected &&\n                    evt.type &&\n                    /click/.test(evt.type)\n                ) {\n                    self.setActiveOption(option);\n                }\n            }\n        }\n    }\n    /**\n     * Return true if the given option can be selected\n     *\n     */\n\n    canSelect(option) {\n        if (this.isOpen && option && this.dropdown_content.contains(option)) {\n            return true;\n        }\n\n        return false;\n    }\n    /**\n     * Triggered when the user clicks on an item\n     * that has been selected.\n     *\n     */\n\n    onItemSelect(evt, item) {\n        var self = this;\n\n        if (!self.isLocked && self.settings.mode === \"multi\") {\n            preventDefault(evt);\n            self.setActiveItem(item, evt);\n            return true;\n        }\n\n        return false;\n    }\n    /**\n     * Determines whether or not to invoke\n     * the user-provided option provider / loader\n     *\n     * Note, there is a subtle difference between\n     * this.canLoad() and this.settings.shouldLoad();\n     *\n     *\t- settings.shouldLoad() is a user-input validator.\n     *\tWhen false is returned, the not_loading template\n     *\twill be added to the dropdown\n     *\n     *\t- canLoad() is lower level validator that checks\n     * \tthe Tom Select instance. There is no inherent user\n     *\tfeedback when canLoad returns false\n     *\n     */\n\n    canLoad(value) {\n        if (!this.settings.load) return false;\n        if (this.loadedSearches.hasOwnProperty(value)) return false;\n        return true;\n    }\n    /**\n     * Invokes the user-provided option provider / loader.\n     *\n     */\n\n    load(value) {\n        const self = this;\n        if (!self.canLoad(value)) return;\n        addClasses(self.wrapper, self.settings.loadingClass);\n        self.loading++;\n        const callback = self.loadCallback.bind(self);\n        self.settings.load.call(self, value, callback);\n    }\n    /**\n     * Invoked by the user-provided option provider\n     *\n     */\n\n    loadCallback(options, optgroups) {\n        const self = this;\n        self.loading = Math.max(self.loading - 1, 0);\n        self.lastQuery = null;\n        self.clearActiveOption(); // when new results load, focus should be on first option\n\n        self.setupOptions(options, optgroups);\n        self.refreshOptions(self.isFocused && !self.isInputHidden);\n\n        if (!self.loading) {\n            removeClasses(self.wrapper, self.settings.loadingClass);\n        }\n\n        self.trigger(\"load\", options, optgroups);\n    }\n\n    preload() {\n        var classList = this.wrapper.classList;\n        if (classList.contains(\"preloaded\")) return;\n        classList.add(\"preloaded\");\n        this.load(\"\");\n    }\n    /**\n     * Sets the input field of the control to the specified value.\n     *\n     */\n\n    setTextboxValue(value = \"\") {\n        var input = this.control_input;\n        var changed = input.value !== value;\n\n        if (changed) {\n            input.value = value;\n            triggerEvent(input, \"update\");\n            this.lastValue = value;\n        }\n    }\n    /**\n     * Returns the value of the control. If multiple items\n     * can be selected (e.g. <select multiple>), this returns\n     * an array. If only one item can be selected, this\n     * returns a string.\n     *\n     */\n\n    getValue() {\n        if (this.is_select_tag && this.input.hasAttribute(\"multiple\")) {\n            return this.items;\n        }\n\n        return this.items.join(this.settings.delimiter);\n    }\n    /**\n     * Resets the selected items to the given value.\n     *\n     */\n\n    setValue(value, silent) {\n        var events = silent ? [] : [\"change\"];\n        debounce_events(this, events, () => {\n            this.clear(silent);\n            this.addItems(value, silent);\n        });\n    }\n    /**\n     * Resets the number of max items to the given value\n     *\n     */\n\n    setMaxItems(value) {\n        if (value === 0) value = null; //reset to unlimited items.\n\n        this.settings.maxItems = value;\n        this.refreshState();\n    }\n    /**\n     * Sets the selected item.\n     *\n     */\n\n    setActiveItem(item, e) {\n        var self = this;\n        var eventName;\n        var i, begin, end, swap;\n        var last;\n        if (self.settings.mode === \"single\") return; // clear the active selection\n\n        if (!item) {\n            self.clearActiveItems();\n\n            if (self.isFocused) {\n                self.showInput();\n            }\n\n            return;\n        } // modify selection\n\n        eventName = e && e.type.toLowerCase();\n\n        if (\n            eventName === \"click\" &&\n            isKeyDown(\"shiftKey\", e) &&\n            self.activeItems.length\n        ) {\n            last = self.getLastActive();\n            begin = Array.prototype.indexOf.call(self.control.children, last);\n            end = Array.prototype.indexOf.call(self.control.children, item);\n\n            if (begin > end) {\n                swap = begin;\n                begin = end;\n                end = swap;\n            }\n\n            for (i = begin; i <= end; i++) {\n                item = self.control.children[i];\n\n                if (self.activeItems.indexOf(item) === -1) {\n                    self.setActiveItemClass(item);\n                }\n            }\n\n            preventDefault(e);\n        } else if (\n            (eventName === \"click\" && isKeyDown(KEY_SHORTCUT, e)) ||\n            (eventName === \"keydown\" && isKeyDown(\"shiftKey\", e))\n        ) {\n            if (item.classList.contains(\"active\")) {\n                self.removeActiveItem(item);\n            } else {\n                self.setActiveItemClass(item);\n            }\n        } else {\n            self.clearActiveItems();\n            self.setActiveItemClass(item);\n        } // ensure control has focus\n\n        self.hideInput();\n\n        if (!self.isFocused) {\n            self.focus();\n        }\n    }\n    /**\n     * Set the active and last-active classes\n     *\n     */\n\n    setActiveItemClass(item) {\n        const self = this;\n        const last_active = self.control.querySelector(\".last-active\");\n        if (last_active) removeClasses(last_active, \"last-active\");\n        addClasses(item, \"active last-active\");\n        item.setAttribute('aria-selected', true);\n        self.trigger(\"item_select\", item);\n\n        if (self.activeItems.indexOf(item) == -1) {\n            self.activeItems.push(item);\n        }\n    }\n    /**\n     * Remove active item\n     *\n     */\n\n    removeActiveItem(item) {\n        var idx = this.activeItems.indexOf(item);\n        this.activeItems.splice(idx, 1);\n        removeClasses(item, \"active\");\n        item.setAttribute('aria-selected', false);\n    }\n    /**\n     * Clears all the active items\n     *\n     */\n\n    clearActiveItems() {\n        removeClasses(this.activeItems, \"active\");\n        this.activeItems.forEach((item) => {\n            item.setAttribute('aria-selected', false);\n        });\n        this.activeItems = [];\n    }\n    /**\n     * Sets the selected item in the dropdown menu\n     * of available options.\n     *\n     */\n\n    setActiveOption(option, scroll = true) {\n        if (option === this.activeOption) {\n            return;\n        }\n\n        this.clearActiveOption();\n        if (!option) return;\n        this.activeOption = option;\n        setAttr(this.focus_node, {\n            \"aria-activedescendant\": option.getAttribute(\"id\"),\n        });\n        setAttr(option, {\n            \"aria-selected\": \"true\",\n        });\n        addClasses(option, \"active\");\n        if (scroll) this.scrollToOption(option);\n    }\n    /**\n     * Sets the dropdown_content scrollTop to display the option\n     *\n     */\n\n    scrollToOption(option, behavior) {\n        if (!option) return;\n        const content = this.dropdown_content;\n        const height_menu = content.clientHeight;\n        const scrollTop = content.scrollTop || 0;\n        const height_item = option.offsetHeight;\n        const y =\n            option.getBoundingClientRect().top -\n            content.getBoundingClientRect().top +\n            scrollTop;\n\n        if (y + height_item > height_menu + scrollTop) {\n            this.scroll(y - height_menu + height_item, behavior);\n        } else if (y < scrollTop) {\n            this.scroll(y, behavior);\n        }\n    }\n    /**\n     * Scroll the dropdown to the given position\n     *\n     */\n\n    scroll(scrollTop, behavior) {\n        const content = this.dropdown_content;\n\n        if (behavior) {\n            content.style.scrollBehavior = behavior;\n        }\n\n        content.scrollTop = scrollTop;\n        content.style.scrollBehavior = \"\";\n    }\n    /**\n     * Clears the active option\n     *\n     */\n\n    clearActiveOption() {\n        if (this.activeOption) {\n            removeClasses(this.activeOption, \"active\");\n            setAttr(this.activeOption, {\n                \"aria-selected\": null,\n            });\n        }\n\n        this.activeOption = null;\n        setAttr(this.focus_node, {\n            \"aria-activedescendant\": null,\n        });\n    }\n    /**\n     * Selects all items (CTRL + A).\n     */\n\n    selectAll() {\n        const self = this;\n        if (self.settings.mode === \"single\") return;\n        const activeItems = self.controlChildren();\n        if (!activeItems.length) return;\n        self.hideInput();\n        self.close();\n        self.activeItems = activeItems;\n        iterate$1(activeItems, (item) => {\n            self.setActiveItemClass(item);\n        });\n    }\n    /**\n     * Determines if the control_input should be in a hidden or visible state\n     *\n     */\n\n    inputState() {\n        var self = this;\n        if (!self.control.contains(self.control_input)) return;\n        setAttr(self.control_input, {\n            placeholder: self.settings.placeholder,\n        });\n\n        if (\n            self.activeItems.length > 0 ||\n            (!self.isFocused &&\n                self.settings.hidePlaceholder &&\n                self.items.length > 0)\n        ) {\n            self.setTextboxValue();\n            setAttr(self.control_input, {\n                placeholder: \"\",\n            });\n            self.isInputHidden = true;\n        } else {\n            if (self.settings.hidePlaceholder && self.items.length > 0) {\n                setAttr(self.control_input, {\n                    placeholder: \"\",\n                });\n            }\n\n            self.isInputHidden = false;\n        }\n\n        if (self.settings.mode === 'single' && self.items.length > 0) {\n            setAttr(self.control_input, {\n                placeholder: \"\",\n            });\n        }\n\n        self.wrapper.classList.toggle(\"input-hidden\", self.isInputHidden);\n    }\n    /**\n     * Hides the input element out of view, while\n     * retaining its focus.\n     * @deprecated 1.3\n     */\n\n    hideInput() {\n        this.inputState();\n    }\n    /**\n     * Restores input visibility.\n     * @deprecated 1.3\n     */\n\n    showInput() {\n        this.inputState();\n    }\n    /**\n     * Get the input value\n     */\n\n    inputValue() {\n        return this.control_input.value.trim();\n    }\n    /**\n     * Gives the control focus.\n     */\n\n    focus() {\n        var self = this;\n        if (self.isDisabled) return;\n        self.ignoreFocus = true;\n\n        if (self.control_input.offsetWidth) {\n            self.control_input.focus();\n        } else {\n            self.focus_node.focus();\n        }\n\n        setTimeout(() => {\n            self.ignoreFocus = false;\n            self.onFocus();\n        }, 0);\n    }\n    /**\n     * Forces the control out of focus.\n     *\n     */\n\n    blur() {\n        this.focus_node.blur();\n        this.onBlur();\n    }\n    /**\n     * Returns a function that scores an object\n     * to show how good of a match it is to the\n     * provided query.\n     *\n     * @return {function}\n     */\n\n    getScoreFunction(query) {\n        return this.sifter.getScoreFunction(query, this.getSearchOptions());\n    }\n    /**\n     * Returns search options for sifter (the system\n     * for scoring and sorting results).\n     *\n     * @see https://github.com/orchidjs/sifter.js\n     * @return {object}\n     */\n\n    getSearchOptions() {\n        var settings = this.settings;\n        var sort = settings.sortField;\n\n        if (typeof settings.sortField === \"string\") {\n            sort = [\n                {\n                    field: settings.sortField,\n                },\n            ];\n        }\n\n        return {\n            fields: settings.searchField,\n            conjunction: settings.searchConjunction,\n            sort: sort,\n            nesting: settings.nesting,\n        };\n    }\n    /**\n     * Searches through available options and returns\n     * a sorted array of matches.\n     *\n     */\n\n    search(query) {\n        var result, calculateScore;\n        var self = this;\n        var options = this.getSearchOptions(); // validate user-provided result scoring function\n\n        if (self.settings.score) {\n            calculateScore = self.settings.score.call(self, query);\n\n            if (typeof calculateScore !== \"function\") {\n                throw new Error(\n                    'Tom Select \"score\" setting must be a function that returns a function'\n                );\n            }\n        } // perform search\n\n        if (query !== self.lastQuery) {\n            self.lastQuery = query;\n            result = self.sifter.search(\n                query,\n                Object.assign(options, {\n                    score: calculateScore,\n                })\n            );\n            self.currentResults = result;\n        } else {\n            result = Object.assign({}, self.currentResults);\n        } // filter out selected items\n\n        if (self.settings.hideSelected) {\n            result.items = result.items.filter((item) => {\n                let hashed = hash_key(item.id);\n                return !(hashed && self.items.indexOf(hashed) !== -1);\n            });\n        }\n\n        return result;\n    }\n    /**\n     * Refreshes the list of available options shown\n     * in the autocomplete dropdown menu.\n     *\n     */\n\n    refreshOptions(triggerDropdown = true) {\n        var i,\n            j,\n            k,\n            n,\n            optgroup,\n            optgroups,\n            html,\n            has_create_option,\n            active_group;\n        var create;\n        const groups = {};\n        const groups_order = [];\n        var self = this;\n        var query = self.inputValue();\n        const same_query =\n            query === self.lastQuery || (query == \"\" && self.lastQuery == null);\n        var results = self.search(query);\n        var active_option = null;\n        var show_dropdown = self.settings.shouldOpen || false;\n        var dropdown_content = self.dropdown_content;\n\n        if (same_query) {\n            active_option = self.activeOption;\n\n            if (active_option) {\n                active_group = active_option.closest(\"[data-group]\");\n            }\n        } // build markup\n\n        n = results.items.length;\n\n        if (typeof self.settings.maxOptions === \"number\") {\n            n = Math.min(n, self.settings.maxOptions);\n        }\n\n        if (n > 0) {\n            show_dropdown = true;\n        } // render and group available options individually\n\n        for (i = 0; i < n; i++) {\n            // get option dom element\n            let item = results.items[i];\n            if (!item) continue;\n            let opt_value = item.id;\n            let option = self.options[opt_value];\n            if (option === undefined) continue;\n            let opt_hash = get_hash(opt_value);\n            let option_el = self.getOption(opt_hash, true); // toggle 'selected' class\n\n            if (!self.settings.hideSelected) {\n                option_el.classList.toggle(\n                    \"selected\",\n                    self.items.includes(opt_hash)\n                );\n            }\n\n            optgroup = option[self.settings.optgroupField] || \"\";\n            optgroups = Array.isArray(optgroup) ? optgroup : [optgroup];\n\n            for (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n                optgroup = optgroups[j];\n\n                if (!self.optgroups.hasOwnProperty(optgroup)) {\n                    optgroup = \"\";\n                }\n\n                let group_fragment = groups[optgroup];\n\n                if (group_fragment === undefined) {\n                    group_fragment = document.createDocumentFragment();\n                    groups_order.push(optgroup);\n                } // nodes can only have one parent, so if the option is in mutple groups, we need a clone\n\n                if (j > 0) {\n                    option_el = option_el.cloneNode(true);\n                    setAttr(option_el, {\n                        id: option.$id + \"-clone-\" + j,\n                        \"aria-selected\": null,\n                    });\n                    option_el.classList.add(\"ts-cloned\");\n                    removeClasses(option_el, \"active\"); // make sure we keep the activeOption in the same group\n\n                    if (\n                        self.activeOption &&\n                        self.activeOption.dataset.value == opt_value\n                    ) {\n                        if (\n                            active_group &&\n                            active_group.dataset.group === optgroup.toString()\n                        ) {\n                            active_option = option_el;\n                        }\n                    }\n                }\n\n                group_fragment.appendChild(option_el);\n                groups[optgroup] = group_fragment;\n            }\n        } // sort optgroups\n\n        if (self.settings.lockOptgroupOrder) {\n            groups_order.sort((a, b) => {\n                const grp_a = self.optgroups[a];\n                const grp_b = self.optgroups[b];\n                const a_order = (grp_a && grp_a.$order) || 0;\n                const b_order = (grp_b && grp_b.$order) || 0;\n                return a_order - b_order;\n            });\n        } // render optgroup headers & join groups\n\n        html = document.createDocumentFragment();\n        iterate$1(groups_order, (optgroup) => {\n            let group_fragment = groups[optgroup];\n            if (!group_fragment || !group_fragment.children.length) return;\n            let group_heading = self.optgroups[optgroup];\n\n            if (group_heading !== undefined) {\n                let group_options = document.createDocumentFragment();\n                let header = self.render(\"optgroup_header\", group_heading);\n                append(group_options, header);\n                append(group_options, group_fragment);\n                let group_html = self.render(\"optgroup\", {\n                    group: group_heading,\n                    options: group_options,\n                });\n                append(html, group_html);\n            } else {\n                append(html, group_fragment);\n            }\n        });\n        dropdown_content.innerHTML = \"\";\n        append(dropdown_content, html); // highlight matching terms inline\n\n        if (self.settings.highlight) {\n            removeHighlight(dropdown_content);\n\n            if (results.query.length && results.tokens.length) {\n                iterate$1(results.tokens, (tok) => {\n                    highlight(dropdown_content, tok.regex, self.settings.highlightClass);\n                });\n            }\n        } // helper method for adding templates to dropdown\n\n        var add_template = (template) => {\n            let content = self.render(template, {\n                input: query,\n            });\n\n            if (content) {\n                show_dropdown = true;\n                dropdown_content.insertBefore(\n                    content,\n                    dropdown_content.firstChild\n                );\n            }\n\n            return content;\n        }; // add loading message\n\n        if (self.loading) {\n            add_template(\"loading\"); // invalid query\n        } else if (!self.settings.shouldLoad.call(self, query)) {\n            add_template(\"not_loading\"); // add no_results message\n        } else if (results.items.length === 0) {\n            add_template(\"no_results\");\n        } // add create option\n\n        has_create_option = self.canCreate(query);\n\n        if (has_create_option) {\n            create = add_template(\"option_create\");\n        } // activate\n\n        self.hasOptions = results.items.length > 0 || has_create_option;\n\n        if (show_dropdown) {\n            if (results.items.length > 0) {\n                if (\n                    !active_option &&\n                    self.settings.mode === \"single\" &&\n                    self.items[0] != undefined\n                ) {\n                    active_option = self.getOption(self.items[0]);\n                }\n\n                if (!dropdown_content.contains(active_option)) {\n                    let active_index = 0;\n\n                    if (create && !self.settings.addPrecedence) {\n                        active_index = 1;\n                    }\n\n                    active_option = self.selectable()[active_index];\n                }\n            } else if (create) {\n                active_option = create;\n            }\n\n            if (triggerDropdown && !self.isOpen) {\n                self.open();\n                self.scrollToOption(active_option, \"auto\");\n            }\n\n            self.setActiveOption(active_option);\n        } else {\n            self.clearActiveOption();\n\n            if (triggerDropdown && self.isOpen) {\n                self.close(false); // if create_option=null, we want the dropdown to close but not reset the textbox value\n            }\n        }\n    }\n    /**\n     * Return list of selectable options\n     *\n     */\n\n    selectable() {\n        return this.dropdown_content.querySelectorAll(\"[data-selectable]\");\n    }\n    /**\n     * Adds an available option. If it already exists,\n     * nothing will happen. Note: this does not refresh\n     * the options list dropdown (use `refreshOptions`\n     * for that).\n     *\n     * Usage:\n     *\n     *   this.addOption(data)\n     *\n     */\n\n    addOption(data, user_created = false) {\n        const self = this; // @deprecated 1.7.7\n        // use addOptions( array, user_created ) for adding multiple options\n\n        if (Array.isArray(data)) {\n            self.addOptions(data, user_created);\n            return false;\n        }\n\n        const key = hash_key(data[self.settings.valueField]);\n\n        if (key === null || self.options.hasOwnProperty(key)) {\n            return false;\n        }\n\n        data.$order = data.$order || ++self.order;\n        data.$id = self.inputId + \"-opt-\" + data.$order;\n        self.options[key] = data;\n        self.lastQuery = null;\n\n        if (user_created) {\n            self.userOptions[key] = user_created;\n            self.trigger(\"option_add\", key, data);\n        }\n\n        return key;\n    }\n    /**\n     * Add multiple options\n     *\n     */\n\n    addOptions(data, user_created = false) {\n        iterate$1(data, (dat) => {\n            this.addOption(dat, user_created);\n        });\n    }\n    /**\n     * @deprecated 1.7.7\n     */\n\n    registerOption(data) {\n        return this.addOption(data);\n    }\n    /**\n     * Registers an option group to the pool of option groups.\n     *\n     * @return {boolean|string}\n     */\n\n    registerOptionGroup(data) {\n        var key = hash_key(data[this.settings.optgroupValueField]);\n        if (key === null) return false;\n        data.$order = data.$order || ++this.order;\n        this.optgroups[key] = data;\n        return key;\n    }\n    /**\n     * Registers a new optgroup for options\n     * to be bucketed into.\n     *\n     */\n\n    addOptionGroup(id, data) {\n        var hashed_id;\n        data[this.settings.optgroupValueField] = id;\n\n        if ((hashed_id = this.registerOptionGroup(data))) {\n            this.trigger(\"optgroup_add\", hashed_id, data);\n        }\n    }\n    /**\n     * Removes an existing option group.\n     *\n     */\n\n    removeOptionGroup(id) {\n        if (this.optgroups.hasOwnProperty(id)) {\n            delete this.optgroups[id];\n            this.clearCache();\n            this.trigger(\"optgroup_remove\", id);\n        }\n    }\n    /**\n     * Clears all existing option groups.\n     */\n\n    clearOptionGroups() {\n        this.optgroups = {};\n        this.clearCache();\n        this.trigger(\"optgroup_clear\");\n    }\n    /**\n     * Updates an option available for selection. If\n     * it is visible in the selected items or options\n     * dropdown, it will be re-rendered automatically.\n     *\n     */\n\n    updateOption(value, data) {\n        const self = this;\n        var item_new;\n        var index_item;\n        const value_old = hash_key(value);\n        const value_new = hash_key(data[self.settings.valueField]); // sanity checks\n\n        if (value_old === null) return;\n        const data_old = self.options[value_old];\n        if (data_old == undefined) return;\n        if (typeof value_new !== \"string\")\n            throw new Error(\"Value must be set in option data\");\n        const option = self.getOption(value_old);\n        const item = self.getItem(value_old);\n        data.$order = data.$order || data_old.$order;\n        delete self.options[value_old]; // invalidate render cache\n        // don't remove existing node yet, we'll remove it after replacing it\n\n        self.uncacheValue(value_new);\n        self.options[value_new] = data; // update the option if it's in the dropdown\n\n        if (option) {\n            if (self.dropdown_content.contains(option)) {\n                const option_new = self._render(\"option\", data);\n\n                replaceNode(option, option_new);\n\n                if (self.activeOption === option) {\n                    self.setActiveOption(option_new);\n                }\n            }\n\n            option.remove();\n        } // update the item if we have one\n\n        if (item) {\n            index_item = self.items.indexOf(value_old);\n\n            if (index_item !== -1) {\n                self.items.splice(index_item, 1, value_new);\n            }\n\n            item_new = self._render(\"item\", data);\n            if (item.classList.contains(\"active\"))\n                addClasses(item_new, \"active\");\n            replaceNode(item, item_new);\n        } // invalidate last query because we might have updated the sortField\n\n        self.lastQuery = null;\n    }\n    /**\n     * Removes a single option.\n     *\n     */\n\n    removeOption(value, silent) {\n        const self = this;\n        value = get_hash(value);\n        self.uncacheValue(value);\n        delete self.userOptions[value];\n        delete self.options[value];\n        self.lastQuery = null;\n        self.trigger(\"option_remove\", value);\n        self.removeItem(value, silent);\n    }\n    /**\n     * Clears all options.\n     */\n\n    clearOptions(filter) {\n        const boundFilter = (filter || this.clearFilter).bind(this);\n        this.loadedSearches = {};\n        this.userOptions = {};\n        this.clearCache();\n        const selected = {};\n        iterate$1(this.options, (option, key) => {\n            if (boundFilter(option, key)) {\n                selected[key] = option;\n            }\n        });\n        this.options = this.sifter.items = selected;\n        this.lastQuery = null;\n        this.trigger(\"option_clear\");\n    }\n    /**\n     * Used by clearOptions() to decide whether or not an option should be removed\n     * Return true to keep an option, false to remove\n     *\n     */\n\n    clearFilter(option, value) {\n        if (this.items.indexOf(value) >= 0) {\n            return true;\n        }\n\n        return false;\n    }\n    /**\n     * Returns the dom element of the option\n     * matching the given value.\n     *\n     */\n\n    getOption(value, create = false) {\n        const hashed = hash_key(value);\n        if (hashed === null) return null;\n        const option = this.options[hashed];\n\n        if (option != undefined) {\n            if (option.$div) {\n                return option.$div;\n            }\n\n            if (create) {\n                return this._render(\"option\", option);\n            }\n        }\n\n        return null;\n    }\n    /**\n     * Returns the dom element of the next or previous dom element of the same type\n     * Note: adjacent options may not be adjacent DOM elements (optgroups)\n     *\n     */\n\n    getAdjacent(option, direction, type = \"option\") {\n        var self = this,\n            all;\n\n        if (!option) {\n            return null;\n        }\n\n        if (type == \"item\") {\n            all = self.controlChildren();\n        } else {\n            all = self.dropdown_content.querySelectorAll(\"[data-selectable]\");\n        }\n\n        for (let i = 0; i < all.length; i++) {\n            if (all[i] != option) {\n                continue;\n            }\n\n            if (direction > 0) {\n                return all[i + 1];\n            }\n\n            return all[i - 1];\n        }\n\n        return null;\n    }\n    /**\n     * Returns the dom element of the item\n     * matching the given value.\n     *\n     */\n\n    getItem(item) {\n        if (typeof item == \"object\") {\n            return item;\n        }\n\n        var value = hash_key(item);\n        return value !== null\n            ? this.control.querySelector(`[data-value=\"${addSlashes(value)}\"]`)\n            : null;\n    }\n    /**\n     * \"Selects\" multiple items at once. Adds them to the list\n     * at the current caret position.\n     *\n     */\n\n    addItems(values, silent) {\n        var self = this;\n        var items = Array.isArray(values) ? values : [values];\n        items = items.filter((x) => self.items.indexOf(x) === -1);\n        const last_item = items[items.length - 1];\n        items.forEach((item) => {\n            self.isPending = item !== last_item;\n            self.addItem(item, silent);\n        });\n    }\n    /**\n     * \"Selects\" an item. Adds it to the list\n     * at the current caret position.\n     *\n     */\n\n    addItem(value, silent) {\n        var events = silent ? [] : [\"change\", \"dropdown_close\"];\n        debounce_events(this, events, () => {\n            var item, wasFull;\n            const self = this;\n            const inputMode = self.settings.mode;\n            const hashed = hash_key(value);\n\n            if (hashed && self.items.indexOf(hashed) !== -1) {\n                if (inputMode === \"single\") {\n                    self.close();\n                }\n\n                if (inputMode === \"single\" || !self.settings.duplicates) {\n                    return;\n                }\n            }\n\n            if (hashed === null || !self.options.hasOwnProperty(hashed)) return;\n            if (inputMode === \"single\") self.clear(silent);\n            if (inputMode === \"multi\" && self.isFull()) return;\n            item = self._render(\"item\", self.options[hashed]);\n\n            if (self.control.contains(item)) {\n                // duplicates\n                item = item.cloneNode(true);\n            }\n\n            wasFull = self.isFull();\n            self.items.splice(self.caretPos, 0, hashed);\n            self.insertAtCaret(item);\n\n            if (self.isSetup) {\n                // update menu / remove the option (if this is not one item being added as part of series)\n                if (!self.isPending && self.settings.hideSelected) {\n                    let option = self.getOption(hashed);\n                    let next = self.getAdjacent(option, 1);\n\n                    if (next) {\n                        self.setActiveOption(next);\n                    }\n                } // refreshOptions after setActiveOption(),\n                // otherwise setActiveOption() will be called by refreshOptions() with the wrong value\n\n                if (!self.isPending && !self.settings.closeAfterSelect) {\n                    self.refreshOptions(\n                        self.isFocused && inputMode !== \"single\"\n                    );\n                } // hide the menu if the maximum number of items have been selected or no options are left\n\n                if (self.settings.closeAfterSelect != false && self.isFull()) {\n                    self.close();\n                } else if (!self.isPending) {\n                    self.positionDropdown();\n                }\n\n                self.trigger(\"item_add\", hashed, item);\n\n                if (!self.isPending) {\n                    self.updateOriginalInput({\n                        silent: silent,\n                    });\n                }\n            }\n\n            if (!self.isPending || (!wasFull && self.isFull())) {\n                self.inputState();\n                self.refreshState();\n            }\n        });\n    }\n    /**\n     * Removes the selected item matching\n     * the provided value.\n     *\n     */\n\n    removeItem(item = null, silent) {\n        const self = this;\n        item = self.getItem(item);\n        if (!item) return;\n        var i, idx;\n        const value = item.dataset.value;\n        i = nodeIndex(item);\n        item.remove();\n\n        if (item.classList.contains(\"active\")) {\n            idx = self.activeItems.indexOf(item);\n            self.activeItems.splice(idx, 1);\n            removeClasses(item, \"active\");\n        }\n\n        self.items.splice(i, 1);\n        self.lastQuery = null;\n\n        if (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n            self.removeOption(value, silent);\n        }\n\n        if (i < self.caretPos) {\n            self.setCaret(self.caretPos - 1);\n        }\n\n        self.updateOriginalInput({\n            silent: silent,\n        });\n        self.refreshState();\n        self.positionDropdown();\n        self.trigger(\"item_remove\", value, item);\n    }\n    /**\n     * Invokes the `create` method provided in the\n     * TomSelect options that should provide the data\n     * for the new item, given the user input.\n     *\n     * Once this completes, it will be added\n     * to the item list.\n     *\n     */\n\n    createItem(input = null, callback = () => { }) {\n        // triggerDropdown parameter @deprecated 2.1.1\n        if (arguments.length === 3) {\n            callback = arguments[2];\n        }\n\n        if (typeof callback != \"function\") {\n            callback = () => { };\n        }\n\n        var self = this;\n        var caret = self.caretPos;\n        var output;\n        input = input || self.inputValue();\n\n        if (!self.canCreate(input)) {\n            callback();\n            return false;\n        }\n\n        self.lock();\n        var created = false;\n\n        var create = (data) => {\n            self.unlock();\n            if (!data || typeof data !== \"object\") return callback();\n            var value = hash_key(data[self.settings.valueField]);\n\n            if (typeof value !== \"string\") {\n                return callback();\n            }\n\n            self.setTextboxValue();\n            self.addOption(data, true);\n            self.setCaret(caret);\n            self.addItem(value);\n            callback(data);\n            created = true;\n        };\n\n        if (typeof self.settings.create === \"function\") {\n            output = self.settings.create.call(this, input, create);\n        } else {\n            output = {\n                [self.settings.labelField]: input,\n                [self.settings.valueField]: input,\n            };\n        }\n\n        if (!created) {\n            create(output);\n        }\n\n        return true;\n    }\n    /**\n     * Re-renders the selected item lists.\n     */\n\n    refreshItems() {\n        var self = this;\n        self.lastQuery = null;\n\n        if (self.isSetup) {\n            self.addItems(self.items);\n        }\n\n        self.updateOriginalInput();\n        self.refreshState();\n    }\n    /**\n     * Updates all state-dependent attributes\n     * and CSS classes.\n     */\n\n    refreshState() {\n        const self = this;\n        self.refreshValidityState();\n        const isFull = self.isFull();\n        const isLocked = self.isLocked;\n        self.wrapper.classList.toggle(\"rtl\", self.rtl);\n        const wrap_classList = self.wrapper.classList;\n        wrap_classList.toggle(\"focus\", self.isFocused);\n        wrap_classList.toggle(\"disabled\", self.isDisabled);\n        wrap_classList.toggle(\"required\", self.isRequired);\n        wrap_classList.toggle(\"invalid\", !self.isValid);\n        wrap_classList.toggle(\"locked\", isLocked);\n        wrap_classList.toggle(\"full\", isFull);\n        wrap_classList.toggle(\n            \"input-active\",\n            self.isFocused && !self.isInputHidden\n        );\n        wrap_classList.toggle(\"dropdown-active\", self.isOpen);\n        wrap_classList.toggle(\"has-options\", isEmptyObject(self.options));\n        wrap_classList.toggle(\"has-items\", self.items.length > 0);\n    }\n    /**\n     * Update the `required` attribute of both input and control input.\n     *\n     * The `required` property needs to be activated on the control input\n     * for the error to be displayed at the right place. `required` also\n     * needs to be temporarily deactivated on the input since the input is\n     * hidden and can't show errors.\n     */\n\n    refreshValidityState() {\n        var self = this;\n\n        if (!self.input.validity) {\n            return;\n        }\n\n        self.isValid = self.input.validity.valid;\n        self.isInvalid = !self.isValid;\n    }\n    /**\n     * Determines whether or not more items can be added\n     * to the control without exceeding the user-defined maximum.\n     *\n     * @returns {boolean}\n     */\n\n    isFull() {\n        return (\n            this.settings.maxItems !== null &&\n            this.items.length >= this.settings.maxItems\n        );\n    }\n    /**\n     * Refreshes the original <select> or <input>\n     * element to reflect the current state.\n     *\n     */\n\n    updateOriginalInput(opts = {}) {\n        const self = this;\n        var option, label;\n        const empty_option = self.input.querySelector('option[value=\"\"]');\n\n        if (self.is_select_tag) {\n            const selected = [];\n            const has_selected =\n                self.input.querySelectorAll(\"option:checked\").length;\n\n            function AddSelected(option_el, value, label) {\n                if (!option_el) {\n                    option_el = getDom(\n                        '<option value=\"' +\n                        escape_html(value) +\n                        '\">' +\n                        escape_html(label) +\n                        \"</option>\"\n                    );\n                } // don't move empty option from top of list\n                // fixes bug in firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1725293\n\n                if (option_el != empty_option) {\n                    self.input.append(option_el);\n                }\n\n                selected.push(option_el); // marking empty option as selected can break validation\n                // fixes https://github.com/orchidjs/tom-select/issues/303\n\n                if (option_el != empty_option || has_selected > 0) {\n                    option_el.selected = true;\n                }\n\n                return option_el;\n            } // unselect all selected options\n\n            self.input\n                .querySelectorAll(\"option:checked\")\n                .forEach((option_el) => {\n                    option_el.selected = false;\n                }); // nothing selected?\n\n            if (self.items.length == 0 && self.settings.mode == \"single\") {\n                AddSelected(empty_option, \"\", \"\"); // order selected <option> tags for values in self.items\n            } else {\n                self.items.forEach((value) => {\n                    option = self.options[value];\n                    label = option[self.settings.labelField] || \"\";\n\n                    if (selected.includes(option.$option)) {\n                        const reuse_opt = self.input.querySelector(\n                            `option[value=\"${addSlashes(value)}\"]:not(:checked)`\n                        );\n                        AddSelected(reuse_opt, value, label);\n                    } else {\n                        option.$option = AddSelected(\n                            option.$option,\n                            value,\n                            label\n                        );\n                    }\n                });\n            }\n        } else {\n            self.input.value = self.getValue();\n        }\n\n        if (self.isSetup) {\n            if (!opts.silent) {\n                self.trigger(\"change\", self.getValue());\n            }\n        }\n    }\n    /**\n     * Shows the autocomplete dropdown containing\n     * the available options.\n     */\n\n    open() {\n        var self = this;\n        if (\n            self.isLocked ||\n            self.isOpen ||\n            (self.settings.mode === \"multi\" && self.isFull())\n        )\n            return;\n        self.isOpen = true;\n        setAttr(self.focus_node, {\n            \"aria-expanded\": \"true\",\n        });\n        self.refreshState();\n        applyCSS(self.dropdown, {\n            visibility: \"hidden\",\n            display: \"block\",\n        });\n        self.positionDropdown();\n        applyCSS(self.dropdown, {\n            visibility: \"visible\",\n            display: \"block\",\n        });\n        self.focus();\n        self.trigger(\"dropdown_open\", self.dropdown);\n    }\n    /**\n     * Closes the autocomplete dropdown menu.\n     */\n\n    close(setTextboxValue = true) {\n        var self = this;\n        var trigger = self.isOpen;\n\n        if (setTextboxValue) {\n            // before blur() to prevent form onchange event\n            self.setTextboxValue();\n\n            if (self.settings.mode === \"single\" && self.items.length) {\n                self.hideInput();\n            }\n        }\n\n        self.isOpen = false;\n        setAttr(self.focus_node, {\n            \"aria-expanded\": \"false\",\n        });\n        applyCSS(self.dropdown, {\n            display: \"none\",\n        });\n\n        if (self.settings.hideSelected) {\n            self.clearActiveOption();\n        }\n\n        self.refreshState();\n        if (trigger) self.trigger(\"dropdown_close\", self.dropdown);\n    }\n    /**\n     * Calculates and applies the appropriate\n     * position of the dropdown if dropdownParent = 'body'.\n     * Otherwise, position is determined by css\n     */\n\n    positionDropdown() {\n        if (this.settings.dropdownParent !== \"body\") {\n            return;\n        }\n\n        var context = this.control;\n        var rect = context.getBoundingClientRect();\n        var top = context.offsetHeight + rect.top + window.scrollY;\n        var left = rect.left + window.scrollX;\n        applyCSS(this.dropdown, {\n            width: rect.width + \"px\",\n            top: top + \"px\",\n            left: left + \"px\",\n        });\n    }\n    /**\n     * Resets / clears all selected items\n     * from the control.\n     *\n     */\n\n    clear(silent) {\n        var self = this;\n        if (!self.items.length) return;\n        var items = self.controlChildren();\n        iterate$1(items, (item) => {\n            self.removeItem(item, true);\n        });\n        self.showInput();\n        if (!silent) self.updateOriginalInput();\n        self.trigger(\"clear\");\n    }\n    /**\n     * A helper method for inserting an element\n     * at the current caret position.\n     *\n     */\n\n    insertAtCaret(el) {\n        const self = this;\n        const caret = self.caretPos;\n        const target = self.control;\n        target.insertBefore(el, target.children[caret] || null);\n        self.setCaret(caret + 1);\n    }\n    /**\n     * Removes the current selected item(s).\n     *\n     */\n\n    deleteSelection(e) {\n        var direction, selection, caret, tail;\n        var self = this;\n        direction = e && e.keyCode === KEY_BACKSPACE ? -1 : 1;\n        selection = getSelection(self.control_input); // determine items that will be removed\n\n        const rm_items = [];\n\n        if (self.activeItems.length) {\n            tail = getTail(self.activeItems, direction);\n            caret = nodeIndex(tail);\n\n            if (direction > 0) {\n                caret++;\n            }\n\n            iterate$1(self.activeItems, (item) => rm_items.push(item));\n        } else if (\n            (self.isFocused || self.settings.mode === \"single\") &&\n            self.items.length\n        ) {\n            const items = self.controlChildren();\n            let rm_item;\n\n            if (\n                direction < 0 &&\n                selection.start === 0 &&\n                selection.length === 0\n            ) {\n                rm_item = items[self.caretPos - 1];\n            } else if (\n                direction > 0 &&\n                selection.start === self.inputValue().length\n            ) {\n                rm_item = items[self.caretPos];\n            }\n\n            if (rm_item !== undefined) {\n                rm_items.push(rm_item);\n            }\n        }\n\n        if (!self.shouldDelete(rm_items, e)) {\n            return false;\n        }\n\n        preventDefault(e, true); // perform removal\n\n        if (typeof caret !== \"undefined\") {\n            self.setCaret(caret);\n        }\n\n        while (rm_items.length) {\n            self.removeItem(rm_items.pop());\n        }\n\n        self.showInput();\n        self.positionDropdown();\n        self.refreshOptions(false);\n        return true;\n    }\n    /**\n     * Return true if the items should be deleted\n     */\n\n    shouldDelete(items, evt) {\n        const values = items.map((item) => item.dataset.value); // allow the callback to abort\n\n        if (\n            !values.length ||\n            (typeof this.settings.onDelete === \"function\" &&\n                this.settings.onDelete(values, evt) === false)\n        ) {\n            return false;\n        }\n\n        return true;\n    }\n    /**\n     * Selects the previous / next item (depending on the `direction` argument).\n     *\n     * > 0 - right\n     * < 0 - left\n     *\n     */\n\n    advanceSelection(direction, e) {\n        var last_active,\n            adjacent,\n            self = this;\n        if (self.rtl) direction *= -1;\n        if (self.inputValue().length) return; // add or remove to active items\n\n        if (isKeyDown(KEY_SHORTCUT, e) || isKeyDown(\"shiftKey\", e)) {\n            last_active = self.getLastActive(direction);\n\n            if (last_active) {\n                if (!last_active.classList.contains(\"active\")) {\n                    adjacent = last_active;\n                } else {\n                    adjacent = self.getAdjacent(last_active, direction, \"item\");\n                } // if no active item, get items adjacent to the control input\n            } else if (direction > 0) {\n                adjacent = self.control_input.nextElementSibling;\n            } else {\n                adjacent = self.control_input.previousElementSibling;\n            }\n\n            if (adjacent) {\n                if (adjacent.classList.contains(\"active\")) {\n                    self.removeActiveItem(last_active);\n                }\n\n                self.setActiveItemClass(adjacent); // mark as last_active !! after removeActiveItem() on last_active\n            } // move caret to the left or right\n        } else {\n            self.moveCaret(direction);\n        }\n    }\n\n    moveCaret(direction) { }\n    /**\n     * Get the last active item\n     *\n     */\n\n    getLastActive(direction) {\n        let last_active = this.control.querySelector(\".last-active\");\n\n        if (last_active) {\n            return last_active;\n        }\n\n        var result = this.control.querySelectorAll(\".active\");\n\n        if (result) {\n            return getTail(result, direction);\n        }\n    }\n    /**\n     * Moves the caret to the specified index.\n     *\n     * The input must be moved by leaving it in place and moving the\n     * siblings, due to the fact that focus cannot be restored once lost\n     * on mobile webkit devices\n     *\n     */\n\n    setCaret(new_pos) {\n        this.caretPos = this.items.length;\n    }\n    /**\n     * Return list of item dom elements\n     *\n     */\n\n    controlChildren() {\n        return Array.from(this.control.querySelectorAll(\"[data-ts-item]\"));\n    }\n    /**\n     * Disables user input on the control. Used while\n     * items are being asynchronously created.\n     */\n\n    lock() {\n        this.isLocked = true;\n        this.refreshState();\n    }\n    /**\n     * Re-enables user input on the control.\n     */\n\n    unlock() {\n        this.isLocked = false;\n        this.refreshState();\n    }\n    /**\n     * Disables user input on the control completely.\n     * While disabled, it cannot receive focus.\n     */\n\n    disable() {\n        var self = this;\n        self.input.disabled = true;\n        self.control_input.disabled = true;\n        self.focus_node.tabIndex = -1;\n        self.isDisabled = true;\n        this.close();\n        self.lock();\n    }\n    /**\n     * Enables the control so that it can respond\n     * to focus and user input.\n     */\n\n    enable() {\n        var self = this;\n        self.input.disabled = false;\n        self.control_input.disabled = false;\n        self.focus_node.tabIndex = self.tabIndex;\n        self.isDisabled = false;\n        self.unlock();\n    }\n    /**\n     * Completely destroys the control and\n     * unbinds all event listeners so that it can\n     * be garbage collected.\n     */\n\n    destroy() {\n        var self = this;\n        var revertSettings = self.revertSettings;\n        self.trigger(\"destroy\");\n        self.off();\n        self.wrapper.remove();\n        self.dropdown.remove();\n        self.input.innerHTML = revertSettings.innerHTML;\n        self.input.tabIndex = revertSettings.tabIndex;\n        removeClasses(self.input, \"tomselected\", \"ts-hidden-accessible\");\n\n        self._destroy();\n\n        delete self.input.tomselect;\n    }\n    /**\n     * A helper method for rendering \"item\" and\n     * \"option\" templates, given the data.\n     *\n     */\n\n    render(templateName, data) {\n        var id, html;\n        const self = this;\n\n        if (typeof this.settings.render[templateName] !== \"function\") {\n            return null;\n        } // render markup\n\n        html = self.settings.render[templateName].call(this, data, escape_html);\n\n        if (!html) {\n            return null;\n        }\n\n        html = getDom(html); // add mandatory attributes\n\n        if (templateName === \"option\" || templateName === \"option_create\") {\n            if (data[self.settings.disabledField]) {\n                setAttr(html, {\n                    \"aria-disabled\": \"true\",\n                });\n            } else {\n                setAttr(html, {\n                    \"data-selectable\": \"\",\n                });\n            }\n        } else if (templateName === \"optgroup\") {\n            id = data.group[self.settings.optgroupValueField];\n            setAttr(html, {\n                \"data-group\": id,\n            });\n\n            if (data.group[self.settings.disabledField]) {\n                setAttr(html, {\n                    \"data-disabled\": \"\",\n                });\n            }\n        }\n\n        if (templateName === \"option\" || templateName === \"item\") {\n            const value = get_hash(data[self.settings.valueField]);\n            setAttr(html, {\n                \"data-value\": value,\n            }); // make sure we have some classes if a template is overwritten\n\n            if (templateName === \"item\") {\n                addClasses(html, self.settings.itemClass);\n                setAttr(html, {\n                    \"data-ts-item\": \"\",\n                    \"aria-selected\": \"false\"\n                });\n            } else {\n                addClasses(html, self.settings.optionClass);\n                setAttr(html, {\n                    role: \"option\",\n                    id: data.$id,\n                }); // update cache\n\n                data.$div = html;\n                self.options[value] = data;\n            }\n        }\n\n        return html;\n    }\n    /**\n     * Type guarded rendering\n     *\n     */\n\n    _render(templateName, data) {\n        const html = this.render(templateName, data);\n\n        if (html == null) {\n            throw \"HTMLElement expected\";\n        }\n\n        return html;\n    }\n    /**\n     * Clears the render cache for a template. If\n     * no template is given, clears all render\n     * caches.\n     *\n     */\n\n    clearCache() {\n        iterate$1(this.options, (option) => {\n            if (option.$div) {\n                option.$div.remove();\n                delete option.$div;\n            }\n        });\n    }\n    /**\n     * Removes a value from item and option caches\n     *\n     */\n\n    uncacheValue(value) {\n        const option_el = this.getOption(value);\n        if (option_el) option_el.remove();\n    }\n    /**\n     * Determines whether or not to display the\n     * create item prompt, given a user input.\n     *\n     */\n\n    canCreate(input) {\n        return (\n            this.settings.create &&\n            input.length > 0 &&\n            this.settings.createFilter.call(this, input)\n        );\n    }\n    /**\n     * Wraps this.`method` so that `new_fn` can be invoked 'before', 'after', or 'instead' of the original method\n     *\n     * this.hook('instead','onKeyDown',function( arg1, arg2 ...){\n     *\n     * });\n     */\n\n    hook(when, method, new_fn) {\n        var self = this;\n        var orig_method = self[method];\n\n        self[method] = function () {\n            var result, result_new;\n\n            if (when === \"after\") {\n                result = orig_method.apply(self, arguments);\n            }\n\n            result_new = new_fn.apply(self, arguments);\n\n            if (when === \"instead\") {\n                return result_new;\n            }\n\n            if (when === \"before\") {\n                result = orig_method.apply(self, arguments);\n            }\n\n            return result;\n        };\n    }\n}\n\nexport { TomSelect as default };\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\nconst accent_pat = '[\\u0300-\\u036F\\u{b7}\\u{2be}\\u{2bc}]';\n/** @type {TUnicodeMap} */\n\nconst latin_convert = {};\n/** @type {TUnicodeMap} */\n\nconst latin_condensed = {\n  '/': '⁄∕',\n  '0': '߀',\n  \"a\": \"ⱥɐɑ\",\n  \"aa\": \"ꜳ\",\n  \"ae\": \"æǽǣ\",\n  \"ao\": \"ꜵ\",\n  \"au\": \"ꜷ\",\n  \"av\": \"ꜹꜻ\",\n  \"ay\": \"ꜽ\",\n  \"b\": \"ƀɓƃ\",\n  \"c\": \"ꜿƈȼↄ\",\n  \"d\": \"đɗɖᴅƌꮷԁɦ\",\n  \"e\": \"ɛǝᴇɇ\",\n  \"f\": \"ꝼƒ\",\n  \"g\": \"ǥɠꞡᵹꝿɢ\",\n  \"h\": \"ħⱨⱶɥ\",\n  \"i\": \"ɨı\",\n  \"j\": \"ɉȷ\",\n  \"k\": \"ƙⱪꝁꝃꝅꞣ\",\n  \"l\": \"łƚɫⱡꝉꝇꞁɭ\",\n  \"m\": \"ɱɯϻ\",\n  \"n\": \"ꞥƞɲꞑᴎлԉ\",\n  \"o\": \"øǿɔɵꝋꝍᴑ\",\n  \"oe\": \"œ\",\n  \"oi\": \"ƣ\",\n  \"oo\": \"ꝏ\",\n  \"ou\": \"ȣ\",\n  \"p\": \"ƥᵽꝑꝓꝕρ\",\n  \"q\": \"ꝗꝙɋ\",\n  \"r\": \"ɍɽꝛꞧꞃ\",\n  \"s\": \"ßȿꞩꞅʂ\",\n  \"t\": \"ŧƭʈⱦꞇ\",\n  \"th\": \"þ\",\n  \"tz\": \"ꜩ\",\n  \"u\": \"ʉ\",\n  \"v\": \"ʋꝟʌ\",\n  \"vy\": \"ꝡ\",\n  \"w\": \"ⱳ\",\n  \"y\": \"ƴɏỿ\",\n  \"z\": \"ƶȥɀⱬꝣ\",\n  \"hv\": \"ƕ\"\n};\n\nfor (let latin in latin_condensed) {\n  let unicode = latin_condensed[latin] || '';\n\n  for (let i = 0; i < unicode.length; i++) {\n    let char = unicode.substring(i, i + 1);\n    latin_convert[char] = latin;\n  }\n}\n\nnew RegExp(Object.keys(latin_convert).join('|') + '|' + accent_pat, 'gu');\n\n/**\n * Return a dom element from either a dom query string, jQuery object, a dom element or html string\n * https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro/35385518#35385518\n *\n * param query should be {}\n */\n\nconst getDom = query => {\n  if (query.jquery) {\n    return query[0];\n  }\n\n  if (query instanceof HTMLElement) {\n    return query;\n  }\n\n  if (isHtmlString(query)) {\n    var tpl = document.createElement('template');\n    tpl.innerHTML = query.trim(); // Never return a text node of whitespace as the result\n\n    return tpl.content.firstChild;\n  }\n\n  return document.querySelector(query);\n};\nconst isHtmlString = arg => {\n  if (typeof arg === 'string' && arg.indexOf('<') > -1) {\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * Converts a scalar to its best string representation\n * for hash keys and HTML attribute values.\n *\n * Transformations:\n *   'str'     -> 'str'\n *   null      -> ''\n *   undefined -> ''\n *   true      -> '1'\n *   false     -> '0'\n *   0         -> '0'\n *   1         -> '1'\n *\n */\n/**\n * Escapes a string for use within HTML.\n *\n */\n\nconst escape_html = str => {\n  return (str + '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n};\n/**\n * Prevent default\n *\n */\n\nconst preventDefault = (evt, stop = false) => {\n  if (evt) {\n    evt.preventDefault();\n\n    if (stop) {\n      evt.stopPropagation();\n    }\n  }\n};\n/**\n * Add event helper\n *\n */\n\nconst addEvent = (target, type, callback, options) => {\n  target.addEventListener(type, callback, options);\n};\n\n/**\n * Plugin: \"remove_button\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin (userOptions) {\n  const options = Object.assign({\n    label: '&times;',\n    title: 'Remove',\n    className: 'remove',\n    append: true\n  }, userOptions); //options.className = 'remove-single';\n\n  var self = this; // override the render method to add remove button to each item\n\n  if (!options.append) {\n    return;\n  }\n\n  const disabled = self.input.disabled ? 'disabled' : '';\n\n  var html = `<button type=\"button\" class=\"${options.className}\" tabindex=\"-1\" title=\"${escape_html(options.title)}\" ${disabled}>${options.label}</button>`;\n  self.hook('after', 'setupTemplates', () => {\n    var orig_render_item = self.settings.render.item;\n\n    self.settings.render.item = (data, escape) => {\n      var item = getDom(orig_render_item.call(self, data, escape));\n      var close_button = getDom(html);\n      item.appendChild(close_button);\n      addEvent(close_button, 'mousedown', evt => {\n        preventDefault(evt, true);\n      });\n      addEvent(close_button, 'click', evt => {\n        // propagating will trigger the dropdown to show for single mode\n        preventDefault(evt, true);\n        if (self.isLocked) return;\n        if (!self.shouldDelete([item], evt)) return;\n        self.removeItem(item);\n        self.refreshOptions(false);\n        self.inputState();\n      });\n      return item;\n    };\n  });\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\nconst accent_pat = '[\\u0300-\\u036F\\u{b7}\\u{2be}\\u{2bc}]';\n/** @type {TUnicodeMap} */\n\nconst latin_convert = {};\n/** @type {TUnicodeMap} */\n\nconst latin_condensed = {\n  '/': '⁄∕',\n  '0': '߀',\n  \"a\": \"ⱥɐɑ\",\n  \"aa\": \"ꜳ\",\n  \"ae\": \"æǽǣ\",\n  \"ao\": \"ꜵ\",\n  \"au\": \"ꜷ\",\n  \"av\": \"ꜹꜻ\",\n  \"ay\": \"ꜽ\",\n  \"b\": \"ƀɓƃ\",\n  \"c\": \"ꜿƈȼↄ\",\n  \"d\": \"đɗɖᴅƌꮷԁɦ\",\n  \"e\": \"ɛǝᴇɇ\",\n  \"f\": \"ꝼƒ\",\n  \"g\": \"ǥɠꞡᵹꝿɢ\",\n  \"h\": \"ħⱨⱶɥ\",\n  \"i\": \"ɨı\",\n  \"j\": \"ɉȷ\",\n  \"k\": \"ƙⱪꝁꝃꝅꞣ\",\n  \"l\": \"łƚɫⱡꝉꝇꞁɭ\",\n  \"m\": \"ɱɯϻ\",\n  \"n\": \"ꞥƞɲꞑᴎлԉ\",\n  \"o\": \"øǿɔɵꝋꝍᴑ\",\n  \"oe\": \"œ\",\n  \"oi\": \"ƣ\",\n  \"oo\": \"ꝏ\",\n  \"ou\": \"ȣ\",\n  \"p\": \"ƥᵽꝑꝓꝕρ\",\n  \"q\": \"ꝗꝙɋ\",\n  \"r\": \"ɍɽꝛꞧꞃ\",\n  \"s\": \"ßȿꞩꞅʂ\",\n  \"t\": \"ŧƭʈⱦꞇ\",\n  \"th\": \"þ\",\n  \"tz\": \"ꜩ\",\n  \"u\": \"ʉ\",\n  \"v\": \"ʋꝟʌ\",\n  \"vy\": \"ꝡ\",\n  \"w\": \"ⱳ\",\n  \"y\": \"ƴɏỿ\",\n  \"z\": \"ƶȥɀⱬꝣ\",\n  \"hv\": \"ƕ\"\n};\n\nfor (let latin in latin_condensed) {\n  let unicode = latin_condensed[latin] || '';\n\n  for (let i = 0; i < unicode.length; i++) {\n    let char = unicode.substring(i, i + 1);\n    latin_convert[char] = latin;\n  }\n}\n\nnew RegExp(Object.keys(latin_convert).join('|') + '|' + accent_pat, 'gu');\n\n/**\n * Return a dom element from either a dom query string, jQuery object, a dom element or html string\n * https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro/35385518#35385518\n *\n * param query should be {}\n */\n\nconst getDom = query => {\n  if (query.jquery) {\n    return query[0];\n  }\n\n  if (query instanceof HTMLElement) {\n    return query;\n  }\n\n  if (isHtmlString(query)) {\n    var tpl = document.createElement('template');\n    tpl.innerHTML = query.trim(); // Never return a text node of whitespace as the result\n\n    return tpl.content.firstChild;\n  }\n\n  return document.querySelector(query);\n};\nconst isHtmlString = arg => {\n  if (typeof arg === 'string' && arg.indexOf('<') > -1) {\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * Plugin: \"dropdown_header\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin (userOptions) {\n  const self = this;\n  const options = Object.assign({\n    className: 'clear-button',\n    title: 'Clear All',\n    html: data => {\n      return `<div class=\"${data.className}\" title=\"${data.title}\">&#10799;</div>`;\n    }\n  }, userOptions);\n  self.on('initialize', () => {\n    var button = getDom(options.html(options));\n    button.addEventListener('click', evt => {\n      if (self.isDisabled || self.isLocked) {\n        return;\n      }\n\n      self.clear();\n\n      if (self.settings.mode === 'single' && self.settings.allowEmptyOption) {\n        self.addItem('');\n      }\n\n      evt.preventDefault();\n      evt.stopPropagation();\n    });\n    self.control.appendChild(button);\n  });\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/**\n * Converts a scalar to its best string representation\n * for hash keys and HTML attribute values.\n *\n * Transformations:\n *   'str'     -> 'str'\n *   null      -> ''\n *   undefined -> ''\n *   true      -> '1'\n *   false     -> '0'\n *   0         -> '0'\n *   1         -> '1'\n *\n */\nconst hash_key = value => {\n  if (typeof value === 'undefined' || value === null) return null;\n  return get_hash(value);\n};\nconst get_hash = value => {\n  if (typeof value === 'boolean') return value ? '1' : '0';\n  return value + '';\n};\n/**\n * Prevent default\n *\n */\n\nconst preventDefault = (evt, stop = false) => {\n  if (evt) {\n    evt.preventDefault();\n\n    if (stop) {\n      evt.stopPropagation();\n    }\n  }\n};\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\nconst accent_pat = '[\\u0300-\\u036F\\u{b7}\\u{2be}\\u{2bc}]';\n/** @type {TUnicodeMap} */\n\nconst latin_convert = {};\n/** @type {TUnicodeMap} */\n\nconst latin_condensed = {\n  '/': '⁄∕',\n  '0': '߀',\n  \"a\": \"ⱥɐɑ\",\n  \"aa\": \"ꜳ\",\n  \"ae\": \"æǽǣ\",\n  \"ao\": \"ꜵ\",\n  \"au\": \"ꜷ\",\n  \"av\": \"ꜹꜻ\",\n  \"ay\": \"ꜽ\",\n  \"b\": \"ƀɓƃ\",\n  \"c\": \"ꜿƈȼↄ\",\n  \"d\": \"đɗɖᴅƌꮷԁɦ\",\n  \"e\": \"ɛǝᴇɇ\",\n  \"f\": \"ꝼƒ\",\n  \"g\": \"ǥɠꞡᵹꝿɢ\",\n  \"h\": \"ħⱨⱶɥ\",\n  \"i\": \"ɨı\",\n  \"j\": \"ɉȷ\",\n  \"k\": \"ƙⱪꝁꝃꝅꞣ\",\n  \"l\": \"łƚɫⱡꝉꝇꞁɭ\",\n  \"m\": \"ɱɯϻ\",\n  \"n\": \"ꞥƞɲꞑᴎлԉ\",\n  \"o\": \"øǿɔɵꝋꝍᴑ\",\n  \"oe\": \"œ\",\n  \"oi\": \"ƣ\",\n  \"oo\": \"ꝏ\",\n  \"ou\": \"ȣ\",\n  \"p\": \"ƥᵽꝑꝓꝕρ\",\n  \"q\": \"ꝗꝙɋ\",\n  \"r\": \"ɍɽꝛꞧꞃ\",\n  \"s\": \"ßȿꞩꞅʂ\",\n  \"t\": \"ŧƭʈⱦꞇ\",\n  \"th\": \"þ\",\n  \"tz\": \"ꜩ\",\n  \"u\": \"ʉ\",\n  \"v\": \"ʋꝟʌ\",\n  \"vy\": \"ꝡ\",\n  \"w\": \"ⱳ\",\n  \"y\": \"ƴɏỿ\",\n  \"z\": \"ƶȥɀⱬꝣ\",\n  \"hv\": \"ƕ\"\n};\n\nfor (let latin in latin_condensed) {\n  let unicode = latin_condensed[latin] || '';\n\n  for (let i = 0; i < unicode.length; i++) {\n    let char = unicode.substring(i, i + 1);\n    latin_convert[char] = latin;\n  }\n}\n\nnew RegExp(Object.keys(latin_convert).join('|') + '|' + accent_pat, 'gu');\n\n/**\n * Return a dom element from either a dom query string, jQuery object, a dom element or html string\n * https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro/35385518#35385518\n *\n * param query should be {}\n */\n\nconst getDom = query => {\n  if (query.jquery) {\n    return query[0];\n  }\n\n  if (query instanceof HTMLElement) {\n    return query;\n  }\n\n  if (isHtmlString(query)) {\n    var tpl = document.createElement('template');\n    tpl.innerHTML = query.trim(); // Never return a text node of whitespace as the result\n\n    return tpl.content.firstChild;\n  }\n\n  return document.querySelector(query);\n};\nconst isHtmlString = arg => {\n  if (typeof arg === 'string' && arg.indexOf('<') > -1) {\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * Plugin: \"restore_on_backspace\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin (userOptions) {\n    const self = this;\n    const options = Object.assign({\n      className: ''\n    }, userOptions);\n\n  var orig_onOptionSelect = self.onOptionSelect;\n  self.settings.hideSelected = false; // update the checkbox for an option\n\n  var UpdateCheckbox = function UpdateCheckbox(option) {\n    setTimeout(() => {\n      var checkbox = option.querySelector('input');\n\n      if (checkbox instanceof HTMLInputElement) {\n        if (option.classList.contains('selected')) {\n          checkbox.checked = true;\n        } else {\n          checkbox.checked = false;\n        }\n      }\n    }, 1);\n  }; // add checkbox to option template\n\n\n  self.hook('after', 'setupTemplates', () => {\n    var orig_render_option = self.settings.render.option;\n\n    self.settings.render.option = (data, escape_html) => {\n      var rendered = getDom(orig_render_option.call(self, data, escape_html));\n      var checkbox = document.createElement('input');\n      checkbox.className = options.className;\n      checkbox.addEventListener('click', function (evt) {\n        preventDefault(evt);\n      });\n      checkbox.type = 'checkbox';\n      const hashed = hash_key(data[self.settings.valueField]);\n\n      if (hashed && self.items.indexOf(hashed) > -1) {\n        checkbox.checked = true;\n      }\n\n      rendered.prepend(checkbox);\n      return rendered;\n    };\n  }); // uncheck when item removed\n\n  self.on('item_remove', value => {\n    var option = self.getOption(value);\n\n    if (option) {\n      // if dropdown hasn't been opened yet, the option won't exist\n      option.classList.remove('selected'); // selected class won't be removed yet\n\n      UpdateCheckbox(option);\n    }\n  }); // check when item added\n\n  self.on('item_add', value => {\n    var option = self.getOption(value);\n\n    if (option) {\n      // if dropdown hasn't been opened yet, the option won't exist\n      UpdateCheckbox(option);\n    }\n  }); // remove items when selected option is clicked\n\n  self.hook('instead', 'onOptionSelect', (evt, option) => {\n    if (option.classList.contains('selected')) {\n      option.classList.remove('selected');\n      self.removeItem(option.dataset.value);\n      self.refreshOptions();\n      preventDefault(evt, true);\n      return;\n    }\n\n    orig_onOptionSelect.call(self, evt, option);\n    UpdateCheckbox(option);\n  });\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\nconst accent_pat = '[\\u0300-\\u036F\\u{b7}\\u{2be}\\u{2bc}]';\n/** @type {TUnicodeMap} */\n\nconst latin_convert = {};\n/** @type {TUnicodeMap} */\n\nconst latin_condensed = {\n  '/': '⁄∕',\n  '0': '߀',\n  \"a\": \"ⱥɐɑ\",\n  \"aa\": \"ꜳ\",\n  \"ae\": \"æǽǣ\",\n  \"ao\": \"ꜵ\",\n  \"au\": \"ꜷ\",\n  \"av\": \"ꜹꜻ\",\n  \"ay\": \"ꜽ\",\n  \"b\": \"ƀɓƃ\",\n  \"c\": \"ꜿƈȼↄ\",\n  \"d\": \"đɗɖᴅƌꮷԁɦ\",\n  \"e\": \"ɛǝᴇɇ\",\n  \"f\": \"ꝼƒ\",\n  \"g\": \"ǥɠꞡᵹꝿɢ\",\n  \"h\": \"ħⱨⱶɥ\",\n  \"i\": \"ɨı\",\n  \"j\": \"ɉȷ\",\n  \"k\": \"ƙⱪꝁꝃꝅꞣ\",\n  \"l\": \"łƚɫⱡꝉꝇꞁɭ\",\n  \"m\": \"ɱɯϻ\",\n  \"n\": \"ꞥƞɲꞑᴎлԉ\",\n  \"o\": \"øǿɔɵꝋꝍᴑ\",\n  \"oe\": \"œ\",\n  \"oi\": \"ƣ\",\n  \"oo\": \"ꝏ\",\n  \"ou\": \"ȣ\",\n  \"p\": \"ƥᵽꝑꝓꝕρ\",\n  \"q\": \"ꝗꝙɋ\",\n  \"r\": \"ɍɽꝛꞧꞃ\",\n  \"s\": \"ßȿꞩꞅʂ\",\n  \"t\": \"ŧƭʈⱦꞇ\",\n  \"th\": \"þ\",\n  \"tz\": \"ꜩ\",\n  \"u\": \"ʉ\",\n  \"v\": \"ʋꝟʌ\",\n  \"vy\": \"ꝡ\",\n  \"w\": \"ⱳ\",\n  \"y\": \"ƴɏỿ\",\n  \"z\": \"ƶȥɀⱬꝣ\",\n  \"hv\": \"ƕ\"\n};\n\nfor (let latin in latin_condensed) {\n  let unicode = latin_condensed[latin] || '';\n\n  for (let i = 0; i < unicode.length; i++) {\n    let char = unicode.substring(i, i + 1);\n    latin_convert[char] = latin;\n  }\n}\n\nnew RegExp(Object.keys(latin_convert).join('|') + '|' + accent_pat, 'gu');\n\n/**\n * Iterates over arrays and hashes.\n *\n * ```\n * iterate(this.items, function(item, id) {\n *    // invoked for each item\n * });\n * ```\n *\n */\n\nconst iterate = (object, callback) => {\n  if (Array.isArray(object)) {\n    object.forEach(callback);\n  } else {\n    for (var key in object) {\n      if (object.hasOwnProperty(key)) {\n        callback(object[key], key);\n      }\n    }\n  }\n};\n\n/**\n * Remove css classes\n *\n */\n\nconst removeClasses = (elmts, ...classes) => {\n  var norm_classes = classesArray(classes);\n  elmts = castAsArray(elmts);\n  elmts.map(el => {\n    norm_classes.map(cls => {\n      el.classList.remove(cls);\n    });\n  });\n};\n/**\n * Return arguments\n *\n */\n\nconst classesArray = args => {\n  var classes = [];\n  iterate(args, _classes => {\n    if (typeof _classes === 'string') {\n      _classes = _classes.trim().split(/[\\11\\12\\14\\15\\40]/);\n    }\n\n    if (Array.isArray(_classes)) {\n      classes = classes.concat(_classes);\n    }\n  });\n  return classes.filter(Boolean);\n};\n/**\n * Create an array from arg if it's not already an array\n *\n */\n\nconst castAsArray = arg => {\n  if (!Array.isArray(arg)) {\n    arg = [arg];\n  }\n\n  return arg;\n};\n/**\n * Get the index of an element amongst sibling nodes of the same type\n *\n */\n\nconst nodeIndex = (el, amongst) => {\n  if (!el) return -1;\n  amongst = amongst || el.nodeName;\n  var i = 0;\n\n  while (el = el.previousElementSibling) {\n    if (el.matches(amongst)) {\n      i++;\n    }\n  }\n\n  return i;\n};\n\n/**\n * Plugin: \"dropdown_input\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin () {\n  var self = this;\n  /**\n   * Moves the caret to the specified index.\n   *\n   * The input must be moved by leaving it in place and moving the\n   * siblings, due to the fact that focus cannot be restored once lost\n   * on mobile webkit devices\n   *\n   */\n\n  self.hook('instead', 'setCaret', new_pos => {\n    if (self.settings.mode === 'single' || !self.control.contains(self.control_input)) {\n      new_pos = self.items.length;\n    } else {\n        const clearButton = self.control.querySelector('[data-ts-clear]');\n        const loader = self.control.querySelector('[data-ts-loader]');\n      new_pos = Math.max(0, Math.min(self.items.length, new_pos));\n\n      if (new_pos != self.caretPos && !self.isPending) {\n        self.controlChildren().forEach((child, j) => {\n          if (j < new_pos) {\n            self.control_input.insertAdjacentElement('beforebegin', child);\n          } else {\n            if (loader) {\n                loader.insertAdjacentElement('beforebegin', child);\n            } else if (clearButton) {\n                clearButton.insertAdjacentElement('beforebegin', child);\n            } else {\n                self.control.appendChild(child);\n            }\n          }\n        });\n      }\n    }\n\n    self.caretPos = new_pos;\n  });\n  self.hook('instead', 'moveCaret', direction => {\n    if (!self.isFocused) return; // move caret before or after selected items\n\n    const last_active = self.getLastActive(direction);\n\n    if (last_active) {\n      const idx = nodeIndex(last_active);\n      self.setCaret(direction > 0 ? idx + 1 : idx);\n      self.setActiveItem();\n      removeClasses(last_active, 'last-active'); // move caret left or right of current position\n    } else {\n      self.setCaret(self.caretPos + direction);\n    }\n  });\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/**\n * Converts a scalar to its best string representation\n * for hash keys and HTML attribute values.\n *\n * Transformations:\n *   'str'     -> 'str'\n *   null      -> ''\n *   undefined -> ''\n *   true      -> '1'\n *   false     -> '0'\n *   0         -> '0'\n *   1         -> '1'\n *\n */\n/**\n * Add event helper\n *\n */\n\nconst addEvent = (target, type, callback, options) => {\n  target.addEventListener(type, callback, options);\n};\n\n/**\n * Plugin: \"input_autogrow\" (Tom Select)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin () {\n  var self = this;\n  self.on('initialize', () => {\n    var test_input = document.createElement('span');\n    var control = self.control_input;\n    test_input.style.cssText = 'position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ';\n    self.wrapper.appendChild(test_input);\n    var transfer_styles = ['letterSpacing', 'fontSize', 'fontFamily', 'fontWeight', 'textTransform'];\n\n    for (const style_name of transfer_styles) {\n      // @ts-ignore TS7015 https://stackoverflow.com/a/50506154/697576\n      test_input.style[style_name] = control.style[style_name];\n    }\n    /**\n     * Set the control width\n     *\n     */\n\n\n    var resize = () => {\n      test_input.textContent = control.value;\n      control.style.width = test_input.clientWidth + 'px';\n    };\n\n    resize();\n    self.on('update item_add item_remove', resize);\n    addEvent(control, 'input', resize);\n    addEvent(control, 'keyup', resize);\n    addEvent(control, 'blur', resize);\n    addEvent(control, 'update', resize);\n  });\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/**\n * Plugin: \"no_active_items\" (Tom Select)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin () {\n  this.hook('instead', 'setActiveItem', () => {});\n  this.hook('instead', 'selectAll', () => {});\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/**\n * Plugin: \"input_autogrow\" (Tom Select)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin () {\n  var self = this;\n  var orig_deleteSelection = self.deleteSelection;\n  this.hook('instead', 'deleteSelection', evt => {\n    if (self.activeItems.length) {\n      return orig_deleteSelection.call(self, evt);\n    }\n\n    return false;\n  });\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","import './core.js';\r\nimport Accordion from './components/accordion.js'; \r\nimport Autogrow from './components/autogrow.js'; \r\nimport Checkbox from './components/checkbox.js'; \r\nimport Clipboard from './components/clipboard.js';\r\nimport DataTable from './components/datatable.js';\r\nimport Datepicker from './components/datepicker.js'; \r\nimport Dismiss from './components/dismiss.js';\r\nimport Dropdown from './components/dropdown.js';\r\nimport DropzoneUploader from './components/dropzone.js';\r\nimport Fetch from './components/fetch.js';\r\nimport Highlight from './components/highlight.js';\r\nimport Input from './components/input.js';\r\nimport Modal from './components/modal.js';\r\nimport Offcanvas from './components/offcanvas.js';\r\nimport Password from './components/password.js';\r\nimport Pincode from './components/pincode.js';\r\nimport Tab from './components/tab.js';\r\nimport Theme from  './components/theme.js';\r\nimport Toast from './components/toast.js';\r\nimport Toggle from './components/toggle.js';\r\nimport Tooltip from './components/tooltip.js';\r\nimport Scroll from './components/scroll.js';\r\nimport Scrollspy from './components/scrollspy.js';\r\nimport Select from './components/select.js';\r\n\r\n// Register components for auto loading\r\nUIkit.register({\r\n    'accordion': Accordion,\r\n    'autogrow': Autogrow,\r\n    'checkbox': Checkbox,\r\n    'clipboard': Clipboard,\r\n    'datatable': DataTable,\r\n    'datepicker': Datepicker,\r\n    'dismiss': Dismiss,\r\n    'dropdown': Dropdown,\r\n    'dropzone': DropzoneUploader,\r\n    'fetch': Fetch,\r\n    'highlight': Highlight,\r\n    'input': Input,\r\n    'modal': Modal,\r\n    'offcanvas': Offcanvas,\r\n    'password': Password,\r\n    'pincode': Pincode,\r\n    'tab': Tab,\r\n    'theme': Theme,\r\n    'toast': Toast,\r\n    'toggle': Toggle,\r\n    'tooltip': Tooltip,\r\n    'scroll': Scroll,\r\n    'scrollspy': Scrollspy,\r\n    'select': Select\r\n});","import { \r\n    randomNumber, \r\n    removeClass, \r\n    hideElement, \r\n    showElement, \r\n    setAttributes \r\n} from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Accordion extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            toggle: false,\r\n            trigger: 'data-trigger',\r\n            panel: 'data-panel',\r\n            classes: {\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'accordion',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        this._data = [];\r\n        const id = this._element.id !== '' ? this._element.id : 'accordion-' + randomNumber(4);\r\n        const triggers = this._element.querySelectorAll(`[${this._config.trigger}]`);\r\n        const panels = this._element.querySelectorAll(`[${this._config.panel}]`);\r\n\r\n        /**\r\n         * Data returned through events\r\n         * \r\n         * @param {number} index \r\n         * @returns \r\n         */\r\n        const eventData = (index) => {\r\n            return {\r\n                trigger: this._data[index].tab,\r\n                panel: this._data[index].panel,\r\n                opened: this._data[index].isVisible\r\n            };\r\n        };\r\n\r\n        /**\r\n         * Remove animation styles \r\n         * \r\n         * @param {HTMLElement} element \r\n         */\r\n        const removeAnimationStyles = (element) => {\r\n            element.style.height = null;\r\n        };\r\n\r\n        /**\r\n         * Show panel\r\n         * \r\n         * @param {number} index \r\n         */\r\n        const show = (index) => {\r\n            const data = this._data[index];\r\n\r\n            if (!data) return;\r\n\r\n            if (this._config.toggle) {\r\n                hideAll(index);\r\n            }\r\n\r\n            this._dispatchEvent('show', eventData(index));\r\n\r\n            data.isVisible = !data.isVisible;\r\n            setAttributes(data.trigger, {\r\n                ariaExpanded: true\r\n            });\r\n\r\n            showElement(data.panel);\r\n            \r\n            const transitioned = this._transition('transitionEnter', data.panel, (e) => {\r\n                showElement(data.panel, null);\r\n                removeAnimationStyles(data.panel);\r\n                this._dispatchEvent('shown', eventData(index));\r\n            });\r\n\r\n            if (transitioned) {\r\n                window.requestAnimationFrame(() => {\r\n                    const panelHeight = data.panel.offsetHeight;\r\n                    data.panel.style.height = `0px`;\r\n\r\n                    window.requestAnimationFrame(() => {\r\n                        data.panel.style.height = `${panelHeight}px`;\r\n                    });\r\n                });\r\n\r\n                return;\r\n            }\r\n\r\n            this._dispatchEvent('shown', eventData(index));\r\n        };\r\n\r\n        /**\r\n         * Hide panel\r\n         * \r\n         * @param {number} index \r\n         */\r\n        const hide = (index) => {\r\n            const data = this._data[index];\r\n\r\n            if (!data) return;\r\n\r\n            this._dispatchEvent('hide', eventData(index));\r\n\r\n            data.isVisible = !data.isVisible;\r\n            setAttributes(data.trigger, {\r\n                ariaExpanded: false\r\n            });\r\n\r\n            if (this._hasTransition) {                \r\n                data.panel.style.height = `${data.panel.offsetHeight}px`;\r\n    \r\n                window.requestAnimationFrame(() => {\r\n                    data.panel.style.height = `0px`;\r\n                });\r\n            }\r\n\r\n            const transitioned = this._transition('transitionLeave', data.panel, (e) => {\r\n                hideElement(data.panel);\r\n                removeAnimationStyles(data.panel);\r\n                this._dispatchEvent('hidden', eventData(index));\r\n            });\r\n\r\n            if (transitioned) {\r\n                return;\r\n            }\r\n\r\n            hideElement(data.panel);\r\n            this._dispatchEvent('hidden', eventData(index));\r\n        };\r\n\r\n        /**\r\n         * Hide all visible panels \r\n         * \r\n         * @param {number} excludeIndex \r\n         */\r\n        const hideAll = (excludeIndex) => {\r\n            const current = this._data[excludeIndex];\r\n\r\n            for (const data of this._data) {\r\n                if (data.isVisible && data.index !== excludeIndex && current.parent === data.parent) {\r\n                    hide(data.index);\r\n                }\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Show/hide panel\r\n         * \r\n         * @param {number} index \r\n         */\r\n        const toggle = (index) => {\r\n            if (this._component.isTransitioning) return;\r\n\r\n            const data = this._data[index];\r\n\r\n            if (!data) return;\r\n\r\n            if (data.isVisible) {\r\n                hide(data.index);\r\n\r\n                return;\r\n            }\r\n\r\n            show(data.index);\r\n        };\r\n\r\n        // Set attributes and states\r\n        triggers.forEach((trigger, index) => {\r\n            const panel = panels[index];\r\n            const panelSuffix = '-panel';\r\n\r\n            let isVisible = panel.offsetParent !== null \r\n                ? true \r\n                : false\r\n\r\n            const name = trigger.getAttribute(this._config.trigger) == '' \r\n                ?   `${id}-${index}` \r\n                : trigger.getAttribute(this._config.trigger);\r\n\r\n            setAttributes(trigger, {\r\n                id: name,\r\n                ariaControls: name + panelSuffix\r\n            });\r\n\r\n            if (!trigger.hasAttribute('aria-expanded')) {\r\n                trigger.setAttribute('aria-expanded', isVisible);\r\n            } else {\r\n                isVisible = trigger.getAttribute('aria-expanded') === 'true';\r\n            }\r\n\r\n            setAttributes(panel, {\r\n                role: 'region',\r\n                id: name + panelSuffix,\r\n                ariaLabelledby: name\r\n            });\r\n\r\n            // Remove display class and hide panels\r\n            if (panel.classList.contains(this._config.classes.display)) {                \r\n                hideElement(panel);\r\n                removeClass(panel, this._config.classes.display);\r\n            }\r\n\r\n            // Store accordion data\r\n            this._data.push({\r\n                index,\r\n                trigger,\r\n                panel,\r\n                isVisible,\r\n                parent: trigger.closest(`[${this._config.panel}]`)\r\n            });\r\n\r\n            // Attach click event\r\n            this._on(trigger, 'click', (e) => {\r\n                e.preventDefault();\r\n                toggle(index);\r\n            });\r\n        });\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Accordion;","import Component from '../component.js';\r\n\r\nclass Autogrow extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            type: null\r\n        };\r\n\r\n        const _component = {\r\n            name: 'autogrow',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element || !this._config.type) return;\r\n\r\n        const textareaInput = () => {\r\n            this._element.style.minHeight = 'auto';\r\n\t\t    this._element.style.minHeight = this._element.scrollHeight + 'px';\r\n        };\r\n\r\n        if (this._config.type == 'textarea') {\r\n            this._on(this._element, 'input', textareaInput);\r\n\r\n            this._setTimeout(textareaInput);\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Autogrow;","// import { addClass, removeClass } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Checkbox extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            target: null,\r\n            total: null,\r\n            checked: null,\r\n            related: 'data-related'\r\n        };\r\n\r\n        const _component = {\r\n            name: 'checkbox',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element || !this._config.target) return;\r\n\r\n        this._checkboxes = document.querySelectorAll(this._config.target);\r\n        this._checkboxes = [...this._checkboxes].filter((checkbox) => {\r\n            return checkbox.disabled === false;\r\n        });\r\n        this._total = this._checkboxes.length;\r\n        this._totalChecked = 0;\r\n        this._config.checked = document.querySelectorAll(this._config.checked);\r\n        this._config.total = document.querySelectorAll(this._config.total);\r\n\r\n        if (this._config.total.length > 0) {\r\n            this._config.total.forEach((element) => {\r\n                element.innerHTML = this._total;\r\n            });\r\n        }\r\n\r\n        const updateCheckedCount = () => {\r\n            if (this._config.checked.length > 0) {\r\n                this._config.checked.forEach((element) => {\r\n                    element.innerHTML = this._totalChecked;\r\n                });\r\n            }\r\n        };\r\n\r\n        const updateTotalChecked = () => {\r\n            const filtered = [...this._checkboxes].filter((checkbox) => {\r\n                return checkbox.checked === true;\r\n            });\r\n\r\n            this._totalChecked = filtered.length;\r\n            updateCheckedCount();\r\n        };\r\n\r\n        const updateParent = () => {\r\n            if (this._totalChecked > 0 && this._totalChecked < this._total) {\r\n                this._element.indeterminate = true;\r\n            }\r\n    \r\n            if (this._total === this._totalChecked) {\r\n                this._element.checked = true;\r\n                this._element.indeterminate = false;\r\n            }    \r\n    \r\n            if (this._totalChecked === 0) {\r\n                this._element.checked = false;\r\n                this._element.indeterminate = false;\r\n            }    \r\n        };\r\n\r\n        this._checkboxes.forEach((checkbox) => {\r\n\r\n            this._on(checkbox, 'change', (e) => {\r\n                if (checkbox.hasAttribute(this._config.related)) {\r\n                    const related = checkbox.getAttribute(this._config.related);\r\n                    const targets = document.querySelectorAll(related);\r\n    \r\n                    if (targets.length > 0) {\r\n                        const filtered = [...targets].filter((item) => {\r\n                            return item.disabled === false;\r\n                        });\r\n    \r\n                        filtered.forEach((relatedCheckbox) => {\r\n                            if (checkbox.checked) {\r\n                                relatedCheckbox.checked = true;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n\r\n                updateTotalChecked();\r\n                updateParent();\r\n            });\r\n        });\r\n\r\n        this._on(this._element, 'change', (e) => {\r\n            const state = this._element.checked;\r\n            const filtered = [...this._checkboxes].filter((checkbox) => {\r\n                return checkbox.disabled === false;\r\n            });\r\n\r\n            filtered.forEach((checkbox) => {\r\n                checkbox.checked = state;\r\n            });\r\n            \r\n            updateTotalChecked();\r\n        });\r\n\r\n        if (this._element.form) {\r\n            this._on(this._element.form, 'reset', () => {\r\n                this._element.indeterminate = false;\r\n                this._totalChecked = 0;\r\n                updateCheckedCount();\r\n            });\r\n        }\r\n\r\n        updateTotalChecked();\r\n        updateParent();\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Checkbox;","import Component from '../component.js';\r\n\r\nclass Clipboard extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            action: 'copy',\r\n            parent: null,\r\n            target: null,\r\n            text: null,\r\n            attribute: null,\r\n            container: null,\r\n            clearSelection: false\r\n        };\r\n\r\n        const _component = {\r\n            name: 'clipboard',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config\r\n        };\r\n\r\n        super(_component);\r\n   \r\n        if (!this._element || typeof ClipboardJS !== 'function') return;\r\n\r\n        this._target = null;\r\n        this._container = this._config.container \r\n            ? document.querySelector(this._config.container) \r\n            : document.body;\r\n\r\n        this._target = (trigger) => {\r\n            if (this._config.target == 'next') {\r\n                return this._element.nextElementSibling.firstElementChild;\r\n            }\r\n\r\n            if (this._config.target == 'previous') {\r\n                return this._element.previousElementSibling.firstElementChild;\r\n            }\r\n\r\n            if (this._config.parent && this._config.target) {\r\n                let parent = trigger.closest(this._config.parent);\r\n\r\n                this._target = parent.querySelector(this._config.target);\r\n            }\r\n\r\n            if (!this._config.parent && this._config.target) {\r\n                this._target = document.querySelector(this._config.target);\r\n            }\r\n\r\n            return this._target ? this._target : trigger;\r\n        };\r\n\r\n        this._text = (trigger) => {\r\n            if (this._config.attribute) {\r\n                return trigger.getAttribute(this._config.attribute);\r\n            }\r\n            \r\n            if (this._config.text) {\r\n                return this._config.text;\r\n            }\r\n\r\n            if (this._target && this._target.offsetParent == null) {\r\n                return this._target.textContent;\r\n            }\r\n        };\r\n\r\n        this._clipboard = new ClipboardJS(this._element, {\r\n            action: this._config.action,\r\n            container: this._container,\r\n            target: this._target,\r\n            text: this._text\r\n        });\r\n\r\n        this._clipboard.on('success', (e) => {\r\n            this._dispatchEvent('success', e);\r\n\r\n            if (this._config.clearSelection) {\r\n                e.clearSelection();\r\n            }\r\n        });\r\n            \r\n        this._clipboard.on('error', (e) => {\r\n            this._dispatchEvent('error');\r\n        });\r\n    }\r\n\r\n    destroy() {\r\n        this._clipboard.destroy();\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Clipboard;","import { deepClone, stringToDom, showElement, hideElement, camelCase, addClass, removeClass } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass DataTable extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            id: null,\r\n            url: null,\r\n            saveState: true,\r\n            autoUpdate: false,\r\n            autoUpdateInterval: 60000,\r\n            table: null,\r\n            search: null,\r\n            searchInput: null,\r\n            searchDelay: 750,\r\n            checkbox: null,\r\n            pagination: null,\r\n            info: null,\r\n            length: null,\r\n            region: null,\r\n            loader: null,\r\n            loaderLabel: null,\r\n            pageLength: null,\r\n            index: null,\r\n            order: null,\r\n            direction: null,\r\n            request: {\r\n                page: 'page',\r\n                search: 'search',\r\n                orderColumn: 'order_column',\r\n                orderDirection: 'order_direction',\r\n                perPage: 'per_page'\r\n            },\r\n            classes: {\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'datatable',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            storage: true,\r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element || !this._config.url) return;\r\n\r\n        // Id attribute on element if not set \r\n        if (!this._element.hasAttribute('id') && this._config.id) {\r\n            this._element.id = this._config.id\r\n        }\r\n\r\n        let controller, searchTimeout;\r\n        this._isLoading = false;\r\n        this._searchPrase = '';\r\n        this._lastFocusedRequestElement = null;\r\n        this._sections = {\r\n            table: this._element.querySelector(`[${this._config.table}]`), \r\n            search: this._element.querySelector(`[${this._config.search}]`), \r\n            length: this._element.querySelector(`[${this._config.length}]`), \r\n            info: this._element.querySelector(`[${this._config.info}]`), \r\n            pagination: this._element.querySelector(`[${this._config.pagination}]`), \r\n            loader: this._element.querySelector(`[${this._config.loader}]`),\r\n            region: this._element.querySelectorAll(`[${this._config.region}]`)\r\n        };\r\n\r\n        // Append loader if available\r\n        if (this._sections.loader && this._config.loaderLabel) {\r\n            this._sections.loader.appendChild(stringToDom(this._config.loaderLabel));\r\n        }\r\n\r\n        /**\r\n         * Retrieves or modifies URL parameters\r\n         * \r\n         * @param {string} url \r\n         * @param {object} param \r\n         * @returns {URL}\r\n         */\r\n        const parseUrl = (url, param) => {\r\n            const instance = new URL(url);\r\n\r\n            if (param instanceof Object) {\r\n                for (const key in param) {\r\n                    if (param[key] === null) {\r\n                        instance.searchParams.delete(key);\r\n                    } else {\r\n                        instance.searchParams.set(key, param[key]);\r\n                    }\r\n                }\r\n            }\r\n\r\n            return instance;\r\n        };\r\n\r\n        /**\r\n         * Get the value of a search parameter by key\r\n         * \r\n         * @param {string} key \r\n         * @param {string} defaultValue \r\n         * @returns {?string}\r\n         */\r\n        const getRequest = (key, defaultValue) => {\r\n            const url = parseUrl(this._config.url);\r\n\r\n            return url.searchParams.get(key) ?? defaultValue ?? null;\r\n        };\r\n\r\n        /**\r\n         * Auto update table after the set interval\r\n         */\r\n        const autoReload = () => {\r\n            if (!this._config.autoUpdate) return;\r\n\r\n            this._setTimeout(() => {\r\n                if (this._element.isConnected) {\r\n                    this._reload();\r\n                }\r\n            }, this._config.autoUpdateInterval);\r\n        };\r\n\r\n        /**\r\n         * Retrieves a dataset value from an element\r\n         * \r\n         * @param {HTMLElement} element \r\n         * @param {string} key \r\n         * @returns {?string}\r\n         */\r\n        const getDataset = (element, key) => {\r\n            key = camelCase(key.replace('data-', '')).replaceAll('-', '');\r\n\r\n            return element.dataset[key] || null;\r\n        };\r\n\r\n        /**\r\n         * Show or hide loader\r\n         * \r\n         * @param {boolean} hide \r\n         */\r\n        const loading = (hide = false) => {\r\n            if (hide) {\r\n                hideElement(this._sections.loader);\r\n\r\n                return\r\n            }\r\n            \r\n            showElement(this._sections.loader);\r\n        };\r\n\r\n        /**\r\n         * Get all child checkboxes\r\n         * \r\n         * @returns {NodeList}\r\n         */\r\n        const getCheckboxes = () => {    \r\n            return this._element.querySelectorAll(`[${this._config.checkbox}=child]:not(:disabled)`);\r\n        };\r\n\r\n        /**\r\n         * Get all checked checkboxes\r\n         * \r\n         * @returns {NodeList}\r\n         */\r\n        const getChecked = () => {    \r\n            return this._element.querySelectorAll(`[${this._config.checkbox}=child]:checked:not(:disabled)`);\r\n        };\r\n\r\n        /**\r\n         * Get all unchecked checkboxes\r\n         * \r\n         * @returns {NodeList}\r\n         */\r\n        const getUnchecked = () => {    \r\n            return this._element.querySelectorAll(`[${this._config.checkbox}=child]:not(:checked):not(:disabled)`);\r\n        };\r\n\r\n        /**\r\n         * Get the parent checkbox\r\n         * \r\n         * @returns {?HTMLElement}\r\n         */\r\n        const getParentCheckbox = () => {    \r\n            return this._element.querySelector(`[${this._config.checkbox}=parent]`);\r\n        };\r\n\r\n        /**\r\n         * Get the form data for all checked checkbox\r\n         * \r\n         * @returns {FormData}\r\n         */\r\n        const getCheckedFormData = () => {    \r\n            const formData = new FormData();\r\n\r\n            getChecked().forEach((checkbox) => {\r\n                formData.append(checkbox.name, checkbox.value);\r\n            });\r\n\r\n            return formData;\r\n        };\r\n\r\n        /**\r\n         * Store the a reference identifier for last focused request element\r\n         * \r\n         * @param {String} name\r\n         */\r\n        const setLastFocusedRequestElement = (name) => {    \r\n            this._lastFocusedRequestElement = `[name=\"${name}\"]`;\r\n        };\r\n\r\n        /**\r\n         * Check all unchecked checkboxes\r\n         */\r\n        this._select = () => {    \r\n            getUnchecked().forEach((checkbox) => {\r\n                checkbox.checked = true;\r\n            });\r\n\r\n            if (getParentCheckbox()) {\r\n                getParentCheckbox().checked = true;\r\n                getParentCheckbox().indeterminate = false;\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Uncheck all checked checkboxes\r\n         */\r\n        this._deselect = () => {    \r\n            getChecked().forEach((checkbox) => {\r\n                checkbox.checked = false;\r\n            });\r\n\r\n            if (getParentCheckbox()) {\r\n                getParentCheckbox().checked = false;\r\n                getParentCheckbox().indeterminate = false;\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Changes to a set pageText\r\n         * \r\n         * @param {number} index \r\n         */\r\n        this._goToIndex = (index) => {  \r\n            this._abort();\r\n\r\n            this._config.url = parseUrl(this._config.url, {\r\n                [this._config.request.page]: index || ''\r\n            }).href;\r\n\r\n            this._draw();\r\n        };\r\n\r\n        /**\r\n         * Changes the current page to display\r\n         * \r\n         * @param {number} page \r\n         */\r\n        this._index = (page) => {  \r\n            this._abort();\r\n\r\n            this._config.url = parseUrl(this._config.url, {\r\n                [this._config.request.page]: page\r\n            }).href;\r\n\r\n            this._draw();\r\n        };\r\n\r\n        /**\r\n         * Changes the number of records to display\r\n         * \r\n         * @param {number} length \r\n         */\r\n        this._pageLength = (length) => {  \r\n            this._abort();\r\n\r\n            this._config.url = parseUrl(this._config.url, {\r\n                [this._config.request.page]: null,\r\n                [this._config.request.perPage]: length || ''\r\n            }).href;\r\n\r\n            this._draw();\r\n        };\r\n\r\n        /**\r\n         * Changes the order of records\r\n         * \r\n         * @param {string} column \r\n         * @param {string} direction \r\n         */\r\n        this._orderColumn = (column, direction) => {  \r\n            this._abort();\r\n\r\n            this._config.url = parseUrl(this._config.url, {\r\n                [this._config.request.orderColumn]: column || '',\r\n                [this._config.request.orderDirection]: direction || '',\r\n            }).href;\r\n\r\n            this._draw();\r\n        };\r\n\r\n        /**\r\n         * Searches for records\r\n         * \r\n         * @param {string} keyword \r\n         */\r\n        this._search = async (keyword) => {    \r\n            this._abort();\r\n\r\n            this._config.url = parseUrl(this._config.url, {\r\n                [this._config.request.page]: null,\r\n                [this._config.request.search]: keyword || '',\r\n            }).href;\r\n\r\n            await this._draw();\r\n\r\n            const searchInput = this._sections.search.querySelector(`[${this._config.searchInput}]`);\r\n            searchInput.focus();\r\n            searchInput.value = this._searchPrase;\r\n        };\r\n\r\n        /*const populateSearch = (data) => {\r\n            if (!this._sections.search) return;\r\n            \r\n            if (!this._sections.search.hasAttribute('data-populated') && data.has_records) {\r\n                this._sections.search.innerHTML = data.html.search;\r\n                this._sections.search.setAttribute('data-populated', true);\r\n                const searchInput = this._element.querySelector(`[${this._config.searchInput}]`);\r\n    \r\n                this._on(searchInput, 'input', (e) => {\r\n                    this._setTimeout(() => {\r\n                        this._search(searchInput.value);\r\n                    }, this._config.searchDelay);\r\n                });\r\n\r\n                return;\r\n            }\r\n\r\n            const searchInput = this._element.querySelector(`[${this._config.searchInput}]`);\r\n\r\n            if (!searchInput) return;\r\n\r\n            if (!getRequest(this._config.request.search) && searchInput.value != '') {\r\n                searchInput.value = '';\r\n            }\r\n        };*/\r\n\r\n        const populateSearch = (data) => {\r\n            if (!this._sections.search) return;\r\n\r\n            this._sections.search.innerHTML = data.html.search;\r\n            const searchInput = this._sections.search.querySelector(`[${this._config.searchInput}]`);\r\n\r\n            this._on(searchInput, 'input', (e) => {\r\n                this._searchPrase = searchInput.value;\r\n                clearTimeout(searchTimeout);\r\n                searchTimeout = setTimeout(() => {\r\n                    this._search(searchInput.value);\r\n                }, this._config.searchDelay);\r\n            });\r\n        };\r\n\r\n        const populateTable = (data) => {\r\n            if (!this._sections.table) return;\r\n\r\n            this._sections.table.innerHTML = data.html.table;\r\n            const triggers = this._sections.table.querySelectorAll(`[${this._config.order}]`);\r\n\r\n            triggers.forEach((element) => {\r\n                this._on(element, 'click', (e) => {\r\n                    e.preventDefault();\r\n                    const column = getDataset(element, this._config.order);\r\n                    const direction = getDataset(element, this._config.direction);\r\n                    this._orderColumn(column, direction);\r\n                });\r\n            });\r\n        };\r\n\r\n        const populateInfo = (data) => {\r\n            if (!this._sections.info) return;\r\n\r\n            this._sections.info.innerHTML = data.has_records ? data.html.info : '';\r\n        };\r\n\r\n        const populatePagination = (data) => {\r\n            if (!this._sections.pagination) return;\r\n\r\n            this._sections.pagination.innerHTML = data.has_records ? data.html.pagination : '';\r\n            const triggers = this._sections.pagination.querySelectorAll(`[${this._config.index}]`);\r\n\r\n            triggers.forEach((element) => {\r\n                this._on(element, 'click', (e) => {\r\n                    e.preventDefault();\r\n                    const index = getDataset(element, this._config.index);\r\n                    this._goToIndex(index);\r\n                });\r\n            });\r\n        };\r\n\r\n        const populateLength = (data) => {\r\n            if (!this._sections.length) return;\r\n\r\n            this._sections.length.innerHTML = data.has_records ? data.html.length : '';\r\n            const triggers = this._sections.length.querySelectorAll(`[${this._config.pageLength}]`);\r\n\r\n            triggers.forEach((element) => {\r\n                this._on(element, 'click', (e) => {\r\n                    e.preventDefault();\r\n                    const length = getDataset(element, this._config.pageLength);\r\n                    this._pageLength(length);\r\n                });\r\n            });\r\n        };\r\n\r\n        const regionVisibility = (data) => {\r\n            this._sections.region = this._element.querySelectorAll(`[${this._config.region}]`);\r\n\r\n            this._sections.region.forEach((element) => {\r\n                if (data.has_records) {\r\n                    removeClass(element, this._config.classes.display);\r\n                } else {\r\n                    addClass(element, this._config.classes.display);\r\n                }\r\n            });\r\n        };\r\n\r\n        const rowSelection = () => {\r\n            const parent = getParentCheckbox();\r\n            const children = getCheckboxes();\r\n            const total = children.length;\r\n            const onSelectEventData = () => {\r\n                return {\r\n                    formData: getCheckedFormData(),\r\n                    selected: getChecked(),\r\n                    deselected: getUnchecked()\r\n                }\r\n            };\r\n\r\n            children.forEach((checkbox) => {\r\n                this._on(checkbox, 'change', (e) => {\r\n                    const totalChecked = getChecked().length;\r\n                    const totalUnchecked = getUnchecked().length;\r\n                    parent.indeterminate = totalUnchecked > 0 && totalUnchecked !== total;\r\n                    \r\n                    if (checkbox.checked) {\r\n                        parent.checked = totalUnchecked === 0;\r\n                    } else {\r\n                        parent.checked = totalChecked === total;\r\n                    }\r\n\r\n                    this._dispatchEvent('select', onSelectEventData());\r\n                });\r\n            });\r\n\r\n            if (getUnchecked().length > 0 && getUnchecked().length !== total) {\r\n                parent.indeterminate = true;\r\n            }\r\n\r\n            if (parent) {                \r\n                this._on(parent, 'change', (e) => {\r\n                    if (parent.checked) {\r\n                        this._select();\r\n                    } else {\r\n                        this._deselect();\r\n                    }\r\n    \r\n                    this._dispatchEvent('select', onSelectEventData());\r\n                });\r\n            }\r\n        };\r\n\r\n        this._abort = () => {\r\n            if (this._isLoading) {\r\n                controller.abort();\r\n            }\r\n        };\r\n\r\n        this._draw = async (url) => {\r\n            controller = new AbortController();\r\n            const signal = controller.signal;\r\n\r\n            url = url || this._config.url;\r\n            this._events = {};\r\n            loading();\r\n            this._isLoading = true;\r\n            this._dispatchEvent('processing');\r\n\r\n            await fetch(url, { signal: signal }) \r\n                .then(response => {\r\n                    if (!response.ok) {\r\n                        throw new Error(response.statusText);\r\n                    }\r\n\r\n                    return response.json();\r\n                })\r\n                .then(data => {\r\n                    populateSearch(data);\r\n                    populateTable(data);\r\n                    populateInfo(data)\r\n                    populatePagination(data);\r\n                    populateLength(data);\r\n                    regionVisibility(data)\r\n                    rowSelection();\r\n                    loading(true);\r\n                    this._isLoading = false;\r\n                    this._dispatchEvent('processing');\r\n                    autoReload();\r\n\r\n                    if (this._config.saveState) {                        \r\n                        this._storage.set(this._element.id, JSON.stringify(data.options.request.save));\r\n                    }\r\n                })\r\n                .finally(() => {\r\n                    this._dispatchEvent('draw');\r\n                })\r\n                .catch((message) => {\r\n                    this._debug(message);\r\n                });\r\n        };\r\n\r\n        this._reload = () => {\r\n            this._draw();\r\n        };\r\n\r\n        // Update URL when save state is true\r\n        if (this._config.saveState) {                    \r\n            const params = JSON.parse(this._storage.get(this._element.id));\r\n            this._config.url = parseUrl(this._config.url, params).href;\r\n        } else {\r\n            this._storage.remove(this._element.id);\r\n        }\r\n\r\n        // Initialize\r\n        this._draw();\r\n        this._location = deepClone(window.location);\r\n        this._dispatchEvent('initialize');\r\n\r\n        // Listen fetch abort event\r\n        controller.signal.addEventListener('abort', () => {\r\n            loading(true);\r\n            this._isLoading = false;\r\n            this._dispatchEvent('processing');\r\n        });\r\n\r\n        this._on(window, 'popstate', this._onPopstate);\r\n    }\r\n\r\n    reload() {\r\n        this._reload();\r\n    }\r\n\r\n    perPage(length) {\r\n        this._pageLength(length);\r\n    }\r\n\r\n    index(page) {\r\n        page = parseInt(page) || 1;\r\n        this._index(page);\r\n    }\r\n\r\n    select() {\r\n        this._select();\r\n    }\r\n\r\n    deselect() {\r\n        this._deselect();\r\n    }\r\n\r\n    order(column, direction) {\r\n        this._orderColumn(column, direction);\r\n    }\r\n\r\n    search(keyword) {\r\n        this._search(keyword);\r\n    }\r\n\r\n    isLoading() {\r\n        return this._isLoading;\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default DataTable;","import { isNumber } from '../utils.js';\r\nimport Component from '../component.js';\r\nimport Pikaday from  '../plugins/pikaday/1.8.2/pikaday.js';\r\nimport { computePosition, offset, flip, shift, limitShift, autoUpdate } from '@floating-ui/dom';\r\n\r\nclass Datepicker extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            bound: undefined,\r\n            trigger: null,\r\n            container: undefined,\r\n            startRange: null,\r\n            endRange: null,\r\n            startRangeTarget: null,\r\n            endRangeTarget: null,\r\n            format: null,\r\n            minDate: null,\r\n            maxDate: null,\r\n            toString: null,\r\n            parse: null,\r\n            defaultDate: null,\r\n            setDefaultDate: false,\r\n            firstDay: 0,\r\n            yearRange: 10,\r\n            showOtherDays: false,\r\n            otherDaysSelection: false,\r\n            focus : false,\r\n            clearOnReset: true,\r\n            title: null,\r\n            autoClose: true,\r\n            showButtons: false,\r\n            buttonsPlacement: 'bottom',\r\n            previous: 'Previous',\r\n            next: 'Next',\r\n            buttons: ['cancel', 'apply'],\r\n            clear: 'Clear',\r\n            today: 'Today',\r\n            cancel: 'Cancel',\r\n            apply: 'Apply',\r\n            offset: 8,\r\n            placement: 'bottom-start',\r\n            shortWeekdays: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\r\n            months: [\r\n                'January', \r\n                'February',\r\n                'March',\r\n                'April',\r\n                'May',\r\n                'June',\r\n                'July',\r\n                'August',\r\n                'September',\r\n                'October',\r\n                'November',\r\n                'December'\r\n            ],\r\n            weekdays: [\r\n                'Sunday', \r\n                'Monday', \r\n                'Tuesday', \r\n                'Wednesday', \r\n                'Thursday', \r\n                'Friday', \r\n                'Saturday'\r\n            ],\r\n            events: [],\r\n            disableDay: null,\r\n            classes: {\r\n                wrapper: '',\r\n                header: '',\r\n                title: '',\r\n                weekday: '',\r\n                days: '',\r\n                day: '',\r\n                previous: '',\r\n                next: '',\r\n                month: '',\r\n                year: '',\r\n                buttons: '',\r\n                clear: '',\r\n                today: '',\r\n                cancel: '',\r\n                apply: ''\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'datepicker',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        let autoUpdatePosition = () => void 0;\r\n        \r\n        this._config.trigger = typeof this._config.trigger == 'string'\r\n            ? document.querySelector(this._config.trigger)\r\n            : this._config.trigger;\r\n        \r\n        this._config.container = typeof this._config.container == 'string'\r\n            ? document.querySelector(this._config.container)\r\n            : this._config.container;\r\n        \r\n        this._config.startRangeTarget = this._config.endRangeTarget == null && typeof this._config.startRangeTarget == 'string'\r\n            ? document.querySelector(this._config.startRangeTarget)\r\n            : this._config.startRangeTarget;\r\n        \r\n        this._config.endRangeTarget = this._config.startRangeTarget == null && typeof this._config.endRangeTarget == 'string'\r\n            ? document.querySelector(this._config.endRangeTarget)\r\n            : this._config.endRangeTarget;\r\n\r\n        this._config.shortWeekdays = typeof this._config.shortWeekdays == 'string'\r\n            ? this._config.shortWeekdays.split(' ')\r\n            : this._config.shortWeekdays;\r\n\r\n        this._config.weekdays = typeof this._config.weekdays == 'string'\r\n            ? this._config.weekdays.split(' ')\r\n            : this._config.weekdays;\r\n\r\n        this._config.months = typeof this._config.months == 'string'\r\n            ? this._config.months.split(' ')\r\n            : this._config.months;\r\n\r\n        this._config.buttons = typeof this._config.buttons == 'string'\r\n            ? this._config.buttons.split(' ')\r\n            : this._config.buttons;\r\n\r\n        this._config.minDate = typeof this._config.minDate == 'string'\r\n            ? new Date(Date.parse(this._config.minDate))\r\n            : this._config.minDate;\r\n\r\n        this._config.maxDate = typeof this._config.maxDate == 'string'\r\n            ? new Date(Date.parse(this._config.maxDate))\r\n            : this._config.maxDate;\r\n\r\n        this._config.yearRange = typeof this._config.yearRange == 'string'\r\n            ? this._config.yearRange.split(' ')\r\n            : this._config.yearRange;\r\n\r\n        this._config.yearRange = this._config.yearRange instanceof Array\r\n            ? this._config.yearRange\r\n            : this._config.yearRange;\r\n\r\n        this._config.defaultDate = typeof this._config.defaultDate == 'string'\r\n            ? new Date(Date.parse(this._config.defaultDate))\r\n            : this._config.defaultDate;\r\n\r\n        this._hasMoment = typeof moment === 'function';\r\n        this._hasDayjs = typeof dayjs === 'function';\r\n\r\n        this._isRangePicker = () => {\r\n            if (this._config.startRangeTarget || this._config.endRangeTarget) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        };\r\n\r\n        const updateRangeDate = () => {\r\n            if (!this._isRangePicker()) return;\r\n\r\n            const date = this._pikaday.getDate();\r\n            const range = UIkit.datepicker(this._config.startRangeTarget || this._config.endRangeTarget);\r\n\r\n            if (this._config.endRangeTarget) {  \r\n                range.hide();  \r\n                this._pikaday.setStartRange(date);\r\n                range.setStartRange(date);\r\n                range.setMinDate(date);\r\n                \r\n                if (!range.getDate()) {\r\n                    range.gotoDate(date);\r\n                }\r\n\r\n                if (range.getDate()) {\r\n                    this._pikaday.setEndRange(range.getDate());\r\n                }\r\n            } \r\n            \r\n            if (this._config.startRangeTarget) {\r\n                range.hide();\r\n                this._pikaday.setEndRange(date);\r\n                range.setEndRange(date);\r\n                range.setMaxDate(date);\r\n                \r\n                if (!range.getDate()) {\r\n                    range.gotoDate(date);\r\n                }\r\n\r\n                if (range.getDate()) {\r\n                    this._pikaday.setStartRange(range.getDate());\r\n                }\r\n            }\r\n        };\r\n\r\n        const getOrdinalNumber = (number) => {\r\n            const length = number.length - 1;\r\n            number = parseInt(number).toString();\r\n            const index = number.substring(length);\r\n            const ordinals = {\r\n                1: 'st',\r\n                2: 'nd',\r\n                3: 'rd'\r\n            };\r\n\r\n            return ordinals[index] ? number + ordinals[index] : number + 'th';\r\n        };\r\n        \r\n        // Pikaday options\r\n        let options = {\r\n            field: this._element,\r\n            reposition: false,\r\n            bound: this._config.bound,\r\n            trigger: this._config.trigger,\r\n            container: this._config.container,\r\n            startRange: this._config.startRange,\r\n            endRange: this._config.endRange,\r\n            format: this._config.format,\r\n            minDate: this._config.minDate,\r\n            maxDate: this._config.maxDate,\r\n            toString: this._config.toString,\r\n            parse: this._config.parse,\r\n            defaultDate: this._config.defaultDate,\r\n            setDefaultDate: this._config.setDefaultDate,\r\n            firstDay: this._config.firstDay,\r\n            yearRange: this._config.yearRange,\r\n            showDaysInNextAndPreviousMonths: this._config.showOtherDays,\r\n            enableSelectionDaysInNextAndPreviousMonths: this._config.otherDaysSelection,\r\n            disableDayFn: this._config.disableDay,\r\n            blurFieldOnSelect : !this._config.focus,\r\n            title: this._config.title,\r\n            autoClose: this._config.autoClose,\r\n            showButtons: this._config.showButtons,\r\n            buttonsPlacement: this._config.buttonsPlacement,\r\n            previous: this._config.previous,\r\n            next: this._config.next,\r\n            buttons: this._config.buttons,\r\n            clear: this._config.clear,\r\n            today: this._config.today,\r\n            cancel: this._config.cancel,\r\n            apply: this._config.apply,\r\n            events: this._config.events,\r\n            calendarClass: this._config.classes.wrapper,\r\n            headerClass: this._config.classes.header,\r\n            titleClass: this._config.classes.title,\r\n            weekdayClass: this._config.classes.weekday,\r\n            daysClass: this._config.classes.days,\r\n            dayClass: this._config.classes.day,\r\n            previousClass: this._config.classes.previous,\r\n            nextClass: this._config.classes.next,\r\n            monthClass: this._config.classes.month,\r\n            yearClass: this._config.classes.year,\r\n            buttonsClass: this._config.classes.buttons,\r\n            clearClass: this._config.classes.clear,\r\n            todayClass: this._config.classes.today,\r\n            cancelClass: this._config.classes.cancel,\r\n            applyClass: this._config.classes.apply,\r\n            i18n: {\r\n                previousMonth: this._config.previous,\r\n                nextMonth: this._config.next,\r\n                months: this._config.months,\r\n                weekdays: this._config.weekdays,\r\n                weekdaysShort: this._config.shortWeekdays\r\n            }\r\n        }\r\n\r\n\r\n        options.onInitialize = () => {\r\n            this._dispatchEvent('initialize');\r\n        };\r\n\r\n        options.onBeforeOpen = () => {\r\n\r\n            const setPosition = () => {\r\n                computePosition(this._element, this._pikaday.el, {\r\n                    placement: this._config.placement,\r\n                    middleware: [ \r\n                        offset(this._config.offset),\r\n                        flip(),\r\n                        shift({ \r\n                            padding: this._config.offset,\r\n                            limiter: limitShift()\r\n                        })\r\n                    ]\r\n                }).then(({ x, y, placement, middlewareData }) => {\r\n                    const { offset, flip, shift, hide } = middlewareData;\r\n    \r\n                    Object.assign(this._pikaday.el.style, {\r\n                        left: `${x}px`,\r\n                        top: `${y}px`,\r\n                        zIndex: 9999\r\n                    });\r\n                });\r\n            };\r\n    \r\n            const updatePosition = () => { \r\n                if (!this._pikaday || this._config.bound == false) return;\r\n\r\n                return autoUpdate(this._element, this._pikaday.el, setPosition);\r\n            };\r\n\r\n            autoUpdatePosition = updatePosition();\r\n            updateRangeDate();\r\n            this._dispatchEvent('show');\r\n        };\r\n\r\n        options.onOpen = () => {\r\n            if (this._config.bound != false) {                \r\n                this._transition('transitionEnter', this._pikaday.el, (e) => {\r\n                    this._dispatchEvent('shown');\r\n                });\r\n            }\r\n        };\r\n\r\n        options.onBeforeClose = () => {\r\n            this._dispatchEvent('hide');\r\n\r\n            if (this._config.bound != false) {\r\n                const transitioned = this._transition('transitionLeave', this._pikaday.el, (e) => {\r\n                    this._dispatchEvent('hidden');\r\n                    autoUpdatePosition();\r\n                    this._pikaday.el.style.display = 'none';\r\n                });\r\n\r\n                if (!transitioned) {\r\n                    this._pikaday.el.style.display = 'none';\r\n                    this._dispatchEvent('hidden');\r\n                    autoUpdatePosition();\r\n                }\r\n            }\r\n        };\r\n\r\n        // options.onClose = () => {\r\n            \r\n        // };\r\n\r\n        options.onDraw = () => {\r\n            this._dispatchEvent('draw');\r\n        };\r\n\r\n        options.onSelect = (date, hasEvent) => {\r\n            updateRangeDate();\r\n            this._dispatchEvent('select', { date, hasEvent });\r\n        };\r\n\r\n        if (!this._config.toString && this._config.format && (!this._hasMoment || !this._hasDayjs)) {\r\n            options.toString = (date, format) => {\r\n\r\n                let formattedDate = '';\r\n                const tokens = {\r\n                    ddd: options.i18n.weekdays[date.getDay()].slice(0, 3),\r\n                    dddd: options.i18n.weekdays[date.getDay()],\r\n                    D: date.getDate().toString(),\r\n                    DD: date.getDate().toString().padStart(2, '0'),\r\n                    Do: getOrdinalNumber(date.getDate().toString()),\r\n                    M: (date.getMonth() + 1).toString(),\r\n                    MM: (date.getMonth() + 1).toString().padStart(2, '0'),\r\n                    MMM: options.i18n.months[date.getMonth()].slice(0, 3),\r\n                    MMMM: options.i18n.months[date.getMonth()],\r\n                    YY: date.getFullYear().toString().slice(2),\r\n                    YYYY: date.getFullYear().toString()\r\n                };\r\n\r\n                const delimiters = format.trim().match(/\\W+/g);\r\n\r\n                const parts = format.trim()\r\n                    .replaceAll(/\\W+/g, ' ')\r\n                    .split(' ')\r\n                    .filter(str => str.length > 0);\r\n\r\n                const replacedParts = parts.map((part) => {\r\n                        return tokens[part];\r\n                }).filter(part => part);\r\n\r\n                replacedParts.forEach((part, index) => {\r\n                    if (delimiters && delimiters.length > 0) {\r\n                        formattedDate += part + (delimiters[index] && index < (replacedParts.length - 1) ? delimiters[index] : '');\r\n\r\n                        return;\r\n                    }\r\n\r\n                    formattedDate += part;\r\n                });\r\n\r\n                return formattedDate;\r\n            };\r\n        }\r\n\r\n        if (!this._config.parse && this._config.format && (!this._hasMoment || !this._hasDayjs)) {\r\n            options.parse = (dateString, format) => {\r\n                let day = '', \r\n                    month = '', \r\n                    year = '';\r\n\r\n                let dateParts = dateString.trim()\r\n                .replaceAll(/\\W+/g, ' ')\r\n                .split(' ')\r\n                .filter(str => str.length > 0);\r\n\r\n                let formatParts = format.trim()\r\n                .replaceAll(/\\W+/g, ' ')\r\n                .split(' ')\r\n                .filter(str => str.length > 0)\r\n                .map(str => str.charAt(0));\r\n\r\n                formatParts.forEach((part, index) => {\r\n                    switch (part) {\r\n                        case 'Y':\r\n                            year = dateParts[index] || '';\r\n                            break;\r\n                            \r\n                        case 'M':\r\n                            if (isNumber(dateParts[index])) {\r\n                                month = dateParts[index] ? parseInt(dateParts[index]) - 1 : dateParts[index];\r\n                            } else {\r\n                                month = dateParts[index] || '';\r\n                            }\r\n                            break;\r\n\r\n                        case 'D':\r\n                            day = parseInt(dateParts[index]) || '';\r\n                            break;\r\n                    }\r\n                });\r\n\r\n                const date = (`${year} ${month} ${day}`).trim();\r\n\r\n                return new Date(Date.parse(date));\r\n            }\r\n        }\r\n\r\n        // Day.js toString function\r\n        if (!this._config.toString && this._config.format && this._hasDayjs) {\r\n            options.toString = (date, format) => {\r\n                return dayjs(date).format(format);\r\n            };\r\n        }\r\n\r\n        // Day.js parse function\r\n        if (!this._config.parse && this._config.format && this._hasDayjs) {\r\n            options.parse = (dateString, format) => {\r\n                return dayjs(dateString, format).toDate();\r\n            }\r\n        }\r\n\r\n        // Init Pikaday\r\n        this._pikaday = new Pikaday(options);\r\n\r\n        this._on(this._element, 'blur', (e) => {\r\n            if (this._pikaday.el.contains(e.relatedTarget)) return;\r\n            this.hide();\r\n        });\r\n\r\n        // Clear on form reset\r\n        if (this._config.clearOnReset) {              \r\n            if (this._element.form) {\r\n                this._on(this._element.form, 'reset', () => {\r\n                    this._pikaday.clear();\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    toString(format) {\r\n        if (this._hasMoment) {\r\n            return moment(this._pikaday.getDate()).format(format);\r\n        } else if (this._hasDayjs) {\r\n            return dayjs(this._pikaday.getDate()).format(format);\r\n        } else {\r\n            return this._pikaday.toString(format);\r\n        }\r\n    }\r\n\r\n    getDate() {\r\n        if (this._hasMoment) {\r\n            return this._pikaday.getDate() ? moment(this._pikaday.getDate()) : null;\r\n        } else if (this._hasDayjs) {\r\n            return this._pikaday.getDate() ? dayjs(this._pikaday.getDate()) : null;\r\n        } else {\r\n            return this._pikaday.getDate();\r\n        }\r\n    }\r\n\r\n    setDate(date, silent = false) {\r\n\r\n        if (this._isRangePicker()) {\r\n            this._pikaday._o.minDate = null;\r\n            this._pikaday._o.maxDate = null;\r\n        }\r\n        \r\n        if (this._hasMoment || this._hasDayjs) {\r\n            this._pikaday.setDate(date.toDate(), silent);\r\n        } else {\r\n            this._pikaday.setDate(date, silent);\r\n        }\r\n    }\r\n\r\n    gotoDate(date) {\r\n        if (this._hasMoment || this._hasDayjs) {\r\n            this._pikaday.gotoDate(date.toDate());\r\n        } else {\r\n            this._pikaday.gotoDate(date);\r\n        }\r\n    }\r\n\r\n    gotoToday() {\r\n        this._pikaday.gotoDate(new Date());\r\n    }\r\n\r\n    gotoMonth(month) {\r\n        month = parseInt(month) || month;\r\n        this._pikaday.gotoMonth(month);\r\n    }\r\n\r\n    gotoYear(year) {\r\n        if (year.toString().length != 4) return;\r\n\r\n        this._pikaday.gotoYear(year);\r\n    }\r\n\r\n    setMinDate(date) {\r\n        if (this._hasMoment || this._hasDayjs) {\r\n            this._pikaday.setMinDate(date.toDate());\r\n        } else {\r\n            date = typeof date == 'string' ? new Date(Date.parse(date)) : date;\r\n            this._pikaday.setMinDate(date);\r\n        }\r\n    }\r\n\r\n    setMaxDate(date) {\r\n        if (this._hasMoment || this._hasDayjs) {\r\n            this._pikaday.setMaxDate(date.toDate());\r\n        } else {\r\n            date = typeof date == 'string' ? new Date(Date.parse(date)) : date;\r\n            this._pikaday.setMaxDate(date);\r\n        }\r\n    }\r\n\r\n    setStartRange(date) {\r\n        if (this._hasMoment || this._hasDayjs) {\r\n            this._pikaday.setStartRange(date.toDate());\r\n        } else {\r\n            date = typeof date == 'string' ? new Date(Date.parse(date)) : date;\r\n            this._pikaday.setStartRange(date);\r\n        }\r\n    }\r\n\r\n    setEndRange(date) {\r\n        if (this._hasMoment || this._hasDayjs) {\r\n            this._pikaday.setEndRange(date.toDate());\r\n        } else {\r\n            date = typeof date == 'string' ? new Date(Date.parse(date)) : date;\r\n            this._pikaday.setEndRange(date);\r\n        }\r\n    }\r\n\r\n    nextMonth() {\r\n        this._pikaday.nextMonth();\r\n    }\r\n\r\n    previousMonth() {\r\n        this._pikaday.prevMonth();\r\n    }\r\n\r\n    show() {\r\n        this._pikaday.show();\r\n    }\r\n\r\n    hide() {\r\n        this._pikaday.hide();\r\n    }\r\n\r\n    clear() {\r\n        this._pikaday.clear();\r\n    }\r\n\r\n    update() {\r\n        this._pikaday.draw();\r\n    }\r\n\r\n    destroy() {\r\n        this._pikaday.destroy()\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Datepicker;","import { hideElement } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Dismiss extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            target: null,\r\n            remove: false,\r\n            delay: 0\r\n        };\r\n\r\n        const _component = {\r\n            name: 'dismiss',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n        \r\n        let timeout;\r\n        this._config.delay = parseInt(this._config.delay);\r\n\r\n        this._config.target = typeof this._config.target == 'string'\r\n            ? this._element.closest(this._config.target) \r\n            : this._config.target;\r\n        \r\n        this._target = this._config.target instanceof HTMLElement\r\n            ? this._config.target\r\n            : this._element.parentNode;\r\n\r\n        const eventData = { \r\n            target: this._target, \r\n            config: this._config\r\n        };\r\n\r\n        const removeTarget = () => {\r\n            if (this._config.remove) {\r\n                this._target.remove();\r\n            }\r\n        };\r\n\r\n        if (!this._element.hasAttribute('aria-label')) {\r\n            this._element.setAttribute('aria-label', 'Close');\r\n        }\r\n\r\n        this._close = () => {\r\n            this._dispatchEvent('hide', eventData);\r\n\r\n            const transitioned = this._transition('transitionLeave', this._target, (e) => {\r\n                this._dispatchEvent('hidden', eventData);\r\n                hideElement(this._target);\r\n                removeTarget();\r\n            });\r\n\r\n            if (transitioned) return;\r\n\r\n            hideElement(this._target);\r\n            removeTarget();\r\n            this._dispatchEvent('hidden', eventData);\r\n        };\r\n\r\n        const onClose = (e) => {\r\n            e.preventDefault();\r\n            this._close(e);\r\n        };\r\n\r\n        this._on(this._element, 'click', onClose);\r\n\r\n        if (this._config.delay != 0 && this._config.delay >= 3000) {           \r\n            clearTimeout(timeout); \r\n            setTimeout(() => {\r\n                this._close();\r\n            }, this._config.delay);\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    close() {\r\n        this._close();\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Dismiss;","import { styles, addClass, removeClass, getElements } from '../utils.js';\r\nimport Component from '../component.js';\r\nimport { computePosition, offset, flip, shift, limitShift, autoUpdate } from '@floating-ui/dom';\r\n\r\nclass Dropdown extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            target: null,\r\n            reference: null,\r\n            autoClose: true,\r\n            placement: 'bottom-start',\r\n            placementMobile: null,\r\n            autoPlacement: true,\r\n            offset: 8,\r\n            alignmentOffset: 0,\r\n            offsetMobile: null,\r\n            alignmentOffsetMobile: null,\r\n            shift: 8,\r\n            zindex: 1000,\r\n            close: 'data-close',\r\n            classes: {\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'dropdown',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n        \r\n        if (!this._element) return;\r\n\r\n        this._isOpened = false;\r\n\r\n        this._dropdown = this._config.target \r\n            ? document.querySelector(this._config.target) \r\n            : this._element.nextElementSibling;\r\n\r\n        this._reference = this._config.reference instanceof HTMLElement \r\n            ? this._config.reference \r\n            : document.querySelector(this._config.reference);\r\n\r\n        this._reference = this._reference \r\n            ? this._reference \r\n            : this._element;\r\n\r\n        this._config.placement = this._config.placementMobile && this._isMobile() \r\n            ? this._config.placementMobile \r\n            : this._config.placement;\r\n\r\n        this._config.offset = this._config.offsetMobile && this._isMobile() \r\n            ? this._config.offsetMobile \r\n            : this._config.offset;\r\n\r\n        this._config.alignmentOffset = this._config.alignmentOffsetMobile && this._isMobile() \r\n            ? this._config.alignmentOffsetMobile \r\n            : this._config.alignmentOffset;\r\n\r\n        const closeTriggers = getElements(`[${this._config.close}]`, this._dropdown);\r\n            \r\n        let autoUpdatePosition = () => void 0;\r\n\r\n        this._element.setAttribute('aria-expanded', this._isOpened);\r\n\r\n        const setPosition = () => {\r\n            computePosition(this._reference, this._dropdown, {\r\n                placement: this._config.placement,\r\n                middleware: [ \r\n                    offset({\r\n                        mainAxis: this._config.offset,\r\n                        crossAxis: this._config.alignmentOffset,\r\n                        alignmentAxis: null\r\n                    }),\r\n                    flip(),\r\n                    shift({ \r\n                        padding: this._config.shift,\r\n                        limiter: limitShift()\r\n                    })\r\n                ]\r\n            }).then(({ x, y, placement, middlewareData }) => {\r\n                const { offset, flip, shift, hide } = middlewareData;\r\n\r\n                Object.assign(this._dropdown.style, {\r\n                    left: `${x}px`,\r\n                    top: `${y}px`,\r\n                    zIndex: this._config.zindex\r\n                });\r\n            });\r\n        };\r\n\r\n        const updatePosition = () => { \r\n            return autoUpdate(this._reference, this._dropdown, setPosition);\r\n        };\r\n\r\n        const resetPositionStyles = () => {\r\n            styles(this._dropdown, {\r\n                top: null,\r\n                left: null,\r\n                zIndex: null\r\n            });\r\n        };\r\n\r\n        const eventData = {\r\n            dropdown: this._dropdown\r\n        };\r\n\r\n        const onClickToggle = (e) => {\r\n            e.preventDefault();\r\n            this.toggle();\r\n        };\r\n\r\n        const onClickHide = (e) => {\r\n            const clicked = e.target;\r\n\r\n            if (this._element.contains(clicked)) {\r\n                return;\r\n            }\r\n    \r\n            if ([true, 'inside'].includes(this._config.autoClose) && this._dropdown.contains(clicked) && this._isOpened) {\r\n                this.hide();\r\n    \r\n                return;\r\n            }\r\n    \r\n            if ([true, 'outside'].includes(this._config.autoClose) && !this._dropdown.contains(clicked) && this._isOpened) {\r\n                this.hide();\r\n    \r\n                return;\r\n            }\r\n        };\r\n    \r\n        const onKeydown = (e) => {\r\n            if (e.key === 'Escape' && this._config.autoClose != false && this._isOpened) {\r\n                this.hide();\r\n            }\r\n        };\r\n\r\n        this._show = () => {\r\n            autoUpdatePosition = updatePosition();\r\n            this._isOpened = true;\r\n            this._dispatchEvent('show', eventData);\r\n            this._element.setAttribute('aria-expanded', this._isOpened);\r\n            removeClass(this._dropdown, this._config.classes.display);\r\n\r\n            const transitioned = this._transition('transitionEnter', this._dropdown, (e) => {\r\n                this._dispatchEvent('shown', eventData);\r\n            });\r\n\r\n            if (transitioned) return;\r\n    \r\n            this._dispatchEvent('shown', eventData);\r\n        };\r\n\r\n        this._hide = () => {\r\n            this._isOpened = false;\r\n            this._dispatchEvent('hide', eventData);\r\n            this._element.setAttribute('aria-expanded', this._isOpened);\r\n\r\n            const transitioned = this._transition('transitionLeave', this._dropdown, (e) => {\r\n                this._isOpened = false;\r\n                this._dispatchEvent('hidden', eventData);\r\n                autoUpdatePosition();\r\n                resetPositionStyles();\r\n                addClass(this._dropdown, this._config.classes.display);\r\n            });\r\n\r\n            if (transitioned) return;\r\n    \r\n            addClass(this._dropdown, this._config.classes.display);\r\n            autoUpdatePosition();\r\n            resetPositionStyles();\r\n            this._dispatchEvent('hidden', eventData);\r\n        };\r\n\r\n        this._on(this._reference, 'click', onClickToggle);\r\n        this._on(this._reference, 'keydown', onKeydown);\r\n        this._on(document, 'click', onClickHide);\r\n\r\n        for (const close of closeTriggers) {\r\n            this._on(close, 'click', this._hide);\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    toggle() {\r\n        if (this._isOpened) {\r\n            this._hide();\r\n\r\n            return;\r\n        }\r\n\r\n        this._show();\r\n    }\r\n\r\n    show() {\r\n        this._show();\r\n    }\r\n\r\n    hide() {\r\n        this._hide();\r\n    }\r\n\r\n    destroy() {\r\n        this.hide();\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Dropdown;","import { getElement } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass DropzoneUploader extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            url: null,\r\n            method: 'post',\r\n            create: null,\r\n            template: null,\r\n            customTemplate: null,\r\n            autoProcessQueue: false,\r\n            maxFiles: null,\r\n            csrfToken: null,\r\n            headers: null,\r\n            previewsContainer: null,\r\n            resizeWidth: null,\r\n            resizeHeight: null,\r\n            clickable: true,\r\n            parallelUploads: 2,\r\n            disablePreviews: false,\r\n            maxFilesize: 256,\r\n            filesizeBase: 1000,\r\n            hiddenInputContainer: 'body'\r\n        };\r\n\r\n        const _component = {\r\n            name: 'dropzone',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element || !this._config.url) return;\r\n\r\n        this._config.create = this._config.create ? this._config.create : () => void 0;\r\n        this._config.url = this._config.url != null ? this._config.url : this._element.form.action;\r\n\r\n        this._config.previewsContainer = getElement(this._config.previewsContainer);\r\n\r\n        const getTemplate = () => {\r\n            return this._config.create[this._config.template](this._config);\r\n        };\r\n\r\n        if (this._config.csrfToken) {\r\n            this._config.headers = Object.assign(this._config.headers ?? {}, {\r\n                'X-CSRF-TOKEN': this._config.csrfToken\r\n            });\r\n        }\r\n\r\n        if (this._config.template) {\r\n            this._config.previewTemplate = getTemplate();\r\n        }\r\n\r\n        if (this._config.customTemplate) {\r\n            this._config.previewTemplate = this._config.customTemplate;\r\n        }\r\n\r\n        this._dropzone = new Dropzone(this._element, this._config);\r\n\r\n        // this._on(this._dropzone.hiddenFileInput, 'input', (e) => {\r\n\r\n        //     if (this._config.maxFiles == 1) {\r\n        //         this._dropzone.previewsContainer.innerHTML = '';\r\n        //     }\r\n\r\n        //     this._dispatchEvent('select', { target: e.target });\r\n        // });\r\n\r\n        this._dropzone.on('addedfile', (file) => {\r\n            // const queued = this._dropzone.getQueuedFiles();\r\n\r\n            // if (queued.length > 0 && this._config.maxFiles == 1) {\r\n            //     this._dropzone.removeFile(queued[0]);\r\n            // }\r\n\r\n            this._dispatchEvent('addedFile', { file });\r\n        });\r\n\r\n        // this._dropzone.on('addedfiles', (files) => {\r\n        //     console.log(files);\r\n        // });\r\n\r\n        this._dropzone.on('uploadprogress', (file, progress, bytesSent) => {\r\n            this._dispatchEvent('uploadProgress', { file, progress, bytesSent });\r\n        });\r\n\r\n        this._dropzone.on('totaluploadprogress', (totalUploadProgress, totalBytes, totalBytesSent) => {\r\n            this._dispatchEvent('totalUploadProgress', { totalUploadProgress, totalBytes, totalBytesSent });\r\n        });\r\n\r\n        this._dropzone.on('removedfile', (file) => this._dispatchEvent('removedFile', { file }));\r\n        this._dropzone.on('error', (file, message) => this._dispatchEvent('error', { file, message }));\r\n        this._dropzone.on('errormultiple', (files) => this._dispatchEvent('errorMultiple', { files }));\r\n        this._dropzone.on('sending', (file, xhr, formData) => this._dispatchEvent('sending', { file, xhr, formData }));\r\n        this._dropzone.on('sendingmultiple', (files) => this._dispatchEvent('sendingMultiple', { files }));\r\n        this._dropzone.on('processing', (file) => this._dispatchEvent('processing', { file }));\r\n        this._dropzone.on('processingmultiple', (files) => this._dispatchEvent('processingMultiple', { files }));\r\n        this._dropzone.on('complete', (file) => this._dispatchEvent('complete', { file }));\r\n        this._dropzone.on('completemultiple', (file) => this._dispatchEvent('completeMultiple', { file }));\r\n        this._dropzone.on('cancel', (file) => this._dispatchEvent('cancel', { file }));\r\n        this._dropzone.on('canceledmultiple', (file) => this._dispatchEvent('canceledMultiple', { file }));\r\n        this._dropzone.on('queuecomplete', () => this._dispatchEvent('queueComplete'));\r\n        this._dropzone.on('drop', () => this._dispatchEvent('drop'));\r\n        this._dropzone.on('dragstart', () => this._dispatchEvent('dragstart'));\r\n        this._dropzone.on('dragend', () => this._dispatchEvent('dragend'));\r\n        this._dropzone.on('dragenter', () => this._dispatchEvent('dragenter'));\r\n        this._dropzone.on('dragover', () => this._dispatchEvent('dragover'));\r\n        this._dropzone.on('dragleave', () => this._dispatchEvent('dragleave'));\r\n        this._dropzone.on('paste', () => this._dispatchEvent('paste'));\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    getQueuedFiles() {\r\n        return this._dropzone.getQueuedFiles();\r\n    }\r\n\r\n    getAcceptedFiles() {\r\n        return this._dropzone.getAcceptedFiles();\r\n    }\r\n\r\n    getRejectedFiles() {\r\n        return this._dropzone.getRejectedFiles();\r\n    }\r\n\r\n    /**\r\n     * Get queued or uploading files\r\n     */\r\n    getActiveFiles() {\r\n        return this._dropzone.getActiveFiles();\r\n    }\r\n\r\n    getAddedFiles() {\r\n        return this._dropzone.getAddedFiles();\r\n    }\r\n\r\n    getUploadingFiles() {\r\n        return this._dropzone.getUploadingFiles();\r\n    }\r\n\r\n    getFiles() {\r\n        return this._dropzone.files;\r\n    }\r\n\r\n    getFilesWithStatus(status) {\r\n        return this._dropzone.getFilesWithStatus(status);\r\n    }\r\n\r\n    addFile(mockFile, imageUrl, callback, crossOrigin, resizeThumbnail) {\r\n        if (imageUrl === undefined && mockFile.dataURL) {\r\n            imageUrl = mockFile.dataURL;\r\n        }\r\n\r\n        this._dropzone.displayExistingFile(mockFile, imageUrl, callback, crossOrigin, resizeThumbnail);\r\n    }\r\n\r\n    removeFile(file) {\r\n        this._dropzone.removeFile(file);\r\n    }\r\n\r\n    removeAllFiles(cancelUpload = false) {\r\n        this._dropzone.removeAllFiles(cancelUpload);\r\n    }\r\n    \r\n    destroy() {\r\n        this._dropzone.disable();\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default DropzoneUploader;","import { getElement } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Fetch extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            url: null,\r\n            method: 'get',\r\n            data: null,\r\n            delay: 1000,\r\n            csrfToken: null,\r\n            contentType: 'application/json',\r\n            value: 'value',\r\n            target: null\r\n        };\r\n\r\n        const _component = {\r\n            name: 'fetch',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element || !this._config.url) return;\r\n\r\n        this._config.target = getElement(this._config.target); \r\n        this._isLoading = false;\r\n        this._response = null;\r\n\r\n        this._fetch = async () => {\r\n            this._isLoading = true;\r\n            this._dispatchEvent('send');\r\n            const response = await fetch(this._config.url, {\r\n                method: this._config.method,\r\n                headers: {\r\n                    'Content-Type': this._config.contentType,\r\n                    'X-CSRF-TOKEN': this._config.csrfToken\r\n                },\r\n                body: this._config.data ? JSON.stringify(this._config.data) : null\r\n            }).catch((message) => {\r\n                this._debug(message);\r\n            }).finally(() => {\r\n                this._isLoading = false;\r\n            });\r\n\r\n            if (response.status != 200) {\r\n                this._dispatchEvent('fail', { message: response.statusText, response });\r\n            }\r\n\r\n            if (response.status == 200) {\r\n                this._dispatchEvent('success', { response });\r\n            }\r\n\r\n            this._response = response;\r\n        \r\n            return await response.json();\r\n        };\r\n\r\n        const onClick = (e) => {\r\n            if (this._isLoading) return;\r\n\r\n            this._fetch().then((data) => {\r\n                if (this._config.target instanceof HTMLElement && data[this._config.value]) {\r\n                    this._config.target.innerHTML = data[this._config.value];\r\n                }\r\n\r\n                this._dispatchEvent('done', { data, response: this._response });\r\n            });\r\n        };\r\n\r\n        if (this._element.type == 'button') {\r\n            this._on(this._element, 'click', onClick);\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Fetch;","import Component from '../component.js';\r\n\r\nclass Highlight extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {};\r\n\r\n        const _component = {\r\n            name: 'highlight',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config\r\n        };\r\n\r\n        super(_component);\r\n\r\n        // Prevent highlighting twice\r\n        if (this._element.classList.contains('hljs')) {\r\n            return;\r\n        }\r\n\r\n        // Store original code before highlighting \r\n        this._code = this._element.innerHTML;\r\n\r\n        hljs.highlightElement(this._element);\r\n    }\r\n\r\n    destroy() {\r\n        this._element.innerHTML = this._code;\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Highlight;\r\n","import { getElement } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Input extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            \r\n        };\r\n\r\n        const _component = {\r\n            name: 'input',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        const types = {};\r\n        const actions = {};\r\n\r\n        const guessType = () => {\r\n            if (['radio', 'checkbox', 'select-one'].includes(this._element.type)) {\r\n                return  {\r\n                    event: 'change',\r\n                    type: this._element.type\r\n                };\r\n            }\r\n\r\n            if (['input'].includes(this._element.localName)) {\r\n                return  {\r\n                    event: 'input',\r\n                    type: this._element.localName\r\n                };\r\n            }\r\n        };\r\n\r\n        actions['Enable'] = (selector) => {\r\n            const target = getElement(selector);\r\n            target.disabled = false;\r\n        };\r\n\r\n        actions['Disable'] = (selector) => {\r\n            const target = getElement(selector);\r\n            target.disabled = true;\r\n        };\r\n\r\n        types['select-one'] = (e) => {\r\n            const data = e.target.selectedOptions[0].dataset;\r\n\r\n            for (const key in data) {\r\n                const newKey = key.replace(this._component.name, '');\r\n\r\n                if (typeof actions[newKey] === 'function') {\r\n                    actions[newKey](data[key]);\r\n                }\r\n            }\r\n        };\r\n\r\n        this._on(this._element, guessType().event, types[guessType().type]);\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Input;","import Modal from './modal.js';\r\n\r\nclass Offcanvas extends Modal {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            target: null,\r\n            keyboard: true,\r\n            focus: false,\r\n            backdropFadeDuration: 200,\r\n            backdropClose: true,\r\n            hideBackdrop: false,\r\n            dialog: 'data-dialog',\r\n            content: 'data-content',\r\n            close: 'data-close',\r\n            backdrop: 'data-backdrop',\r\n            autoCloseDelay: 0,\r\n            history: false,\r\n            allowScroll: false,\r\n            zindex: 1045,\r\n            namespace: 'offcanvas',\r\n            classes: {\r\n                backdrop: null,\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        super(\r\n            element, \r\n            Object.assign(_defaults, config), \r\n            { \r\n                name: 'offcanvas'\r\n            }\r\n        );\r\n\r\n        // this._lockConfig({\r\n        //     autoCloseDelay: 0\r\n        // });\r\n    }\r\n}\r\n\r\nexport default Offcanvas;","import { getElement, getElements } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Password extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            letters: true,\r\n            mixed: false,\r\n            numbers: true,\r\n            symbols: true,\r\n            length: 8,\r\n            toggle: null,\r\n            progress: null,\r\n            confirm: null,\r\n            clearOnReset: true,\r\n            hint: 'data-password-hint'\r\n        };\r\n\r\n        const _component = {\r\n            name: 'password',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        this._totalScore = 1;\r\n        this._score = 0;\r\n        this._visible = false;\r\n        this._checked = [];\r\n        this._config.letters = this._config.mixed ? false : this._config.letters;\r\n        this._config.mixed = this._config.letters ? false : this._config.mixed;\r\n\r\n        this._config.toggle = typeof this._config.toggle === 'string' \r\n            ? getElement(this._config.toggle) \r\n            : this._config.toggle;\r\n\r\n        this._config.progress = typeof this._config.progress === 'string' \r\n            ? getElement(this._config.progress)\r\n            : this._config.progress;\r\n\r\n        this._config.confirm = typeof this._config.confirm === 'string' \r\n            ? getElement(this._config.confirm)\r\n            : this._config.confirm;\r\n\r\n        this._hints = getElements(`[${this._config.hint}]`);\r\n\r\n        const regex = {\r\n            letters: /(.*[a-zA-Z])/,\r\n            mixed: /([a-z].*[A-Z])|([A-Z].*[a-z])/,\r\n            numbers: /([0-9])/,\r\n            symbols: /([!,%,&,@,#,$,^,*,?,_,~])/ \r\n        };\r\n\r\n        for (const key in regex) {\r\n            if (this._config[key]) {\r\n                this._totalScore += 1;\r\n            }\r\n        }\r\n\r\n        if (this._config.progress instanceof HTMLElement) {\r\n            this._config.progress.style.width = `0%`;\r\n            this._config.progress.setAttribute('data-strength', 'weak');\r\n        }\r\n\r\n        if (this._config.toggle instanceof HTMLElement) {\r\n            this._config.toggle.setAttribute('aria-pressed', false);\r\n        }\r\n\r\n        if (this._config.confirm instanceof HTMLInputElement) {\r\n            this._element.setAttribute('data-match', false);\r\n            this._config.confirm.setAttribute('data-match', false);\r\n        }\r\n\r\n        const calculateStrength = () => {\r\n            if (this._element.value.length > (this._config.length - 1)) {\r\n                this._score += 1;\r\n                this._checked.push('length');\r\n            }\r\n\r\n            if (this._config.letters && this._element.value.match(regex.letters)) {\r\n                this._score += 1;\r\n                this._checked.push('letters');\r\n            }\r\n\r\n            if (this._config.mixed && this._element.value.match(regex.mixed)) {\r\n                this._score += 1;\r\n                this._checked.push('mixed');\r\n            }\r\n\r\n            if (this._config.numbers && this._element.value.match(regex.numbers)) {\r\n                this._score += 1;\r\n                this._checked.push('numbers');\r\n            }\r\n\r\n            if (this._config.symbols && this._element.value.match(regex.symbols)) {\r\n                this._score += 1;\r\n                this._checked.push('symbols');\r\n            }\r\n        };\r\n\r\n        const updateCheckedHint = () => {\r\n            if (this._hints.length === 0) return; \r\n\r\n            this._hints.forEach((hint) => {\r\n                if (this._checked.includes(hint.getAttribute(this._config.hint))) {\r\n                    hint.setAttribute('data-checked', true);\r\n                } else {\r\n                    hint.setAttribute('data-checked', false);\r\n                }\r\n            });\r\n        };\r\n\r\n        const onToggle = () => {\r\n            if (!this._config.toggle) return;\r\n\r\n            if(this._visible){\r\n                this._element.setAttribute('type', 'password');\r\n                this._config.toggle.setAttribute('aria-pressed', false);\r\n                this._visible = false;\r\n\r\n                return;\r\n            }\r\n                \r\n            this._element.setAttribute('type', 'text');\r\n            this._config.toggle.setAttribute('aria-pressed', true);\r\n            this._visible = true;\r\n        };\r\n\r\n        const onInput = () => {\r\n            this._score = 0;\r\n            this._checked = [];\r\n            calculateStrength();\r\n            const level = 100/3;\r\n            const multiplier = 100/this._totalScore;\r\n            const percentage = this._score * multiplier;\r\n\r\n            if (this._config.progress instanceof HTMLElement) {\r\n                this._config.progress.style.width = `${percentage}%`;\r\n\r\n                if (percentage > level * 2) {\r\n                    this._config.progress.setAttribute('data-strength', 'strong');\r\n                }\r\n                \r\n                if (percentage > level && percentage <= level * 2) {\r\n                    this._config.progress.setAttribute('data-strength', 'medium');\r\n                }\r\n                \r\n                if (percentage < level) {\r\n                    this._config.progress.setAttribute('data-strength', 'weak');\r\n                }\r\n            }\r\n\r\n            if (this._config.confirm instanceof HTMLInputElement) {\r\n                const match = this._element.value == this._config.confirm.value;\r\n                this._element.setAttribute('data-match', match);\r\n                this._config.confirm.setAttribute('data-match', match);\r\n            }\r\n\r\n            updateCheckedHint();\r\n        };\r\n\r\n        this._on(this._element, 'input', onInput);\r\n\r\n        if (this._config.toggle instanceof HTMLElement) {\r\n            this._on(this._config.toggle, 'click', onToggle);\r\n        }\r\n\r\n        if (this._config.confirm instanceof HTMLInputElement) {\r\n            this._on(this._config.confirm, 'input', () => {\r\n                const match = this._element.value == this._config.confirm.value;\r\n                this._element.setAttribute('data-match', match);\r\n                this._config.confirm.setAttribute('data-match', match);\r\n            });\r\n        }\r\n\r\n        if (this._config.clearOnReset) {           \r\n            if (this._element.form) {\r\n                this._on(this._element.form, 'reset', () => {\r\n                    this._element.value = '';\r\n                    onInput();\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Password;","import { setAttributes } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Pincode extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            target: 'input',\r\n            numeric: true,\r\n            type: 'number',\r\n            mask: true,\r\n            maskDelay: 500,\r\n            focus: true,\r\n            autoSubmit: false\r\n        };\r\n\r\n        const _component = {\r\n            name: 'pincode',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        const targets = this._element.querySelectorAll(this._config.target);\r\n        this._config.type = !this._config.numeric ? 'text' : this._config.type;\r\n        this._config.maskDelay = parseInt(this._config.maskDelay);\r\n        this._data = [];\r\n        this._total = targets.length;\r\n        this._filled = 0;\r\n        this._value = '';\r\n        this._index = 0;\r\n        this._form = this._element.closest('form');\r\n\r\n        targets.forEach((target, index) => {\r\n\r\n            // Set attributes\r\n            setAttributes(target, {\r\n                autocomplete: 'off',\r\n                ariaInvalid: false,\r\n                dataIndex: index,\r\n                required: target.required ? '' : ''\r\n            });\r\n\r\n            // Set input type if numeric\r\n            if (this._config.numeric && target.type !== this._config.type) {\r\n                target.type = this._config.type;\r\n            }\r\n\r\n            // Focus if input is first\r\n            if (this._config.focus && index === 0) {\r\n                target.focus();\r\n            }\r\n\r\n            // Enable editing only for first input on load\r\n            if (index !== 0) {\r\n                target.disabled = true;\r\n            }\r\n\r\n            this._data.push({\r\n                filled: false,\r\n                invalid: false,\r\n                input: target,\r\n                index: index,\r\n                value: target.value\r\n            });\r\n        });\r\n\r\n        const maskValue = (input) => {\r\n            if (!this._config.mask || !input) return;\r\n\r\n            setTimeout(() => {\r\n                input.type = input.value.length > 0 ? 'password' : this._config.type;\r\n            }, this._config.maskDelay);\r\n        };\r\n\r\n        const getValue = (input) => {\r\n            return input.value.slice(-1); \r\n        };\r\n\r\n        const combineValues = () => {\r\n            let value = '';\r\n\r\n            this._data.forEach((data) => {\r\n                value += data.value;\r\n            });\r\n\r\n            this._filled = this._data.filter((data) => data.filled).length;\r\n\r\n            this._value = value;\r\n        };\r\n\r\n        const setValue = (reverse = false) => {\r\n            const index = this._index;\r\n            const current = this._data[index].input;\r\n            const previous = this._total > index && index !== 0 \r\n                ? this._data[index - 1].input\r\n                : null;\r\n            const next = index < (this._total - 1) && current.value.length > 0 \r\n                ? this._data[index + 1].input\r\n                : null;\r\n\r\n            current.value = reverse ? '' : getValue(current);\r\n            this._data[index].filled = current.value.length > 0 ? true : false;\r\n            this._data[index].value = current.value;\r\n\r\n            if (reverse && previous) {\r\n                previous.value = '';\r\n                previous.focus();\r\n                this._data[index - 1].filled = false;\r\n                this._data[index - 1].value = previous.value;\r\n                current.disabled = true;\r\n            }\r\n            \r\n            if (!reverse && next) {\r\n                next.disabled = false;\r\n                next.focus();\r\n            }\r\n\r\n            maskValue(reverse ? previous : current);\r\n            combineValues();\r\n        };\r\n\r\n        const emitInputEvent = () => {\r\n            this._dispatchEvent('input', { \r\n                filled: this._total === this._filled,\r\n                value: this._value \r\n            });\r\n        };\r\n\r\n        const emitFilledEvent = () => {\r\n            if (this._total === this._filled) {\r\n                this._dispatchEvent('filled', { value: this._value });\r\n\r\n                if (this._config.autoSubmit && this._form) {\r\n                    const submitter = this._form.querySelector('[type=submit]');\r\n                    this._form.requestSubmit(submitter);\r\n                }\r\n            }\r\n        };\r\n\r\n        const onInput = (e) => {\r\n            setValue();\r\n            emitInputEvent();\r\n            emitFilledEvent();\r\n        };\r\n\r\n        const onFocus = (e) => {\r\n            this._index = parseInt(e.target.dataset.index);\r\n        };\r\n\r\n        const onBlur = (e) => {\r\n            //\r\n        };\r\n\r\n        const onKeyup = (e) => {\r\n            if (['Backspace', 'Delete'].includes(e.key)) {\r\n                setValue(true);\r\n            }\r\n        };\r\n\r\n        const onReset = (e) => {\r\n            this._index = 0;\r\n            this._filled = 0;\r\n            this._value = '';\r\n\r\n            this._data.forEach((data, index) => {\r\n                data.filled = false;\r\n                data.invalid = false;\r\n                data.value = '';\r\n\r\n                // Focus if input is first\r\n                if (this._config.focus && index === 0) {\r\n                    data.input.focus();\r\n                }\r\n            });\r\n        };\r\n\r\n        this._data.forEach((data) => {\r\n            this._on(data.input, 'input', onInput);\r\n            this._on(data.input, 'focus', onFocus);\r\n            this._on(data.input, 'blur', onBlur);\r\n            this._on(data.input, 'keyup', onKeyup);\r\n        });\r\n\r\n        if (this._form) {            \r\n            this._on(this._form, 'reset', onReset);\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Pincode;","import { randomNumber, addClass, removeClass, setAttributes } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Tab extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            tab: 'data-tab',\r\n            panel: 'data-panel',\r\n            selected: 'data-selected',\r\n            disabled: 'data-disabled',\r\n            classes: {\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'tab',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        this._data = [];\r\n        this._selectedIndex = 0;\r\n        const id = this._element.id !== '' ? this._element.id : 'tab-' + randomNumber(4);\r\n        const tabs = this._element.querySelectorAll(`[${this._config.tab}]`);\r\n        const panels = this._element.querySelectorAll(`[${this._config.panel}]`);\r\n        this._lastIndex = tabs.length > 0 ? tabs.length - 1 : 0; \r\n        this._totalTabs = tabs.length;\r\n\r\n        /**\r\n         * Data returned through events\r\n         * \r\n         * @param {number} index \r\n         * @returns \r\n         */\r\n        const eventData = (index) => {\r\n            return {\r\n                index: index,\r\n                total: this._totalTabs,\r\n                next: this._data[index].active.next,\r\n                previous: this._data[index].active.previous,\r\n                tab: this._data[index].tab,\r\n                panel: this._data[index].panel\r\n            };\r\n        };\r\n\r\n        /**\r\n         * Get a tab panel by name \r\n         * \r\n         * @param {string} name \r\n         * @returns {null|object}\r\n         */\r\n        const getPanel = (name) => {\r\n            let result = null;\r\n\r\n            for (const panel of panels) {\r\n                if (panel.getAttribute(this._config.panel) == name) {\r\n                    result = panel;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return result;\r\n        };\r\n\r\n        /**\r\n         * Remove disabled tabs\r\n         * \r\n         * @returns {array}\r\n         */\r\n        const filter = () => {\r\n            return this._data.map((data) => {\r\n                if (data.disabled) {\r\n                    return;\r\n                }\r\n\r\n                return data.current;\r\n            }).filter(data => data !== undefined);\r\n        };\r\n\r\n        /**\r\n         * Get the next tab index\r\n         * \r\n         * @param {number} index\r\n         * @returns {number}\r\n         */\r\n        this._next = (index = null) => {\r\n            const filtered = filter();\r\n            index = index ? index : this._selectedIndex;\r\n\r\n            if (filtered.includes(index)) {\r\n                return index < (filtered.length - 1) \r\n                    ? filtered[filtered.indexOf(index) + 1] \r\n                    : 0;\r\n            }\r\n\r\n            return index;\r\n        };\r\n    \r\n        /**\r\n         * Get the previous tab index\r\n         * \r\n         * @param {number} index\r\n         * @returns {number}\r\n         */\r\n        this._previous = (index = null) => {\r\n            const filtered = filter();\r\n            index = index ? index : this._selectedIndex;\r\n\r\n            if (filtered.includes(index)) {\r\n                return index > 0\r\n                    ? filtered[filtered.indexOf(index) - 1] \r\n                    : filtered[filtered.length - 1];\r\n            }\r\n\r\n            return index;\r\n        };\r\n\r\n        /**\r\n         * hide all tabs \r\n         */\r\n        const hideAll = () => {\r\n            this._data.forEach((data, index) => {\r\n                const previous = data.selected ? data.current : null;\r\n\r\n                if (previous !== null) {\r\n                    this._dispatchEvent('hide', eventData(index));\r\n                }\r\n                \r\n                addClass(data.panel, this._config.classes.display);\r\n\r\n                data.selected = false;\r\n                setAttributes(data.tab, {\r\n                    tabindex: -1,\r\n                    ariaSelected: false\r\n                });\r\n\r\n                if (previous !== null) {\r\n                    this._dispatchEvent('hidden', eventData(index));\r\n                }\r\n            });\r\n        };\r\n\r\n        /**\r\n         * Show a tab \r\n         * \r\n         * @param {number} index \r\n         * @param {boolean} focus\r\n         */\r\n        this._show = (index, focus = false) => {\r\n            const data = this._data[index];\r\n            \r\n            if (!data || data.disabled) {\r\n                return;\r\n            }\r\n\r\n            hideAll();\r\n\r\n            this._dispatchEvent('show', eventData(index));\r\n\r\n            data.selected = true;\r\n            this._selectedIndex = index;\r\n            setAttributes(data.tab, {\r\n                tabindex: 0,\r\n                ariaSelected: true\r\n            });\r\n\r\n            if (focus) {\r\n                data.tab.focus();\r\n            }\r\n\r\n            removeClass(data.panel, this._config.classes.display);\r\n\r\n            const transitioned = this._transition('transitionEnter', data.panel, data.onTransitionEnterEnd);\r\n\r\n            if (transitioned) return;\r\n\r\n            this._dispatchEvent('shown', eventData(index));\r\n        };\r\n\r\n        /**\r\n         * Disable a single tab or all tabs\r\n         * \r\n         * @param {number} index \r\n         */\r\n        this._disable = (index) => {\r\n            const disable = (data) => {\r\n                setAttributes(data.tab, {\r\n                    tabindex: -1,\r\n                    ariaDisabled: true\r\n                });\r\n\r\n                if (data.tab.disabled !== undefined) {\r\n                    data.tab.disabled = true;\r\n                }\r\n            };\r\n\r\n            if (index != undefined) {\r\n                disable(this._data[index]);\r\n                this._data[index].disabled = true;\r\n            } else {\r\n                this._data.forEach((data) => {\r\n                    disable(data);\r\n                    data.disabled = true;\r\n                });\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Enable a single tab or all tabs\r\n         * \r\n         * @param {number} index \r\n         */\r\n        this._enable = (index) => {\r\n            const enable = (data) => {\r\n                setAttributes(data.tab, {\r\n                    tabindex: 0,\r\n                    ariaDisabled: false\r\n                });\r\n\r\n                if (data.tab.disabled !== undefined) {\r\n                    data.tab.disabled = false;\r\n                }\r\n            };\r\n\r\n            if (index != undefined) {\r\n                enable(this._data[index]);\r\n                this._data[index].disabled = false;\r\n            } else {\r\n                this._data.forEach((data) => {\r\n                    enable(data);\r\n                    data.disabled = false;\r\n                });\r\n            }\r\n        };\r\n\r\n        // Set tablist element attributes\r\n        setAttributes(this._element, {\r\n            role: 'tablist',\r\n            id: id\r\n        });\r\n\r\n        // Set attributes and states for tabs and panels\r\n        tabs.forEach((tab, index) => {\r\n            const panelSuffix = '-pane';\r\n            const name = tab.getAttribute(this._config.tab) == '' \r\n                ?   `${id}-${index}` \r\n                : tab.getAttribute(this._config.tab);\r\n\r\n            setAttributes(tab, {\r\n                role: 'tab',\r\n                id: name,\r\n                tabindex: -1,\r\n                ariaControls: name + panelSuffix,\r\n                ariaSelected: tab.hasAttribute(this._config.selected) ? true : false,\r\n                ariaDisabled: tab.hasAttribute(this._config.disabled) ? true : false,\r\n                dataIndex: index\r\n            });\r\n\r\n            if (tab.disabled === true && !tab.hasAttribute(this._config.disabled)) {\r\n                setAttributes(tab, {\r\n                    ariaDisabled: tab.disabled\r\n                });\r\n            }\r\n\r\n            if (tab.disabled === false && tab.hasAttribute(this._config.disabled)) {\r\n                tab.disabled = true;\r\n            }\r\n\r\n            if (tab.getAttribute('aria-selected') == 'true') {\r\n                this._selectedIndex = index;\r\n            }\r\n\r\n            let panel = getPanel(name);\r\n            panel = panel ? panel : panels[index];\r\n\r\n            setAttributes(panel, {\r\n                role: 'tabpanel',\r\n                id: name + panelSuffix,\r\n                tabindex: 0,\r\n                ariaLabelledby: name,\r\n                dataIndex: index\r\n            });\r\n\r\n            this._data.push({\r\n                current: index,\r\n                previous: index > 0 ? index - 1 : tabs.length - 1,\r\n                next: index < (tabs.length - 1) ? index + 1 : 0,\r\n                disabled: tab.getAttribute('aria-disabled') == 'true' ? true : false,\r\n                tab: tab,\r\n                panel: panel,\r\n                onClick: (e) => {\r\n                    e.preventDefault();\r\n                    this._show(index);\r\n                },\r\n                onTransitionEnterEnd: (e) => {\r\n                    this._dispatchEvent('shown', eventData(index));\r\n                },\r\n                onKeydown: (e) => {\r\n                    if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {\r\n                        e.preventDefault();\r\n                        this._show(this._next(), true);\r\n                    }\r\n            \r\n                    if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {\r\n                        e.preventDefault();\r\n                        this._show(this._previous(), true);\r\n                    }\r\n\r\n                    if (e.key === 'Home') {\r\n                        e.preventDefault();\r\n                        this._show(0, true);\r\n                    }\r\n\r\n                    if (e.key === 'End') {\r\n                        e.preventDefault();\r\n                        this._show(this._lastIndex, true);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        // After the data object is created, do the following\r\n        tabs.forEach((tab, index) => {\r\n            this._data[index]['selected'] = this._selectedIndex == index ? true : false;  \r\n            this._data[index]['active'] = {\r\n                next: !this._data[index]['disabled'] ? this._next(index) : -1,\r\n                previous: !this._data[index]['disabled'] ? this._previous(index) : -1\r\n            };\r\n        });\r\n\r\n        // Add events\r\n        this._data.forEach((data) => {\r\n            this._on(data.tab, 'click', data.onClick);\r\n            this._on(data.tab, 'keydown', data.onKeydown);\r\n        });\r\n\r\n        // Select default tab \r\n        this._show(this._selectedIndex);\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    show(index = 0) {\r\n        this._show(parseInt(index));\r\n    }\r\n\r\n    first() {\r\n        this._show(0);\r\n    }\r\n\r\n    last() {\r\n        this._show(this._lastIndex);\r\n    }\r\n\r\n    next() {\r\n        this._show(this._next());\r\n    }\r\n\r\n    previous() {\r\n        this._show(this._previous());\r\n    }\r\n\r\n    enable(index) {\r\n        this._enable(index);\r\n    }\r\n\r\n    disable(index) {\r\n        this._disable(index);\r\n    }\r\n\r\n    destroy() {\r\n        this._data = [];\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Tab;","import { addClass, removeClass } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Theme extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            theme: 'system',\r\n            target: document.documentElement,\r\n            optionAttribute: 'color-theme',\r\n            attribute: 'data-theme',\r\n            class: 'dark',\r\n            storage: 'theme'\r\n        };\r\n\r\n        const _component = {\r\n            name: 'theme',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config\r\n        };\r\n\r\n        super(_component);\r\n\r\n        this._theme = this._config.theme;\r\n        this._target = this._config.target instanceof HTMLElement ? this._config.target : document.querySelector(this._config.target);\r\n\r\n        this._updateTheme = () => { \r\n            this._target.setAttribute(this._config.optionAttribute, this._theme);\r\n\r\n            if (this._theme != 'system') {\r\n                if (this._theme == 'dark') {\r\n                    addClass(this._target, this._config.class);\r\n                } else {\r\n                    removeClass(this._target, this._config.class);\r\n                }\r\n\r\n                localStorage.setItem(this._config.storage, this._theme);\r\n                this._target.setAttribute(this._config.attribute, this._theme);\r\n                this._dispatchEvent('change', { theme: this._theme }, document);\r\n\r\n                return;\r\n            }\r\n\r\n            if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\r\n                addClass(this._target, this._config.class);\r\n                this._target.setAttribute(this._config.attribute, 'dark');\r\n            } else {\r\n                removeClass(this._target, this._config.class);\r\n                this._target.setAttribute(this._config.attribute, 'light');\r\n            }\r\n\r\n            localStorage.removeItem(this._config.storage);\r\n            this._dispatchEvent('change', { theme: this._theme }, document);\r\n        };\r\n\r\n        this._onClickChangeTheme = (e) => {\r\n            e.preventDefault();\r\n            this._updateTheme();\r\n            this._dispatchEvent('broadcast', { theme: this._theme }, document);\r\n        };\r\n\r\n        if (this._element) {   \r\n            this._on(this._element, 'click', this._onClickChangeTheme);\r\n        }\r\n    }\r\n\r\n    theme(theme) {\r\n        this._theme = theme || this._theme;\r\n        this._updateTheme();\r\n    }\r\n\r\n    destroy() {\r\n        this._target.removeAttribute(this._config.optionAttribute);\r\n        this._target.removeAttribute(this._config.attribute);\r\n        removeClass(this._target, this._config.class);\r\n        localStorage.removeItem(this._config.storage);\r\n        super.destroy();\r\n\r\n        if (this._element) {   \r\n            this._off(this._element, 'click', this._onClickChangeTheme);\r\n        }\r\n    }\r\n}\r\n\r\nexport default Theme;","import { isNumber, styles, addClass, setAttributes, showElement, hideElement, getElement } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Toast extends Component {\r\n    constructor(config) {\r\n\r\n        const _defaults = {\r\n            placement: 'bottom-start',\r\n            offset: ['24', '24'],\r\n            gap: 16,\r\n            delay: 5000,\r\n            stack: false,\r\n            create: null,\r\n            template: null,\r\n            container: null,\r\n            id: null,\r\n            zindex: 1090,\r\n            dismiss: 'data-dismiss',\r\n            classes: {\r\n                wrapper: null,\r\n                placement: null\r\n            },\r\n            onAction: null,\r\n            onClose: null\r\n        };\r\n\r\n        const _component = {\r\n            name: 'toast',\r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        this._config.create = this._config.create ? this._config.create : () => void 0;\r\n        this._container = getElement(this._config.container) || document.body;\r\n        this._config.zindex = parseInt(this._config.zindex) || 0;\r\n        this._config.delay = parseInt(this._config.delay);\r\n        this.isVisible = false;\r\n        let timeout;\r\n\r\n        this._config.offset = isNumber(this._config.offset)\r\n            ? [this._config.offset, this._config.offset]\r\n            : this._config.offset;\r\n\r\n        this._config.offset = typeof this._config.offset == 'string'\r\n            ? this._config.offset.split(' ')\r\n            : this._config.offset;\r\n\r\n        this._config.gap = parseInt(this._config.gap) || 16;\r\n        const stackingPosition = this._config.placement.includes('top') ? 'afterbegin' : 'beforeend';\r\n\r\n        const getTemplate = () => {\r\n            return this._config.create[this._config.template](this._config);\r\n        };\r\n\r\n        this._hide = () => {\r\n            clearTimeout(timeout);\r\n\r\n            const hide = () => {\r\n                hideElement(this._toast);\r\n                this._toast.remove();\r\n                this.isVisible = false;\r\n\r\n                if (this._placementGroup.childNodes.length == 0) {\r\n                    this._placementGroup.remove();\r\n                }\r\n\r\n                if (typeof this._config.onClose === 'function') {\r\n                    this._config.onClose()\r\n                }\r\n\r\n                this._removeEvent();\r\n            };\r\n            \r\n            const transitioned = this._transition('transitionLeave', this._toast, (e) => {\r\n                hide();\r\n            });\r\n\r\n            if (transitioned) return;\r\n\r\n            hide();\r\n        };\r\n\r\n        const show = () => {\r\n            if (!this._config.template) return;\r\n\r\n            this._placementGroup = this._container.querySelector(`[data-toast-group][data-placement=${this._config.placement}]`);\r\n\r\n            if (!this._placementGroup) {\r\n                const alignment = this._config.placement.split('-');\r\n\r\n                this._placementGroup = document.createElement('div');\r\n                setAttributes(this._placementGroup, {\r\n                    'data-toast-group': '',\r\n                    'data-placement': this._config.placement,\r\n                    'data-position': alignment[0],\r\n                    'data-align': alignment[1] || 'center'\r\n                });\r\n                styles(this._placementGroup, {\r\n                    position: `fixed`,\r\n                    visibility: 'hidden',\r\n                    inset: '0px',\r\n                    zIndex: this._config.zindex\r\n                });\r\n                addClass(this._placementGroup, this._config.classes.placement);\r\n\r\n                this._container.appendChild(this._placementGroup);\r\n            }\r\n            \r\n            if (!this.isVisible) {    \r\n                // Create toast           \r\n                this._toast = document.createElement('div');\r\n                this._toast.innerHTML = getTemplate(this._config);\r\n                this._toast.style.visibility = 'visible';\r\n\r\n                if (this._config.id) {\r\n                   this._toast.id = this._config.id; \r\n                }\r\n\r\n                hideElement(this._toast);\r\n                addClass(this._toast, this._config.classes.wrapper);\r\n                setAttributes(this._toast, {\r\n                    role: 'alert'\r\n                });\r\n\r\n                const dismissTriggers = this._toast.querySelectorAll(`[${this._config.dismiss}]`);\r\n                const actionTriggers = this._toast.querySelectorAll(`button:not([${this._config.dismiss}])`);\r\n                \r\n                dismissTriggers.forEach((trigger) => {\r\n                    if (!trigger.hasAttribute('aria-label')) {\r\n                        trigger.setAttribute('aria-label', 'Close');\r\n                    }\r\n\r\n                    this._on(trigger, 'click', this._hide);\r\n                });\r\n    \r\n                actionTriggers.forEach((trigger) => {\r\n                    this._on(trigger, 'click', () => {\r\n                        if (typeof this._config.onAction === 'function') {\r\n                            this._config.onAction(trigger)\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n\r\n            if (!this._config.stack) {\r\n                this._placementGroup.innerHTML = '';\r\n            }\r\n\r\n            this._placementGroup.insertAdjacentElement(stackingPosition, this._toast);\r\n            showElement(this._toast);\r\n            this.isVisible = true;\r\n\r\n            const transitioned = this._transition('transitionEnter', this._toast);\r\n\r\n            if (this._config.delay >= 3000) {                \r\n                timeout = setTimeout(this._hide, this._config.delay);\r\n            }\r\n            \r\n            if (transitioned) return;\r\n        };\r\n\r\n        show();\r\n    }\r\n\r\n    hide() {\r\n        this._hide();\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Toast;","import { addClass, removeClass, setAttributes } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Toggle extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            addClass: null,\r\n            removeClass: null,\r\n            target: null\r\n        };\r\n\r\n        const _component = {\r\n            name: 'toggle',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config\r\n        };\r\n\r\n        super(_component);\r\n        \r\n        if (!this._element) return;\r\n\r\n        this._config.create = typeof this._config.create == 'string'\r\n            ? this._config.create.split(' ')\r\n            : this._config.create;\r\n\r\n        const toggles = this._createConfig(this._config.create, [\r\n            'addClass', \r\n            'removeClass', \r\n            'target'\r\n        ]);\r\n\r\n        this._toggled = false;\r\n        setAttributes(this._element, {\r\n            ariaPressed: this._toggled,\r\n            role: 'button'\r\n        });\r\n\r\n        const toggleState = (options) => {\r\n            options.targets.forEach((target) => {\r\n                const eventName = parseFloat(window.getComputedStyle(target).animationDuration) > 0\r\n                    ? 'animationend'\r\n                    : parseFloat(window.getComputedStyle(target).transitionDuration) > 0\r\n                        ? 'transitionend'\r\n                        : null;\r\n\r\n                this._dispatchEvent('toggle', { toggled: this._toggled, config: this._config }, target);\r\n\r\n                if (target.dataset.toggled == 'true') {\r\n                    this._toggled = false;\r\n                    this._element.setAttribute('aria-pressed', this._toggled);\r\n                    target.setAttribute('data-toggled', false);\r\n                    addClass(target, options.removeClass);\r\n                    removeClass(target, options.addClass);\r\n                } else {\r\n                    this._toggled = true;\r\n                    this._element.setAttribute('aria-pressed', this._toggled);\r\n                    target.setAttribute('data-toggled', true);\r\n                    removeClass(target, options.removeClass);\r\n                    addClass(target, options.addClass);\r\n                }\r\n\r\n                if (eventName) {  \r\n                    this._one(target, eventName, () => {\r\n                        this._dispatchEvent('toggled', { toggled: this._toggled, config: this._config }, target);\r\n                    });\r\n\r\n                    return;\r\n                }\r\n\r\n                this._dispatchEvent('toggled', { toggled: this._toggled, config: this._config }, target);\r\n            });    \r\n        };\r\n        \r\n        this._toggle = () => {\r\n            for (const key in toggles) {\r\n                const options = {\r\n                    addClass: this._config[toggles[key]['addClass']],\r\n                    removeClass: this._config[toggles[key]['removeClass']],\r\n                    targets: this._config[toggles[key]['target']] \r\n                        ? document.querySelectorAll(this._config[toggles[key]['target']])\r\n                        : [ this._element ]\r\n                };\r\n                \r\n                toggleState(options);\r\n            }           \r\n        };\r\n\r\n        const toggle = (e) => {\r\n            e.preventDefault();\r\n            this._toggle();\r\n        };\r\n\r\n        this._on(this._element, 'click', toggle);\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    toggle() {\r\n        this._toggle();\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Toggle;","import { randomNumber, removeClass, showElement, hideElement } from '../utils.js';\r\nimport Component from '../component.js';\r\nimport { computePosition, offset, inline, flip, shift, limitShift, arrow, autoUpdate } from '@floating-ui/dom';\r\n\r\nclass Tooltip extends Component {\r\n    constructor(element, config) {\r\n        \r\n        const _defaults = {\r\n            target: null,\r\n            content: '',\r\n            placement: 'top',\r\n            container: null,\r\n            offset: 8,\r\n            shift: 8,\r\n            showDelay: 0,\r\n            hideDelay: 0,\r\n            trigger: ['hover', 'focus'],\r\n            arrow: true,\r\n            arrowPadding: 8,\r\n            html: false,\r\n            zindex: 1080,\r\n            classes: {\r\n                wrapper: null,\r\n                arrow: null,\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'tooltip',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        this._config.target = typeof this._config.target == 'string'\r\n            ? document.querySelector(this._config.target)\r\n            : null;\r\n\r\n        this._config.container = typeof this._config.container == 'string'\r\n            ? document.querySelector(this._config.container)\r\n            : this._config.container instanceof HTMLElement\r\n            ? this._config.container\r\n            : document.body;\r\n\r\n        this._config.trigger = typeof this._config.trigger == 'string' \r\n            ? this._config.trigger.split(' ') \r\n            : this._config.trigger instanceof Array \r\n            ? this._config.trigger \r\n            : [];\r\n\r\n        this._config.showDelay = parseInt(this._config.showDelay);\r\n        this._config.hideDelay = parseInt(this._config.hideDelay);\r\n        this._content = this._config.content; \r\n        this._contentType = 'innerText';\r\n        this._isShown = false;\r\n        const _id = 'tooltip-' + randomNumber(4);\r\n        let tooltip, tooltipContent, tooltipArrow;\r\n\r\n        if (this._element.hasAttribute('title')) {\r\n            this._content = this._element.title;\r\n            this._element.setAttribute('data-tooltip-original-title', this._element.title);\r\n            this._element.removeAttribute('title');\r\n        }\r\n\r\n        if (this._element.hasAttribute('aria-label') && !this._element.hasAttribute('title')) {\r\n            this._content = this._element.getAttribute('aria-label');\r\n        }\r\n        \r\n        // Create tooltip\r\n        if (this._config.target) {\r\n            tooltip = this._config.target;\r\n\r\n            tooltip.setAttribute('id', tooltip.hasAttribute('id') ? tooltip.id : _id);\r\n            tooltip.style.display = 'none';\r\n            tooltip.style.zIndex = this._config.zindex;\r\n            removeClass(tooltip, this._config.classes.display);\r\n\r\n            tooltipContent = tooltip.querySelector('[data-content]');\r\n            tooltipArrow = tooltip.querySelector('[data-arrow]');\r\n\r\n            if (!this._config.arrow && tooltipArrow) {\r\n                tooltipArrow.style.display = 'none';\r\n            }\r\n\r\n            this._content = tooltipContent?.innerHTML || this._content; \r\n            this._contentType = 'innerHTML';\r\n            tooltip.remove();\r\n        } else {\r\n            const type = this._config.html ? 'innerHTML' : 'innerText'\r\n            this._contentType = type;\r\n            tooltip = document.createElement('div');\r\n            tooltip.id = _id;\r\n            tooltip.style.display = 'none';\r\n            tooltip.style.position = 'absolute';\r\n            tooltip.style.top = 0;\r\n            tooltip.style.left = 0;\r\n            tooltip.style.zIndex = this._config.zindex;\r\n            tooltip.className = this._config.classes.wrapper ? this._config.classes.wrapper : '';\r\n            tooltip.setAttribute('role', 'tooltip');\r\n\r\n            tooltipContent = document.createElement('div');\r\n            tooltipContent[type] = this._content;\r\n            tooltipContent.setAttribute('data-content', '');\r\n            tooltip.appendChild(tooltipContent);\r\n\r\n            if (this._config.arrow) {\r\n                tooltipArrow = document.createElement('div');\r\n                tooltipArrow.style.position = 'absolute';\r\n                tooltipArrow.style.transform = 'rotate(45deg)';\r\n                tooltipArrow.style.backgroundColor = 'inherit';\r\n                tooltipArrow.style.width = '8px';\r\n                tooltipArrow.style.height = '8px';\r\n                tooltipArrow.style.zIndex = '-1';\r\n                tooltipArrow.className = this._config.classes.arrow ? this._config.classes.arrow : '';\r\n                tooltipArrow.setAttribute('data-arrow', '');\r\n                tooltip.appendChild(tooltipArrow);\r\n            }\r\n        }\r\n\r\n        if (this._content.length == 0) return;\r\n\r\n        this._tooltip = tooltip;\r\n        this._tooltipContent = tooltipContent;\r\n        this._tooltipArrow = this._config.arrow ? tooltipArrow : null;\r\n\r\n        this._element.setAttribute('aria-describedby', _id);\r\n\r\n        let autoUpdatePosition = () => void 0;\r\n\r\n        const setPosition = () => {\r\n            computePosition(this._element, this._tooltip, {\r\n                placement: this._config.placement,\r\n                middleware: [ \r\n                    offset(this._config.offset),\r\n                    inline(),\r\n                    flip(),\r\n                    shift({ \r\n                        padding: this._config.shift,\r\n                        limiter: limitShift()\r\n                    }),\r\n                    arrow({ \r\n                        element: this._tooltipArrow,\r\n                        padding: this._config.arrowPadding\r\n                    })\r\n                ]\r\n            }).then(({ x, y, placement, middlewareData }) => {\r\n                const { offset, flip, shift, arrow } = middlewareData;\r\n\r\n                Object.assign(this._tooltip.style, {\r\n                    left: `${x}px`,\r\n                    top: `${y}px`,\r\n                });\r\n\r\n                const staticSide = {\r\n                    top: 'bottom',\r\n                    right: 'left',\r\n                    bottom: 'top',\r\n                    left: 'right',\r\n                }[placement.split('-')[0]];\r\n\r\n                if (this._tooltipArrow) {                    \r\n                    Object.assign(this._tooltipArrow.style, {\r\n                        left: arrow.x != null ? `${arrow.x}px` : '',\r\n                        top: arrow.y != null ? `${arrow.y}px` : '',\r\n                        right: '',\r\n                        bottom: '',\r\n                        [staticSide]: `${-this._tooltipArrow.offsetHeight / 2}px`,\r\n                    });\r\n                }\r\n            });\r\n        };\r\n\r\n        const updatePosition = () => { \r\n            return autoUpdate(this._element, this._tooltip, setPosition);\r\n        };\r\n\r\n        this._show = () => {\r\n            this._setTimeout(() => {\r\n                this._dispatchEvent('show');\r\n\r\n                if (!this._config.container.contains(this._tooltip)) {\r\n                    this._config.container.appendChild(this._tooltip);\r\n                }\r\n\r\n                autoUpdatePosition = updatePosition();\r\n                showElement(this._tooltip);\r\n                this._isShown = true;\r\n\r\n                const transitioned = this._transition('transitionEnter', this._tooltip, (e) => {\r\n                    this._dispatchEvent('shown');\r\n                });\r\n\r\n                if (transitioned) {\r\n                    return;\r\n                }\r\n    \r\n                showElement(this._tooltip);\r\n                this._dispatchEvent('shown');\r\n\r\n            }, this._config.showDelay);\r\n        };\r\n\r\n        this._hide = () => {\r\n            if (!this._isShown) {\r\n                clearTimeout(this._timeout);\r\n\r\n                return;\r\n            }\r\n            \r\n            this._setTimeout(() => {\r\n                this._dispatchEvent('hide');\r\n\r\n                const transitioned = this._transition('transitionLeave', this._tooltip, (e) => {\r\n                    this._dispatchEvent('hidden');\r\n                    autoUpdatePosition();\r\n                    hideElement(this._tooltip);\r\n                    this._isShown = false;\r\n                    this._tooltip.remove();\r\n                });\r\n\r\n                if (transitioned) {\r\n                    return;\r\n                }\r\n    \r\n                hideElement(this._tooltip);\r\n                this._isShown = false;\r\n                this._tooltip.remove();\r\n                this._dispatchEvent('hidden');\r\n\r\n            }, this._config.hideDelay);\r\n        };\r\n\r\n        this._toggle = (e) => {\r\n            if (this._isShown) {\r\n                this._hide();\r\n\r\n                return;\r\n            }\r\n\r\n            this._show();\r\n        }\r\n\r\n        const onKeydown = (e) => {\r\n            if (e.key === 'Escape' && this._isShown) {\r\n                this._hide();\r\n            }\r\n        };\r\n\r\n        const onHoverDestroy = (e) => {\r\n            this.destroy();\r\n        };\r\n\r\n        for (let i = 0; i < this._config.trigger.length; i++) {\r\n            if (!['click', 'focus', 'hover', 'once'].includes(this._config.trigger[i])) {\r\n                break;\r\n            }\r\n\r\n            if (this._config.trigger[i] == 'click') {\r\n                this._on(this._element, 'click', this._toggle);\r\n            }\r\n\r\n            if (this._config.trigger[i] == 'hover') {                \r\n                this._on(this._element, 'mouseenter', this._show);\r\n                this._on(this._element, 'mouseleave', this._hide);\r\n            }\r\n\r\n            if (this._config.trigger[i] == 'focus') {\r\n                this._on(this._element, 'focusin', this._show);\r\n                this._on(this._element, 'focusout', this._hide);\r\n            }\r\n\r\n            if (i == 0 && this._config.trigger[i] == 'once') {                \r\n                this._on(this._element, 'mouseenter', onHoverDestroy);\r\n                this._on(this._element, 'focusin', onHoverDestroy);\r\n            }\r\n        }\r\n\r\n        this._on(document, 'keydown', onKeydown);\r\n\r\n        this._dispatchEvent('initialize');\r\n\r\n        if (this._config.trigger.length == 1 && this._config.trigger[0] == 'once') {                \r\n            this.show();\r\n        }\r\n    }\r\n\r\n    toggle() {\r\n        this._toggle();\r\n    }\r\n\r\n    show() {\r\n        this._show();\r\n    }\r\n\r\n    hide() {\r\n        this._hide();\r\n    }\r\n\r\n    content(content) {\r\n        content = content || '';\r\n        this._tooltipContent[this._contentType] = content;\r\n    }\r\n\r\n    reset() {\r\n        this._tooltipContent[this._contentType] = this._content;\r\n    }\r\n\r\n    destroy() {\r\n        this._hide();\r\n\r\n        if (this._element.hasAttribute('data-tooltip-original-title')) {\r\n            this._element.setAttribute('title', this._content);\r\n            this._element.removeAttribute('data-tooltip-original-title');\r\n        }\r\n\r\n        this._element.removeAttribute('aria-describedby');\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Tooltip;","import Component from '../component.js';\r\n\r\nclass Scroll extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            trigger: 'auto',\r\n            target: null,\r\n            container: null\r\n        };\r\n\r\n        const _component = {\r\n            name: 'scroll',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config\r\n        };\r\n\r\n        super(_component);\r\n\r\n        const handler = {};\r\n        const container = this._config.container ? document.querySelector(this._config.container) : this._element;\r\n        const target = container.querySelector(this._config.target);\r\n\r\n        handler['auto'] = () => {\r\n            if (target) {\r\n                const middle = container.offsetHeight / 2;\r\n                container.scrollTop = target.offsetTop - middle;\r\n            }\r\n        };\r\n\r\n        handler[this._config.trigger]();\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Scroll;","import Component from '../component.js';\r\n\r\nclass Scrollspy extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            type: 'navigation',\r\n            root: document,\r\n            rootMargin: '0px',\r\n            threshold: 0,\r\n            offset: 0,\r\n            trigger: null,\r\n            target: null\r\n        };\r\n\r\n        const _component = {\r\n            name: 'scrollspy',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config\r\n        };\r\n\r\n        super(_component);\r\n\r\n        this._triggers = document.querySelectorAll(this._config.trigger);\r\n        this._targets = document.querySelectorAll(this._config.target);\r\n        this._activeNav = null;\r\n\r\n        this._scroller = this._config.root == window || this._config.root == document\r\n            ? window \r\n            : document.querySelector(this._config.root);\r\n\r\n        this._config.root = this._scroller == window \r\n            ? document.documentElement \r\n            : this._scroller;\r\n\r\n        const callback = {};\r\n        let initialScrollPosition = this._config.root.scrollTop;\r\n\r\n        this._setActiveNavState = () => {\r\n            for (const target of this._targets) {\r\n                if (target.hash == '#' + this._activeNav) {\r\n                    target.setAttribute('aria-current', true);\r\n                } else {\r\n                    target.setAttribute('aria-current', false);\r\n                }\r\n            }\r\n        };\r\n\r\n        this._onScrollNavigation = (e) => {\r\n            this._setTimeout(() => {  \r\n                const scrollPosition = this._config.root.scrollTop;\r\n\r\n                if (this._triggers.length > 0) {      \r\n                    if (scrollPosition < (this._triggers[0].offsetTop - this._config.offset)) {\r\n                        this._activeNav = null;\r\n                        this._setActiveNavState();\r\n                    } else {\r\n                        for (const trigger of this._triggers) {\r\n                            if (scrollPosition >= (trigger.offsetTop - this._config.offset)) {\r\n                                this._activeNav = trigger.id;\r\n                                this._setActiveNavState();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }, 50);\r\n        };\r\n\r\n        // Type: Navigation\r\n        if (this._config.type === 'navigation') { \r\n            this._onScrollNavigation();   \r\n            this._on(this._scroller, 'scroll', this._onScrollNavigation);\r\n        }\r\n\r\n        // Navigation callback\r\n        /* callback.navigation = (entries, observer) => {\r\n            const skippedEntries = entries.filter(entry => entry.boundingClientRect.top < 0);\r\n            const skippedEntriesTop = skippedEntries.map(entry => entry.boundingClientRect.top);\r\n            const lastSkippedEntry = Math.max(...skippedEntriesTop);\r\n            const lastSkippedEntryIndex = skippedEntriesTop.indexOf(lastSkippedEntry);\r\n            const lastEntry = lastSkippedEntryIndex != -1 ? skippedEntries[lastSkippedEntryIndex] : null;\r\n\r\n            for (const entry of entries) {\r\n                const currentScrollPosition = window.scrollY;\r\n\r\n                // On load\r\n                if (currentScrollPosition == initialScrollPosition) {\r\n                    let initialEntry = null;\r\n\r\n\r\n                    for (const loadedEntry of entries) {\r\n                        if (loadedEntry.isIntersecting) {\r\n                            initialEntry = loadedEntry;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (initialEntry) {\r\n                        this._setActiveNavState(initialEntry.target.id);\r\n                        break;\r\n                    }\r\n\r\n                    if (lastEntry && !initialEntry) {\r\n                        this._setActiveNavState(lastEntry.target.id);\r\n                        break;\r\n                    }\r\n                } \r\n\r\n                // Scrolling down\r\n                if (currentScrollPosition > initialScrollPosition) {\r\n                    if (entry.isIntersecting) {\r\n                        this._setActiveNavState(entry.target.id);\r\n                    }\r\n                } \r\n                \r\n                // Scrolling up\r\n                if (currentScrollPosition < initialScrollPosition) {\r\n                    if (entry.isIntersecting) {\r\n                        this._setActiveNavState(entry.target.id);\r\n                    } else {\r\n                        const index = [...this._triggers].indexOf(entry.target);\r\n                        const current = index > 0 ? this._triggers[index - 1].id : null;\r\n                        this._setActiveNavState(current);\r\n                    }\r\n                }\r\n\r\n                initialScrollPosition = currentScrollPosition;\r\n            }\r\n        };\r\n        \r\n        this._observer = new IntersectionObserver(callback[this._config.type], this._config);  \r\n\r\n        this._triggers.forEach((item) => {\r\n            this._observer.observe(item);\r\n        }); */\r\n    }\r\n\r\n    destroy() {\r\n        // this._setActiveNavState();\r\n        // this._triggers.forEach((item) => {\r\n        //     this._observer.unobserve(item);\r\n        // });\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Scrollspy;","import { styles, stringToDom, showElement, hideElement } from '../utils.js';\r\nimport Component from '../component.js';\r\nimport { computePosition, offset, flip, autoUpdate } from '@floating-ui/dom';\r\nimport TomSelect from '../plugins/tomselect/2.2.2/tom-select.js';\r\nimport TomSelect_remove_button from '../plugins/tomselect/2.2.2/plugins/remove_button/plugin.js';\r\nimport TomSelect_clear_button from '../plugins/tomselect/2.2.2/plugins/clear_button/plugin.js';\r\nimport TomSelect_checkbox_options from '../plugins/tomselect/2.2.2/plugins/checkbox_options/plugin.js';\r\nimport TomSelect_caret_position from '../plugins/tomselect/2.2.2/plugins/caret_position/plugin.js';\r\nimport TomSelect_input_autogrow from '../plugins/tomselect/2.2.2/plugins/input_autogrow/plugin.js';\r\nimport TomSelect_no_active_items from '../plugins/tomselect/2.2.2/plugins/no_active_items/plugin.js';\r\nimport TomSelect_no_backspace_delete from '../plugins/tomselect/2.2.2/plugins/no_backspace_delete/plugin.js';\r\n\r\nclass Select extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            remote: null,\r\n            loadOnce: false,\r\n            loadFresh: false,\r\n            preload: false,\r\n            valueField: \"value\",\r\n            labelField: \"text\",\r\n            searchField: [\"text\"],\r\n            sortField: \"$order\",\r\n            maxOptions: 50,\r\n            maxItems: null,\r\n            lock: false,\r\n            placeholder: null,\r\n            persist: true,\r\n            create: false,\r\n            allowEmptyOption: false,\r\n            clearOnReset: true,\r\n            offset: 8,\r\n            zindex: 1000,\r\n            arrowLabel: null,\r\n            hidePlaceholder: false,\r\n            loader: null,\r\n            removeButton: false,\r\n            removeButtonTitle: '',\r\n            removeButtonLabel: '&times;',\r\n            clearButton: false,\r\n            clearButtonTitle: '',\r\n            clearButtonLabel: '&times;',\r\n            checkbox: false,\r\n            caretPosition: false,\r\n            backspaceDelete: true,\r\n            itemSelection: true,\r\n            disableSearch: false,\r\n            blurOnSelect: false,\r\n            createFilter: null,\r\n            createNotFound: false,\r\n            classes: {\r\n                wrapper: '',\r\n                input: '',\r\n                dropdownWrapper: '',\r\n                dropdown: '',\r\n                item: '',\r\n                itemSingle: '',\r\n                option: '',\r\n                optgroup: '',\r\n                optgroupLabel: '',\r\n                createOption: '',\r\n                highlight: '',\r\n                arrow: '',\r\n                removeButton: '',\r\n                clearButton: '',\r\n                checkbox: '',\r\n                noResults: '',\r\n                loading: '',\r\n                loader: ''\r\n            },\r\n            createText: 'Add <strong>:value...</strong>',\r\n            searchText: 'No results found for \":value\"'\r\n        };\r\n\r\n        const _component = {\r\n            name: 'select',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        // Load plugins\r\n        TomSelect.define('remove_button', TomSelect_remove_button);\r\n        TomSelect.define('clear_button', TomSelect_clear_button);\r\n        TomSelect.define('checkbox_options', TomSelect_checkbox_options);\r\n        TomSelect.define('caret_position', TomSelect_caret_position);\r\n        TomSelect.define('input_autogrow', TomSelect_input_autogrow);\r\n        TomSelect.define('no_active_items', TomSelect_no_active_items);\r\n        TomSelect.define('no_backspace_delete', TomSelect_no_backspace_delete);\r\n\r\n        if (!this._element) return;\r\n\r\n        const mode = ['select-one'].includes(this._element.type) ? 'single' : 'multi';\r\n        let autoUpdatePosition = () => void 0;\r\n        let plugins = {};\r\n        this._selectedRemote = [];\r\n\r\n        this._config.searchField = this._config.searchField instanceof Array \r\n            ? this._config.searchField \r\n            : this._config.searchField.split(' ');\r\n\r\n        const setPosition = () => {\r\n            computePosition(this._tomSelect.control, this._tomSelect.dropdown_content, {\r\n                placement: 'bottom-start',\r\n                middleware: [ \r\n                    offset(this._config.offset),\r\n                    flip()\r\n                ]\r\n            }).then(({ x, y, placement, middlewareData }) => {\r\n                const { offset, flip } = middlewareData;\r\n\r\n                Object.assign(this._tomSelect.dropdown_content.style, {\r\n                    left: `${x}px`,\r\n                    top: `${y}px`,\r\n                    zIndex: this._config.zindex\r\n                });\r\n            });\r\n        };\r\n\r\n        const updatePosition = () => { \r\n            return autoUpdate(this._tomSelect.control, this._tomSelect.dropdown_content, setPosition);\r\n        };\r\n\r\n        const resetPositionStyles = () => {\r\n            styles(this._tomSelect.dropdown_content, {\r\n                top: null,\r\n                left: null,\r\n                zIndex: null\r\n            });\r\n        };\r\n\r\n        const clearButtonVisibility = () => {\r\n            if (this._config.clearButton) {\r\n                const clearButton = this._tomSelect.control.querySelector('[data-ts-clear]');\r\n                \r\n                if (this._tomSelect.items.length > 0) {\r\n                    showElement(clearButton);\r\n                } else {\r\n                    hideElement(clearButton);\r\n                }\r\n            }\r\n        };\r\n\r\n        const showLoader = (show = true) => {\r\n            if (!this._config.remote) return;\r\n\r\n            const loader = this._tomSelect.control.querySelector('[data-ts-loader]');\r\n\r\n            if (loader) {\r\n                if (show) {\r\n                    showElement(loader);\r\n                } else {\r\n                    hideElement(loader);\r\n                }\r\n            }\r\n        };\r\n\r\n        const getText = (key, value) => {\r\n            return this._config[key].replace(':value', value);\r\n        };\r\n\r\n        const hasValue = (value) => {\r\n            let result = false;\r\n\r\n            for (const key in this._tomSelect.options) {\r\n                if (value.toLowerCase() == key.toLowerCase()) {\r\n                    result = true;\r\n\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return result;\r\n        };\r\n\r\n        // Enable caret position and auto grow plugin\r\n        if (this._config.caretPosition) {\r\n            plugins.caret_position = {};\r\n            plugins.input_autogrow = {};\r\n        }\r\n\r\n        // Enable plugin to disable selection of items\r\n        if (!this._config.itemSelection) {\r\n            plugins.no_active_items = {};\r\n        }\r\n\r\n        // Enable plugin to disable deleting items with backspace key\r\n        if (!this._config.backspaceDelete) {\r\n            plugins.no_backspace_delete = {};\r\n        }\r\n\r\n        // Show/hide remove button plugin\r\n        if (this._config.removeButton && mode === 'multi') {\r\n            plugins.remove_button = {\r\n                label: this._config.removeButtonLabel,\r\n                title: this._config.removeButtonTitle,\r\n                className: this._config.classes.removeButton\r\n            };\r\n        }\r\n\r\n        // Show/hide clear button plugin\r\n        if (this._config.clearButton) {\r\n            plugins.clear_button = {\r\n                html: () => {\r\n                    const disabled = this._element.disabled ? 'disabled' : '';\r\n                    \r\n                    return `<button type=\"button\" class=\"${this._config.classes.clearButton}\" title=\"${this._config.clearButtonTitle}\" aria-label=\"clear\" data-multiple=\"${mode === 'multi'}\" ${disabled} data-ts-clear style=\"display: none\">${this._config.clearButtonLabel}</button>`;\r\n                }\r\n            };\r\n        }\r\n\r\n        // Show/hide option checkbox plugin\r\n        if (this._config.checkbox && mode === 'multi') {\r\n            plugins.checkbox_options = {\r\n                className: this._config.classes.checkbox\r\n            };\r\n        }\r\n\r\n        // Get selected options when using remote data \r\n        if (this._config.remote && this._config.loadOnce && this._element.tagName === 'SELECT') {\r\n            [...this._element.selectedOptions].forEach((option) => {\r\n                this._selectedRemote.push({\r\n                    [this._config.valueField]: option.value,\r\n                    [this._config.labelField]: option.label\r\n                });\r\n\r\n                // Remove option \r\n                option.remove();\r\n            });\r\n        }\r\n\r\n        // Create if option is not found \r\n        if (this._config.createNotFound) {\r\n            this._config.create = (input, callback) => {\r\n                if (hasValue(input)) return false;\r\n                \r\n                callback({value:input, text:input});\r\n            };\r\n        }\r\n\r\n        let options = {\r\n            valueField: this._config.valueField,\r\n            labelField: this._config.labelField,\r\n            searchField: this._config.searchField,\r\n            sortField: this._config.sortField,\r\n            maxOptions: this._config.maxOptions,\r\n            maxItems: mode === 'single' ? 1 : this._config.maxItems,\r\n            preload: this._config.preload,\r\n            create: this._config.create,\r\n            persist: this._config.persist,\r\n            allowEmptyOption: this._config.allowEmptyOption,\r\n            createFilter: this._config.createFilter,\r\n            controlClass: this._config.classes.wrapper,\r\n            controlInput: `<input type=\"text\" autocomplete=\"off\" size=\"1\" class=\"${this._config.classes.input}\" ${this._config.disableSearch ? 'readonly' : ''} />`,\r\n            dropdownContentClass: this._config.classes.dropdown,\r\n            dropdownClass: this._config.classes.dropdownWrapper,\r\n            itemClass: mode === 'multi' ? this._config.classes.item : this._config.classes.itemSingle,\r\n            optionClass: this._config.classes.option,\r\n            hidePlaceholder: this._config.hidePlaceholder,\r\n            highlightClass: this._config.classes.highlight,\r\n            plugins: plugins\r\n        };\r\n\r\n        if (this._config.placeholder) {\r\n            options.placeholder = this._config.placeholder;\r\n        }\r\n\r\n        options.onFocus = () => {  \r\n            if (this._config.caretPosition && this._tomSelect.settings.mode === 'multi') {\r\n                this._tomSelect.control_input.style.minWidth = '1px';\r\n                this._tomSelect.control_input.setAttribute('data-minimize', true);\r\n                this._tomSelect.settings.placeholder = '';\r\n                this._tomSelect.inputState();\r\n            }\r\n\r\n            this._dispatchEvent('focus');\r\n        };\r\n\r\n        options.onBlur = () => {  \r\n            if (this._config.caretPosition && this._tomSelect.settings.mode === 'multi') {\r\n                this._tomSelect.control_input.style.minWidth = null;\r\n                this._tomSelect.control_input.setAttribute('data-minimize', false);\r\n                this._tomSelect.settings.placeholder = this._config.placeholder;\r\n                this._tomSelect.inputState();\r\n            }\r\n\r\n            // Restore hidden selected item\r\n            if (this._tomSelect.items.length === 1 && this._tomSelect.settings.mode === 'single') {\r\n                showElement(this._tomSelect.control.firstElementChild);\r\n            }\r\n\r\n            this._dispatchEvent('blur');\r\n        };\r\n\r\n        options.onType = (string) => {\r\n            // Hide selected item when typing and is single select\r\n            if (this._tomSelect.items.length === 1 && this._tomSelect.settings.mode === 'single') {\r\n                if (string.length > 0) {\r\n                    hideElement(this._tomSelect.control.firstElementChild);\r\n                } else {\r\n                    showElement(this._tomSelect.control.firstElementChild);\r\n                }\r\n            }\r\n\r\n            this._dispatchEvent('type', { string });\r\n        };\r\n\r\n        options.onChange = (value) => {  \r\n            // Show/hide clear button based on number of items\r\n            clearButtonVisibility();\r\n\r\n            if (this._config.blurOnSelect && this._tomSelect.settings.mode === 'single') {\r\n                this._tomSelect.blur();\r\n            }\r\n\r\n            this._dispatchEvent('change', { value });\r\n        };\r\n\r\n        options.onDropdownOpen = (dropdown) => {\r\n            autoUpdatePosition = updatePosition();\r\n\r\n            if (this._arrow) this._arrow.setAttribute('data-opened', true);\r\n\r\n            this._dispatchEvent('dropdownOpen', { dropdown });\r\n        };\r\n\r\n        options.onDropdownClose = (dropdown) => {\r\n            autoUpdatePosition();\r\n            resetPositionStyles();\r\n\r\n            if (this._arrow) this._arrow.setAttribute('data-opened', false);\r\n\r\n            if (this._config.remote && this._config.loadFresh && !this._config.loadOnce) {                            \r\n                this._tomSelect.clearOptions();\r\n            }\r\n\r\n            this._dispatchEvent('dropdownClose', { dropdown });\r\n        };\r\n\r\n        options.onItemAdd = (value, item) => {\r\n            this._dispatchEvent('itemAdd', { value, item, data: this._tomSelect.options[value] });\r\n        };\r\n\r\n        options.onItemRemove = (value, item) => {\r\n            if (this._config.remote && this._config.loadFresh && !this._config.loadOnce) {                            \r\n                this._tomSelect.removeOption(value);\r\n                this._tomSelect.refreshOptions();\r\n            }\r\n\r\n            this._dispatchEvent('itemRemove', { value, item, data: this._tomSelect.options[value] });\r\n        };\r\n\r\n        options.onLoad = (options, optgroup) => {\r\n            showLoader(false);\r\n\r\n            this._dispatchEvent('load', { options, optgroup });\r\n        };\r\n\r\n        options.render = {\r\n            option: (data, escape) => {\r\n                return `<div>${escape(data[this._config.labelField])}</div>`;\r\n            },\r\n            item: (data, escape) => {\r\n                return `<div>${escape(data[this._config.labelField])}</div>`;\r\n            },\r\n            option_create: (data, escape) => {\r\n                if (this._config.createNotFound && hasValue(escape(data.input))) return;\r\n\r\n                return `<div class=\"create ${this._config.classes.createOption}\">${getText('createText', escape(data.input))}</div>`;\r\n            },\r\n            no_results: (data, escape) => {\r\n                return `<div class=\"${this._config.classes.noResults}\">${getText('searchText', escape(data.input))}</div>`;\r\n            },\r\n            not_loading: (data, escape) => {\r\n                // no default content\r\n            },\r\n            optgroup: (data) => {\r\n                const optgroup = document.createElement('div');\r\n                optgroup.className = this._config.classes.optgroup;\r\n                optgroup.appendChild(data.options);\r\n\r\n                return optgroup;\r\n            },\r\n            optgroup_header: (data, escape) => {\r\n                return `<div class=\"${this._config.classes.optgroupLabel}\">${escape(data.label)}</div>`;\r\n            },\r\n            loading: (data, escape) => {\r\n                return `<div class=\"${this._config.classes.loading}\">Loading...</div>`;\r\n            },\r\n            dropdown: () => {\r\n                return `<div></div>`;\r\n            }\r\n        };\r\n\r\n        // If remote url is set \r\n        if (this._config.remote) {\r\n            options.load = async (query, callback) => {\r\n                const columns = this._config.searchField.join(',');\r\n                const url = `${this._config.remote}?q=${encodeURIComponent(query)}&columns=${columns}`;\r\n                showLoader();\r\n\r\n                await fetch(url)\r\n                    .then(response => response.json())\r\n                    .then(json => {\r\n                        callback(json);\r\n\r\n                        // Set selected items after load\r\n                        if (this._config.remote && this._config.loadOnce && this._element.tagName === 'SELECT') {                      \r\n\r\n                            if (this._tomSelect.settings.mode === 'single') {\r\n                                this._tomSelect.addOption(this._selectedRemote[0]);\r\n                                this._tomSelect.addItem(this._selectedRemote[0][this._config.valueField]);\r\n                            } else {\r\n                                const selectedItems = [];\r\n\r\n                                for (const item of this._selectedRemote) {\r\n                                    selectedItems.push(item[this._config.valueField]);\r\n                                }\r\n\r\n                                this._tomSelect.addOptions(this._selectedRemote);\r\n                                this._tomSelect.addItems(selectedItems);\r\n                            }\r\n\r\n                            this._tomSelect.refreshOption();\r\n                        }\r\n\r\n                        // showLoader(false);\r\n                    }).catch(()=>{\r\n                        callback();\r\n                    });\r\n            };\r\n\r\n            options.shouldLoad = (query) => {\r\n                if (this._config.loadOnce) return;\r\n            \r\n                if (this._config.loadOnce) {\r\n                    return true;\r\n                }\r\n\r\n                return query.length > 1;\r\n            };\r\n        }\r\n\r\n        // Init TomSelect\r\n        this._tomSelect = new TomSelect(this._element, options);\r\n\r\n        // Sync placeholder\r\n        this._config.placeholder = this._config.placeholder || this._tomSelect.settings.placeholder;\r\n\r\n        // Set a data minimize attribute for caret position plugin\r\n        this._tomSelect.control_input.setAttribute('data-minimize', false);\r\n\r\n        // Show arrow if single select \r\n        if (this._config.arrowLabel && this._tomSelect.settings.mode === 'single') {\r\n            const arrow = stringToDom(`<div data-ts-arrow data-opened=\"false\"></div>`);\r\n            arrow.className = this._config.classes.arrow;\r\n            arrow.innerHTML = this._config.arrowLabel;\r\n\r\n            this._tomSelect.control.appendChild(arrow);\r\n            this._arrow = arrow;\r\n        }\r\n\r\n        // Add loader to control element\r\n        if (this._config.remote && this._config.loader) {\r\n            const multiple = this._tomSelect.settings.mode === 'multi';\r\n            const fragment = `<div class=\"${this._config.classes.loader}\" data-multiple=\"${multiple}\" data-ts-loader style=\"display:none\">${this._config.loader}</div>`;\r\n            this._tomSelect.control_input.insertAdjacentHTML('afterend', fragment);\r\n        }\r\n\r\n        // Show/hide clear button based on number of items\r\n        clearButtonVisibility();\r\n\r\n        // Call the lock() method if lock option is true\r\n        if (this._config.lock) this._tomSelect.lock();\r\n\r\n        // Clear on form reset\r\n        if (this._config.clearOnReset) {              \r\n            if (this._tomSelect.input.form) {\r\n                this._on(this._tomSelect.input.form, 'reset', () => {\r\n                    this._tomSelect.clear();\r\n                });\r\n            }\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    addItem(value, silent = false) {\r\n        this._tomSelect.addItem(value, silent);\r\n    }\r\n\r\n    clear(silent = false) {\r\n        this._tomSelect.clear(silent);\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Select;"],"names":["config","prefix","elementPropName","parseNestedDatasetKey","keys","value","data","key","substr","toLowerCase","length","splice","extend","options","extended","deep","i","merge","obj","prop","Object","prototype","hasOwnProperty","call","toString","deepClone","clone","assign","forEach","Array","isArray","from","stringToDom","html","HTMLElement","string","indexOf","template","document","createElement","innerHTML","trim","content","firstChild","isNumber","isNaN","parseFloat","isFinite","showElement","element","display","style","hideElement","styles","styleName","setAttributes","attributes","attribute","setAttribute","kebabCase","addClass","classNames","split","classList","add","removeClass","remove","getElement","selector","context","querySelector","getElements","NodeList","querySelectorAll","capitalize","charAt","toUpperCase","slice","replace","letter","randomNumber","String","Date","now","Math","random","sort","join","shuffle","substring","window","UIkit","storeUikitInstance","component","instance","this","globalConfig","store","events","components","setConfig","register","name","args","undefined","destroy","push","autoload","filter","componentName","error","console","Component","constructor","_component","defaultConfig","classes","debug","maxMobileWidth","storage","transitions","enter","leave","_element","_timeout","getDatasetConfig","dataset","splat","JSON","parse","parseNestedDataset","object","search","entries","map","fromEntries","replaceObjectKeys","configFactory","existingClasses","_config","x","includes","filteredClasses","_lockConfig","_isTransitioning","_events","_storage","set","setItem","get","getItem","removeItem","transitionEnter","transitionEnterStart","transitionEnterEnd","transitionLeave","transitionLeaveStart","transitionLeaveEnd","_hasTransition","_transition","type","callback","transitionEvent","transition","transitionCleanup","animationDuration","getComputedStyle","_one","e","requestAnimationFrame","_storeEvent","target","eventName","handler","eventItem","once","passive","useCapture","listener","_removeEvent","item","removeEventListener","_prefixedEventName","_createConfig","configNames","allowedOptions","items","option","newName","_isMobile","matchMedia","matches","_debug","message","_removeInstance","_dispatchEvent","detail","callbackName","self","Function","setTimeout","dispatchEvent","CustomEvent","_on","addEventListener","_off","_setTimeout","timeout","clearTimeout","eventArray","on","off","one","root","factory","moment","exports","require","module","define","amd","req","Pikaday","hasMoment","hasEventListeners","sto","addEvent","el","capture","attachEvent","removeEvent","detachEvent","hasClass","cn","className","str","test","isDate","getTime","isWeekend","date","day","getDay","isLeapYear","year","getDaysInMonth","month","setToStartOfDay","setHours","compareDates","a","b","to","overwrite","hasProp","nodeName","fireEvent","ev","createEvent","initEvent","createEventObject","adjustCalendar","calendar","ceil","abs","floor","defaults","field","bound","ariaLabel","position","reposition","format","defaultDate","setDefaultDate","firstDay","firstWeekOfYearMinDays","formatStrict","minDate","maxDate","yearRange","showWeekNumber","pickWholeWeek","minYear","maxYear","minMonth","maxMonth","startRange","endRange","isRTL","yearSuffix","showMonthAfterYear","showDaysInNextAndPreviousMonths","enableSelectionDaysInNextAndPreviousMonths","numberOfMonths","mainCalendar","container","blurFieldOnSelect","i18n","previousMonth","nextMonth","months","weekdays","weekdaysShort","theme","onInitialize","onSelect","onBeforeOpen","onOpen","onBeforeClose","onClose","onDraw","keyboardInput","heading","autoClose","showButtons","buttonsPlacement","buttons","clear","today","cancel","apply","calendarClass","headerClass","monthClass","yearClass","titleClass","previousClass","nextClass","weekdayClass","daysClass","dayClass","buttonsClass","clearClass","todayClass","cancelClass","applyClass","renderDayName","opts","abbr","renderDay","attr","arr","ariaSelected","isEmpty","isDisabled","isToday","isSelected","hasEvent","isInRange","isStartRange","isEndRange","renderWeek","d","m","y","week","isoWeek","yearDay","getDate","weekDay","dayInFirstWeek","dayShift","prevWeekDay","setDate","jan4th","getFullYear","daysBetween","round","renderRow","days","isRowSelected","reverse","renderTitle","c","refYear","randId","j","monthHtml","yearHtml","_o","isMinYear","isMaxYear","prev","next","renderTable","renderHead","renderHeading","title","renderFoot","button","_onMouseDown","_v","event","srcElement","toDateString","hide","blur","getMonth","parentNode","prevMonth","getAttribute","_c","preventDefault","returnValue","_onChange","gotoMonth","gotoYear","_onKeyChange","isVisible","adjustDate","_parseFieldValue","isValid","toDate","_onInputChange","firedBy","_onInputFocus","show","_onInputClick","_onInputBlur","pEl","activeElement","_b","_onClick","onchange","trigger","appendChild","body","insertBefore","nextSibling","defDate","gotoDate","disableWeekends","disableDayFn","nom","parseInt","setMinDate","setMaxDate","fallback","_d","getMoment","setMoment","preventOnSelect","isMoment","draw","min","max","newCalendar","calendars","firstVisibleDate","lastVisibleDate","visibleDate","setMonth","adjustCalendars","sign","newDay","difference","valueOf","gotoToday","setStartRange","setEndRange","force","_y","_m","render","focus","adjustPosition","width","height","viewportWidth","viewportHeight","scrollTop","left","top","clientRect","leftAligned","bottomAligned","offsetWidth","offsetHeight","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","pageYOffset","getBoundingClientRect","pageXOffset","bottom","offsetLeft","offsetTop","offsetParent","before","row","yearOfPreviousMonth","yearOfNextMonth","daysInPreviousMonth","cells","after","isWeekSelected","r","dayNumber","monthNumber","yearNumber","dayConfig","unshift","v","removeChild","Pikaday$1","createCoords","oppositeSideMap","right","oppositeAlignmentMap","start","end","clamp","evaluate","param","getSide","placement","getAlignment","getOppositeAxis","axis","getAxisLength","getSideAxis","getAlignmentAxis","getOppositeAlignmentPlacement","alignment","getOppositePlacement","side","getPaddingObject","padding","expandPaddingObject","rectToClientRect","rect","computeCoordsFromPlacement","_ref","rtl","reference","floating","sideAxis","alignmentAxis","alignLength","isVertical","commonX","commonY","commonAlign","coords","async","detectOverflow","state","_await$platform$isEle","platform","rects","elements","strategy","boundary","rootBoundary","elementContext","altBoundary","paddingObject","clippingClientRect","getClippingRect","isElement","contextElement","getDocumentElement","getOffsetParent","offsetScale","getScale","elementClientRect","convertOffsetParentRelativeRectToViewportRelativeRect","getBoundingRect","minX","minY","offset","fn","_middlewareData$offse","_middlewareData$arrow","middlewareData","diffCoords","mainAxisMulti","crossAxisMulti","rawValue","mainAxis","crossAxis","convertValueToCoords","arrow","alignmentOffset","getNodeName","node","isNode","getWindow","_node$ownerDocument","ownerDocument","defaultView","Node","Element","isHTMLElement","isShadowRoot","ShadowRoot","isOverflowElement","overflow","overflowX","overflowY","isTableElement","isContainingBlock","webkit","isWebKit","css","transform","perspective","containerType","backdropFilter","some","willChange","contain","getContainingBlock","currentNode","getParentNode","isLastTraversableNode","CSS","supports","getNodeScroll","scrollLeft","result","assignedSlot","host","getNearestOverflowAncestor","getOverflowAncestors","list","traverseIframes","_node$ownerDocument2","scrollableAncestor","isBody","win","concat","visualViewport","frameElement","getCssDimensions","hasOffset","shouldFallback","$","unwrapElement","domElement","Number","noOffsets","getVisualOffsets","includeScale","isFixedStrategy","scale","visualOffsets","isFixed","floatingOffsetParent","shouldAddVisualOffsets","offsetWin","currentIFrame","iframeScale","iframeRect","clientLeft","paddingLeft","clientTop","paddingTop","topLayerSelectors","topLayer","isTopLayer","setIsTopLayer","containingBlock","getWindowScrollBarX","getClientRectFromClippingAncestor","clippingAncestor","visualViewportBased","getViewportRect","scroll","scrollWidth","scrollHeight","direction","getDocumentRect","getInnerBoundingClientRect","hasFixedPositionAncestor","stopNode","getRectRelativeToOffsetParent","isOffsetParentAnElement","offsets","offsetRect","topLayerX","topLayerY","getTrueOffsetParent","polyfill","clippingAncestors","cache","cachedResult","currentContainingBlockComputedStyle","elementIsFixed","computedStyle","currentNodeIsContaining","ancestor","getClippingElementAncestors","firstClippingAncestor","clippingRect","reduce","accRect","getElementRects","getOffsetParentFn","getDimensionsFn","getDimensions","getClientRects","autoUpdate","update","ancestorScroll","ancestorResize","elementResize","ResizeObserver","layoutShift","IntersectionObserver","animationFrame","referenceEl","ancestors","cleanupIo","onMove","timeoutId","io","cleanup","_io","disconnect","refresh","skip","threshold","rootMargin","isFirstUpdate","handleObserve","ratio","intersectionRatio","observe","observeMove","frameId","reobserveFrame","resizeObserver","firstEntry","unobserve","cancelAnimationFrame","_resizeObserver","prevRefRect","frameLoop","nextRefRect","_resizeObserver2","shift","checkMainAxis","checkCrossAxis","limiter","detectOverflowOptions","mainAxisCoord","crossAxisCoord","maxSide","limitedCoords","flip","_middlewareData$flip","initialPlacement","fallbackPlacements","specifiedFallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment","isBasePlacement","oppositePlacement","getExpandedPlacements","isStart","lr","rl","tb","bt","getSideList","getOppositeAxisPlacements","placements","overflows","overflowsData","sides","mainAlignmentSide","getAlignmentSides","every","_middlewareData$flip2","_overflowsData$filter","nextIndex","index","nextPlacement","reset","resetPlacement","_overflowsData$map$so","acc","arrowDimensions","isYAxis","minProp","maxProp","clientProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","largestPossiblePadding","minPadding","maxPadding","min$1","center","shouldAddOffset","centerOffset","inline","nativeClientRects","clientRects","sortedRects","groups","prevRect","getRectsByLine","resetRects","find","firstRect","lastRect","isTop","isLeftSide","maxRight","minLeft","measureRects","limitShift","rawOffset","computedOffset","len","limitMin","limitMax","_middlewareData$offse2","isOriginSide","computePosition","Map","mergedOptions","platformWithCache","middleware","validMiddleware","Boolean","statefulPlacement","resetCount","nextX","nextY","computePosition$1","Modal","componentSettings","super","keyboard","backdropFadeDuration","backdropClose","hideBackdrop","dialog","close","backdrop","autoCloseDelay","history","allowScroll","zindex","namespace","_isOpened","_previous","_modal","_dialog","_content","_initialFocus","_finalFocus","modalId","id","closeTriggers","tabindex","role","ariaModal","zIndex","innerText","eventData","onClickShow","_show","onClickHide","_hide","autoCloseModal","getFocusable","tabIndex","setFocus","focusable","total","storeModal","openedModals","firstModal","firstModalTrigger","removeModal","modal","getTotalModals","isFirstModal","getFirstModalTrigger","clearModals","getPreviousModal","previousModal","setOpenedDialogsAttribute","openedDialogs","removeOpenedDialogsAttribute","removeAttribute","hideScrollbar","marginRight","restoreModalScrollbar","backgroundColor","opacity","showBackdrop","_backdrop","append","scrollBarWidth","transitionEndEvent","removeBackdrop","transitionDuration","previousInstance","shiftKey","contains","visible","_transitionCleanup","removeAttributes","forEvents","MicroEvent","fct","event_array","n","arguments","arrayToPattern","chars","maxValueLength","sequencePattern","array","hasDuplicates","pattern","prev_char_count","prev_pattern","char","setToPattern","toArray","Set","size","escape_regex","longest","unicodeLength","p","allSubstrings","input","subresult","tmp","code_points","unicode_map","multi_char_reg","latin_convert","latin_condensed","aa","ae","ao","au","av","ay","f","g","h","k","l","o","oe","oi","oo","ou","q","s","t","th","tz","u","vy","w","z","hv","latin","unicode","convert_pat","RegExp","normalize","form","asciifold","_asciifold","generateSets","unicode_sets","addMatching","folded","to_add","folded_set","patt","match","code_point_min","code_point_max","composed","fromCharCode","code_point","generator","generateMap","multi_char","multi_char_patt","substringsToPattern","min_replacement","sub_pat","strings","chars_replaced","mapSequence","sequencesToPattern","sequences","all","sequence","seq","substrs","inSequences","needle_seq","needle_parts","parts","part","needle_part","Sequence","last","last_piece","stringify","last_part","pop","last_substr","clone_last_len","getPattern","_code_points","match_str","overlapping","added_types","has","new_seq","old_seq","getAttr","getAttrNesting","names","scoreValue","token","weight","score","pos","regex","propToArray","iterate$1","cmp","Sifter","settings","diacritics","tokenize","query","respect_word_boundaries","weights","tokens","words","field_regex","word","field_match","getScoreFunction","prepareSearch","_getScoreFunction","token_count","fields","field_count","getAttrFn","scoreObject","sum","conjunction","getSortFunction","_getSortFunction","implicit_score","sort_flds","sort_empty","bind","get_field","fld","sort_fld","optsUser","nesting","fn_score","_","fn_sort","limit","iterate","getDom","jquery","isHtmlString","tpl","arg","triggerEvent","dom_el","event_name","applyCSS","addClasses","elmts","norm_classes","classesArray","castAsArray","cls","removeClasses","_classes","parentMatch","wrapper","getTail","nodeIndex","amongst","previousElementSibling","setAttr","attrs","val","replaceNode","existing","replacement","replaceChild","highlight","highlightClass","highlightRecursive","nodeType","spannode","middlebit","splitText","middleclone","cloneNode","highlightText","childNodes","tagName","highlightChildren","KEY_SHORTCUT","navigator","userAgent","optgroups","plugins","delimiter","splitOn","persist","create","createOnBlur","createFilter","openOnFocus","shouldOpen","maxOptions","maxItems","hideSelected","duplicates","addPrecedence","selectOnTab","preload","allowEmptyOption","loadThrottle","loadingClass","dataAttr","optgroupField","valueField","labelField","disabledField","optgroupLabelField","optgroupValueField","lockOptgroupOrder","sortField","searchField","searchConjunction","mode","wrapperClass","controlClass","dropdownClass","dropdownContentClass","itemClass","optionClass","dropdownParent","controlInput","copyClassesToDropdown","placeholder","hidePlaceholder","shouldLoad","hash_key","get_hash","escape_html","loadDebounce","delay","loading","loadedSearches","debounce_events","types","event_args","evt","stop","stopPropagation","isKeyDown","key_name","altKey","ctrlKey","metaKey","getId","existing_id","addSlashes","parent","getSettings","settings_user","attr_data","field_label","field_value","field_disabled","field_optgroup","field_optgroup_label","field_optgroup_value","tag_name","textContent","optionsMap","group_count","readData","addOption","settings_element","json","group","option_data","disabled","$option","selected","hasAttribute","children","child","optgroup","optgroup_data","data_raw","opt","values","init_textbox","instance_i","TomSelect","Interface","requested","loaded","initializePlugins","queue","plugin","loadPlugin","Error","MicroPlugin","input_arg","user_settings","dir","control_input","dropdown","control","dropdown_content","focus_node","order","is_select_tag","inputId","_destroy","sifter","isOpen","isRequired","isInvalid","isLocked","isFocused","isInputHidden","isSetup","ignoreFocus","ignoreHover","hasOptions","currentResults","lastValue","caretPos","activeOption","activeItems","userOptions","tomselect","getPropertyValue","required","setupCallbacks","setupTemplates","_render","inputMode","setup","passive_event","listboxId","control_id","escapeQuery","label","label_click","for","label_id","classes_plugins","multiple","load","target_match","onOptionHover","onOptionSelect","onItemSelect","onClick","onKeyDown","onKeyPress","onInput","onBlur","onFocus","onPaste","doc_mousedown","composedPath","inputState","win_scroll","positionDropdown","revertSettings","insertAdjacentElement","sync","refreshState","updateOriginalInput","refreshItems","disable","enable","onChange","setupOptions","addOptions","registerOptionGroup","templates","optgroup_header","escape","option_create","no_results","not_loading","callbacks","initialize","change","item_add","item_remove","item_select","option_add","option_remove","option_clear","optgroup_add","optgroup_remove","optgroup_clear","dropdown_open","dropdown_close","get_settings","setValue","lastQuery","clearActiveItems","onMouseDown","pastedText","inputValue","splitInput","piece","addItem","createItem","character","keyCode","which","selectAll","open","getAdjacent","setActiveOption","canSelect","advanceSelection","deleteSelection","refreshOptions","wasFocused","showInput","hasFocus","deactivate","setActiveItem","setCaret","parentElement","closeAfterSelect","canLoad","loadCallback","clearActiveOption","setTextboxValue","getValue","silent","addItems","setMaxItems","begin","swap","getLastActive","setActiveItemClass","removeActiveItem","hideInput","last_active","idx","scrollToOption","behavior","height_menu","height_item","scrollBehavior","controlChildren","toggle","getSearchOptions","calculateScore","hashed","triggerDropdown","has_create_option","active_group","groups_order","same_query","results","active_option","show_dropdown","closest","opt_value","opt_hash","option_el","getOption","group_fragment","createDocumentFragment","$id","grp_a","grp_b","$order","group_heading","group_options","header","group_html","tok","add_template","canCreate","active_index","selectable","user_created","dat","registerOption","addOptionGroup","hashed_id","removeOptionGroup","clearCache","clearOptionGroups","updateOption","item_new","index_item","value_old","value_new","data_old","uncacheValue","option_new","removeOption","clearOptions","boundFilter","clearFilter","$div","last_item","isPending","wasFull","isFull","insertAtCaret","output","caret","lock","created","unlock","refreshValidityState","wrap_classList","validity","valid","empty_option","has_selected","AddSelected","visibility","scrollY","scrollX","selection","tail","selectionStart","selectionEnd","rm_items","rm_item","shouldDelete","onDelete","adjacent","nextElementSibling","moveCaret","new_pos","templateName","hook","when","method","new_fn","orig_method","result_new","orig_render_item","close_button","orig_onOptionSelect","UpdateCheckbox","checkbox","HTMLInputElement","checked","orig_render_option","rendered","prepend","clearButton","loader","test_input","cssText","style_name","resize","orig_deleteSelection","accordion","panel","_data","triggers","panels","tab","opened","removeAnimationStyles","hideAll","ariaExpanded","panelHeight","excludeIndex","current","isTransitioning","panelSuffix","ariaControls","ariaLabelledby","autogrow","textareaInput","minHeight","related","_checkboxes","_total","_totalChecked","updateCheckedCount","updateTotalChecked","filtered","updateParent","indeterminate","targets","relatedCheckbox","clipboard","action","text","clearSelection","ClipboardJS","_target","_container","firstElementChild","_text","_clipboard","datatable","url","saveState","autoUpdateInterval","table","searchInput","searchDelay","pagination","info","region","loaderLabel","pageLength","request","page","orderColumn","orderDirection","perPage","controller","searchTimeout","_isLoading","_searchPrase","_lastFocusedRequestElement","_sections","parseUrl","URL","searchParams","delete","autoReload","isConnected","_reload","getDataset","replaceAll","getCheckboxes","getChecked","getUnchecked","getParentCheckbox","getCheckedFormData","formData","FormData","_select","_deselect","_goToIndex","_abort","href","_draw","_index","_pageLength","_orderColumn","column","_search","keyword","populateSearch","populateTable","populateInfo","has_records","populatePagination","populateLength","regionVisibility","rowSelection","onSelectEventData","deselected","totalChecked","totalUnchecked","abort","AbortController","signal","fetch","then","response","ok","statusText","save","finally","catch","params","_location","location","_onPopstate","reload","select","deselect","isLoading","datepicker","startRangeTarget","endRangeTarget","showOtherDays","otherDaysSelection","clearOnReset","previous","shortWeekdays","disableDay","weekday","autoUpdatePosition","_hasMoment","_hasDayjs","dayjs","_isRangePicker","updateRangeDate","_pikaday","range","getOrdinalNumber","number","ordinals","setPosition","updatePosition","formattedDate","ddd","dddd","D","DD","padStart","Do","M","MM","MMM","MMMM","YY","YYYY","delimiters","replacedParts","dateString","dateParts","relatedTarget","dismiss","removeTarget","_close","placementMobile","autoPlacement","offsetMobile","alignmentOffsetMobile","_dropdown","_reference","resetPositionStyles","clicked","dropzone","customTemplate","autoProcessQueue","maxFiles","csrfToken","headers","previewsContainer","resizeWidth","resizeHeight","clickable","parallelUploads","disablePreviews","maxFilesize","filesizeBase","hiddenInputContainer","getTemplate","previewTemplate","_dropzone","Dropzone","file","progress","bytesSent","totalUploadProgress","totalBytes","totalBytesSent","files","xhr","getQueuedFiles","getAcceptedFiles","getRejectedFiles","getActiveFiles","getAddedFiles","getUploadingFiles","getFiles","getFilesWithStatus","status","addFile","mockFile","imageUrl","crossOrigin","resizeThumbnail","dataURL","displayExistingFile","removeFile","removeAllFiles","cancelUpload","contentType","_response","_fetch","_code","hljs","highlightElement","actions","guessType","localName","selectedOptions","newKey","offcanvas","password","letters","mixed","numbers","symbols","confirm","hint","_totalScore","_score","_visible","_checked","_hints","calculateStrength","updateCheckedHint","onToggle","level","multiplier","percentage","pincode","numeric","mask","maskDelay","autoSubmit","_filled","_value","_form","autocomplete","ariaInvalid","dataIndex","filled","invalid","maskValue","combineValues","emitInputEvent","emitFilledEvent","submitter","requestSubmit","onKeyup","onReset","_selectedIndex","tabs","_lastIndex","_totalTabs","active","getPanel","_next","onTransitionEnterEnd","_disable","ariaDisabled","_enable","onKeydown","first","optionAttribute","class","_theme","_updateTheme","localStorage","_onClickChangeTheme","toast","gap","stack","onAction","stackingPosition","_toast","_placementGroup","inset","dismissTriggers","actionTriggers","toggles","_toggled","ariaPressed","toggleState","toggled","_toggle","tooltip","showDelay","hideDelay","arrowPadding","_contentType","_isShown","_id","tooltipContent","tooltipArrow","_tooltip","_tooltipContent","_tooltipArrow","staticSide","onHoverDestroy","middle","scrollspy","_triggers","_targets","_activeNav","_scroller","_setActiveNavState","hash","_onScrollNavigation","scrollPosition","remote","loadOnce","loadFresh","arrowLabel","removeButton","removeButtonTitle","removeButtonLabel","clearButtonTitle","clearButtonLabel","caretPosition","backspaceDelete","itemSelection","disableSearch","blurOnSelect","createNotFound","dropdownWrapper","itemSingle","optgroupLabel","createOption","noResults","createText","searchText","TomSelect_remove_button","TomSelect_clear_button","TomSelect_checkbox_options","TomSelect_caret_position","TomSelect_input_autogrow","TomSelect_no_active_items","TomSelect_no_backspace_delete","_selectedRemote","_tomSelect","clearButtonVisibility","showLoader","getText","hasValue","caret_position","input_autogrow","no_active_items","no_backspace_delete","remove_button","clear_button","checkbox_options","minWidth","onType","onDropdownOpen","_arrow","onDropdownClose","onItemAdd","onItemRemove","onLoad","columns","encodeURIComponent","selectedItems","refreshOption","fragment","insertAdjacentHTML"],"mappings":"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","x_google_ignoreList":[5,6,7,8]}
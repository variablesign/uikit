{"version":3,"file":"uikit.min.js","sources":["../../src/config.js","../../src/utils.js","../../src/core.js","../../src/component.js","../../src/plugins/idiomorph/0.3.0/idiomorph.js","../../src/plugins/pikaday/1.8.2/pikaday.js","../../node_modules/@floating-ui/utils/dist/floating-ui.utils.mjs","../../node_modules/@floating-ui/core/dist/floating-ui.core.mjs","../../node_modules/@floating-ui/utils/dist/floating-ui.utils.dom.mjs","../../node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs","../../src/components/modal.js","../../src/plugins/tomselect/2.2.2/tom-select.js","../../src/plugins/tomselect/2.2.2/plugins/remove_button/plugin.js","../../src/plugins/tomselect/2.2.2/plugins/clear_button/plugin.js","../../src/plugins/tomselect/2.2.2/plugins/checkbox_options/plugin.js","../../src/plugins/tomselect/2.2.2/plugins/caret_position/plugin.js","../../src/plugins/tomselect/2.2.2/plugins/input_autogrow/plugin.js","../../src/plugins/tomselect/2.2.2/plugins/no_active_items/plugin.js","../../src/plugins/tomselect/2.2.2/plugins/no_backspace_delete/plugin.js","../../src/uikit.js","../../src/components/accordion.js","../../src/components/autogrow.js","../../src/components/checkbox.js","../../src/components/clipboard.js","../../src/components/datatable.js","../../src/components/datepicker.js","../../src/components/dismiss.js","../../src/components/dropdown.js","../../src/components/dropzone.js","../../src/components/fetch.js","../../src/components/highlight.js","../../src/components/input.js","../../src/components/offcanvas.js","../../src/components/password.js","../../src/components/pincode.js","../../src/components/tab.js","../../src/components/theme.js","../../src/components/toast.js","../../src/components/toggle.js","../../src/components/tooltip.js","../../src/components/scroll.js","../../src/components/scrollspy.js","../../src/components/select.js"],"sourcesContent":["export default {\r\n    prefix: 'uk',\r\n    elementPropName: 'uikitInstance',\r\n};","/**\r\n * Parse nested dataset key\r\n */\r\nexport const parseNestedDatasetKey = (keys, value, data) => {\r\n\tdata = data || {};\r\n\tlet key = keys[0].substr( 0, 1 ).toLowerCase() + keys[0].substr( 1 );\r\n\r\n\tif (!data[key]) {\r\n\t\tdata[key] = {};\r\n\t}\r\n\r\n\tif (keys.length > 1) {\r\n\t\tkeys.splice(0, 1);\r\n\t\tdata[key] = parseNestedDatasetKey(keys, value, data[key]);\r\n\t} else {\r\n\t\tdata[key] = value;\r\n\t}\r\n\r\n\treturn data;\r\n}\r\n\r\n/**\r\n * Parse nested dataset\r\n */\r\nexport const parseNestedDataset = (dataset) => {\r\n\tlet keys = Object.keys(dataset);\r\n\tlet data = {};\r\n    let value = null;\r\n\tfor (let i = 0; i < keys.length; i++) {\r\n\t\tlet key = keys[i];\r\n\t\tlet splat = key.split('-');\r\n\r\n        try {\r\n            value = JSON.parse(dataset[key]);\r\n        } catch (error) {\r\n            value = dataset[key];\r\n        }\r\n\r\n\t\tdata = parseNestedDatasetKey(splat, value, data);\r\n\t}\r\n\r\n\treturn data;\r\n}\r\n\r\n/**\r\n * A native JS extend() function\r\n *\r\n * Returns a new object instead, preserving all of the original objects\r\n * and their properties. Supported back to IE6.\r\n *\r\n * Usage:\r\n * 1.- Pass in the objects to merge as arguments.\r\n * 2.- For a deep extend, set the first argument to `true`.\r\n *\r\n * Example:\r\n * const object1 = {\r\n *     apple: 0,\r\n *     banana: { weight: 52, price: 100 },\r\n *     cherry: 97\r\n * };\r\n * const object2 = {\r\n *     banana: { price: 200 },\r\n *     durian: 100\r\n * };\r\n * const object3 = {\r\n *     apple: 'yum',\r\n *     pie: 3.214,\r\n *     applePie: true\r\n * }\r\n *\r\n * // create a new object by combining two or more objects:\r\n * const newObjectShallow = extend(object1, object2, object3);\r\n * const newObjectDeep = extend(true, object1, object2, object3);\r\n *\r\n * All credits to author.\r\n * https://gomakethings.com/vanilla-javascript-version-of-jquery-extend/\r\n * \r\n * @returns {Object}\r\n */\r\nexport const extend = (...options) => {\r\n    let extended = {};\r\n    let deep = false;\r\n    let i = 0;\r\n    let length = options.length;\r\n\r\n    // check if a deep merge\r\n    if (typeof options[0] === 'boolean') {\r\n        deep = options[0];\r\n        i ++;\r\n    }\r\n\r\n    // merge the object into the extended object\r\n    let merge = (obj) => {\r\n        for (const prop in obj) if (Object.prototype.hasOwnProperty.call(obj, prop)) {\r\n            // if deep merge and property is an object, merge properties\r\n            if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\r\n                extended[prop] = extend(true, extended[prop], obj[prop]);\r\n            } else {\r\n                extended[prop] = obj[prop];\r\n            }\r\n        }\r\n    };\r\n\r\n    // loop through each object and conduct a merge\r\n    for (; i < length; i++) {\r\n        let obj = options[i];\r\n        merge(obj);\r\n    }\r\n\r\n    return extended;\r\n};\r\n\r\n/**\r\n * Deep clone object\r\n * \r\n * @param {Object} obj \r\n * @returns {Object}\r\n */\r\nexport const deepClone = (obj) => {\r\n    if (obj === null) return null;\r\n\r\n    let clone = Object.assign({}, obj);\r\n\r\n    Object.keys(clone).forEach((key) => {\r\n        return clone[key] = typeof obj[key] === 'object' ? deepClone(obj[key]) : obj[key];\r\n    });\r\n\r\n    if (Array.isArray(obj)) {\r\n        clone.length = obj.length;\r\n\r\n        return Array.from(clone);\r\n    }\r\n\r\n    return clone;\r\n};\r\n\r\n/**\r\n * Replace object keys\r\n */\r\nexport const replaceObjectKeys = (object, search, replace = '') => {\r\n\tobject = Object.entries(object).map(([key, value]) => {\r\n        key = key == search ? key : key.replace(search, replace)\r\n        key = key.charAt(0).toLowerCase() + key.slice(1);\r\n        return [key, value];\r\n    });\r\n\r\n\treturn Object.fromEntries(object);\r\n}\r\n\r\n/**\r\n * Check if string is a valid html string\r\n */\r\nexport const isHtmlString = (string) => {\r\n\tif (typeof string === 'string' && string.indexOf('<') > -1) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\n/**\r\n * Check if element is visible\r\n */\r\nexport const isVisible = (element) => {\r\n    return !!(element.offsetWidth || element.offsetHeight || element.getClientRects().length);\r\n}\r\n\r\n/**\r\n * Convert HTML string to DOM node\r\n * \r\n * @param {string} html\r\n * @returns {?HTMLElement}\r\n */\r\nexport const stringToDom = (html) => {\r\n\tif (html instanceof HTMLElement) {\r\n        return html;\r\n    }\r\n\r\n    if (isHtmlString(html)) {\r\n        const template = document.createElement('template');\r\n        template.innerHTML = html.trim();\r\n\r\n        return template.content.firstChild;\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n/**\r\n * Escape HTML tags\r\n */\r\nexport const escapeHtml = (html) => {\r\n\treturn html.replace(\r\n\t\t/[&<>'\"]/g,\r\n\t\ttag =>\r\n\t\t\t({\r\n\t\t\t'&': '&amp;',\r\n\t\t\t'<': '&lt;',\r\n\t\t\t'>': '&gt;',\r\n\t\t\t\"'\": '&#39;',\r\n\t\t\t'\"': '&quot;'\r\n\t\t\t}[tag] || tag)\r\n\t\t);\r\n}\r\n\r\n/**\r\n * Unescape HTML tags\r\n */\r\nexport const unescapeHtml = (html) => {\r\n\treturn html.replace(\r\n\t\t/&amp;|&lt;|&gt;|&#39;|&quot;/g,\r\n\t\ttag =>\r\n\t\t\t({\r\n\t\t\t'&amp;': '&',\r\n\t\t\t'&lt;': '<',\r\n\t\t\t'&gt;': '>',\r\n\t\t\t'&#39;': \"'\",\r\n\t\t\t'&quot;': '\"'\r\n\t\t\t}[tag] || tag)\r\n\t\t);\r\n}\r\n\r\n/**\r\n * Trim HTML starting white spaces\r\n */\r\nexport const trimHtml = (html) => {\r\n\tlet matches = html.match(/ +/g);\r\n    let initial = matches[0].length;\r\n    let regex = RegExp(`\\n {${initial}}`, 'g');\r\n\r\n    return html.replace(regex, '\\n').trim();\r\n}\r\n\r\n/**\r\n * Checks if value is a number\r\n */\r\nexport const isNumber = (value) => {\r\n    return !isNaN(parseFloat(value)) && isFinite(value);\r\n}\r\n\r\n/**\r\n * Show element\r\n */\r\nexport const showElement = (element, display = 'inherit') => {\r\n    if (!element) return;\r\n\r\n    element.style.display = display;\r\n}\r\n\r\n/**\r\n * Hide element\r\n */\r\nexport const hideElement = (element, display = 'none') => {\r\n    if (!element) return;\r\n\r\n    element.style.display = display;\r\n}\r\n\r\n/**\r\n * Set styles\r\n */\r\nexport const styles = (element, styles = {}) => {\r\n    if (!element) return;\r\n\r\n    for (const styleName in styles) {\r\n        element.style[styleName] = styles[styleName];\r\n    }\r\n}\r\n\r\n/**\r\n * Set multiple attributes on element\r\n */\r\nexport const setAttributes = (element, attributes = {}) => {\r\n    if (!element) return;\r\n\r\n    for (const attribute in attributes) {\r\n        element.setAttribute(kebabCase(attribute), attributes[attribute]);\r\n    }\r\n}\r\n\r\n/**\r\n * Remove multiple attributes from element\r\n */\r\nexport const removeAttributes = (element, attributes = []) => {\r\n    if (!element) return;\r\n\r\n    for (const attribute of attributes) {\r\n        element.removeAttribute(kebabCase(attribute));\r\n    }\r\n}\r\n\r\n/**\r\n * Add class\r\n */\r\nexport const addClass = (element, classNames) => {\r\n    if (!element || !classNames) return;\r\n\r\n    classNames = classNames ? classNames.split(' ') : [];\r\n    element.classList.add(...classNames);\r\n}\r\n\r\n/**\r\n * Remove class\r\n */\r\nexport const removeClass = (element, classNames) => {\r\n    if (!element || !classNames) return;\r\n\r\n    classNames = classNames ? classNames.split(' ') : [];\r\n    element.classList.remove(...classNames);\r\n}\r\n\r\n/**\r\n * Adds a color-scheme meta tag to the document head\r\n */\r\nexport const createColorSchemeMeta = (theme) => {\r\n    const themeMetaTag = document.querySelector('meta[name=\"color-scheme\"]');\r\n    const meta = document.createElement('meta');\r\n\r\n    if (!themeMetaTag) {\r\n        meta.name = 'color-scheme';\r\n        meta.content = theme;\r\n        document.head.appendChild(meta);\r\n\r\n        return;\r\n    }\r\n\r\n    themeMetaTag.setAttribute('content', theme);\r\n}\r\n\r\n/**\r\n * Sets the dark mode theme\r\n */\r\nexport const setTheme = (theme = 'dark') => {\r\n\tdocument.documentElement.classList.add(theme);\r\n    createColorSchemeMeta(theme);\r\n}\r\n\r\n/**\r\n * Removes the dark mode theme\r\n */\r\nexport const removeTheme = (theme = 'dark') => {\r\n\tdocument.documentElement.classList.remove(theme);\r\n    createColorSchemeMeta('light');\r\n}\r\n\r\n/**\r\n * Returns the first element that matches the selector\r\n * \r\n * @param {(string|HTMLElement)} selector\r\n * @param {HTMLElement} context\r\n * @returns {?HTMLElement}\r\n */\r\nexport const getElement = (selector, context = document) => {\r\n\tif (selector instanceof HTMLElement) {\r\n        return selector;\r\n    }\r\n\r\n    return typeof selector === 'string' \r\n        ? context.querySelector(selector) \r\n        : null;\r\n}\r\n\r\n/**\r\n * Returns multiple elements that match the selector\r\n * \r\n * @param {(string|NodeList)} selector\r\n * @param {HTMLElement} context\r\n * @returns {NodeList}\r\n */\r\nexport const getElements = (selector, context = document) => {\r\n\tif (selector instanceof NodeList) {\r\n        return selector;\r\n    }\r\n\r\n    return context.querySelectorAll(selector);\r\n}\r\n\r\n/**\r\n * Get a nested object property with dot (.) notation\r\n * \r\n * @param {object} data \r\n * @param {string} key \r\n * @returns \r\n */\r\nexport const deepGet = (data, key) => {\r\n    key = key.split('.');\r\n\r\n    return key.reduce((xs, x) => {\r\n        return xs?.[x] ?? undefined;\r\n    }, data);\r\n}\r\n\r\n/**\r\n * Capitalize the first letter of a string\r\n */\r\nexport const capitalize = string => {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n\r\n/**\r\n * Convert string to camel case\r\n */\r\nexport const camelCase = string => {\r\n    return string\r\n        .replace(/(?:^\\w|[A-Z]|\\b\\w)/g, (word, index) => {\r\n            return index === 0 ? word.toLowerCase() : word.toUpperCase();\r\n        })\r\n        .replace(/\\s+/g, '');\r\n}\r\n\r\n/**\r\n * Convert string to kebab case\r\n */\r\nexport const kebabCase = string => {\r\n    return string\r\n        .replace(/[A-Z]/g, (letter) => `-${letter.toLowerCase()}`);\r\n}\r\n\r\n/**\r\n * Converts a string to a URL-friendly slug\r\n */\r\nexport const slug = string => {\r\n    return string\r\n        .toLowerCase()\r\n        .trim()\r\n        .replace(/[^\\w\\s-]/g, '')\r\n        .replace(/[\\s_-]+/g, '-')\r\n        .replace(/^-+|-+$/g, '');\r\n}\r\n\r\n/**\r\n * Shuffle a string \r\n * \r\n * @param {String} string \r\n */\r\nexport const shuffle = string => {\r\n    return [...string].sort(()=>Math.random()-.5).join('');\r\n}\r\n\r\n/**\r\n * Random string generator \r\n * \r\n * @param {Number} length Accepts a number between 1 and 16\r\n */\r\nexport const randomString = (length) => {\r\n    length = length >= 1 && length <= 16 ? length : 16; \r\n\r\n    const string = String(\r\n        Date.now().toString(24) + Math.random().toString(24)\r\n    ).replace(/\\./g, '');\r\n\r\n    return string.substring(string.length - length);\r\n}\r\n\r\n/**\r\n * Random number generator \r\n * \r\n * @param {Number} length Accepts a number between 1 and 24\r\n */\r\nexport const randomNumber = (length) => {\r\n    length = length >= 1 && length <= 24 ? length : 24; \r\n\r\n    let string = String(\r\n        Date.now().toString() + Math.random().toString()\r\n    ).replace(/\\./g, '');\r\n    string = shuffle(string);\r\n\r\n    return string.substring(string.length - length);\r\n}","import config from './config.js';\r\nimport { extend, getElement, kebabCase } from './utils.js';\r\n\r\nwindow.UIkit = window.UIkit || {};\r\n\r\nHTMLElement.prototype.storeUikitInstance = function(component, instance) {\r\n    if (!this[config.elementPropName]) {\r\n        this[config.elementPropName] = {};\r\n    }\r\n\r\n    this[config.elementPropName][component] = instance;\r\n};\r\n\r\nUIkit.config = config;\r\nUIkit.globalConfig = {};\r\nUIkit.store = {};\r\nUIkit.events = {};\r\nUIkit.components = [];\r\n\r\nUIkit.setConfig = (options) => {\r\n    options = options instanceof Object ? options : {};\r\n    UIkit.globalConfig = extend(UIkit.globalConfig, options);\r\n};\r\n\r\nUIkit.register = (components) => {\r\n    for (const name in components) {\r\n        UIkit[name] = (...args) => {\r\n            const element = args[0] instanceof HTMLElement \r\n                ? args[0] \r\n                : typeof args[0] === 'string' \r\n                ? getElement(args[0]) \r\n                : null;\r\n    \r\n            const options = (args[1] instanceof Object) && !(args[1] instanceof HTMLElement) \r\n                ? args[1] \r\n                : args.length === 1 && (args[0] instanceof Object) && !(args[0] instanceof HTMLElement) \r\n                ? args[0] \r\n                : undefined;\r\n    \r\n            if (element) {\r\n                if (element[config.elementPropName]) {\r\n                    if ((!options || Object.keys(options).length === 0) && element[config.elementPropName][name]) {\r\n                        return element[config.elementPropName][name];\r\n                    }\r\n        \r\n                    if (options && Object.keys(options).length > 0 && element[config.elementPropName][name]) {\r\n                        element[config.elementPropName][name]?.destroy();\r\n                    }\r\n                }\r\n            }\r\n        \r\n            const instance = (args[0] instanceof Object) && !(args[0] instanceof HTMLElement) \r\n                ? new components[name](options)\r\n                : new components[name](element, options);\r\n    \r\n            if (element) {\r\n                element.storeUikitInstance(name, instance);\r\n            }\r\n        \r\n            return instance;\r\n        };\r\n\r\n        // Add to autoload list\r\n        UIkit.components.push(name);\r\n    }\r\n};\r\n\r\nUIkit.autoload = (filter, context) => {\r\n    context = context ?? document;\r\n    const components = filter instanceof Array ? filter : UIkit.components;\r\n\r\n    components.forEach((component) => {\r\n        const componentName = kebabCase(component);\r\n        const elements = context.querySelectorAll(`[data-${config.prefix}-${componentName}=true]`);\r\n\r\n        elements.forEach((element) => {\r\n            try {\r\n                window.UIkit[component](element);\r\n            } catch (error) {\r\n                console.error(error);\r\n            }\r\n        });\r\n    });\r\n};","import { \r\n    getElement, \r\n    parseNestedDataset, \r\n    replaceObjectKeys, \r\n    extend, \r\n    addClass, \r\n    removeClass, \r\n    capitalize \r\n} from './utils.js';\r\n\r\nexport default class Component {\r\n    constructor(options) {\r\n\r\n        /**\r\n         * Component data object.\r\n         */\r\n        this._component = extend(true, {\r\n            name: null,\r\n            element: null,\r\n            defaultConfig: {\r\n                classes: {},\r\n                debug: false,\r\n                maxMobileWidth: '640px'\r\n            },\r\n            config: {},\r\n            storage: false,\r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        }, options);\r\n        \r\n        /**\r\n         * The global component config.\r\n         */\r\n        const globalConfig = UIkit.globalConfig[this._component.name] || {};\r\n        \r\n        /**\r\n         * The component element.\r\n         */\r\n        this._element = getElement(this._component.element);\r\n        \r\n        /**\r\n         * The timeout ID.\r\n         */\r\n        this._timeout = undefined;\r\n\r\n        /**\r\n         * Get component config from dataset.\r\n         */\r\n        const getDatasetConfig = () => {\r\n            const config = {};\r\n            let dataset = this._element ? this._element.dataset : null;\r\n            dataset = dataset ? parseNestedDataset(dataset) : {};\r\n\r\n            for (const key in dataset) {\r\n                if (key.substring(0, this._component.name.length) === this._component.name) {\r\n                    config[key] = dataset[key];\r\n                }\r\n            }\r\n\r\n            return replaceObjectKeys(config, this._component.name);\r\n        };\r\n\r\n        /**\r\n         * Transforms config\r\n         * \r\n         * @param {object} config\r\n         * @returns {object}\r\n         */\r\n        const configFactory = (config) => {\r\n            config = config instanceof Object ? config : {};\r\n            options = {\r\n                classes: {}\r\n            };\r\n\r\n            if (config['removeClasses'] instanceof Object) {         \r\n                for (const key in config['removeClasses']) {\r\n                    const classes = config['removeClasses'][key].split(' ') || [];\r\n                    const existingClasses = typeof this._config.classes[key] === 'string' \r\n                        ? this._config.classes[key].split(' ') \r\n                        : [];\r\n\r\n                    options.classes[key] = existingClasses.filter(x => !classes.includes(x)).join(' ');\r\n                    this._config.classes[key] = options.classes[key] !== '' ? options.classes[key] : null;\r\n                }\r\n\r\n                delete config['removeClasses'];\r\n            }\r\n\r\n            if (config['addClasses'] instanceof Object) {         \r\n                for (const key in config['addClasses']) {\r\n                    const classes = config['addClasses'][key].split(' ') || [];\r\n                    const existingClasses = typeof this._config.classes[key] === 'string' \r\n                        ? this._config.classes[key].split(' ') \r\n                        : [];\r\n\r\n                    const filteredClasses = classes.filter(x => !existingClasses.includes(x));\r\n                    this._config.classes[key] = filteredClasses.length > 0 \r\n                        ? this._config.classes[key] + ' ' + filteredClasses.join(' ') \r\n                        : this._config.classes[key];\r\n                    options.classes[key] = this._config.classes[key];\r\n                }\r\n\r\n                delete config['addClasses'];\r\n            }\r\n\r\n            for (const key in config) {\r\n                options[key] = config[key];\r\n            }\r\n   \r\n            return options;\r\n        };\r\n\r\n        /**\r\n         * Merge all configurations.\r\n         */\r\n        this._config = extend(true, this._component.defaultConfig, globalConfig);\r\n\r\n        this._config = extend(\r\n            true,\r\n            this._config,\r\n            configFactory(this._component.config),\r\n            configFactory(getDatasetConfig())\r\n        );\r\n\r\n        /**\r\n         * Lock the listed config to the provided values.\r\n         * \r\n         * @param {object} config\r\n         */\r\n        this._lockConfig = (config) => {\r\n            config = config instanceof Object ? config : {};\r\n\r\n            this._config = extend(true, this._config, config);\r\n        };\r\n\r\n        /**\r\n         * Get the current transition state.\r\n         */\r\n        this._isTransitioning = false;\r\n\r\n        /**\r\n         * Events storage.\r\n         */\r\n        this._events = {};\r\n\r\n        /**\r\n         * Allow local or session storage.\r\n         */\r\n        if (this._component.storage) {\r\n            this._config = extend({\r\n                storage: 'local',\r\n            }, this._config);\r\n\r\n            this._storage = {\r\n                set: (key, value) => {\r\n                    key = `${this._component.name}_${key}`;\r\n                    window[`${this._config.storage}Storage`].setItem(key, value);\r\n                },\r\n                get: (key) => {\r\n                    key = `${this._component.name}_${key}`;\r\n                    \r\n                    return window[`${this._config.storage}Storage`].getItem(key);\r\n                },\r\n                remove: (key) => {\r\n                    key = `${this._component.name}_${key}`;\r\n                    window[`${this._config.storage}Storage`].removeItem(key);\r\n                }\r\n            };\r\n        }\r\n\r\n        /**\r\n         * Enable the use of enter transitions config for component.\r\n         */\r\n        if (this._component.transitions.enter) {\r\n            this._config = extend({\r\n                transitionEnter: null,\r\n                transitionEnterStart: null,\r\n                transitionEnterEnd: null\r\n            }, this._config);\r\n        }\r\n\r\n        /**\r\n         * Enable the use of leave transitions config for component.\r\n         */\r\n        if (this._component.transitions.leave) {\r\n            this._config = extend({\r\n                transitionLeave: null,\r\n                transitionLeaveStart: null,\r\n                transitionLeaveEnd: null\r\n            }, this._config);\r\n        }\r\n\r\n        /**\r\n         * Check if component is using the transition options.\r\n         */\r\n        this._hasTransition = this._config.transitionEnter || this._config.transitionLeave \r\n            ? true \r\n            : false;\r\n\r\n        /**\r\n         * Run a transition/animation.\r\n         * \r\n         * @param {string} type transitionEnter/transitionLeave\r\n         * @param {HTMLElement} element \r\n         * @param {function} callback\r\n         * @returns \r\n         */\r\n        this._transition = (type, element, callback) => {\r\n            let transitionEvent = 'transitionend';\r\n            callback =  typeof callback === 'function' ? callback : () => void 0;\r\n\r\n            if (!this._config[`${type}`]) {\r\n                return false;\r\n            }\r\n\r\n            const transitionCleanup = (element) => {\r\n                const transitions = ['transitionEnter', 'transitionLeave'];\r\n    \r\n                for (const transition of transitions) {\r\n                    removeClass(element, this._config[`${transition}`]);\r\n                    removeClass(element, this._config[`${transition}Start`]);\r\n                    removeClass(element, this._config[`${transition}End`]);\r\n                }\r\n            };\r\n\r\n            transitionCleanup(element);\r\n            addClass(element, this._config[`${type}`]);\r\n            addClass(element, this._config[`${type}Start`]);\r\n\r\n            let animationDuration = parseFloat(window.getComputedStyle(element).animationDuration);\r\n\r\n            transitionEvent = isNaN(animationDuration) || animationDuration <= 0 \r\n                ? transitionEvent \r\n                : 'animationend';\r\n            \r\n            const _handler = (e) => {\r\n                this._isTransitioning = false;\r\n                callback(e);\r\n                removeClass(element, this._config[`${type}`]);\r\n                removeClass(element, this._config[`${type}End`]);\r\n            }\r\n\r\n            this._one(element, transitionEvent.replace('end', 'start'), () => {\r\n                this._isTransitioning = true;\r\n            });\r\n \r\n            this._one(element, transitionEvent, _handler);\r\n\r\n            window.requestAnimationFrame(() => {\r\n                removeClass(element, this._config[`${type}Start`]);\r\n                addClass(element, this._config[`${type}End`]);\r\n            });\r\n\r\n            return true;\r\n        };\r\n\r\n        /**\r\n         * Store events.\r\n         * \r\n         * @param {HTMLElement} target \r\n         * @param {string} eventName \r\n         * @param {function} handler \r\n         * @param {boolean|object} options \r\n         * @returns \r\n         */\r\n        this._storeEvent = (target, eventName, handler, options) => {\r\n            options = typeof options === 'boolean' ? { useCapture: options } : options;\r\n            const eventItem = extend({\r\n                once: false,\r\n                passive: false,\r\n                useCapture: false,\r\n                type: eventName,\r\n                listener: handler,\r\n                target: target\r\n            }, options);\r\n\r\n            if (target === window && !UIkit.events[this._component.name]) {\r\n                UIkit.events[this._component.name]= {};\r\n                UIkit.events[this._component.name][eventName] = [ eventItem ];\r\n\r\n                return;\r\n            }\r\n\r\n            if (target === window && UIkit.events[this._component.name][eventName]) {\r\n                UIkit.events[this._component.name][eventName].push(eventItem);\r\n\r\n                return;\r\n            }\r\n\r\n            if (!this._events[eventName]) {\r\n                this._events[eventName] = [ eventItem ];\r\n\r\n                return;\r\n            }\r\n\r\n            this._events[eventName].push(eventItem);\r\n        };\r\n\r\n        /**\r\n         * Remove stored events.\r\n         * \r\n         * @param {string} eventName \r\n         * @param {HTMLElement} target \r\n         */\r\n        this._removeEvent = (eventName = null, target = null) => {\r\n            for (const name in this._events) {\r\n\r\n                if (eventName !== null && eventName !== name) {\r\n                    continue;\r\n                }\r\n\r\n                for (const item of this._events[name]) {\r\n\r\n                    item.target.removeEventListener(item.type, item.listener, {\r\n                        once: item.once,\r\n                        passive: item.passive,\r\n                        useCapture: item.useCapture\r\n                    });\r\n\r\n                    if (target !== null && target === item.target) {\r\n                        this._events[name].splice(this._events[name].indexOf(item), 1);\r\n\r\n                        if (this._events[name].length === 0) {\r\n                            delete this._events[name];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Generate a prefixed event name.\r\n         * \r\n         * @param {string} eventName \r\n         * @returns \r\n         */\r\n        this._prefixedEventName = (eventName) => {\r\n            return UIkit.config.prefix + '.' + this._component.name + '.' + eventName;\r\n        };\r\n\r\n        /**\r\n         * Create new configs to be used by the component.\r\n         * \r\n         * @param {array} configNames \r\n         * @param {array} allowedOptions \r\n         * @returns \r\n         */\r\n        this._createConfig = (configNames = [], allowedOptions = []) => {\r\n            configNames = configNames instanceof Array ? configNames : [];\r\n            allowedOptions = allowedOptions instanceof Array ? allowedOptions : [];\r\n            configNames.push('');\r\n            const config = {};\r\n            const items = {};\r\n\r\n            for (let name of configNames) {\r\n                name = name.replace(/[^a-z0-9]/gi, '').toLowerCase().trim();\r\n                items[name] = {};\r\n\r\n                for (let option of allowedOptions) {\r\n                    const newName = name !== '' ? name + capitalize(option) : option;\r\n                    config[newName] = null;\r\n                    items[name][option] = name == '' ? option : newName;\r\n                }\r\n            }\r\n\r\n            this._config = extend(\r\n                true,\r\n                config,\r\n                this._config,\r\n                getDatasetConfig()\r\n            );\r\n\r\n            return items;\r\n        };\r\n\r\n        /**\r\n         * Checks for mobile devices\r\n         */\r\n        this._isMobile = () => {\r\n            return window.matchMedia(`(max-width: ${this._config.maxMobileWidth})`).matches;\r\n        };\r\n\r\n        /**\r\n         * Shows debugging messages when turned on.\r\n         * \r\n         * @param {string} message \r\n         * @param {string} type log, error, info, warn\r\n         */\r\n        this._debug = (message, type = 'error') => {\r\n            if (!this._config.debug) return;\r\n\r\n            console[type](message);\r\n        };\r\n\r\n        /**\r\n         * Remove stored instance on element.\r\n         * \r\n         * @param {HTMLElement} context \r\n         * @param {string} component \r\n         */\r\n        this._removeInstance = (element, component) => {\r\n            if (!element) return;\r\n\r\n            if (element[UIkit.config.elementPropName]) {\r\n                delete element[UIkit.config.elementPropName][component];\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Dispatch custom event.\r\n         * \r\n         * @param {string} eventName \r\n         * @param {?object} detail \r\n         * @param {?HTMLElement} context \r\n         */\r\n        this._dispatchEvent = (eventName, detail, context) => {\r\n            const element = context || this._element;\r\n            const callbackName = 'on' + capitalize(eventName);\r\n            const callback = this._config[callbackName];\r\n            detail = detail instanceof Object \r\n                ? { detail: { self: this, ...detail } } \r\n                : { detail: { self: this } } ;\r\n\r\n            if (callback instanceof Function) {\r\n                callback(detail.detail);\r\n            }\r\n\r\n            if (!element) return;\r\n            \r\n            setTimeout(() => {\r\n                element.dispatchEvent(new CustomEvent(this._prefixedEventName(eventName), detail));\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Add event listener.\r\n         * \r\n         * @param {HTMLElement} target \r\n         * @param {string} eventName \r\n         * @param {function} handler \r\n         * @param {(boolean|object)} options \r\n         */\r\n        this._on = (target, eventName, handler, options = false) => {\r\n            if (!target) return;\r\n\r\n            target.addEventListener(eventName, handler, options);\r\n            \r\n            setTimeout(() => {\r\n                this._storeEvent(target, eventName, handler, options);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Remove event listener.\r\n         * \r\n         * @param {HTMLElement} target \r\n         * @param {string} eventName \r\n         * @param {function} handler \r\n         * @param {(boolean|object)} options \r\n         */\r\n        this._off = (target, eventName, handler, options = false) => {\r\n            if (!target) return;\r\n\r\n            this._removeEvent(eventName, target);\r\n            target.removeEventListener(eventName, handler, options);\r\n        }\r\n\r\n        /**\r\n         * Add event listener to be executed once.\r\n         * \r\n         * @param {HTMLElement} target \r\n         * @param {string} eventName \r\n         * @param {function} handler \r\n         */\r\n        this._one = (target, eventName, handler) => {\r\n            if (!target) return;\r\n\r\n            target.addEventListener(eventName, handler, { once : true });\r\n        }\r\n\r\n        /**\r\n         * Timer to execute to call a function.\r\n         * \r\n         * @param {function} handler \r\n         * @param {number} timeout \r\n         */\r\n        this._setTimeout = (handler, timeout) => {\r\n            clearTimeout(this._timeout);\r\n            this._timeout = setTimeout(handler, timeout);\r\n        }\r\n\r\n        if (UIkit.events[this._component.name]) {  \r\n            for (const key in UIkit.events[this._component.name]) {\r\n                const eventArray = UIkit.events[this._component.name][key];\r\n\r\n                for (const item of eventArray) {\r\n        \r\n                    item.target.removeEventListener(item.type, item.listener, {\r\n                        once: item.once,\r\n                        passive: item.passive,\r\n                        useCapture: item.useCapture\r\n                    });\r\n        \r\n                    eventArray.splice(eventArray.indexOf(item), 1);\r\n\r\n                    if (eventArray.length === 0) {\r\n                        delete UIkit.events[this._component.name];\r\n                    }\r\n                }\r\n            }          \r\n        }\r\n    }\r\n\r\n    /**\r\n     * Removes all events and stored data.\r\n     */\r\n    destroy() {\r\n        this._removeEvent();\r\n        this._removeInstance(this._element, this._component.name);\r\n    }\r\n\r\n    /**\r\n     * Retrieves component options\r\n     * \r\n     * @param {string} key \r\n     * @returns\r\n     */\r\n    config(key = null) {\r\n        if (key) {\r\n            return this._config[key];\r\n        }\r\n\r\n        return this._config;\r\n    }\r\n\r\n    /**\r\n     * Add event listener.\r\n     * \r\n     * @param {string} eventName \r\n     * @param {function} handler \r\n     * @param {(boolean|object)} options \r\n     */\r\n    on(eventName, handler, options = false) {\r\n        if (!this._element) return;\r\n\r\n        this._element.addEventListener(this._prefixedEventName(eventName), handler, options);\r\n        this._storeEvent(this._element, this._prefixedEventName(eventName), handler, options);\r\n    }\r\n\r\n    /**\r\n     * Remove event listener.\r\n     * \r\n     * @param {string} eventName \r\n     * @param {function} handler \r\n     * @param {(boolean|object)} options \r\n     */\r\n    off(eventName, handler, options = false) {\r\n        if (!this._element) return;\r\n\r\n        if (handler === undefined && options === false) {\r\n            this._removeEvent(this._prefixedEventName(eventName));\r\n        }\r\n\r\n        this._element.removeEventListener(this._prefixedEventName(eventName), handler, options);\r\n    }\r\n\r\n    /**\r\n     * Add event listener to be executed once.\r\n     * \r\n     * @param {string} eventName \r\n     * @param {function} handler \r\n     */\r\n    one(eventName, handler) {\r\n        if (!this._element) return;\r\n        \r\n        this._element.addEventListener(this._prefixedEventName(eventName), handler, { once : true });\r\n    }\r\n}","// base IIFE to define idiomorph\nvar Idiomorph = (function () {\n        'use strict';\n\n        //=============================================================================\n        // AND NOW IT BEGINS...\n        //=============================================================================\n        let EMPTY_SET = new Set();\n\n        // default configuration values, updatable by users now\n        let defaults = {\n            morphStyle: \"outerHTML\",\n            callbacks : {\n                beforeNodeAdded: noOp,\n                afterNodeAdded: noOp,\n                beforeNodeMorphed: noOp,\n                afterNodeMorphed: noOp,\n                beforeNodeRemoved: noOp,\n                afterNodeRemoved: noOp,\n                beforeAttributeUpdated: noOp,\n\n            },\n            head: {\n                style: 'merge',\n                shouldPreserve: function (elt) {\n                    return elt.getAttribute(\"im-preserve\") === \"true\";\n                },\n                shouldReAppend: function (elt) {\n                    return elt.getAttribute(\"im-re-append\") === \"true\";\n                },\n                shouldRemove: noOp,\n                afterHeadMorphed: noOp,\n            }\n        };\n\n        //=============================================================================\n        // Core Morphing Algorithm - morph, morphNormalizedContent, morphOldNodeTo, morphChildren\n        //=============================================================================\n        function morph(oldNode, newContent, config = {}) {\n\n            if (oldNode instanceof Document) {\n                oldNode = oldNode.documentElement;\n            }\n\n            if (typeof newContent === 'string') {\n                newContent = parseContent(newContent);\n            }\n\n            let normalizedContent = normalizeContent(newContent);\n\n            let ctx = createMorphContext(oldNode, normalizedContent, config);\n\n            return morphNormalizedContent(oldNode, normalizedContent, ctx);\n        }\n\n        function morphNormalizedContent(oldNode, normalizedNewContent, ctx) {\n            if (ctx.head.block) {\n                let oldHead = oldNode.querySelector('head');\n                let newHead = normalizedNewContent.querySelector('head');\n                if (oldHead && newHead) {\n                    let promises = handleHeadElement(newHead, oldHead, ctx);\n                    // when head promises resolve, call morph again, ignoring the head tag\n                    Promise.all(promises).then(function () {\n                        morphNormalizedContent(oldNode, normalizedNewContent, Object.assign(ctx, {\n                            head: {\n                                block: false,\n                                ignore: true\n                            }\n                        }));\n                    });\n                    return;\n                }\n            }\n\n            if (ctx.morphStyle === \"innerHTML\") {\n\n                // innerHTML, so we are only updating the children\n                morphChildren(normalizedNewContent, oldNode, ctx);\n                return oldNode.children;\n\n            } else if (ctx.morphStyle === \"outerHTML\" || ctx.morphStyle == null) {\n                // otherwise find the best element match in the new content, morph that, and merge its siblings\n                // into either side of the best match\n                let bestMatch = findBestNodeMatch(normalizedNewContent, oldNode, ctx);\n\n                // stash the siblings that will need to be inserted on either side of the best match\n                let previousSibling = bestMatch?.previousSibling;\n                let nextSibling = bestMatch?.nextSibling;\n\n                // morph it\n                let morphedNode = morphOldNodeTo(oldNode, bestMatch, ctx);\n\n                if (bestMatch) {\n                    // if there was a best match, merge the siblings in too and return the\n                    // whole bunch\n                    return insertSiblings(previousSibling, morphedNode, nextSibling);\n                } else {\n                    // otherwise nothing was added to the DOM\n                    return []\n                }\n            } else {\n                throw \"Do not understand how to morph style \" + ctx.morphStyle;\n            }\n        }\n\n\n        /**\n         * @param possibleActiveElement\n         * @param ctx\n         * @returns {boolean}\n         */\n        function ignoreValueOfActiveElement(possibleActiveElement, ctx) {\n            return ctx.ignoreActiveValue && possibleActiveElement === document.activeElement && possibleActiveElement !== document.body;\n        }\n\n        /**\n         * @param oldNode root node to merge content into\n         * @param newContent new content to merge\n         * @param ctx the merge context\n         * @returns {Element} the element that ended up in the DOM\n         */\n        function morphOldNodeTo(oldNode, newContent, ctx) {\n            if (ctx.ignoreActive && oldNode === document.activeElement) {\n                // don't morph focused element\n            } else if (newContent == null) {\n                if (ctx.callbacks.beforeNodeRemoved(oldNode) === false) return oldNode;\n\n                oldNode.remove();\n                ctx.callbacks.afterNodeRemoved(oldNode);\n                return null;\n            } else if (!isSoftMatch(oldNode, newContent)) {\n                if (ctx.callbacks.beforeNodeRemoved(oldNode) === false) return oldNode;\n                if (ctx.callbacks.beforeNodeAdded(newContent) === false) return oldNode;\n\n                oldNode.parentElement.replaceChild(newContent, oldNode);\n                ctx.callbacks.afterNodeAdded(newContent);\n                ctx.callbacks.afterNodeRemoved(oldNode);\n                return newContent;\n            } else {\n                if (ctx.callbacks.beforeNodeMorphed(oldNode, newContent) === false) return oldNode;\n\n                if (oldNode instanceof HTMLHeadElement && ctx.head.ignore) {\n                    // ignore the head element\n                } else if (oldNode instanceof HTMLHeadElement && ctx.head.style !== \"morph\") {\n                    handleHeadElement(newContent, oldNode, ctx);\n                } else {\n                    syncNodeFrom(newContent, oldNode, ctx);\n                    if (!ignoreValueOfActiveElement(oldNode, ctx)) {\n                        morphChildren(newContent, oldNode, ctx);\n                    }\n                }\n                ctx.callbacks.afterNodeMorphed(oldNode, newContent);\n                return oldNode;\n            }\n        }\n\n        /**\n         * This is the core algorithm for matching up children.  The idea is to use id sets to try to match up\n         * nodes as faithfully as possible.  We greedily match, which allows us to keep the algorithm fast, but\n         * by using id sets, we are able to better match up with content deeper in the DOM.\n         *\n         * Basic algorithm is, for each node in the new content:\n         *\n         * - if we have reached the end of the old parent, append the new content\n         * - if the new content has an id set match with the current insertion point, morph\n         * - search for an id set match\n         * - if id set match found, morph\n         * - otherwise search for a \"soft\" match\n         * - if a soft match is found, morph\n         * - otherwise, prepend the new node before the current insertion point\n         *\n         * The two search algorithms terminate if competing node matches appear to outweigh what can be achieved\n         * with the current node.  See findIdSetMatch() and findSoftMatch() for details.\n         *\n         * @param {Element} newParent the parent element of the new content\n         * @param {Element } oldParent the old content that we are merging the new content into\n         * @param ctx the merge context\n         */\n        function morphChildren(newParent, oldParent, ctx) {\n\n            let nextNewChild = newParent.firstChild;\n            let insertionPoint = oldParent.firstChild;\n            let newChild;\n\n            // run through all the new content\n            while (nextNewChild) {\n\n                newChild = nextNewChild;\n                nextNewChild = newChild.nextSibling;\n\n                // if we are at the end of the exiting parent's children, just append\n                if (insertionPoint == null) {\n                    if (ctx.callbacks.beforeNodeAdded(newChild) === false) return;\n\n                    oldParent.appendChild(newChild);\n                    ctx.callbacks.afterNodeAdded(newChild);\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // if the current node has an id set match then morph\n                if (isIdSetMatch(newChild, insertionPoint, ctx)) {\n                    morphOldNodeTo(insertionPoint, newChild, ctx);\n                    insertionPoint = insertionPoint.nextSibling;\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // otherwise search forward in the existing old children for an id set match\n                let idSetMatch = findIdSetMatch(newParent, oldParent, newChild, insertionPoint, ctx);\n\n                // if we found a potential match, remove the nodes until that point and morph\n                if (idSetMatch) {\n                    insertionPoint = removeNodesBetween(insertionPoint, idSetMatch, ctx);\n                    morphOldNodeTo(idSetMatch, newChild, ctx);\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // no id set match found, so scan forward for a soft match for the current node\n                let softMatch = findSoftMatch(newParent, oldParent, newChild, insertionPoint, ctx);\n\n                // if we found a soft match for the current node, morph\n                if (softMatch) {\n                    insertionPoint = removeNodesBetween(insertionPoint, softMatch, ctx);\n                    morphOldNodeTo(softMatch, newChild, ctx);\n                    removeIdsFromConsideration(ctx, newChild);\n                    continue;\n                }\n\n                // abandon all hope of morphing, just insert the new child before the insertion point\n                // and move on\n                if (ctx.callbacks.beforeNodeAdded(newChild) === false) return;\n\n                oldParent.insertBefore(newChild, insertionPoint);\n                ctx.callbacks.afterNodeAdded(newChild);\n                removeIdsFromConsideration(ctx, newChild);\n            }\n\n            // remove any remaining old nodes that didn't match up with new content\n            while (insertionPoint !== null) {\n\n                let tempNode = insertionPoint;\n                insertionPoint = insertionPoint.nextSibling;\n                removeNode(tempNode, ctx);\n            }\n        }\n\n        //=============================================================================\n        // Attribute Syncing Code\n        //=============================================================================\n\n        /**\n         * @param attr {String} the attribute to be mutated\n         * @param to {Element} the element that is going to be updated\n         * @param updateType {(\"update\"|\"remove\")}\n         * @param ctx the merge context\n         * @returns {boolean} true if the attribute should be ignored, false otherwise\n         */\n        function ignoreAttribute(attr, to, updateType, ctx) {\n            if(attr === 'value' && ctx.ignoreActiveValue && to === document.activeElement){\n                return true;\n            }\n            return ctx.callbacks.beforeAttributeUpdated(attr, to, updateType) === false;\n        }\n\n        /**\n         * syncs a given node with another node, copying over all attributes and\n         * inner element state from the 'from' node to the 'to' node\n         *\n         * @param {Element} from the element to copy attributes & state from\n         * @param {Element} to the element to copy attributes & state to\n         * @param ctx the merge context\n         */\n        function syncNodeFrom(from, to, ctx) {\n            let type = from.nodeType\n\n            // if is an element type, sync the attributes from the\n            // new node into the new node\n            if (type === 1 /* element type */) {\n                const fromAttributes = from.attributes;\n                const toAttributes = to.attributes;\n                for (const fromAttribute of fromAttributes) {\n                    if (ignoreAttribute(fromAttribute.name, to, 'update', ctx)) {\n                        continue;\n                    }\n                    if (to.getAttribute(fromAttribute.name) !== fromAttribute.value) {\n                        to.setAttribute(fromAttribute.name, fromAttribute.value);\n                    }\n                }\n                // iterate backwards to avoid skipping over items when a delete occurs\n                for (let i = toAttributes.length - 1; 0 <= i; i--) {\n                    const toAttribute = toAttributes[i];\n                    if (ignoreAttribute(toAttribute.name, to, 'remove', ctx)) {\n                        continue;\n                    }\n                    if (!from.hasAttribute(toAttribute.name)) {\n                        to.removeAttribute(toAttribute.name);\n                    }\n                }\n            }\n\n            // sync text nodes\n            if (type === 8 /* comment */ || type === 3 /* text */) {\n                if (to.nodeValue !== from.nodeValue) {\n                    to.nodeValue = from.nodeValue;\n                }\n            }\n\n            if (!ignoreValueOfActiveElement(to, ctx)) {\n                // sync input values\n                syncInputValue(from, to, ctx);\n            }\n        }\n\n        /**\n         * @param from {Element} element to sync the value from\n         * @param to {Element} element to sync the value to\n         * @param attributeName {String} the attribute name\n         * @param ctx the merge context\n         */\n        function syncBooleanAttribute(from, to, attributeName, ctx) {\n            if (from[attributeName] !== to[attributeName]) {\n                let ignoreUpdate = ignoreAttribute(attributeName, to, 'update', ctx);\n                if (!ignoreUpdate) {\n                    to[attributeName] = from[attributeName];\n                }\n                if (from[attributeName]) {\n                    if (!ignoreUpdate) {\n                        to.setAttribute(attributeName, from[attributeName]);\n                    }\n                } else {\n                    if (!ignoreAttribute(attributeName, to, 'remove', ctx)) {\n                        to.removeAttribute(attributeName);\n                    }\n                }\n            }\n        }\n\n        /**\n         * NB: many bothans died to bring us information:\n         *\n         *  https://github.com/patrick-steele-idem/morphdom/blob/master/src/specialElHandlers.js\n         *  https://github.com/choojs/nanomorph/blob/master/lib/morph.jsL113\n         *\n         * @param from {Element} the element to sync the input value from\n         * @param to {Element} the element to sync the input value to\n         * @param ctx the merge context\n         */\n        function syncInputValue(from, to, ctx) {\n            if (from instanceof HTMLInputElement &&\n                to instanceof HTMLInputElement &&\n                from.type !== 'file') {\n\n                let fromValue = from.value;\n                let toValue = to.value;\n\n                // sync boolean attributes\n                syncBooleanAttribute(from, to, 'checked', ctx);\n                syncBooleanAttribute(from, to, 'disabled', ctx);\n\n                if (!from.hasAttribute('value')) {\n                    if (!ignoreAttribute('value', to, 'remove', ctx)) {\n                        to.value = '';\n                        to.removeAttribute('value');\n                    }\n                } else if (fromValue !== toValue) {\n                    if (!ignoreAttribute('value', to, 'update', ctx)) {\n                        to.setAttribute('value', fromValue);\n                        to.value = fromValue;\n                    }\n                }\n            } else if (from instanceof HTMLOptionElement) {\n                syncBooleanAttribute(from, to, 'selected', ctx)\n            } else if (from instanceof HTMLTextAreaElement && to instanceof HTMLTextAreaElement) {\n                let fromValue = from.value;\n                let toValue = to.value;\n                if (ignoreAttribute('value', to, 'update', ctx)) {\n                    return;\n                }\n                if (fromValue !== toValue) {\n                    to.value = fromValue;\n                }\n                if (to.firstChild && to.firstChild.nodeValue !== fromValue) {\n                    to.firstChild.nodeValue = fromValue\n                }\n            }\n        }\n\n        //=============================================================================\n        // the HEAD tag can be handled specially, either w/ a 'merge' or 'append' style\n        //=============================================================================\n        function handleHeadElement(newHeadTag, currentHead, ctx) {\n\n            let added = []\n            let removed = []\n            let preserved = []\n            let nodesToAppend = []\n\n            let headMergeStyle = ctx.head.style;\n\n            // put all new head elements into a Map, by their outerHTML\n            let srcToNewHeadNodes = new Map();\n            for (const newHeadChild of newHeadTag.children) {\n                srcToNewHeadNodes.set(newHeadChild.outerHTML, newHeadChild);\n            }\n\n            // for each elt in the current head\n            for (const currentHeadElt of currentHead.children) {\n\n                // If the current head element is in the map\n                let inNewContent = srcToNewHeadNodes.has(currentHeadElt.outerHTML);\n                let isReAppended = ctx.head.shouldReAppend(currentHeadElt);\n                let isPreserved = ctx.head.shouldPreserve(currentHeadElt);\n                if (inNewContent || isPreserved) {\n                    if (isReAppended) {\n                        // remove the current version and let the new version replace it and re-execute\n                        removed.push(currentHeadElt);\n                    } else {\n                        // this element already exists and should not be re-appended, so remove it from\n                        // the new content map, preserving it in the DOM\n                        srcToNewHeadNodes.delete(currentHeadElt.outerHTML);\n                        preserved.push(currentHeadElt);\n                    }\n                } else {\n                    if (headMergeStyle === \"append\") {\n                        // we are appending and this existing element is not new content\n                        // so if and only if it is marked for re-append do we do anything\n                        if (isReAppended) {\n                            removed.push(currentHeadElt);\n                            nodesToAppend.push(currentHeadElt);\n                        }\n                    } else {\n                        // if this is a merge, we remove this content since it is not in the new head\n                        if (ctx.head.shouldRemove(currentHeadElt) !== false) {\n                            removed.push(currentHeadElt);\n                        }\n                    }\n                }\n            }\n\n            // Push the remaining new head elements in the Map into the\n            // nodes to append to the head tag\n            nodesToAppend.push(...srcToNewHeadNodes.values());\n            log(\"to append: \", nodesToAppend);\n\n            let promises = [];\n            for (const newNode of nodesToAppend) {\n                log(\"adding: \", newNode);\n                let newElt = document.createRange().createContextualFragment(newNode.outerHTML).firstChild;\n                log(newElt);\n                if (ctx.callbacks.beforeNodeAdded(newElt) !== false) {\n                    if (newElt.href || newElt.src) {\n                        let resolve = null;\n                        let promise = new Promise(function (_resolve) {\n                            resolve = _resolve;\n                        });\n                        newElt.addEventListener('load', function () {\n                            resolve();\n                        });\n                        promises.push(promise);\n                    }\n                    currentHead.appendChild(newElt);\n                    ctx.callbacks.afterNodeAdded(newElt);\n                    added.push(newElt);\n                }\n            }\n\n            // remove all removed elements, after we have appended the new elements to avoid\n            // additional network requests for things like style sheets\n            for (const removedElement of removed) {\n                if (ctx.callbacks.beforeNodeRemoved(removedElement) !== false) {\n                    currentHead.removeChild(removedElement);\n                    ctx.callbacks.afterNodeRemoved(removedElement);\n                }\n            }\n\n            ctx.head.afterHeadMorphed(currentHead, {added: added, kept: preserved, removed: removed});\n            return promises;\n        }\n\n        //=============================================================================\n        // Misc\n        //=============================================================================\n\n        function log() {\n            //console.log(arguments);\n        }\n\n        function noOp() {\n        }\n\n        /*\n          Deep merges the config object and the Idiomoroph.defaults object to\n          produce a final configuration object\n         */\n        function mergeDefaults(config) {\n            let finalConfig = {};\n            // copy top level stuff into final config\n            Object.assign(finalConfig, defaults);\n            Object.assign(finalConfig, config);\n\n            // copy callbacks into final config (do this to deep merge the callbacks)\n            finalConfig.callbacks = {};\n            Object.assign(finalConfig.callbacks, defaults.callbacks);\n            Object.assign(finalConfig.callbacks, config.callbacks);\n\n            // copy head config into final config  (do this to deep merge the head)\n            finalConfig.head = {};\n            Object.assign(finalConfig.head, defaults.head);\n            Object.assign(finalConfig.head, config.head);\n            return finalConfig;\n        }\n\n        function createMorphContext(oldNode, newContent, config) {\n            config = mergeDefaults(config);\n            return {\n                target: oldNode,\n                newContent: newContent,\n                config: config,\n                morphStyle: config.morphStyle,\n                ignoreActive: config.ignoreActive,\n                ignoreActiveValue: config.ignoreActiveValue,\n                idMap: createIdMap(oldNode, newContent),\n                deadIds: new Set(),\n                callbacks: config.callbacks,\n                head: config.head\n            }\n        }\n\n        function isIdSetMatch(node1, node2, ctx) {\n            if (node1 == null || node2 == null) {\n                return false;\n            }\n            if (node1.nodeType === node2.nodeType && node1.tagName === node2.tagName) {\n                if (node1.id !== \"\" && node1.id === node2.id) {\n                    return true;\n                } else {\n                    return getIdIntersectionCount(ctx, node1, node2) > 0;\n                }\n            }\n            return false;\n        }\n\n        function isSoftMatch(node1, node2) {\n            if (node1 == null || node2 == null) {\n                return false;\n            }\n            return node1.nodeType === node2.nodeType && node1.tagName === node2.tagName\n        }\n\n        function removeNodesBetween(startInclusive, endExclusive, ctx) {\n            while (startInclusive !== endExclusive) {\n                let tempNode = startInclusive;\n                startInclusive = startInclusive.nextSibling;\n                removeNode(tempNode, ctx);\n            }\n            removeIdsFromConsideration(ctx, endExclusive);\n            return endExclusive.nextSibling;\n        }\n\n        //=============================================================================\n        // Scans forward from the insertionPoint in the old parent looking for a potential id match\n        // for the newChild.  We stop if we find a potential id match for the new child OR\n        // if the number of potential id matches we are discarding is greater than the\n        // potential id matches for the new child\n        //=============================================================================\n        function findIdSetMatch(newContent, oldParent, newChild, insertionPoint, ctx) {\n\n            // max id matches we are willing to discard in our search\n            let newChildPotentialIdCount = getIdIntersectionCount(ctx, newChild, oldParent);\n\n            let potentialMatch = null;\n\n            // only search forward if there is a possibility of an id match\n            if (newChildPotentialIdCount > 0) {\n                let potentialMatch = insertionPoint;\n                // if there is a possibility of an id match, scan forward\n                // keep track of the potential id match count we are discarding (the\n                // newChildPotentialIdCount must be greater than this to make it likely\n                // worth it)\n                let otherMatchCount = 0;\n                while (potentialMatch != null) {\n\n                    // If we have an id match, return the current potential match\n                    if (isIdSetMatch(newChild, potentialMatch, ctx)) {\n                        return potentialMatch;\n                    }\n\n                    // computer the other potential matches of this new content\n                    otherMatchCount += getIdIntersectionCount(ctx, potentialMatch, newContent);\n                    if (otherMatchCount > newChildPotentialIdCount) {\n                        // if we have more potential id matches in _other_ content, we\n                        // do not have a good candidate for an id match, so return null\n                        return null;\n                    }\n\n                    // advanced to the next old content child\n                    potentialMatch = potentialMatch.nextSibling;\n                }\n            }\n            return potentialMatch;\n        }\n\n        //=============================================================================\n        // Scans forward from the insertionPoint in the old parent looking for a potential soft match\n        // for the newChild.  We stop if we find a potential soft match for the new child OR\n        // if we find a potential id match in the old parents children OR if we find two\n        // potential soft matches for the next two pieces of new content\n        //=============================================================================\n        function findSoftMatch(newContent, oldParent, newChild, insertionPoint, ctx) {\n\n            let potentialSoftMatch = insertionPoint;\n            let nextSibling = newChild.nextSibling;\n            let siblingSoftMatchCount = 0;\n\n            while (potentialSoftMatch != null) {\n\n                if (getIdIntersectionCount(ctx, potentialSoftMatch, newContent) > 0) {\n                    // the current potential soft match has a potential id set match with the remaining new\n                    // content so bail out of looking\n                    return null;\n                }\n\n                // if we have a soft match with the current node, return it\n                if (isSoftMatch(newChild, potentialSoftMatch)) {\n                    return potentialSoftMatch;\n                }\n\n                if (isSoftMatch(nextSibling, potentialSoftMatch)) {\n                    // the next new node has a soft match with this node, so\n                    // increment the count of future soft matches\n                    siblingSoftMatchCount++;\n                    nextSibling = nextSibling.nextSibling;\n\n                    // If there are two future soft matches, bail to allow the siblings to soft match\n                    // so that we don't consume future soft matches for the sake of the current node\n                    if (siblingSoftMatchCount >= 2) {\n                        return null;\n                    }\n                }\n\n                // advanced to the next old content child\n                potentialSoftMatch = potentialSoftMatch.nextSibling;\n            }\n\n            return potentialSoftMatch;\n        }\n\n        function parseContent(newContent) {\n            let parser = new DOMParser();\n\n            // remove svgs to avoid false-positive matches on head, etc.\n            let contentWithSvgsRemoved = newContent.replace(/<svg(\\s[^>]*>|>)([\\s\\S]*?)<\\/svg>/gim, '');\n\n            // if the newContent contains a html, head or body tag, we can simply parse it w/o wrapping\n            if (contentWithSvgsRemoved.match(/<\\/html>/) || contentWithSvgsRemoved.match(/<\\/head>/) || contentWithSvgsRemoved.match(/<\\/body>/)) {\n                let content = parser.parseFromString(newContent, \"text/html\");\n                // if it is a full HTML document, return the document itself as the parent container\n                if (contentWithSvgsRemoved.match(/<\\/html>/)) {\n                    content.generatedByIdiomorph = true;\n                    return content;\n                } else {\n                    // otherwise return the html element as the parent container\n                    let htmlElement = content.firstChild;\n                    if (htmlElement) {\n                        htmlElement.generatedByIdiomorph = true;\n                        return htmlElement;\n                    } else {\n                        return null;\n                    }\n                }\n            } else {\n                // if it is partial HTML, wrap it in a template tag to provide a parent element and also to help\n                // deal with touchy tags like tr, tbody, etc.\n                let responseDoc = parser.parseFromString(\"<body><template>\" + newContent + \"</template></body>\", \"text/html\");\n                let content = responseDoc.body.querySelector('template').content;\n                content.generatedByIdiomorph = true;\n                return content\n            }\n        }\n\n        function normalizeContent(newContent) {\n            if (newContent == null) {\n                // noinspection UnnecessaryLocalVariableJS\n                const dummyParent = document.createElement('div');\n                return dummyParent;\n            } else if (newContent.generatedByIdiomorph) {\n                // the template tag created by idiomorph parsing can serve as a dummy parent\n                return newContent;\n            } else if (newContent instanceof Node) {\n                // a single node is added as a child to a dummy parent\n                const dummyParent = document.createElement('div');\n                dummyParent.append(newContent);\n                return dummyParent;\n            } else {\n                // all nodes in the array or HTMLElement collection are consolidated under\n                // a single dummy parent element\n                const dummyParent = document.createElement('div');\n                for (const elt of [...newContent]) {\n                    dummyParent.append(elt);\n                }\n                return dummyParent;\n            }\n        }\n\n        function insertSiblings(previousSibling, morphedNode, nextSibling) {\n            let stack = []\n            let added = []\n            while (previousSibling != null) {\n                stack.push(previousSibling);\n                previousSibling = previousSibling.previousSibling;\n            }\n            while (stack.length > 0) {\n                let node = stack.pop();\n                added.push(node); // push added preceding siblings on in order and insert\n                morphedNode.parentElement.insertBefore(node, morphedNode);\n            }\n            added.push(morphedNode);\n            while (nextSibling != null) {\n                stack.push(nextSibling);\n                added.push(nextSibling); // here we are going in order, so push on as we scan, rather than add\n                nextSibling = nextSibling.nextSibling;\n            }\n            while (stack.length > 0) {\n                morphedNode.parentElement.insertBefore(stack.pop(), morphedNode.nextSibling);\n            }\n            return added;\n        }\n\n        function findBestNodeMatch(newContent, oldNode, ctx) {\n            let currentElement;\n            currentElement = newContent.firstChild;\n            let bestElement = currentElement;\n            let score = 0;\n            while (currentElement) {\n                let newScore = scoreElement(currentElement, oldNode, ctx);\n                if (newScore > score) {\n                    bestElement = currentElement;\n                    score = newScore;\n                }\n                currentElement = currentElement.nextSibling;\n            }\n            return bestElement;\n        }\n\n        function scoreElement(node1, node2, ctx) {\n            if (isSoftMatch(node1, node2)) {\n                return .5 + getIdIntersectionCount(ctx, node1, node2);\n            }\n            return 0;\n        }\n\n        function removeNode(tempNode, ctx) {\n            removeIdsFromConsideration(ctx, tempNode)\n            if (ctx.callbacks.beforeNodeRemoved(tempNode) === false) return;\n\n            tempNode.remove();\n            ctx.callbacks.afterNodeRemoved(tempNode);\n        }\n\n        //=============================================================================\n        // ID Set Functions\n        //=============================================================================\n\n        function isIdInConsideration(ctx, id) {\n            return !ctx.deadIds.has(id);\n        }\n\n        function idIsWithinNode(ctx, id, targetNode) {\n            let idSet = ctx.idMap.get(targetNode) || EMPTY_SET;\n            return idSet.has(id);\n        }\n\n        function removeIdsFromConsideration(ctx, node) {\n            let idSet = ctx.idMap.get(node) || EMPTY_SET;\n            for (const id of idSet) {\n                ctx.deadIds.add(id);\n            }\n        }\n\n        function getIdIntersectionCount(ctx, node1, node2) {\n            let sourceSet = ctx.idMap.get(node1) || EMPTY_SET;\n            let matchCount = 0;\n            for (const id of sourceSet) {\n                // a potential match is an id in the source and potentialIdsSet, but\n                // that has not already been merged into the DOM\n                if (isIdInConsideration(ctx, id) && idIsWithinNode(ctx, id, node2)) {\n                    ++matchCount;\n                }\n            }\n            return matchCount;\n        }\n\n        /**\n         * A bottom up algorithm that finds all elements with ids inside of the node\n         * argument and populates id sets for those nodes and all their parents, generating\n         * a set of ids contained within all nodes for the entire hierarchy in the DOM\n         *\n         * @param node {Element}\n         * @param {Map<Node, Set<String>>} idMap\n         */\n        function populateIdMapForNode(node, idMap) {\n            let nodeParent = node.parentElement;\n            // find all elements with an id property\n            let idElements = node.querySelectorAll('[id]');\n            for (const elt of idElements) {\n                let current = elt;\n                // walk up the parent hierarchy of that element, adding the id\n                // of element to the parent's id set\n                while (current !== nodeParent && current != null) {\n                    let idSet = idMap.get(current);\n                    // if the id set doesn't exist, create it and insert it in the  map\n                    if (idSet == null) {\n                        idSet = new Set();\n                        idMap.set(current, idSet);\n                    }\n                    idSet.add(elt.id);\n                    current = current.parentElement;\n                }\n            }\n        }\n\n        /**\n         * This function computes a map of nodes to all ids contained within that node (inclusive of the\n         * node).  This map can be used to ask if two nodes have intersecting sets of ids, which allows\n         * for a looser definition of \"matching\" than tradition id matching, and allows child nodes\n         * to contribute to a parent nodes matching.\n         *\n         * @param {Element} oldContent  the old content that will be morphed\n         * @param {Element} newContent  the new content to morph to\n         * @returns {Map<Node, Set<String>>} a map of nodes to id sets for the\n         */\n        function createIdMap(oldContent, newContent) {\n            let idMap = new Map();\n            populateIdMapForNode(oldContent, idMap);\n            populateIdMapForNode(newContent, idMap);\n            return idMap;\n        }\n\n        //=============================================================================\n        // This is what ends up becoming the Idiomorph global object\n        //=============================================================================\n        return {\n            morph,\n            defaults\n        }\n    })();\n\nexport {Idiomorph};\n","/*!\r\n * Pikaday\r\n *\r\n * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/Pikaday/Pikaday\r\n */\r\n\r\n(function (root, factory)\r\n{\r\n    'use strict';\r\n\r\n    var moment;\r\n    if (typeof exports === 'object') {\r\n        // CommonJS module\r\n        // Load moment.js as an optional dependency\r\n        try { moment = require('moment'); } catch (e) {}\r\n        module.exports = factory(moment);\r\n    } else if (typeof define === 'function' && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define(function (req)\r\n        {\r\n            // Load moment.js as an optional dependency\r\n            var id = 'moment';\r\n            try { moment = req(id); } catch (e) {}\r\n            return factory(moment);\r\n        });\r\n    } else {\r\n        root.Pikaday = factory(root.moment);\r\n    }\r\n}(this || window, function (moment)\r\n{\r\n    'use strict';\r\n\r\n    /**\r\n     * feature detection and helper functions\r\n     */\r\n    var hasMoment = typeof moment === 'function',\r\n\r\n    hasEventListeners = !!window.addEventListener,\r\n\r\n    document = window.document,\r\n\r\n    sto = window.setTimeout,\r\n\r\n    addEvent = function(el, e, callback, capture)\r\n    {\r\n        if (hasEventListeners) {\r\n            el.addEventListener(e, callback, !!capture);\r\n        } else {\r\n            el.attachEvent('on' + e, callback);\r\n        }\r\n    },\r\n\r\n    removeEvent = function(el, e, callback, capture)\r\n    {\r\n        if (hasEventListeners) {\r\n            el.removeEventListener(e, callback, !!capture);\r\n        } else {\r\n            el.detachEvent('on' + e, callback);\r\n        }\r\n    },\r\n\r\n    trim = function(str)\r\n    {\r\n        return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g,'');\r\n    },\r\n\r\n    hasClass = function(el, cn)\r\n    {\r\n        return (' ' + el.className + ' ').indexOf(' ' + cn + ' ') !== -1;\r\n    },\r\n\r\n    addClass = function(el, cn)\r\n    {\r\n        if (!hasClass(el, cn)) {\r\n            el.className = (el.className === '') ? cn : el.className + ' ' + cn;\r\n        }\r\n    },\r\n\r\n    removeClass = function(el, cn)\r\n    {\r\n        el.className = trim((' ' + el.className + ' ').replace(' ' + cn + ' ', ' '));\r\n    },\r\n\r\n    isArray = function(obj)\r\n    {\r\n        return (/Array/).test(Object.prototype.toString.call(obj));\r\n    },\r\n\r\n    isDate = function(obj)\r\n    {\r\n        return (/Date/).test(Object.prototype.toString.call(obj)) && !isNaN(obj.getTime());\r\n    },\r\n\r\n    isWeekend = function(date)\r\n    {\r\n        var day = date.getDay();\r\n        return day === 0 || day === 6;\r\n    },\r\n\r\n    isLeapYear = function(year)\r\n    {\r\n        // solution lifted from date.js (MIT license): https://github.com/datejs/Datejs\r\n        return ((year % 4 === 0 && year % 100 !== 0) || year % 400 === 0);\r\n    },\r\n\r\n    getDaysInMonth = function(year, month)\r\n    {\r\n        return [31, isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\r\n    },\r\n\r\n    setToStartOfDay = function(date)\r\n    {\r\n        if (isDate(date)) date.setHours(0,0,0,0);\r\n    },\r\n\r\n    compareDates = function(a,b)\r\n    {\r\n        // weak date comparison (use setToStartOfDay(date) to ensure correct result)\r\n        return a.getTime() === b.getTime();\r\n    },\r\n\r\n    extend = function(to, from, overwrite)\r\n    {\r\n        var prop, hasProp;\r\n        for (prop in from) {\r\n            hasProp = to[prop] !== undefined;\r\n            if (hasProp && typeof from[prop] === 'object' && from[prop] !== null && from[prop].nodeName === undefined) {\r\n                if (isDate(from[prop])) {\r\n                    if (overwrite) {\r\n                        to[prop] = new Date(from[prop].getTime());\r\n                    }\r\n                }\r\n                else if (isArray(from[prop])) {\r\n                    if (overwrite) {\r\n                        to[prop] = from[prop].slice(0);\r\n                    }\r\n                } else {\r\n                    to[prop] = extend({}, from[prop], overwrite);\r\n                }\r\n            } else if (overwrite || !hasProp) {\r\n                to[prop] = from[prop];\r\n            }\r\n        }\r\n        return to;\r\n    },\r\n\r\n    fireEvent = function(el, eventName, data)\r\n    {\r\n        var ev;\r\n\r\n        if (document.createEvent) {\r\n            ev = document.createEvent('HTMLEvents');\r\n            ev.initEvent(eventName, true, false);\r\n            ev = extend(ev, data);\r\n            el.dispatchEvent(ev);\r\n        } else if (document.createEventObject) {\r\n            ev = document.createEventObject();\r\n            ev = extend(ev, data);\r\n            el.fireEvent('on' + eventName, ev);\r\n        }\r\n    },\r\n\r\n    adjustCalendar = function(calendar) {\r\n        if (calendar.month < 0) {\r\n            calendar.year -= Math.ceil(Math.abs(calendar.month)/12);\r\n            calendar.month += 12;\r\n        }\r\n        if (calendar.month > 11) {\r\n            calendar.year += Math.floor(Math.abs(calendar.month)/12);\r\n            calendar.month -= 12;\r\n        }\r\n        return calendar;\r\n    },\r\n\r\n    /**\r\n     * defaults and localisation\r\n     */\r\n    defaults = {\r\n\r\n        // bind the picker to a form field\r\n        field: null,\r\n\r\n        // automatically show/hide the picker on `field` focus (default `true` if `field` is set)\r\n        bound: undefined,\r\n\r\n        // data-attribute on the input field with an aria assistance text (only applied when `bound` is set)\r\n        ariaLabel: 'Use the arrow keys to pick a date',\r\n\r\n        // position of the datepicker, relative to the field (default to bottom & left)\r\n        // ('bottom' & 'left' keywords are not used, 'top' & 'right' are modifier on the bottom/left position)\r\n        position: 'bottom left',\r\n\r\n        // automatically fit in the viewport even if it means repositioning from the position option\r\n        reposition: true,\r\n\r\n        // the default output format for `.toString()` and `field` value\r\n        format: 'YYYY-MM-DD',\r\n\r\n        // the toString function which gets passed a current date object and format\r\n        // and returns a string\r\n        toString: null,\r\n\r\n        // used to create date object from current input string\r\n        parse: null,\r\n\r\n        // the initial date to view when first opened\r\n        defaultDate: null,\r\n\r\n        // make the `defaultDate` the initial selected value\r\n        setDefaultDate: false,\r\n\r\n        // first day of week (0: Sunday, 1: Monday etc)\r\n        firstDay: 0,\r\n\r\n        // minimum number of days in the week that gets week number one\r\n        // default ISO 8601, week 01 is the week with the first Thursday (4)\r\n        firstWeekOfYearMinDays: 4,\r\n\r\n        // the default flag for moment's strict date parsing\r\n        formatStrict: false,\r\n\r\n        // the minimum/earliest date that can be selected\r\n        minDate: null,\r\n        // the maximum/latest date that can be selected\r\n        maxDate: null,\r\n\r\n        // number of years either side, or array of upper/lower range\r\n        yearRange: 10,\r\n\r\n        // show week numbers at head of row\r\n        showWeekNumber: false,\r\n\r\n        // Week picker mode\r\n        pickWholeWeek: false,\r\n\r\n        // used internally (don't config outside)\r\n        minYear: 0,\r\n        maxYear: 9999,\r\n        minMonth: undefined,\r\n        maxMonth: undefined,\r\n\r\n        startRange: null,\r\n        endRange: null,\r\n\r\n        isRTL: false,\r\n\r\n        // Additional text to append to the year in the calendar title\r\n        yearSuffix: '',\r\n\r\n        // Render the month after year in the calendar title\r\n        showMonthAfterYear: false,\r\n\r\n        // Render days of the calendar grid that fall in the next or previous month\r\n        showDaysInNextAndPreviousMonths: false,\r\n\r\n        // Allows user to select days that fall in the next or previous month\r\n        enableSelectionDaysInNextAndPreviousMonths: false,\r\n\r\n        // how many months are visible\r\n        numberOfMonths: 1,\r\n\r\n        // when numberOfMonths is used, this will help you to choose where the main calendar will be (default `left`, can be set to `right`)\r\n        // only used for the first display or when a selected date is not visible\r\n        mainCalendar: 'left',\r\n\r\n        // Specify a DOM element to render the calendar in\r\n        container: undefined,\r\n\r\n        // Blur field when date is selected\r\n        blurFieldOnSelect : true,\r\n\r\n        // internationalization\r\n        i18n: {\r\n            previousMonth : 'Previous Month',\r\n            nextMonth     : 'Next Month',\r\n            months        : ['January','February','March','April','May','June','July','August','September','October','November','December'],\r\n            weekdays      : ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],\r\n            weekdaysShort : ['Sun','Mon','Tue','Wed','Thu','Fri','Sat']\r\n        },\r\n\r\n        // Theme Classname\r\n        theme: null,\r\n\r\n        // events array\r\n        events: [],\r\n\r\n        // callback function\r\n        onInitialize: null,\r\n        onSelect: null,\r\n        onBeforeOpen: null,\r\n        onOpen: null,\r\n        onBeforeClose: null,\r\n        onClose: null,\r\n        onDraw: null,\r\n\r\n        // Enable keyboard input\r\n        keyboardInput: true,\r\n\r\n        // option to show calendar title text\r\n        heading: null,\r\n\r\n        // option to prevent calendar from auto-closing after date is selected\r\n        autoClose: true,\r\n\r\n        // option to show buttons at the bottom. autoClose will auto be set to false.\r\n        showButtons: false,\r\n\r\n        // option to place buttons at the top or bottom.\r\n        buttonsPlacement: 'bottom',\r\n\r\n        // option to show or hide buttons\r\n        // changing the order of values changes the order of buttons\r\n        buttons: ['clear', 'cancel', 'today', 'apply'],\r\n\r\n        // clear button text or inner html\r\n        clear: 'Clear',\r\n\r\n        // today button text or inner html\r\n        today: 'Today',\r\n\r\n        // cancel button text or inner html\r\n        cancel: 'Cancel',\r\n\r\n        // apply button text or inner html\r\n        apply: 'Set Date',\r\n\r\n        // Custom additions\r\n        calendarClass: null,\r\n        headerClass: '',\r\n        monthClass: '',\r\n        yearClass: '',\r\n        titleClass: '',\r\n        previousClass: '',\r\n        nextClass: '',\r\n        weekdayClass: '',\r\n        daysClass: '',\r\n        dayClass: '',\r\n        buttonsClass: '',\r\n        clearClass: '',\r\n        todayClass: '',\r\n        cancelClass: '',\r\n        applyClass: ''\r\n    },\r\n\r\n\r\n    /**\r\n     * templating functions to abstract HTML rendering\r\n     */\r\n    renderDayName = function(opts, day, abbr)\r\n    {\r\n        day += opts.firstDay;\r\n        while (day >= 7) {\r\n            day -= 7;\r\n        }\r\n        return abbr ? opts.i18n.weekdaysShort[day] : opts.i18n.weekdays[day];\r\n    },\r\n\r\n    renderDay = function(opts, self)\r\n    {\r\n        let attr = [];\r\n        var arr = [];\r\n        var ariaSelected = 'false';\r\n        if (opts.isEmpty) {\r\n            if (opts.showDaysInNextAndPreviousMonths) {\r\n                // arr.push('is-outside-current-month');\r\n                attr.push('data-dp-muted');\r\n\r\n                if(!opts.enableSelectionDaysInNextAndPreviousMonths) {\r\n                    // arr.push('is-selection-disabled');\r\n                    attr.push('disabled');\r\n                }\r\n\r\n            } else {\r\n                return `<td class=\"is-empty ${self.daysClass}\"></td>`;\r\n            }\r\n        }\r\n        if (opts.isDisabled) {\r\n            arr.push('is-disabled');\r\n            attr.push('disabled');\r\n        }\r\n        if (opts.isToday) {\r\n            // arr.push('is-today');\r\n            attr.push('data-dp-today');\r\n        }\r\n        if (opts.isSelected) {\r\n            arr.push('is-selected');\r\n            attr.push('data-dp-selected');\r\n            ariaSelected = 'true';\r\n        }\r\n        if (opts.hasEvent) {\r\n            // arr.push('has-event');\r\n            attr.push('data-dp-event');\r\n        }\r\n        if (opts.isInRange) {\r\n            // arr.push('is-inrange');\r\n            attr.push('data-dp-range');\r\n        }\r\n        if (opts.isStartRange) {\r\n            // arr.push('is-startrange');\r\n            attr.push('data-dp-range-start');\r\n        }\r\n        if (opts.isEndRange) {\r\n            // arr.push('is-endrange');\r\n            attr.push('data-dp-range-end');\r\n        }\r\n     \r\n        return `<td data-day=\"${opts.day}\" class=\"${arr.join(' ')} ${self.daysClass}\" aria-selected=\"${ariaSelected}\">\r\n                    <button class=\"dp-button dp-day ${self.dayClass}\" type=\"button\" data-dp-year=\"${opts.year}\" data-dp-month=\"${opts.month}\" data-dp-day=\"${opts.day}\" ${attr.join(' ')}>\r\n                        ${opts.day}\r\n                    </button>\r\n                </td>`;\r\n    },\r\n\r\n    isoWeek = function(date, firstWeekOfYearMinDays) {\r\n        // Ensure we're at the start of the day.\r\n        date.setHours(0, 0, 0, 0);\r\n\r\n        // Thursday in current week decides the year because January 4th\r\n        // is always in the first week according to ISO8601.\r\n        var yearDay        = date.getDate(),\r\n            weekDay        = date.getDay(),\r\n            dayInFirstWeek = firstWeekOfYearMinDays,\r\n            dayShift       = dayInFirstWeek - 1, // counting starts at 0\r\n            daysPerWeek    = 7,\r\n            prevWeekDay    = function(day) { return (day + daysPerWeek - 1) % daysPerWeek; };\r\n\r\n        // Adjust to Thursday in week 1 and count number of weeks from date to week 1.\r\n        date.setDate(yearDay + dayShift - prevWeekDay(weekDay));\r\n\r\n        var jan4th      = new Date(date.getFullYear(), 0, dayInFirstWeek),\r\n            msPerDay    = 24 * 60 * 60 * 1000,\r\n            daysBetween = (date.getTime() - jan4th.getTime()) / msPerDay,\r\n            weekNum     = 1 + Math.round((daysBetween - dayShift + prevWeekDay(jan4th.getDay())) / daysPerWeek);\r\n\r\n        return weekNum;\r\n    },\r\n\r\n    renderWeek = function (d, m, y, firstWeekOfYearMinDays) {\r\n        var date = new Date(y, m, d),\r\n            week = hasMoment ? moment(date).isoWeek() : isoWeek(date, firstWeekOfYearMinDays);\r\n\r\n        return '<td class=\"dp-week\">' + week + '</td>';\r\n    },\r\n\r\n    renderRow = function(days, isRTL, pickWholeWeek, isRowSelected)\r\n    {\r\n        return '<tr class=\"dp-row' + (pickWholeWeek ? ' pick-whole-week' : '') + (isRowSelected ? ' is-selected' : '') + '\">' + (isRTL ? days.reverse() : days).join('') + '</tr>';\r\n    },\r\n\r\n    renderBody = function(rows)\r\n    {\r\n        return '<tbody>' + rows.join('') + '</tbody>';\r\n    },\r\n\r\n    renderHead = function(opts)\r\n    {\r\n        var i, arr = [];\r\n        if (opts.showWeekNumber) {\r\n            arr.push('<th></th>');\r\n        }\r\n        for (i = 0; i < 7; i++) {\r\n            arr.push('<th scope=\"col\"><div class=\"' + opts.weekdayClass + '\" title=\"' + renderDayName(opts, i) + '\" aria-label=\"' + renderDayName(opts, i) + '\">' + renderDayName(opts, i, true) + '</div></th>');\r\n        }\r\n        return '<thead><tr>' + (opts.isRTL ? arr.reverse() : arr).join('') + '</tr></thead>';\r\n    },\r\n\r\n    renderTitle = function(instance, c, year, month, refYear, randId)\r\n    {\r\n        var i, j, arr,\r\n            opts = instance._o,\r\n            isMinYear = year === opts.minYear,\r\n            isMaxYear = year === opts.maxYear,\r\n            html = '<div id=\"' + randId + '\" class=\"dp-title ' + opts.headerClass + '\" role=\"heading\" aria-live=\"polite\">',\r\n            monthHtml,\r\n            yearHtml,\r\n            prev = true,\r\n            next = true;\r\n\r\n        for (arr = [], i = 0; i < 12; i++) {\r\n            arr.push('<option value=\"' + (year === refYear ? i - c : 12 + i - c) + '\"' +\r\n                (i === month ? ' selected=\"selected\"': '') +\r\n                ((isMinYear && i < opts.minMonth) || (isMaxYear && i > opts.maxMonth) ? ' disabled=\"disabled\"' : '') + '>' +\r\n                opts.i18n.months[i] + '</option>');\r\n        }\r\n\r\n        monthHtml = '<div class=\"dp-label ' + opts.monthClass + '\">' + opts.i18n.months[month] + '<select class=\"dp-select dp-select-month\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\r\n        // monthHtml = '<div class=\"dp-label\">' + opts.i18n.months[month] + '<select class=\"dp-select dp-select-month\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\r\n\r\n        if (isArray(opts.yearRange)) {\r\n            i = opts.yearRange[0];\r\n            j = opts.yearRange[1] + 1;\r\n        } else {\r\n            i = year - opts.yearRange;\r\n            j = 1 + year + opts.yearRange;\r\n        }\r\n\r\n        for (arr = []; i < j && i <= opts.maxYear; i++) {\r\n            if (i >= opts.minYear) {\r\n                arr.push('<option value=\"' + i + '\"' + (i === year ? ' selected=\"selected\"': '') + '>' + (i) + '</option>');\r\n            }\r\n        }\r\n        yearHtml = '<div class=\"dp-label ' + opts.yearClass + '\">' + year + opts.yearSuffix + '<select class=\"dp-select dp-select-year\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\r\n        // yearHtml = '<div class=\"dp-label\">' + year + opts.yearSuffix + '<select class=\"dp-select dp-select-year\" tabindex=\"-1\">' + arr.join('') + '</select></div>';\r\n\r\n        if (isMinYear && (month === 0 || opts.minMonth >= month)) {\r\n            prev = false;\r\n        }\r\n\r\n        if (isMaxYear && (month === 11 || opts.maxMonth <= month)) {\r\n            next = false;\r\n        }\r\n\r\n        if (c === 0) {\r\n            html += `<button class=\"dp-prev ${prev ? '' : 'is-disabled'} ${opts.previousClass}\" type=\"button\" ${prev ? '' : 'disabled'}>${opts.i18n.previousMonth}</button>`;\r\n        }\r\n\r\n        if (opts.showMonthAfterYear) {\r\n            html += yearHtml + monthHtml;\r\n        } else {\r\n            html += monthHtml + yearHtml;\r\n        }\r\n\r\n        if (c === (instance._o.numberOfMonths - 1) ) {\r\n            html += `<button class=\"dp-next ${next ? '' : 'is-disabled'} ${opts.nextClass}\" type=\"button\" ${next ? '' : 'disabled'}>${opts.i18n.nextMonth}</button>`;\r\n        }\r\n\r\n        return html += '</div>';\r\n    },\r\n\r\n    renderTable = function(opts, data, randId)\r\n    {\r\n        return '<table cellpadding=\"0\" cellspacing=\"0\" class=\"dp-table\" role=\"grid\" aria-labelledby=\"' + randId + '\">' + renderHead(opts) + renderBody(data) + '</table>';\r\n    },\r\n\r\n    renderHeading = function(opts)\r\n    {\r\n        if (opts.title) {\r\n            return '<div class=\"dp-header-title ' + opts.titleClass + '\">' + opts.title + '</div>';\r\n        }\r\n\r\n        return '';\r\n    },\r\n\r\n    renderFoot = function(opts)\r\n    {\r\n        let html = '';\r\n        let buttons = {\r\n            clear: '<button class=\"dp-clear ' + opts.clearClass + '\" type=\"button\">' + opts.clear + '</button>',\r\n            cancel: '<button class=\"dp-cancel ' + opts.cancelClass + '\" type=\"button\">' + opts.cancel + '</button>',\r\n            today: '<button class=\"dp-today ' + opts.todayClass + '\" type=\"button\">' + opts.today + '</button>',\r\n            apply: '<button class=\"dp-apply ' + opts.applyClass + '\" type=\"button\">' + opts.apply + '</button>'\r\n        };\r\n        if (opts.showButtons) {\r\n            html += '<div class=\"dp-buttons ' + opts.buttonsClass + '\">';\r\n\r\n            opts.buttons.forEach((button) => {\r\n                html += buttons[button];\r\n            });\r\n\r\n            html += '</div>';\r\n        }\r\n        return html;\r\n    },\r\n\r\n\r\n    /**\r\n     * Pikaday constructor\r\n     */\r\n    Pikaday = function(options)\r\n    {\r\n        var self = this,\r\n            opts = self.config(options);\r\n\r\n        self._onMouseDown = function(e)\r\n        {\r\n            if (!self._v) {\r\n                return;\r\n            }\r\n            e = e || window.event;\r\n            var target = e.target || e.srcElement;\r\n            if (!target) {\r\n                return;\r\n            }\r\n\r\n            if (opts.showButtons) {\r\n\r\n                // set today's date\r\n                if (hasClass(target, 'dp-today')) {      \r\n                    let today = new Date();\r\n\r\n                    if (self._o.toString) {\r\n                        self._o.field.value = self._o.toString(today, self._o.format);\r\n                    } else if (hasMoment) {\r\n                        self._o.field.value = moment(today).format(self._o.format);\r\n                    } else {\r\n                        self._o.field.value = today.toDateString();\r\n                    }\r\n\r\n                    self.hide();\r\n                    if (opts.field && opts.blurFieldOnSelect) {\r\n                        opts.field.blur();\r\n                    }\r\n\r\n                    self.setDate(new Date(today.getFullYear(), today.getMonth(), today.getDate()));\r\n                }\r\n\r\n                // manually apply date\r\n                if (hasClass(target, 'dp-apply')) {\r\n                    self._o.field.value = self.toString();\r\n                    self.hide();\r\n                    if (opts.field && opts.blurFieldOnSelect) {\r\n                        opts.field.blur();\r\n                    }\r\n                }\r\n\r\n                // close calendar\r\n                if (hasClass(target, 'dp-cancel')) {\r\n                    self.hide();\r\n                    if (opts.field && opts.blurFieldOnSelect) {\r\n                        opts.field.blur();\r\n                    }\r\n                }\r\n\r\n                // clear date\r\n                if (hasClass(target, 'dp-clear')) {\r\n                    self.hide();\r\n                    if (opts.field && opts.blurFieldOnSelect) {\r\n                        opts.field.blur();\r\n                    }\r\n                    self.clear();\r\n                }\r\n            }\r\n\r\n            if (!hasClass(target, 'is-disabled')) {\r\n                if (hasClass(target, 'dp-button') && !hasClass(target, 'is-empty') && !hasClass(target.parentNode, 'is-disabled')) {\r\n                    self.setDate(new Date(target.getAttribute('data-dp-year'), target.getAttribute('data-dp-month'), target.getAttribute('data-dp-day')));\r\n                    if (opts.bound) {\r\n                        sto(function() {\r\n                            // self.hide();\r\n                            if (opts.autoClose) {\r\n                                self.hide();\r\n                            }\r\n                            if (opts.blurFieldOnSelect && opts.field) {\r\n                                opts.field.blur();\r\n                            }\r\n                        }, 100);\r\n                    }\r\n                }\r\n                else if (hasClass(target, 'dp-prev')) {\r\n                    self.prevMonth();\r\n                }\r\n                else if (hasClass(target, 'dp-next')) {\r\n                    self.nextMonth();\r\n                }\r\n            }\r\n            if (!hasClass(target, 'dp-select')) {\r\n                // if this is touch event prevent mouse events emulation\r\n                if (e.preventDefault) {\r\n                    e.preventDefault();\r\n                } else {\r\n                    e.returnValue = false;\r\n                    return false;\r\n                }\r\n            } else {\r\n                self._c = true;\r\n            }\r\n        };\r\n\r\n        self._onChange = function(e)\r\n        {\r\n            e = e || window.event;\r\n            var target = e.target || e.srcElement;\r\n            if (!target) {\r\n                return;\r\n            }\r\n            if (hasClass(target, 'dp-select-month')) {\r\n                self.gotoMonth(target.value);\r\n            }\r\n            else if (hasClass(target, 'dp-select-year')) {\r\n                self.gotoYear(target.value);\r\n            }\r\n        };\r\n\r\n        self._onKeyChange = function(e)\r\n        {\r\n            e = e || window.event;\r\n            \r\n            if (self.isVisible()) {\r\n                e.preventDefault();\r\n\r\n                switch(e.key){\r\n                    case 'Enter':\r\n                    case ' ':\r\n                        if (opts.field) {\r\n                            opts.field.blur();\r\n                            self.hide();\r\n                        }\r\n                        break;\r\n                    case 'Escape':\r\n                        if (self.isVisible()) {\r\n                            self.hide();\r\n                        }\r\n                        break;\r\n                    case 'ArrowLeft':\r\n                        self.adjustDate('subtract', 1);\r\n                        break;\r\n                    case 'ArrowUp':\r\n                        self.adjustDate('subtract', 7);\r\n                        break;\r\n                    case 'ArrowRight':\r\n                        self.adjustDate('add', 1);\r\n                        break;\r\n                    case 'ArrowDown':\r\n                        self.adjustDate('add', 7);\r\n                        break;\r\n                    case 'Backspace':\r\n                    case 'Delete':\r\n                        self.setDate(null);\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n\r\n        self._parseFieldValue = function()\r\n        {\r\n            if (opts.parse) {\r\n                return opts.parse(opts.field.value, opts.format);\r\n            } else if (hasMoment) {\r\n                var date = moment(opts.field.value, opts.format, opts.formatStrict);\r\n                return (date && date.isValid()) ? date.toDate() : null;\r\n            } else {\r\n                return new Date(Date.parse(opts.field.value));\r\n            }\r\n        };\r\n\r\n        self._onInputChange = function(e)\r\n        {\r\n            var date;\r\n\r\n            if (e.firedBy === self) {\r\n                return;\r\n            }\r\n            date = self._parseFieldValue();\r\n            if (isDate(date)) {\r\n              self.setDate(date);\r\n            } else {\r\n                self.clear();\r\n            }\r\n            // if (!self._v) {\r\n            //     self.show();\r\n            // }\r\n        };\r\n\r\n        self._onInputFocus = function()\r\n        {\r\n            self.show();\r\n        };\r\n\r\n        self._onInputClick = function()\r\n        {\r\n            self.show();\r\n        };\r\n\r\n        self._onInputBlur = function()\r\n        {\r\n            // IE allows pika div to gain focus; catch blur the input field\r\n            var pEl = document.activeElement;\r\n            do {\r\n                if (hasClass(pEl, 'dp-single')) {\r\n                    return;\r\n                }\r\n            }\r\n            while ((pEl = pEl.parentNode));\r\n\r\n            // if (!self._c) {\r\n            //     self._b = sto(function() {\r\n            //         self.hide();\r\n            //     }, 50);\r\n            // }\r\n            if ((!opts.autoClose) && (opts.autoClose && !self._c)) {\r\n                self._b = sto(function() {\r\n                    self.hide();\r\n                }, 50);\r\n            }\r\n            self._c = false;\r\n        };\r\n\r\n        self._onClick = function(e)\r\n        {\r\n            e = e || window.event;\r\n            var target = e.target || e.srcElement,\r\n                pEl = target;\r\n            if (!target) {\r\n                return;\r\n            }\r\n            if (!hasEventListeners && hasClass(target, 'dp-select')) {\r\n                if (!target.onchange) {\r\n                    target.setAttribute('onchange', 'return;');\r\n                    addEvent(target, 'change', self._onChange);\r\n                }\r\n            }\r\n            do {\r\n                if (hasClass(pEl, 'dp-single') || pEl === opts.trigger) {\r\n                    return;\r\n                }\r\n            }\r\n            while ((pEl = pEl.parentNode));\r\n            if (self._v && target !== opts.trigger && pEl !== opts.trigger) {\r\n                self.hide();\r\n            }\r\n        };\r\n\r\n        self.el = document.createElement('div');\r\n        let calendarClass = opts.calendarClass ? ' ' + opts.calendarClass : '';\r\n        self.el.className = 'dp-single' + (opts.isRTL ? ' is-rtl' : '') + (opts.theme ? ' ' + opts.theme : '') + calendarClass;\r\n\r\n        if (opts.bound) {\r\n            self.el.style.display = 'none';\r\n        }\r\n        \r\n        addEvent(self.el, 'mousedown', self._onMouseDown, true);\r\n        addEvent(self.el, 'touchend', self._onMouseDown, true);\r\n        addEvent(self.el, 'change', self._onChange);\r\n\r\n        if (opts.keyboardInput) {\r\n            addEvent(document, 'keydown', self._onKeyChange);\r\n        }\r\n\r\n        if (opts.field) {\r\n            if (opts.container) {\r\n                opts.container.appendChild(self.el);\r\n            } else if (opts.bound) {\r\n                document.body.appendChild(self.el);\r\n            } else {\r\n                opts.field.parentNode.insertBefore(self.el, opts.field.nextSibling);\r\n            }\r\n            addEvent(opts.field, 'change', self._onInputChange);\r\n\r\n            if (!opts.defaultDate) {\r\n                opts.defaultDate = self._parseFieldValue();\r\n                opts.setDefaultDate = true;\r\n            }\r\n        }\r\n\r\n        var defDate = opts.defaultDate;\r\n\r\n        if (isDate(defDate)) {\r\n            if (opts.setDefaultDate) {\r\n                self.setDate(defDate, true);\r\n            } else {\r\n                self.gotoDate(defDate);\r\n            }\r\n        } else {\r\n            self.gotoDate(new Date());\r\n        }\r\n\r\n        if (opts.bound) {\r\n            this.hide();\r\n            self.el.className += ' is-bound';\r\n            addEvent(opts.trigger, 'click', self._onInputClick);\r\n            addEvent(opts.trigger, 'focus', self._onInputFocus);\r\n            addEvent(opts.trigger, 'blur', self._onInputBlur);\r\n        } else {\r\n            this.show();\r\n        }\r\n\r\n        if (typeof this._o.onInitialize === 'function') {\r\n            this._o.onInitialize.call(this);\r\n        }\r\n    };\r\n\r\n\r\n    /**\r\n     * public Pikaday API\r\n     */\r\n    Pikaday.prototype = {\r\n\r\n\r\n        /**\r\n         * configure functionality\r\n         */\r\n        config: function(options)\r\n        {\r\n            if (!this._o) {\r\n                this._o = extend({}, defaults, true);\r\n            }\r\n\r\n            var opts = extend(this._o, options, true);\r\n\r\n            opts.isRTL = !!opts.isRTL;\r\n\r\n            opts.showButtons = !!opts.showButtons;\r\n            \r\n            opts.autoClose = (opts.showButtons && opts.buttons.includes('apply')) ? false : !!opts.autoClose;\r\n\r\n            opts.field = (opts.field && opts.field.nodeName) ? opts.field : null;\r\n\r\n            opts.theme = (typeof opts.theme) === 'string' && opts.theme ? opts.theme : null;\r\n\r\n            opts.bound = !!(opts.bound !== undefined ? opts.field && opts.bound : opts.field);\r\n\r\n            opts.trigger = (opts.trigger && opts.trigger.nodeName) ? opts.trigger : opts.field;\r\n\r\n            opts.disableWeekends = !!opts.disableWeekends;\r\n\r\n            opts.disableDayFn = (typeof opts.disableDayFn) === 'function' ? opts.disableDayFn : null;\r\n\r\n            opts.events = opts.events.map((date) => (new Date(Date.parse(date))).toDateString());\r\n\r\n            var nom = parseInt(opts.numberOfMonths, 10) || 1;\r\n            opts.numberOfMonths = nom > 4 ? 4 : nom;\r\n\r\n            if (!isDate(opts.minDate)) {\r\n                opts.minDate = false;\r\n            }\r\n            if (!isDate(opts.maxDate)) {\r\n                opts.maxDate = false;\r\n            }\r\n            if ((opts.minDate && opts.maxDate) && opts.maxDate < opts.minDate) {\r\n                opts.maxDate = opts.minDate = false;\r\n            }\r\n            if (opts.minDate) {\r\n                this.setMinDate(opts.minDate);\r\n            }\r\n            if (opts.maxDate) {\r\n                this.setMaxDate(opts.maxDate);\r\n            }\r\n\r\n            if (isArray(opts.yearRange)) {\r\n                var fallback = new Date().getFullYear() - 10;\r\n                opts.yearRange[0] = parseInt(opts.yearRange[0], 10) || fallback;\r\n                opts.yearRange[1] = parseInt(opts.yearRange[1], 10) || fallback;\r\n            } else {\r\n                opts.yearRange = Math.abs(parseInt(opts.yearRange, 10)) || defaults.yearRange;\r\n                if (opts.yearRange > 100) {\r\n                    opts.yearRange = 100;\r\n                }\r\n            }\r\n\r\n            return opts;\r\n        },\r\n\r\n        /**\r\n         * return a formatted string of the current selection (using Moment.js if available)\r\n         */\r\n        toString: function(format)\r\n        {\r\n            format = format || this._o.format;\r\n            if (!isDate(this._d)) {\r\n                return '';\r\n            }\r\n            if (this._o.toString) {\r\n              return this._o.toString(this._d, format);\r\n            }\r\n            if (hasMoment) {\r\n              return moment(this._d).format(format);\r\n            }\r\n            return this._d.toDateString();\r\n        },\r\n\r\n        /**\r\n         * return a Moment.js object of the current selection (if available)\r\n         */\r\n        getMoment: function()\r\n        {\r\n            return hasMoment ? moment(this._d) : null;\r\n        },\r\n\r\n        /**\r\n         * set the current selection from a Moment.js object (if available)\r\n         */\r\n        setMoment: function(date, preventOnSelect)\r\n        {\r\n            if (hasMoment && moment.isMoment(date)) {\r\n                this.setDate(date.toDate(), preventOnSelect);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * return a Date object of the current selection\r\n         */\r\n        getDate: function()\r\n        {\r\n            return isDate(this._d) ? new Date(this._d.getTime()) : null;\r\n        },\r\n\r\n        /**\r\n         * set the current selection\r\n         */\r\n        setDate: function(date, preventOnSelect)\r\n        {\r\n            if (!date) {\r\n                this._d = null;\r\n\r\n                if (this._o.field) {\r\n                    this._o.field.value = '';\r\n                    fireEvent(this._o.field, 'change', { firedBy: this });\r\n                }\r\n\r\n                return this.draw();\r\n            }\r\n            if (typeof date === 'string') {\r\n                date = new Date(Date.parse(date));\r\n            }\r\n            if (!isDate(date)) {\r\n                return;\r\n            }\r\n\r\n            var min = this._o.minDate,\r\n                max = this._o.maxDate;\r\n\r\n            if (isDate(min) && date < min) {\r\n                date = min;\r\n            } else if (isDate(max) && date > max) {\r\n                date = max;\r\n            }\r\n\r\n            this._d = new Date(date.getTime());\r\n            setToStartOfDay(this._d);\r\n            this.gotoDate(this._d);\r\n\r\n            if (this._o.field) {\r\n                // this._o.field.value = this.toString();\r\n                if (!this._o.showButtons) {\r\n                    this._o.field.value = this.toString();\r\n                }\r\n\r\n                if (this._o.showButtons && !this._o.buttons.includes('apply')) {\r\n                    this._o.field.value = this.toString();\r\n                }\r\n\r\n                fireEvent(this._o.field, 'change', { firedBy: this });\r\n            }\r\n            if (!preventOnSelect && typeof this._o.onSelect === 'function') {\r\n                let hasEvent = false;\r\n\r\n                for (const event of this._o.events) {\r\n                    if (event == this.getDate()?.toDateString()) {\r\n                        hasEvent = true;\r\n                    }\r\n                }\r\n\r\n                this._o.onSelect.call(this, this.getDate(), hasEvent);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * clear and reset the date\r\n         */\r\n        clear: function()\r\n        {\r\n            this.setDate(null);\r\n        },\r\n\r\n        /**\r\n         * change view to a specific date\r\n         */\r\n        gotoDate: function(date)\r\n        {\r\n            var newCalendar = true;\r\n\r\n            if (!isDate(date)) {\r\n                return;\r\n            }\r\n\r\n            if (this.calendars) {\r\n                var firstVisibleDate = new Date(this.calendars[0].year, this.calendars[0].month, 1),\r\n                    lastVisibleDate = new Date(this.calendars[this.calendars.length-1].year, this.calendars[this.calendars.length-1].month, 1),\r\n                    visibleDate = date.getTime();\r\n                // get the end of the month\r\n                lastVisibleDate.setMonth(lastVisibleDate.getMonth()+1);\r\n                lastVisibleDate.setDate(lastVisibleDate.getDate()-1);\r\n                newCalendar = (visibleDate < firstVisibleDate.getTime() || lastVisibleDate.getTime() < visibleDate);\r\n            }\r\n\r\n            if (newCalendar) {\r\n                this.calendars = [{\r\n                    month: date.getMonth(),\r\n                    year: date.getFullYear()\r\n                }];\r\n                if (this._o.mainCalendar === 'right') {\r\n                    this.calendars[0].month += 1 - this._o.numberOfMonths;\r\n                }\r\n            }\r\n\r\n            this.adjustCalendars();\r\n        },\r\n\r\n        adjustDate: function(sign, days) {\r\n\r\n            var day = this.getDate() || new Date();\r\n            var difference = parseInt(days)*24*60*60*1000;\r\n\r\n            var newDay;\r\n\r\n            if (sign === 'add') {\r\n                newDay = new Date(day.valueOf() + difference);\r\n            } else if (sign === 'subtract') {\r\n                newDay = new Date(day.valueOf() - difference);\r\n            }\r\n\r\n            this.setDate(newDay);\r\n        },\r\n\r\n        adjustCalendars: function() {\r\n            this.calendars[0] = adjustCalendar(this.calendars[0]);\r\n            for (var c = 1; c < this._o.numberOfMonths; c++) {\r\n                this.calendars[c] = adjustCalendar({\r\n                    month: this.calendars[0].month + c,\r\n                    year: this.calendars[0].year\r\n                });\r\n            }\r\n            this.draw();\r\n        },\r\n\r\n        gotoToday: function()\r\n        {\r\n            this.gotoDate(new Date());\r\n        },\r\n\r\n        /**\r\n         * change view to a specific month (zero-index, e.g. 0: January)\r\n         */\r\n        gotoMonth: function(month)\r\n        {\r\n            if (!isNaN(month)) {\r\n                this.calendars[0].month = parseInt(month, 10);\r\n                this.adjustCalendars();\r\n            }\r\n        },\r\n\r\n        nextMonth: function()\r\n        {\r\n            this.calendars[0].month++;\r\n            this.adjustCalendars();\r\n        },\r\n\r\n        prevMonth: function()\r\n        {\r\n            this.calendars[0].month--;\r\n            this.adjustCalendars();\r\n        },\r\n\r\n        /**\r\n         * change view to a specific full year (e.g. \"2012\")\r\n         */\r\n        gotoYear: function(year)\r\n        {\r\n            if (!isNaN(year)) {\r\n                this.calendars[0].year = parseInt(year, 10);\r\n                this.adjustCalendars();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * change the minDate\r\n         */\r\n        setMinDate: function(value)\r\n        {\r\n            if(value instanceof Date) {\r\n                setToStartOfDay(value);\r\n                this._o.minDate = value;\r\n                this._o.minYear  = value.getFullYear();\r\n                this._o.minMonth = value.getMonth();\r\n            } else {\r\n                this._o.minDate = defaults.minDate;\r\n                this._o.minYear  = defaults.minYear;\r\n                this._o.minMonth = defaults.minMonth;\r\n                this._o.startRange = defaults.startRange;\r\n            }\r\n\r\n            this.draw();\r\n        },\r\n\r\n        /**\r\n         * change the maxDate\r\n         */\r\n        setMaxDate: function(value)\r\n        {\r\n            if(value instanceof Date) {\r\n                setToStartOfDay(value);\r\n                this._o.maxDate = value;\r\n                this._o.maxYear = value.getFullYear();\r\n                this._o.maxMonth = value.getMonth();\r\n            } else {\r\n                this._o.maxDate = defaults.maxDate;\r\n                this._o.maxYear = defaults.maxYear;\r\n                this._o.maxMonth = defaults.maxMonth;\r\n                this._o.endRange = defaults.endRange;\r\n            }\r\n\r\n            this.draw();\r\n        },\r\n\r\n        setStartRange: function(value)\r\n        {\r\n            this._o.startRange = value;\r\n        },\r\n\r\n        setEndRange: function(value)\r\n        {\r\n            this._o.endRange = value;\r\n        },\r\n\r\n        /**\r\n         * refresh the HTML\r\n         */\r\n        draw: function(force)\r\n        {\r\n            if (!this._v && !force) {\r\n                return;\r\n            }\r\n            var opts = this._o,\r\n                minYear = opts.minYear,\r\n                maxYear = opts.maxYear,\r\n                minMonth = opts.minMonth,\r\n                maxMonth = opts.maxMonth,\r\n                html = '',\r\n                randId;\r\n\r\n            if (this._y <= minYear) {\r\n                this._y = minYear;\r\n                if (!isNaN(minMonth) && this._m < minMonth) {\r\n                    this._m = minMonth;\r\n                }\r\n            }\r\n            if (this._y >= maxYear) {\r\n                this._y = maxYear;\r\n                if (!isNaN(maxMonth) && this._m > maxMonth) {\r\n                    this._m = maxMonth;\r\n                }\r\n            }\r\n\r\n            for (var c = 0; c < opts.numberOfMonths; c++) {\r\n                randId = 'dp-title-' + Math.random().toString(36).replace(/[^a-z]+/g, '').substr(0, 2);\r\n\r\n                if (opts.buttonsPlacement == 'top') {\r\n                    html += renderFoot(opts);\r\n                }\r\n\r\n                html += renderHeading(opts);\r\n                html += '<div class=\"dp-lendar\">' + renderTitle(this, c, this.calendars[c].year, this.calendars[c].month, this.calendars[0].year, randId) + this.render(this.calendars[c].year, this.calendars[c].month, randId) + '</div>';\r\n\r\n                if (opts.buttonsPlacement == 'bottom') {\r\n                    html += renderFoot(opts);\r\n                }\r\n            }\r\n\r\n            this.el.innerHTML = html;\r\n\r\n            if (opts.bound) {\r\n                if(opts.field.type !== 'hidden') {\r\n                    sto(function() {\r\n                        opts.trigger.focus();\r\n                    }, 1);\r\n                }\r\n            }\r\n\r\n            if (typeof this._o.onDraw === 'function') {\r\n                this._o.onDraw(this);\r\n            }\r\n\r\n            if (opts.bound) {\r\n                // let the screen reader user know to use arrow keys\r\n                opts.field.setAttribute('aria-label', opts.ariaLabel);\r\n            }\r\n        },\r\n\r\n        adjustPosition: function()\r\n        {\r\n            var field, pEl, width, height, viewportWidth, viewportHeight, scrollTop, left, top, clientRect, leftAligned, bottomAligned;\r\n\r\n            if (this._o.container) return;\r\n\r\n            this.el.style.display = 'block';\r\n            this.el.style.position = 'absolute';\r\n\r\n            field = this._o.trigger;\r\n            pEl = field;\r\n            width = this.el.offsetWidth;\r\n            height = this.el.offsetHeight;\r\n            viewportWidth = window.innerWidth || document.documentElement.clientWidth;\r\n            viewportHeight = window.innerHeight || document.documentElement.clientHeight;\r\n            scrollTop = window.pageYOffset || document.body.scrollTop || document.documentElement.scrollTop;\r\n            leftAligned = true;\r\n            bottomAligned = true;\r\n\r\n            if (typeof field.getBoundingClientRect === 'function') {\r\n                clientRect = field.getBoundingClientRect();\r\n                left = clientRect.left + window.pageXOffset;\r\n                top = clientRect.bottom + window.pageYOffset;\r\n            } else {\r\n                left = pEl.offsetLeft;\r\n                top  = pEl.offsetTop + pEl.offsetHeight;\r\n                while((pEl = pEl.offsetParent)) {\r\n                    left += pEl.offsetLeft;\r\n                    top  += pEl.offsetTop;\r\n                }\r\n            }\r\n\r\n            // default position is bottom & left\r\n            if ((this._o.reposition && left + width > viewportWidth) ||\r\n                (\r\n                    this._o.position.indexOf('right') > -1 &&\r\n                    left - width + field.offsetWidth > 0\r\n                )\r\n            ) {\r\n                left = left - width + field.offsetWidth;\r\n                leftAligned = false;\r\n            }\r\n            if ((this._o.reposition && top + height > viewportHeight + scrollTop) ||\r\n                (\r\n                    this._o.position.indexOf('top') > -1 &&\r\n                    top - height - field.offsetHeight > 0\r\n                )\r\n            ) {\r\n                top = top - height - field.offsetHeight;\r\n                bottomAligned = false;\r\n            }\r\n            \r\n            if (left < 0) {\r\n                left = 0;\r\n            }\r\n\r\n            if (top < 0) {\r\n                top = 0;\r\n            }\r\n\r\n            this.el.style.left = left + 'px';\r\n            this.el.style.top = top + 'px';\r\n\r\n            addClass(this.el, leftAligned ? 'left-aligned' : 'right-aligned');\r\n            addClass(this.el, bottomAligned ? 'bottom-aligned' : 'top-aligned');\r\n            removeClass(this.el, !leftAligned ? 'left-aligned' : 'right-aligned');\r\n            removeClass(this.el, !bottomAligned ? 'bottom-aligned' : 'top-aligned');\r\n        },\r\n\r\n        /**\r\n         * render HTML for a particular month\r\n         */\r\n        render: function(year, month, randId)\r\n        {\r\n            var opts   = this._o,\r\n                now    = new Date(),\r\n                days   = getDaysInMonth(year, month),\r\n                before = new Date(year, month, 1).getDay(),\r\n                data   = [],\r\n                row    = [];\r\n            setToStartOfDay(now);\r\n            if (opts.firstDay > 0) {\r\n                before -= opts.firstDay;\r\n                if (before < 0) {\r\n                    before += 7;\r\n                }\r\n            }\r\n            var previousMonth = month === 0 ? 11 : month - 1,\r\n                nextMonth = month === 11 ? 0 : month + 1,\r\n                yearOfPreviousMonth = month === 0 ? year - 1 : year,\r\n                yearOfNextMonth = month === 11 ? year + 1 : year,\r\n                daysInPreviousMonth = getDaysInMonth(yearOfPreviousMonth, previousMonth);\r\n            var cells = days + before,\r\n                after = cells;\r\n            while(after > 7) {\r\n                after -= 7;\r\n            }\r\n            cells += 7 - after;\r\n            var isWeekSelected = false;\r\n            for (var i = 0, r = 0; i < cells; i++)\r\n            {\r\n                var day = new Date(year, month, 1 + (i - before)),\r\n                    isSelected = isDate(this._d) ? compareDates(day, this._d) : false,\r\n                    isToday = compareDates(day, now),\r\n                    hasEvent = opts.events.indexOf(day.toDateString()) !== -1 ? true : false,\r\n                    isEmpty = i < before || i >= (days + before),\r\n                    dayNumber = 1 + (i - before),\r\n                    monthNumber = month,\r\n                    yearNumber = year,\r\n                    isStartRange = opts.startRange && compareDates(opts.startRange, day),\r\n                    isEndRange = opts.endRange && compareDates(opts.endRange, day),\r\n                    isInRange = opts.startRange && opts.endRange && opts.startRange < day && day < opts.endRange,\r\n                    isDisabled = (opts.minDate && day < opts.minDate) ||\r\n                                 (opts.maxDate && day > opts.maxDate) ||\r\n                                 (opts.disableWeekends && isWeekend(day)) ||\r\n                                 (opts.disableDayFn && opts.disableDayFn(day));\r\n\r\n                if (isEmpty) {\r\n                    if (i < before) {\r\n                        dayNumber = daysInPreviousMonth + dayNumber;\r\n                        monthNumber = previousMonth;\r\n                        yearNumber = yearOfPreviousMonth;\r\n                    } else {\r\n                        dayNumber = dayNumber - days;\r\n                        monthNumber = nextMonth;\r\n                        yearNumber = yearOfNextMonth;\r\n                    }\r\n                }\r\n\r\n                var dayConfig = {\r\n                        day: dayNumber,\r\n                        month: monthNumber,\r\n                        year: yearNumber,\r\n                        hasEvent: hasEvent,\r\n                        isSelected: isSelected,\r\n                        isToday: isToday,\r\n                        isDisabled: isDisabled,\r\n                        isEmpty: isEmpty,\r\n                        isStartRange: isStartRange,\r\n                        isEndRange: isEndRange,\r\n                        isInRange: isInRange,\r\n                        showDaysInNextAndPreviousMonths: opts.showDaysInNextAndPreviousMonths,\r\n                        enableSelectionDaysInNextAndPreviousMonths: opts.enableSelectionDaysInNextAndPreviousMonths\r\n                    };\r\n\r\n                if (opts.pickWholeWeek && isSelected) {\r\n                    isWeekSelected = true;\r\n                }\r\n\r\n                row.push(renderDay(dayConfig, this._o));\r\n\r\n                if (++r === 7) {\r\n                    if (opts.showWeekNumber) {\r\n                        row.unshift(renderWeek(i - before, month, year, opts.firstWeekOfYearMinDays));\r\n                    }\r\n                    data.push(renderRow(row, opts.isRTL, opts.pickWholeWeek, isWeekSelected));\r\n                    row = [];\r\n                    r = 0;\r\n                    isWeekSelected = false;\r\n                }\r\n            }\r\n            return renderTable(opts, data, randId);\r\n        },\r\n\r\n        isVisible: function()\r\n        {\r\n            return this._v;\r\n        },\r\n\r\n        show: function()\r\n        {\r\n            if (!this.isVisible()) {\r\n                this._v = true;\r\n                if (typeof this._o.onBeforeOpen === 'function') {\r\n                    this._o.onBeforeOpen.call(this);\r\n                }\r\n                this.draw();\r\n                removeClass(this.el, 'is-hidden');\r\n                if (this._o.bound) {\r\n                    addEvent(document, 'click', this._onClick);\r\n                    // this.adjustPosition();\r\n                    this.el.style.display = 'block';\r\n                }\r\n                if (typeof this._o.onOpen === 'function') {\r\n                    this._o.onOpen.call(this);\r\n                }\r\n            }\r\n        },\r\n\r\n        hide: function()\r\n        {\r\n            var v = this._v;\r\n            if (v !== false) {\r\n                if (v !== undefined && typeof this._o.onBeforeClose === 'function') {\r\n                    this._o.onBeforeClose.call(this);\r\n                }\r\n                \r\n                if (this._o.bound) {\r\n                    removeEvent(document, 'click', this._onClick);\r\n                }\r\n\r\n                if (!this._o.container) {\r\n                    this.el.style.position = 'absolute'; // reset\r\n                    // this.el.style.left = 'auto';\r\n                    // this.el.style.top = 'auto';\r\n                    // this.el.style.display = 'none';\r\n                }\r\n                addClass(this.el, 'is-hidden');\r\n                this._v = false;\r\n                if (v !== undefined && typeof this._o.onClose === 'function') {\r\n                    this._o.onClose.call(this);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * GAME OVER\r\n         */\r\n        destroy: function()\r\n        {\r\n            var opts = this._o;\r\n\r\n            this.hide();\r\n            removeEvent(this.el, 'mousedown', this._onMouseDown, true);\r\n            removeEvent(this.el, 'touchend', this._onMouseDown, true);\r\n            removeEvent(this.el, 'change', this._onChange);\r\n            if (opts.keyboardInput) {\r\n                removeEvent(document, 'keydown', this._onKeyChange);\r\n            }\r\n            if (opts.field) {\r\n                removeEvent(opts.field, 'change', this._onInputChange);\r\n                if (opts.bound) {\r\n                    removeEvent(opts.trigger, 'click', this._onInputClick);\r\n                    removeEvent(opts.trigger, 'focus', this._onInputFocus);\r\n                    removeEvent(opts.trigger, 'blur', this._onInputBlur);\r\n                }\r\n            }\r\n            if (this.el.parentNode) {\r\n                this.el.parentNode.removeChild(this.el);\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    return Pikaday;\r\n}));\r\n\r\nexport default Pikaday;","/**\n * Custom positioning reference element.\n * @see https://floating-ui.com/docs/virtual-elements\n */\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst alignments = ['start', 'end'];\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\nconst floor = Math.floor;\nconst createCoords = v => ({\n  x: v,\n  y: v\n});\nconst oppositeSideMap = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nconst oppositeAlignmentMap = {\n  start: 'end',\n  end: 'start'\n};\nfunction clamp(start, value, end) {\n  return max(start, min(value, end));\n}\nfunction evaluate(value, param) {\n  return typeof value === 'function' ? value(param) : value;\n}\nfunction getSide(placement) {\n  return placement.split('-')[0];\n}\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\nfunction getOppositeAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\nfunction getAxisLength(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\nfunction getSideAxis(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';\n}\nfunction getAlignmentAxis(placement) {\n  return getOppositeAxis(getSideAxis(placement));\n}\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n  const alignment = getAlignment(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const length = getAxisLength(alignmentAxis);\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\n}\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\n}\nfunction getSideList(side, isStart, rtl) {\n  const lr = ['left', 'right'];\n  const rl = ['right', 'left'];\n  const tb = ['top', 'bottom'];\n  const bt = ['bottom', 'top'];\n  switch (side) {\n    case 'top':\n    case 'bottom':\n      if (rtl) return isStart ? rl : lr;\n      return isStart ? lr : rl;\n    case 'left':\n    case 'right':\n      return isStart ? tb : bt;\n    default:\n      return [];\n  }\n}\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\n  const alignment = getAlignment(placement);\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\n  if (alignment) {\n    list = list.map(side => side + \"-\" + alignment);\n    if (flipAlignment) {\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\n    }\n  }\n  return list;\n}\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\n}\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\nfunction getPaddingObject(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\nfunction rectToClientRect(rect) {\n  return {\n    ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\n","import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\nexport { rectToClientRect } from '@floating-ui/utils';\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const sideAxis = getSideAxis(placement);\n  const alignmentAxis = getAlignmentAxis(placement);\n  const alignLength = getAxisLength(alignmentAxis);\n  const side = getSide(placement);\n  const isVertical = sideAxis === 'y';\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\n  let coords;\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n    case 'end':\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = {\n      ...middlewareData,\n      [name]: {\n        ...middlewareData[name],\n        ...data\n      }\n    };\n    if (reset && resetCount <= 50) {\n      resetCount++;\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n      i = -1;\n    }\n  }\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary on each side.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(state, options) {\n  var _await$platform$isEle;\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = state;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = evaluate(options, state);\n  const paddingObject = getPaddingObject(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? {\n    ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min$1 = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min$1, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n    return true;\n  });\n}\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'autoPlacement',\n    options,\n    async fn(state) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\n      const {\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = state;\n      const {\n        crossAxis = false,\n        alignment,\n        allowedPlacements = placements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\n      const currentPlacement = placements$1[currentIndex];\n      if (currentPlacement == null) {\n        return {};\n      }\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n\n      // Make `computeCoords` start from the right place.\n      if (placement !== currentPlacement) {\n        return {\n          reset: {\n            placement: placements$1[0]\n          }\n        };\n      }\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements$1[currentIndex + 1];\n\n      // There are more placements to check.\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n      const placementsSortedByMostSpace = allOverflows.map(d => {\n        const alignment = getAlignment(d.placement);\n        return [d.placement, alignment && crossAxis ?\n        // Check along the mainAxis and main crossAxis side.\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\n        // Check only the mainAxis.\n        d.overflows[0], d.overflows];\n      }).sort((a, b) => a[1] - b[1]);\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\n      // Aligned placements should not check their opposite crossAxis\n      // side.\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'flip',\n    options,\n    async fn(state) {\n      var _middlewareData$arrow, _middlewareData$flip;\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        fallbackAxisSideDirection = 'none',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n\n      // If a reset by the arrow was caused due to an alignment offset being\n      // added, we should skip any logic now since `flip()` has already done its\n      // work.\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      const side = getSide(placement);\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\n      }\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n      if (checkCrossAxis) {\n        const sides = getAlignmentSides(placement, rects, rtl);\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\n      }\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }];\n\n      // One or more sides is overflowing.\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip2, _overflowsData$filter;\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\n        const nextPlacement = placements[nextIndex];\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle.\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        // First, find the candidates that fit on the mainAxis side of overflow,\n        // then find the placement that fits the best on the main crossAxis side.\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\n\n        // Otherwise fallback.\n        if (!resetPlacement) {\n          switch (fallbackStrategy) {\n            case 'bestFit':\n              {\n                var _overflowsData$map$so;\n                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];\n                if (placement) {\n                  resetPlacement = placement;\n                }\n                break;\n              }\n            case 'initialPlacement':\n              resetPlacement = initialPlacement;\n              break;\n          }\n        }\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n      return {};\n    }\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'hide',\n    options,\n    async fn(state) {\n      const {\n        rects\n      } = state;\n      const {\n        strategy = 'referenceHidden',\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(state, {\n              ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n        default:\n          {\n            return {};\n          }\n      }\n    }\n  };\n};\n\nfunction getBoundingRect(rects) {\n  const minX = min(...rects.map(rect => rect.left));\n  const minY = min(...rects.map(rect => rect.top));\n  const maxX = max(...rects.map(rect => rect.right));\n  const maxY = max(...rects.map(rect => rect.bottom));\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getRectsByLine(rects) {\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\n  const groups = [];\n  let prevRect = null;\n  for (let i = 0; i < sortedRects.length; i++) {\n    const rect = sortedRects[i];\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\n      groups.push([rect]);\n    } else {\n      groups[groups.length - 1].push(rect);\n    }\n    prevRect = rect;\n  }\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\n}\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'inline',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = state;\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n      const {\n        padding = 2,\n        x,\n        y\n      } = evaluate(options, state);\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\n      const clientRects = getRectsByLine(nativeClientRects);\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\n      const paddingObject = getPaddingObject(padding);\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined.\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          // Find the first rect in which the point is fully inside.\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\n        }\n\n        // There are 2 or more connected rects.\n        if (clientRects.length >= 2) {\n          if (getSideAxis(placement) === 'y') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n        return fallback;\n      }\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\n// For type backwards-compatibility, the `OffsetOptions` type was also\n// Derivable.\n\nasync function convertValueToCoords(state, options) {\n  const {\n    placement,\n    platform,\n    elements\n  } = state;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getSideAxis(placement) === 'y';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = evaluate(options, state);\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n\n/**\n * Modifies the placement by translating the floating element along the\n * specified axes.\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\n * object may be passed.\n * @see https://floating-ui.com/docs/offset\n */\nconst offset = function (options) {\n  if (options === void 0) {\n    options = 0;\n  }\n  return {\n    name: 'offset',\n    options,\n    async fn(state) {\n      var _middlewareData$offse, _middlewareData$arrow;\n      const {\n        x,\n        y,\n        placement,\n        middlewareData\n      } = state;\n      const diffCoords = await convertValueToCoords(state, options);\n\n      // If the placement is the same and the arrow caused an alignment offset\n      // then we don't need to change the positioning coordinates.\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\n        return {};\n      }\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: {\n          ...diffCoords,\n          placement\n        }\n      };\n    }\n  };\n};\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'shift',\n    options,\n    async fn(state) {\n      const {\n        x,\n        y,\n        placement\n      } = state;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const crossAxis = getSideAxis(getSide(placement));\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\n      }\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\n      }\n      const limitedCoords = limiter.fn({\n        ...state,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return {\n        ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n  };\n};\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    options,\n    fn(state) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = state;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = evaluate(options, state);\n      const coords = {\n        x,\n        y\n      };\n      const crossAxis = getSideAxis(placement);\n      const mainAxis = getOppositeAxis(crossAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = evaluate(offset, state);\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2;\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n  };\n};\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n  return {\n    name: 'size',\n    options,\n    async fn(state) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = state;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = evaluate(options, state);\n      const overflow = await detectOverflow(state, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      const isYAxis = getSideAxis(placement) === 'y';\n      const {\n        width,\n        height\n      } = rects.floating;\n      let heightSide;\n      let widthSide;\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n      const overflowAvailableHeight = height - overflow[heightSide];\n      const overflowAvailableWidth = width - overflow[widthSide];\n      const noShift = !state.middlewareData.shift;\n      let availableHeight = overflowAvailableHeight;\n      let availableWidth = overflowAvailableWidth;\n      if (isYAxis) {\n        const maximumClippingWidth = width - overflow.left - overflow.right;\n        availableWidth = alignment || noShift ? min(overflowAvailableWidth, maximumClippingWidth) : maximumClippingWidth;\n      } else {\n        const maximumClippingHeight = height - overflow.top - overflow.bottom;\n        availableHeight = alignment || noShift ? min(overflowAvailableHeight, maximumClippingHeight) : maximumClippingHeight;\n      }\n      if (noShift && !alignment) {\n        const xMin = max(overflow.left, 0);\n        const xMax = max(overflow.right, 0);\n        const yMin = max(overflow.top, 0);\n        const yMax = max(overflow.bottom, 0);\n        if (isYAxis) {\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\n        } else {\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\n        }\n      }\n      await apply({\n        ...state,\n        availableWidth,\n        availableHeight\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n      return {};\n    }\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\n","function getNodeName(node) {\n  if (isNode(node)) {\n    return (node.nodeName || '').toLowerCase();\n  }\n  // Mocked nodes in testing environments may not be instances of Node. By\n  // returning `#document` an infinite loop won't occur.\n  // https://github.com/floating-ui/floating-ui/issues/2317\n  return '#document';\n}\nfunction getWindow(node) {\n  var _node$ownerDocument;\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\nfunction getDocumentElement(node) {\n  var _ref;\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\n}\nfunction isNode(value) {\n  return value instanceof Node || value instanceof getWindow(value).Node;\n}\nfunction isElement(value) {\n  return value instanceof Element || value instanceof getWindow(value).Element;\n}\nfunction isHTMLElement(value) {\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\n}\nfunction isShadowRoot(value) {\n  // Browsers without `ShadowRoot` support.\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  const webkit = isWebKit();\n  const css = getComputedStyle(element);\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  return css.transform !== 'none' || css.perspective !== 'none' || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));\n}\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n  return null;\n}\nfunction isWebKit() {\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\n  return CSS.supports('-webkit-backdrop-filter', 'none');\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n  const result =\n  // Step into the shadow DOM of the parent of a slotted node.\n  node.assignedSlot ||\n  // DOM Element detected.\n  node.parentNode ||\n  // ShadowRoot detected.\n  isShadowRoot(node) && node.host ||\n  // Fallback.\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n  if (isLastTraversableNode(parentNode)) {\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\n  }\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n  return getNearestOverflowAncestor(parentNode);\n}\nfunction getOverflowAncestors(node, list, traverseIframes) {\n  var _node$ownerDocument2;\n  if (list === void 0) {\n    list = [];\n  }\n  if (traverseIframes === void 0) {\n    traverseIframes = true;\n  }\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\n  const win = getWindow(scrollableAncestor);\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], win.frameElement && traverseIframes ? getOverflowAncestors(win.frameElement) : []);\n  }\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\n}\n\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isWebKit };\n","import { rectToClientRect, autoPlacement as autoPlacement$1, shift as shift$1, flip as flip$1, size as size$1, hide as hide$1, arrow as arrow$1, inline as inline$1, limitShift as limitShift$1, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { detectOverflow, offset } from '@floating-ui/core';\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement, isElement, getWindow, isWebKit, getContainingBlock, getDocumentElement, getNodeName, isOverflowElement, getNodeScroll, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement } from '@floating-ui/utils/dom';\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\n\nfunction getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height,\n    $: shouldFallback\n  };\n}\n\nfunction unwrapElement(element) {\n  return !isElement(element) ? element.contextElement : element;\n}\n\nfunction getScale(element) {\n  const domElement = unwrapElement(element);\n  if (!isHTMLElement(domElement)) {\n    return createCoords(1);\n  }\n  const rect = domElement.getBoundingClientRect();\n  const {\n    width,\n    height,\n    $\n  } = getCssDimensions(domElement);\n  let x = ($ ? round(rect.width) : rect.width) / width;\n  let y = ($ ? round(rect.height) : rect.height) / height;\n\n  // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n  return {\n    x,\n    y\n  };\n}\n\nconst noOffsets = /*#__PURE__*/createCoords(0);\nfunction getVisualOffsets(element) {\n  const win = getWindow(element);\n  if (!isWebKit() || !win.visualViewport) {\n    return noOffsets;\n  }\n  return {\n    x: win.visualViewport.offsetLeft,\n    y: win.visualViewport.offsetTop\n  };\n}\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\n    return false;\n  }\n  return isFixed;\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n  const clientRect = element.getBoundingClientRect();\n  const domElement = unwrapElement(element);\n  let scale = createCoords(1);\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\n  let width = clientRect.width / scale.x;\n  let height = clientRect.height / scale.y;\n  if (domElement) {\n    const win = getWindow(domElement);\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\n    let currentIFrame = win.frameElement;\n    while (currentIFrame && offsetParent && offsetWin !== win) {\n      const iframeScale = getScale(currentIFrame);\n      const iframeRect = currentIFrame.getBoundingClientRect();\n      const css = getComputedStyle(currentIFrame);\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\n      x *= iframeScale.x;\n      y *= iframeScale.y;\n      width *= iframeScale.x;\n      height *= iframeScale.y;\n      x += left;\n      y += top;\n      currentIFrame = getWindow(currentIFrame).frameElement;\n    }\n  }\n  return rectToClientRect({\n    width,\n    height,\n    x,\n    y\n  });\n}\n\nconst topLayerSelectors = [':popover-open', ':modal'];\nfunction topLayer(floating) {\n  let isTopLayer = false;\n  let x = 0;\n  let y = 0;\n  function setIsTopLayer(selector) {\n    try {\n      isTopLayer = isTopLayer || floating.matches(selector);\n    } catch (e) {}\n  }\n  topLayerSelectors.forEach(selector => {\n    setIsTopLayer(selector);\n  });\n  if (isTopLayer) {\n    const containingBlock = getContainingBlock(floating);\n    if (containingBlock) {\n      const rect = containingBlock.getBoundingClientRect();\n      x = rect.x;\n      y = rect.y;\n    }\n  }\n  return [isTopLayer, x, y];\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    elements,\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const documentElement = getDocumentElement(offsetParent);\n  const [isTopLayer] = elements ? topLayer(elements.floating) : [false];\n  if (offsetParent === documentElement || isTopLayer) {\n    return rect;\n  }\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = createCoords(1);\n  const offsets = createCoords(0);\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    }\n  }\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getClientRects(element) {\n  return Array.from(element.getClientRects());\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\n// Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\nfunction getDocumentRect(element) {\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = element.ownerDocument.body;\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n  if (getComputedStyle(body).direction === 'rtl') {\n    x += max(html.clientWidth, body.clientWidth) - width;\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const visualViewportBased = isWebKit();\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// Returns the inner client rect, subtracting scrollbars if present.\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  let rect;\n  if (clippingAncestor === 'viewport') {\n    rect = getViewportRect(element, strategy);\n  } else if (clippingAncestor === 'document') {\n    rect = getDocumentRect(getDocumentElement(element));\n  } else if (isElement(clippingAncestor)) {\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\n  } else {\n    const visualOffsets = getVisualOffsets(element);\n    rect = {\n      ...clippingAncestor,\n      x: clippingAncestor.x - visualOffsets.x,\n      y: clippingAncestor.y - visualOffsets.y\n    };\n  }\n  return rectToClientRect(rect);\n}\nfunction hasFixedPositionAncestor(element, stopNode) {\n  const parentNode = getParentNode(element);\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\n    return false;\n  }\n  return getComputedStyle(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\n}\n\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n  if (cachedResult) {\n    return cachedResult;\n  }\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\n\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const currentNodeIsContaining = isContainingBlock(currentNode);\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\n      currentContainingBlockComputedStyle = null;\n    }\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks.\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration.\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n    currentNode = getParentNode(currentNode);\n  }\n  cache.set(element, result);\n  return result;\n}\n\n// Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors.\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nfunction getDimensions(element) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  return {\n    width,\n    height\n  };\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy, floating) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const isFixed = strategy === 'fixed';\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = createCoords(0);\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n    if (isOffsetParentAnElement) {\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n  let x = rect.left + scroll.scrollLeft - offsets.x;\n  let y = rect.top + scroll.scrollTop - offsets.y;\n  const [isTopLayer, topLayerX, topLayerY] = topLayer(floating);\n  if (isTopLayer) {\n    x += topLayerX;\n    y += topLayerY;\n    if (isOffsetParentAnElement) {\n      x += offsetParent.clientLeft;\n      y += offsetParent.clientTop;\n    }\n  }\n  return {\n    x,\n    y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getTrueOffsetParent(element, polyfill) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n  if (polyfill) {\n    return polyfill(element);\n  }\n  return element.offsetParent;\n}\n\n// Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\nfunction getOffsetParent(element, polyfill) {\n  const window = getWindow(element);\n  if (!isHTMLElement(element)) {\n    return window;\n  }\n  let offsetParent = getTrueOffsetParent(element, polyfill);\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\n  }\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nconst getElementRects = async function (data) {\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n  const getDimensionsFn = this.getDimensions;\n  return {\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy, data.floating),\n    floating: {\n      x: 0,\n      y: 0,\n      ...(await getDimensionsFn(data.floating))\n    }\n  };\n};\n\nfunction isRTL(element) {\n  return getComputedStyle(element).direction === 'rtl';\n}\n\nconst platform = {\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  getDocumentElement,\n  getClippingRect,\n  getOffsetParent,\n  getElementRects,\n  getClientRects,\n  getDimensions,\n  getScale,\n  isElement,\n  isRTL\n};\n\n// https://samthor.au/2021/observing-dom/\nfunction observeMove(element, onMove) {\n  let io = null;\n  let timeoutId;\n  const root = getDocumentElement(element);\n  function cleanup() {\n    var _io;\n    clearTimeout(timeoutId);\n    (_io = io) == null || _io.disconnect();\n    io = null;\n  }\n  function refresh(skip, threshold) {\n    if (skip === void 0) {\n      skip = false;\n    }\n    if (threshold === void 0) {\n      threshold = 1;\n    }\n    cleanup();\n    const {\n      left,\n      top,\n      width,\n      height\n    } = element.getBoundingClientRect();\n    if (!skip) {\n      onMove();\n    }\n    if (!width || !height) {\n      return;\n    }\n    const insetTop = floor(top);\n    const insetRight = floor(root.clientWidth - (left + width));\n    const insetBottom = floor(root.clientHeight - (top + height));\n    const insetLeft = floor(left);\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\n    const options = {\n      rootMargin,\n      threshold: max(0, min(1, threshold)) || 1\n    };\n    let isFirstUpdate = true;\n    function handleObserve(entries) {\n      const ratio = entries[0].intersectionRatio;\n      if (ratio !== threshold) {\n        if (!isFirstUpdate) {\n          return refresh();\n        }\n        if (!ratio) {\n          timeoutId = setTimeout(() => {\n            refresh(false, 1e-7);\n          }, 100);\n        } else {\n          refresh(false, ratio);\n        }\n      }\n      isFirstUpdate = false;\n    }\n\n    // Older browsers don't support a `document` as the root and will throw an\n    // error.\n    try {\n      io = new IntersectionObserver(handleObserve, {\n        ...options,\n        // Handle <iframe>s\n        root: root.ownerDocument\n      });\n    } catch (e) {\n      io = new IntersectionObserver(handleObserve, options);\n    }\n    io.observe(element);\n  }\n  refresh(true);\n  return cleanup;\n}\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * Should only be called when the floating element is mounted on the DOM or\n * visible on the screen.\n * @returns cleanup function that should be invoked when the floating element is\n * removed from the DOM or hidden from the screen.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  const {\n    ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = typeof ResizeObserver === 'function',\n    layoutShift = typeof IntersectionObserver === 'function',\n    animationFrame = false\n  } = options;\n  const referenceEl = unwrapElement(reference);\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\n  let reobserveFrame = -1;\n  let resizeObserver = null;\n  if (elementResize) {\n    resizeObserver = new ResizeObserver(_ref => {\n      let [firstEntry] = _ref;\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\n        // Prevent update loops when using the `size` middleware.\n        // https://github.com/floating-ui/floating-ui/issues/1740\n        resizeObserver.unobserve(floating);\n        cancelAnimationFrame(reobserveFrame);\n        reobserveFrame = requestAnimationFrame(() => {\n          var _resizeObserver;\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\n        });\n      }\n      update();\n    });\n    if (referenceEl && !animationFrame) {\n      resizeObserver.observe(referenceEl);\n    }\n    resizeObserver.observe(floating);\n  }\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n  if (animationFrame) {\n    frameLoop();\n  }\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n  update();\n  return () => {\n    var _resizeObserver2;\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    cleanupIo == null || cleanupIo();\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\n    resizeObserver = null;\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Optimizes the visibility of the floating element by choosing the placement\n * that has the most space available automatically, without needing to specify a\n * preferred placement. Alternative to `flip`.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = autoPlacement$1;\n\n/**\n * Optimizes the visibility of the floating element by shifting it in order to\n * keep it in view when it will overflow the clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = shift$1;\n\n/**\n * Optimizes the visibility of the floating element by flipping the `placement`\n * in order to keep it in view when the preferred placement(s) will overflow the\n * clipping boundary. Alternative to `autoPlacement`.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = flip$1;\n\n/**\n * Provides data that allows you to change the size of the floating element —\n * for instance, prevent it from overflowing the clipping boundary or match the\n * width of the reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = size$1;\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = hide$1;\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = arrow$1;\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = inline$1;\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = limitShift$1;\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a given reference element.\n */\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = {\n    ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, {\n    ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { arrow, autoPlacement, autoUpdate, computePosition, flip, hide, inline, limitShift, platform, shift, size };\n","import {\r\n    randomNumber,\r\n    kebabCase,\r\n    styles,\r\n    addClass,\r\n    removeClass,\r\n    setAttributes,\r\n    removeAttributes,\r\n    getElement,\r\n    getElements\r\n} from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Modal extends Component {\r\n    constructor(element, config, componentSettings) {\r\n\r\n        const _defaults = {\r\n            target: null,\r\n            keyboard: true,\r\n            focus: false,\r\n            backdropFadeDuration: 200,\r\n            backdropClose: true,\r\n            hideBackdrop: false,\r\n            dialog: 'data-dialog',\r\n            content: 'data-content',\r\n            close: 'data-close',\r\n            backdrop: 'data-backdrop',\r\n            autoCloseDelay: 0,\r\n            history: false,\r\n            allowScroll: false,\r\n            zindex: 1055,\r\n            namespace: 'modal',\r\n            classes: {\r\n                backdrop: null,\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = Object.assign({\r\n            name: 'modal',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        }, componentSettings ?? {});\r\n\r\n        super(_component);\r\n        \r\n        if (!this._element) return;\r\n     \r\n        this._isOpened = false;\r\n        this._previous = false;\r\n        this._config.zindex = parseInt(this._config.zindex) || 0;\r\n        this._config.namespace = kebabCase(this._config.namespace);\r\n        this._modal = getElement(this._config.target) ?? this._element;\r\n\r\n        if (!this._modal) return;\r\n\r\n        this._dialog = getElement(`[${this._config.dialog}]`, this._modal);\r\n        this._content = getElement(`[${this._config.content}]`, this._modal);\r\n        this._initialFocus = this._modal;\r\n        this._finalFocus = this._element;\r\n        this._config.backdropFadeDuration = parseInt(this._config.backdropFadeDuration) / 1000;\r\n        this._config.autoCloseDelay = parseInt(this._config.autoCloseDelay);\r\n        const modalId = this._modal.id !== '' ? this._modal.id : 'modal-' + randomNumber(4);\r\n        const closeTriggers = getElements(`[${this._config.close}]`, this._modal);\r\n        const minimumAutoCloseDelay = 3000;\r\n        UIkit.store[this._config.namespace] = UIkit.store[this._config.namespace] ? UIkit.store[this._config.namespace] : {};\r\n\r\n        // Set modal attributes.\r\n        setAttributes(this._modal, {\r\n            id: modalId,\r\n            tabindex: -1,\r\n            role: 'dialog',\r\n            ariaModal: true\r\n        });\r\n\r\n        // Set modal styles.\r\n        styles(this._modal, {\r\n            zIndex: this._config.zindex\r\n        });\r\n\r\n        // Search for all elements that can close the modal \r\n        // and set the following attributes.\r\n        closeTriggers.forEach((close) => {\r\n            setAttributes(close, {\r\n                role: 'button',\r\n                ariaLabel: close.innerText.trim()!= '' ? close.innerText.trim() : 'Close'\r\n            });\r\n        });\r\n\r\n        // Accessible event data\r\n        const eventData = {\r\n            content: this._content\r\n        };\r\n\r\n        /**\r\n         * Show modal when target is clicked.\r\n         */\r\n        const onClickShow = (e) => {\r\n            e.preventDefault();\r\n            this._show(this);\r\n        };\r\n\r\n        /**\r\n         * Hide modal when target is clicked.\r\n         */\r\n        const onClickHide = (e) => {\r\n            e.preventDefault();\r\n            this._previous = true;\r\n            this._hide(this);\r\n        };\r\n\r\n        /**\r\n         * Hide modal when clicked outside.\r\n         */\r\n        const onClickModalHide = (e) => {\r\n            \r\n            if (this._isTransitioning || this._content.contains(e.target)) return;\r\n\r\n            if (!this._config.backdropClose) {\r\n                this._dispatchEvent('hidePrevented', eventData);\r\n\r\n                return;\r\n            }\r\n    \r\n            this._previous = true;\r\n            this._hide(this);\r\n        };\r\n\r\n        /**\r\n         * Hide modal when clicked outside.\r\n         */\r\n        const autoCloseModal = () => {\r\n            if (this._config.autoCloseDelay >= minimumAutoCloseDelay) {\r\n                this._setTimeout(() => {\r\n                    this._hide(this);\r\n                }, this._config.autoCloseDelay);\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Move focus within modal.\r\n         */\r\n        const onKeydown = (e) => {\r\n            if (e.key === 'Tab' || (e.shiftKey && e.key === 'Tab')) {\r\n                setFocus(e, this, e.shiftKey);\r\n            }\r\n\r\n            if (e.key === 'Escape' && !this._config.keyboard) {\r\n                this._dispatchEvent('hidePrevented', eventData);\r\n\r\n                return;\r\n            }\r\n\r\n            if (e.key === 'Escape' && this._config.keyboard) {\r\n                this._previous = true;\r\n                this._hide(this);\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Get all focusable elements.\r\n         * \r\n         * @param {object} self \r\n         */\r\n        const getFocusable = (self) => {\r\n            const focusable = getElements('*', self._content);\r\n\r\n            return [...focusable].filter(node => node.tabIndex >= 0);\r\n        };\r\n\r\n        /**\r\n         * Focus on a target element.\r\n         * \r\n         * @param {object} e event object\r\n         * @param {object} self \r\n         * @param {boolean} reverse \r\n         * @returns \r\n         */\r\n        const setFocus = (e, self, reverse = false) => {\r\n            let focusable = getFocusable(self);\r\n            const total = focusable.length;\r\n\r\n            if (total == 0) {\r\n                self._modal.focus();\r\n                e.preventDefault();\r\n                \r\n                return;\r\n            }\r\n\r\n            if (total >= 1 && document.activeElement == focusable[total - 1]) {\r\n                focusable[0].focus();\r\n                e.preventDefault();\r\n\r\n                return;\r\n            }\r\n\r\n            if (total >= 1 && document.activeElement == focusable[0] && reverse) {\r\n                focusable[total - 1].focus();\r\n                e.preventDefault();\r\n\r\n                return;\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Stores modal data.\r\n         * \r\n         * @param {object} data \r\n         */\r\n        const storeModal = (data) => {\r\n\r\n            if (UIkit.store[this._config.namespace].openedModals instanceof Array) {\r\n                UIkit.store[this._config.namespace].openedModals.push(data);\r\n\r\n                return;\r\n            }\r\n\r\n            UIkit.store[this._config.namespace].openedModals = [data];\r\n            UIkit.store[this._config.namespace].firstModal = data._modal;\r\n            UIkit.store[this._config.namespace].firstModalTrigger = data._element;\r\n        };\r\n\r\n        /**\r\n         * Remove stored modal data.\r\n         * \r\n         * @param {HTMLElement} modal \r\n         */\r\n        const removeModal = (modal) => {\r\n            if (UIkit.store[this._config.namespace].openedModals instanceof Array) {\r\n                UIkit.store[this._config.namespace].openedModals.forEach((data, index) => {\r\n                    if (data._modal == modal) {\r\n                        UIkit.store[this._config.namespace].openedModals.splice(index, 1);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Get the total opened modals.\r\n         */\r\n        const getTotalModals = () => {\r\n            return UIkit.store[this._config.namespace].openedModals ? UIkit.store[this._config.namespace].openedModals.length : 0;\r\n        };\r\n\r\n        /**\r\n         * Check if is the first opened modal.\r\n         * \r\n         * @param {HTMLElement} modal \r\n         */\r\n        const isFirstModal = (modal) => {\r\n            return UIkit.store[this._config.namespace].firstModal == modal;\r\n        };\r\n\r\n        /**\r\n         * Get the first modal trigger.\r\n         */\r\n        const getFirstModalTrigger = () => {\r\n            return UIkit.store[this._config.namespace].firstModalTrigger;\r\n        };\r\n\r\n        /**\r\n         * Remove all stored modals.\r\n         */\r\n        const clearModals = () => {\r\n            // delete UIkit.store[this._config.namespace];\r\n            delete UIkit.store[this._config.namespace].openedModals;\r\n            delete UIkit.store[this._config.namespace].firstModal;\r\n            delete UIkit.store[this._config.namespace].firstModalTrigger;\r\n        };\r\n\r\n        /**\r\n         * Get previously opened modal.\r\n         * \r\n         * @param {HTMLElement} modal \r\n         * @returns\r\n         */\r\n        const getPreviousModal = (modal) => {\r\n            let previousModal = null;\r\n\r\n            if (UIkit.store[this._config.namespace].openedModals instanceof Array && UIkit.store[this._config.namespace].openedModals.length > 0) {\r\n                UIkit.store[this._config.namespace].openedModals.forEach((data, index) => {\r\n                    if (data._modal == modal) {\r\n                        previousModal = UIkit.store[this._config.namespace].openedModals[index - 1];\r\n                    }\r\n                });\r\n            }\r\n\r\n            return previousModal;\r\n        };\r\n\r\n        /**\r\n         * Focus on an element.\r\n         * \r\n         * @param {HTMLElement} element \r\n         */\r\n        const focus = (element) => {\r\n            if (!element) return;\r\n            \r\n            element.focus();\r\n        };\r\n\r\n        /**\r\n         * Set opened dialog attribute.\r\n         */\r\n        const setOpenedDialogsAttribute = () => {\r\n            let attributes = document.body.dataset.openedDialogs || '';\r\n            attributes = attributes.split(',');\r\n            attributes = attributes.filter(attribute => attribute != '');\r\n\r\n            if (attributes.indexOf(this._config.namespace) === -1) {\r\n                attributes.push(this._config.namespace);\r\n                let value = attributes.length > 1 ? attributes.join(',') : this._config.namespace;\r\n                document.body.setAttribute(`data-opened-dialogs`, value);\r\n            }  \r\n        };\r\n\r\n        /**\r\n         * Remove opened dialog attribute.\r\n         */\r\n        const removeOpenedDialogsAttribute = () => {\r\n            let attributes = document.body.dataset.openedDialogs || '';\r\n            attributes = attributes.split(',');\r\n\r\n            if (attributes.indexOf(this._config.namespace) !== -1) {\r\n                attributes.splice(attributes.indexOf(this._config.namespace), 1);\r\n\r\n                if (attributes.length > 0) {                    \r\n                    let value = attributes.length > 1 ? attributes.join(',') : attributes[0];\r\n                    document.body.setAttribute(`data-opened-dialogs`, value);\r\n                } else {\r\n                    document.body.removeAttribute(`data-opened-dialogs`);\r\n                }\r\n            }  \r\n        };\r\n\r\n        /**\r\n         * Hide scrollbar. \r\n         */\r\n        const hideScrollbar = () => {\r\n            if (this._config.allowScroll) return;\r\n            \r\n            // Hide modal scrollbar\r\n            this._modal.style.overflow = `hidden`;\r\n\r\n            // Restore scrollbar and right margin\r\n            if (!document.body.dataset.openedDialogs) {                \r\n                styles(document.body, {\r\n                    overflow: null,\r\n                    marginRight: null\r\n                });\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Check if document body has overflow and margin styles. \r\n         */\r\n        const hasOverflowMargin = () => {\r\n            return Boolean(document.body.style.overflow && document.body.style.marginRight);\r\n        };\r\n\r\n        /**\r\n         * Restore modal scrollbar.\r\n         * \r\n         * @param {object} self \r\n         */\r\n        const restoreModalScrollbar = (self) => {\r\n            if (self._config.allowScroll) return;\r\n\r\n            self._modal.style.overflow = null;\r\n        };\r\n\r\n        /**\r\n         * Create a backdrop.\r\n         * \r\n         * @returns \r\n         */\r\n        const backdrop = () => {\r\n            const backdrop = document.createElement('div');\r\n            \r\n            if (!this._config.classes.backdrop) {        \r\n                backdrop.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';\r\n            }\r\n    \r\n            styles(backdrop, {\r\n                position: 'fixed',\r\n                top: 0,\r\n                right: 0,\r\n                bottom: 0,\r\n                left: 0,\r\n                zIndex: this._config.zindex - 5\r\n            });\r\n\r\n            if (this._hasTransition) {\r\n                styles(backdrop, {\r\n                    opacity: 0,\r\n                    transition: `opacity ${this._config.backdropFadeDuration}s linear`,\r\n                });\r\n            }\r\n    \r\n            addClass(backdrop, this._config.classes.backdrop);\r\n            setAttributes(backdrop, {\r\n                [`${this._config.backdrop}`]: this._config.namespace\r\n            });\r\n\r\n            return backdrop;\r\n        };\r\n\r\n        /**\r\n         * Show backdrop.\r\n         */\r\n        const showBackdrop = () => {\r\n            this._backdrop = getElement(`[${this._config.backdrop}=\"${this._config.namespace}\"]`) || backdrop();\r\n\r\n            if (!this._config.hideBackdrop) {\r\n                document.body.append(this._backdrop);\r\n            }\r\n\r\n            // Hide scrollbar and set right margin\r\n            if (getTotalModals() == 0 && !this._config.allowScroll && !hasOverflowMargin()) {                \r\n                const scrollBarWidth = window.innerWidth - document.documentElement.clientWidth;\r\n                styles(document.body, {\r\n                    overflow: `hidden`,\r\n                    marginRight: `${scrollBarWidth}px`\r\n                });\r\n            }\r\n\r\n            if (this._hasTransition) {\r\n                window.requestAnimationFrame(() => {\r\n                    this._backdrop.style.opacity = 1\r\n                });\r\n            }\r\n            \r\n            if (!this._previous) {\r\n                storeModal(this);\r\n\r\n                setOpenedDialogsAttribute();\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Hide and remove backdrop.\r\n         */\r\n        const hideBackdrop = () => {\r\n            if ((!this._backdrop || getTotalModals() > 1) && !this._config.hideBackdrop) return;\r\n\r\n            removeOpenedDialogsAttribute();\r\n\r\n            if (!this._config.history) {\r\n                this._finalFocus = getFirstModalTrigger();\r\n            }\r\n\r\n            if (this._config.hideBackdrop && getTotalModals() == 1) {\r\n                hideScrollbar();\r\n                clearModals();\r\n            }\r\n\r\n            if (!this._hasTransition) {\r\n                hideScrollbar();\r\n                clearModals();\r\n                this._backdrop.remove();\r\n\r\n                return;\r\n            }\r\n\r\n            const transitionEndEvent = () => { \r\n                hideScrollbar();\r\n                clearModals();\r\n                this._backdrop.remove();\r\n                this._off(this._backdrop, 'transitionend', transitionEndEvent);\r\n            };\r\n\r\n            window.requestAnimationFrame(() => {\r\n                this._backdrop.style.opacity = 0\r\n            });\r\n\r\n            this._on(this._backdrop, 'transitionend', transitionEndEvent);\r\n        };\r\n\r\n        /**\r\n         * Forcefully remove backdrop.\r\n         */\r\n        const removeBackdrop = () => {\r\n            const animationDuration = parseFloat(window.getComputedStyle(this._dialog).animationDuration) || 0;\r\n            const transitionDuration = parseFloat(window.getComputedStyle(this._dialog).transitionDuration) || 0;\r\n    \r\n            if (transitionDuration >= this._config.backdropFadeDuration || animationDuration >= this._config.backdropFadeDuration) {\r\n                return;\r\n            }\r\n\r\n            if ((isFirstModal(this._modal) && this._config.history) || !this._config.history) {\r\n                clearModals();\r\n                this._backdrop?.remove();\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Show the modal.\r\n         * \r\n         * @param {object} self \r\n         */\r\n        this._show = (self) => {\r\n            self._isOpened = true;\r\n            self._dispatchEvent('show', eventData);\r\n            showBackdrop();\r\n\r\n            const previousInstance = getPreviousModal(self._modal);\r\n\r\n            if (previousInstance && !this._previous) {\r\n                self._hide(previousInstance);\r\n            }\r\n\r\n            this._previous = false;\r\n\r\n            if (self._config.focus && getFocusable(self).length > 0) {\r\n                self._initialFocus = getFocusable(self)[0];\r\n            }\r\n\r\n            removeClass(self._modal, self._config.classes.display);\r\n            \r\n            const transitioned = self._transition('transitionEnter', self._dialog, (e) => {\r\n                focus(self._initialFocus);\r\n                self._dispatchEvent('shown', eventData);\r\n                autoCloseModal();\r\n            });\r\n            \r\n            if (transitioned) return;\r\n            \r\n            focus(self._initialFocus);\r\n            self._dispatchEvent('shown', eventData);\r\n            autoCloseModal();\r\n        };\r\n\r\n        /**\r\n         * Hide the modal.\r\n         * \r\n         * @param {object} self \r\n         */\r\n        this._hide = (self) => {\r\n\r\n            self._isOpened = false;\r\n            self._dispatchEvent('hide', eventData);\r\n            hideBackdrop();\r\n\r\n            const previousInstance = getPreviousModal(self._modal);\r\n\r\n            if (previousInstance && this._previous) {\r\n                removeModal(self._modal);\r\n                self._show(previousInstance);\r\n            }\r\n\r\n            this._previous = false;\r\n\r\n            if (!self._config.history) {\r\n                removeModal(self._modal);\r\n            }\r\n\r\n            const transitioned = self._transition('transitionLeave', self._dialog, (e) => {\r\n                addClass(self._modal, self._config.classes.display);\r\n\r\n                // If last modal is closed\r\n                if (getTotalModals() < 1) focus(self._finalFocus);\r\n\r\n                restoreModalScrollbar(self);\r\n                self._dispatchEvent('hidden', eventData);\r\n\r\n                removeBackdrop();\r\n            });\r\n\r\n            if (transitioned) return;\r\n\r\n            addClass(self._modal, self._config.classes.display);\r\n            \r\n            // If last modal is closed\r\n            if (getTotalModals() < 1) focus(self._finalFocus);\r\n\r\n            restoreModalScrollbar(self);\r\n            self._dispatchEvent('hidden', eventData);\r\n        };\r\n\r\n        /**\r\n         * Events.\r\n         */\r\n        if (this._config.target) {\r\n            this._on(this._element, 'click', onClickShow);\r\n        }\r\n\r\n        this._on(this._modal, 'keydown', onKeydown);\r\n        this._on(this._modal, 'click', onClickModalHide);\r\n\r\n        for (const close of closeTriggers) {\r\n            this._on(close, 'click', onClickHide);\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    show() {\r\n        this._show?.(this);\r\n    }\r\n\r\n    hide() {\r\n        this._hide?.(this);\r\n    }\r\n\r\n    visible() {\r\n        return this._isOpened;\r\n    }\r\n\r\n    destroy() {\r\n        this._hide(this);\r\n        this._backdrop?.remove();\r\n        this._transitionCleanup(this._dialog);\r\n        delete UIkit.store.openedModals;\r\n        addClass(this._modal, this._config.classes.display);\r\n        removeAttributes(this._modal, [ 'id', 'tabindex', 'role', 'ariaModal' ]);\r\n        styles(this._modal, { zIndex: null });\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Modal;","/**\n * Tom Select v2.2.2\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n */\n\n/**\n * MicroEvent - to make any js object an event emitter\n *\n * - pure javascript - server compatible, browser compatible\n * - dont rely on the browser doms\n * - super simple - you get it immediatly, no mistery, no magic involved\n *\n * @author Jerome Etienne (https://github.com/jeromeetienne)\n */\n\n/**\n * Execute callback for each event in space separated list of event names\n *\n */\nfunction forEvents(events, callback) {\n    events.split(/\\s+/).forEach((event) => {\n        callback(event);\n    });\n}\n\nclass MicroEvent {\n    constructor() {\n        this._events = void 0;\n        this._events = {};\n    }\n\n    on(events, fct) {\n        forEvents(events, (event) => {\n            const event_array = this._events[event] || [];\n            event_array.push(fct);\n            this._events[event] = event_array;\n        });\n    }\n\n    off(events, fct) {\n        var n = arguments.length;\n\n        if (n === 0) {\n            this._events = {};\n            return;\n        }\n\n        forEvents(events, (event) => {\n            if (n === 1) {\n                delete this._events[event];\n                return;\n            }\n\n            const event_array = this._events[event];\n            if (event_array === undefined) return;\n            event_array.splice(event_array.indexOf(fct), 1);\n            this._events[event] = event_array;\n        });\n    }\n\n    trigger(events, ...args) {\n        var self = this;\n        forEvents(events, (event) => {\n            const event_array = self._events[event];\n            if (event_array === undefined) return;\n            event_array.forEach((fct) => {\n                fct.apply(self, args);\n            });\n        });\n    }\n}\n\n/**\n * microplugin.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\nfunction MicroPlugin(Interface) {\n    Interface.plugins = {};\n    return class extends Interface {\n        constructor(...args) {\n            super(...args);\n            this.plugins = {\n                names: [],\n                settings: {},\n                requested: {},\n                loaded: {},\n            };\n        }\n\n        /**\n         * Registers a plugin.\n         *\n         * @param {function} fn\n         */\n        static define(name, fn) {\n            Interface.plugins[name] = {\n                name: name,\n                fn: fn,\n            };\n        }\n        /**\n         * Initializes the listed plugins (with options).\n         * Acceptable formats:\n         *\n         * List (without options):\n         *   ['a', 'b', 'c']\n         *\n         * List (with options):\n         *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n         *\n         * Hash (with options):\n         *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n         *\n         * @param {array|object} plugins\n         */\n\n        initializePlugins(plugins) {\n            var key, name;\n            const self = this;\n            const queue = [];\n\n            if (Array.isArray(plugins)) {\n                plugins.forEach((plugin) => {\n                    if (typeof plugin === \"string\") {\n                        queue.push(plugin);\n                    } else {\n                        self.plugins.settings[plugin.name] = plugin.options;\n                        queue.push(plugin.name);\n                    }\n                });\n            } else if (plugins) {\n                for (key in plugins) {\n                    if (plugins.hasOwnProperty(key)) {\n                        self.plugins.settings[key] = plugins[key];\n                        queue.push(key);\n                    }\n                }\n            }\n\n            while ((name = queue.shift())) {\n                self.require(name);\n            }\n        }\n\n        loadPlugin(name) {\n            var self = this;\n            var plugins = self.plugins;\n            var plugin = Interface.plugins[name];\n\n            if (!Interface.plugins.hasOwnProperty(name)) {\n                throw new Error('Unable to find \"' + name + '\" plugin');\n            }\n\n            plugins.requested[name] = true;\n            plugins.loaded[name] = plugin.fn.apply(self, [\n                self.plugins.settings[name] || {},\n            ]);\n            plugins.names.push(name);\n        }\n        /**\n         * Initializes a plugin.\n         *\n         */\n\n        require(name) {\n            var self = this;\n            var plugins = self.plugins;\n\n            if (!self.plugins.loaded.hasOwnProperty(name)) {\n                if (plugins.requested[name]) {\n                    throw new Error(\n                        'Plugin has circular dependency (\"' + name + '\")'\n                    );\n                }\n\n                self.loadPlugin(name);\n            }\n\n            return plugins.loaded[name];\n        }\n    };\n}\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\n/**\n * Convert array of strings to a regular expression\n *\tex ['ab','a'] => (?:ab|a)\n * \tex ['a','b'] => [ab]\n * @param {string[]} chars\n * @return {string}\n */\nconst arrayToPattern = (chars) => {\n    chars = chars.filter(Boolean);\n\n    if (chars.length < 2) {\n        return chars[0] || \"\";\n    }\n\n    return maxValueLength(chars) == 1\n        ? \"[\" + chars.join(\"\") + \"]\"\n        : \"(?:\" + chars.join(\"|\") + \")\";\n};\n/**\n * @param {string[]} array\n * @return {string}\n */\n\nconst sequencePattern = (array) => {\n    if (!hasDuplicates(array)) {\n        return array.join(\"\");\n    }\n\n    let pattern = \"\";\n    let prev_char_count = 0;\n\n    const prev_pattern = () => {\n        if (prev_char_count > 1) {\n            pattern += \"{\" + prev_char_count + \"}\";\n        }\n    };\n\n    array.forEach((char, i) => {\n        if (char === array[i - 1]) {\n            prev_char_count++;\n            return;\n        }\n\n        prev_pattern();\n        pattern += char;\n        prev_char_count = 1;\n    });\n    prev_pattern();\n    return pattern;\n};\n/**\n * Convert array of strings to a regular expression\n *\tex ['ab','a'] => (?:ab|a)\n * \tex ['a','b'] => [ab]\n * @param {Set<string>} chars\n * @return {string}\n */\n\nconst setToPattern = (chars) => {\n    let array = toArray(chars);\n    return arrayToPattern(array);\n};\n/**\n *\n * https://stackoverflow.com/questions/7376598/in-javascript-how-do-i-check-if-an-array-has-duplicate-values\n * @param {any[]} array\n */\n\nconst hasDuplicates = (array) => {\n    return new Set(array).size !== array.length;\n};\n/**\n * https://stackoverflow.com/questions/63006601/why-does-u-throw-an-invalid-escape-error\n * @param {string} str\n * @return {string}\n */\n\nconst escape_regex = (str) => {\n    return (str + \"\").replace(/([\\$\\(\\)\\*\\+\\.\\?\\[\\]\\^\\{\\|\\}\\\\])/gu, \"\\\\$1\");\n};\n/**\n * Return the max length of array values\n * @param {string[]} array\n *\n */\n\nconst maxValueLength = (array) => {\n    return array.reduce(\n        (longest, value) => Math.max(longest, unicodeLength(value)),\n        0\n    );\n};\n/**\n * @param {string} str\n */\n\nconst unicodeLength = (str) => {\n    return toArray(str).length;\n};\n/**\n * @param {any} p\n * @return {any[]}\n */\n\nconst toArray = (p) => Array.from(p);\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\n/**\n * Get all possible combinations of substrings that add up to the given string\n * https://stackoverflow.com/questions/30169587/find-all-the-combination-of-substrings-that-add-up-to-the-given-string\n * @param {string} input\n * @return {string[][]}\n */\nconst allSubstrings = (input) => {\n    if (input.length === 1) return [[input]];\n    /** @type {string[][]} */\n\n    let result = [];\n    const start = input.substring(1);\n    const suba = allSubstrings(start);\n    suba.forEach(function (subresult) {\n        let tmp = subresult.slice(0);\n        tmp[0] = input.charAt(0) + tmp[0];\n        result.push(tmp);\n        tmp = subresult.slice(0);\n        tmp.unshift(input.charAt(0));\n        result.push(tmp);\n    });\n    return result;\n};\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\n\n/**\n * @typedef {{[key:string]:string}} TUnicodeMap\n * @typedef {{[key:string]:Set<string>}} TUnicodeSets\n * @typedef {[[number,number]]} TCodePoints\n * @typedef {{folded:string,composed:string,code_point:number}} TCodePointObj\n * @typedef {{start:number,end:number,length:number,substr:string}} TSequencePart\n */\n/** @type {TCodePoints} */\n\nconst code_points = [[0, 65535]];\nconst accent_pat = \"[\\u0300-\\u036F\\u{b7}\\u{2be}\\u{2bc}]\";\n/** @type {TUnicodeMap} */\n\nlet unicode_map;\n/** @type {RegExp} */\n\nlet multi_char_reg;\nconst max_char_length = 3;\n/** @type {TUnicodeMap} */\n\nconst latin_convert = {};\n/** @type {TUnicodeMap} */\n\nconst latin_condensed = {\n    \"/\": \"⁄∕\",\n    0: \"߀\",\n    a: \"ⱥɐɑ\",\n    aa: \"ꜳ\",\n    ae: \"æǽǣ\",\n    ao: \"ꜵ\",\n    au: \"ꜷ\",\n    av: \"ꜹꜻ\",\n    ay: \"ꜽ\",\n    b: \"ƀɓƃ\",\n    c: \"ꜿƈȼↄ\",\n    d: \"đɗɖᴅƌꮷԁɦ\",\n    e: \"ɛǝᴇɇ\",\n    f: \"ꝼƒ\",\n    g: \"ǥɠꞡᵹꝿɢ\",\n    h: \"ħⱨⱶɥ\",\n    i: \"ɨı\",\n    j: \"ɉȷ\",\n    k: \"ƙⱪꝁꝃꝅꞣ\",\n    l: \"łƚɫⱡꝉꝇꞁɭ\",\n    m: \"ɱɯϻ\",\n    n: \"ꞥƞɲꞑᴎлԉ\",\n    o: \"øǿɔɵꝋꝍᴑ\",\n    oe: \"œ\",\n    oi: \"ƣ\",\n    oo: \"ꝏ\",\n    ou: \"ȣ\",\n    p: \"ƥᵽꝑꝓꝕρ\",\n    q: \"ꝗꝙɋ\",\n    r: \"ɍɽꝛꞧꞃ\",\n    s: \"ßȿꞩꞅʂ\",\n    t: \"ŧƭʈⱦꞇ\",\n    th: \"þ\",\n    tz: \"ꜩ\",\n    u: \"ʉ\",\n    v: \"ʋꝟʌ\",\n    vy: \"ꝡ\",\n    w: \"ⱳ\",\n    y: \"ƴɏỿ\",\n    z: \"ƶȥɀⱬꝣ\",\n    hv: \"ƕ\",\n};\n\nfor (let latin in latin_condensed) {\n    let unicode = latin_condensed[latin] || \"\";\n\n    for (let i = 0; i < unicode.length; i++) {\n        let char = unicode.substring(i, i + 1);\n        latin_convert[char] = latin;\n    }\n}\n\nconst convert_pat = new RegExp(\n    Object.keys(latin_convert).join(\"|\") + \"|\" + accent_pat,\n    \"gu\"\n);\n/**\n * Initialize the unicode_map from the give code point ranges\n *\n * @param {TCodePoints=} _code_points\n */\n\nconst initialize = (_code_points) => {\n    if (unicode_map !== undefined) return;\n    unicode_map = generateMap(_code_points || code_points);\n};\n/**\n * Helper method for normalize a string\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize\n * @param {string} str\n * @param {string} form\n */\n\nconst normalize = (str, form = \"NFKD\") => str.normalize(form);\n/**\n * Remove accents without reordering string\n * calling str.normalize('NFKD') on \\u{594}\\u{595}\\u{596} becomes \\u{596}\\u{594}\\u{595}\n * via https://github.com/krisk/Fuse/issues/133#issuecomment-318692703\n * @param {string} str\n * @return {string}\n */\n\nconst asciifold = (str) => {\n    return toArray(str).reduce(\n        /**\n         * @param {string} result\n         * @param {string} char\n         */\n        (result, char) => {\n            return result + _asciifold(char);\n        },\n        \"\"\n    );\n};\n/**\n * @param {string} str\n * @return {string}\n */\n\nconst _asciifold = (str) => {\n    str = normalize(str)\n        .toLowerCase()\n        .replace(\n            convert_pat,\n            (\n                /** @type {string} */\n                char\n            ) => {\n                return latin_convert[char] || \"\";\n            }\n        ); //return str;\n\n    return normalize(str, \"NFC\");\n};\n/**\n * Generate a list of unicode variants from the list of code points\n * @param {TCodePoints} code_points\n * @yield {TCodePointObj}\n */\n\nfunction* generator(code_points) {\n    for (const [code_point_min, code_point_max] of code_points) {\n        for (let i = code_point_min; i <= code_point_max; i++) {\n            let composed = String.fromCharCode(i);\n            let folded = asciifold(composed);\n\n            if (folded == composed.toLowerCase()) {\n                continue;\n            } // skip when folded is a string longer than 3 characters long\n            // bc the resulting regex patterns will be long\n            // eg:\n            // folded صلى الله عليه وسلم length 18 code point 65018\n            // folded جل جلاله length 8 code point 65019\n\n            if (folded.length > max_char_length) {\n                continue;\n            }\n\n            if (folded.length == 0) {\n                continue;\n            }\n\n            yield {\n                folded: folded,\n                composed: composed,\n                code_point: i,\n            };\n        }\n    }\n}\n/**\n * Generate a unicode map from the list of code points\n * @param {TCodePoints} code_points\n * @return {TUnicodeSets}\n */\n\nconst generateSets = (code_points) => {\n    /** @type {{[key:string]:Set<string>}} */\n    const unicode_sets = {};\n    /**\n     * @param {string} folded\n     * @param {string} to_add\n     */\n\n    const addMatching = (folded, to_add) => {\n        /** @type {Set<string>} */\n        const folded_set = unicode_sets[folded] || new Set();\n        const patt = new RegExp(\"^\" + setToPattern(folded_set) + \"$\", \"iu\");\n\n        if (to_add.match(patt)) {\n            return;\n        }\n\n        folded_set.add(escape_regex(to_add));\n        unicode_sets[folded] = folded_set;\n    };\n\n    for (let value of generator(code_points)) {\n        addMatching(value.folded, value.folded);\n        addMatching(value.folded, value.composed);\n    }\n\n    return unicode_sets;\n};\n/**\n * Generate a unicode map from the list of code points\n * ae => (?:(?:ae|Æ|Ǽ|Ǣ)|(?:A|Ⓐ|Ａ...)(?:E|ɛ|Ⓔ...))\n *\n * @param {TCodePoints} code_points\n * @return {TUnicodeMap}\n */\n\nconst generateMap = (code_points) => {\n    /** @type {TUnicodeSets} */\n    const unicode_sets = generateSets(code_points);\n    /** @type {TUnicodeMap} */\n\n    const unicode_map = {};\n    /** @type {string[]} */\n\n    let multi_char = [];\n\n    for (let folded in unicode_sets) {\n        let set = unicode_sets[folded];\n\n        if (set) {\n            unicode_map[folded] = setToPattern(set);\n        }\n\n        if (folded.length > 1) {\n            multi_char.push(escape_regex(folded));\n        }\n    }\n\n    multi_char.sort((a, b) => b.length - a.length);\n    const multi_char_patt = arrayToPattern(multi_char);\n    multi_char_reg = new RegExp(\"^\" + multi_char_patt, \"u\");\n    return unicode_map;\n};\n/**\n * Map each element of an array from it's folded value to all possible unicode matches\n * @param {string[]} strings\n * @param {number} min_replacement\n * @return {string}\n */\n\nconst mapSequence = (strings, min_replacement = 1) => {\n    let chars_replaced = 0;\n    strings = strings.map((str) => {\n        if (unicode_map[str]) {\n            chars_replaced += str.length;\n        }\n\n        return unicode_map[str] || str;\n    });\n\n    if (chars_replaced >= min_replacement) {\n        return sequencePattern(strings);\n    }\n\n    return \"\";\n};\n/**\n * Convert a short string and split it into all possible patterns\n * Keep a pattern only if min_replacement is met\n *\n * 'abc'\n * \t\t=> [['abc'],['ab','c'],['a','bc'],['a','b','c']]\n *\t\t=> ['abc-pattern','ab-c-pattern'...]\n *\n *\n * @param {string} str\n * @param {number} min_replacement\n * @return {string}\n */\n\nconst substringsToPattern = (str, min_replacement = 1) => {\n    min_replacement = Math.max(min_replacement, str.length - 1);\n    return arrayToPattern(\n        allSubstrings(str).map((sub_pat) => {\n            return mapSequence(sub_pat, min_replacement);\n        })\n    );\n};\n/**\n * Convert an array of sequences into a pattern\n * [{start:0,end:3,length:3,substr:'iii'}...] => (?:iii...)\n *\n * @param {Sequence[]} sequences\n * @param {boolean} all\n */\n\nconst sequencesToPattern = (sequences, all = true) => {\n    let min_replacement = sequences.length > 1 ? 1 : 0;\n    return arrayToPattern(\n        sequences.map((sequence) => {\n            let seq = [];\n            const len = all ? sequence.length() : sequence.length() - 1;\n\n            for (let j = 0; j < len; j++) {\n                seq.push(\n                    substringsToPattern(\n                        sequence.substrs[j] || \"\",\n                        min_replacement\n                    )\n                );\n            }\n\n            return sequencePattern(seq);\n        })\n    );\n};\n/**\n * Return true if the sequence is already in the sequences\n * @param {Sequence} needle_seq\n * @param {Sequence[]} sequences\n */\n\nconst inSequences = (needle_seq, sequences) => {\n    for (const seq of sequences) {\n        if (seq.start != needle_seq.start || seq.end != needle_seq.end) {\n            continue;\n        }\n\n        if (seq.substrs.join(\"\") !== needle_seq.substrs.join(\"\")) {\n            continue;\n        }\n\n        let needle_parts = needle_seq.parts;\n        /**\n         * @param {TSequencePart} part\n         */\n\n        const filter = (part) => {\n            for (const needle_part of needle_parts) {\n                if (\n                    needle_part.start === part.start &&\n                    needle_part.substr === part.substr\n                ) {\n                    return false;\n                }\n\n                if (part.length == 1 || needle_part.length == 1) {\n                    continue;\n                } // check for overlapping parts\n                // a = ['::=','==']\n                // b = ['::','===']\n                // a = ['r','sm']\n                // b = ['rs','m']\n\n                if (\n                    part.start < needle_part.start &&\n                    part.end > needle_part.start\n                ) {\n                    return true;\n                }\n\n                if (\n                    needle_part.start < part.start &&\n                    needle_part.end > part.start\n                ) {\n                    return true;\n                }\n            }\n\n            return false;\n        };\n\n        let filtered = seq.parts.filter(filter);\n\n        if (filtered.length > 0) {\n            continue;\n        }\n\n        return true;\n    }\n\n    return false;\n};\n\nclass Sequence {\n    constructor() {\n        /** @type {TSequencePart[]} */\n        this.parts = [];\n        /** @type {string[]} */\n\n        this.substrs = [];\n        this.start = 0;\n        this.end = 0;\n    }\n    /**\n     * @param {TSequencePart|undefined} part\n     */\n\n    add(part) {\n        if (part) {\n            this.parts.push(part);\n            this.substrs.push(part.substr);\n            this.start = Math.min(part.start, this.start);\n            this.end = Math.max(part.end, this.end);\n        }\n    }\n\n    last() {\n        return this.parts[this.parts.length - 1];\n    }\n\n    length() {\n        return this.parts.length;\n    }\n    /**\n     * @param {number} position\n     * @param {TSequencePart} last_piece\n     */\n\n    clone(position, last_piece) {\n        let clone = new Sequence();\n        let parts = JSON.parse(JSON.stringify(this.parts));\n        let last_part = parts.pop();\n\n        for (const part of parts) {\n            clone.add(part);\n        }\n\n        let last_substr = last_piece.substr.substring(\n            0,\n            position - last_part.start\n        );\n        let clone_last_len = last_substr.length;\n        clone.add({\n            start: last_part.start,\n            end: last_part.start + clone_last_len,\n            length: clone_last_len,\n            substr: last_substr,\n        });\n        return clone;\n    }\n}\n/**\n * Expand a regular expression pattern to include unicode variants\n * \teg /a/ becomes /aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐɑAⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ/\n *\n * Issue:\n *  ﺊﺋ [ 'ﺊ = \\\\u{fe8a}', 'ﺋ = \\\\u{fe8b}' ]\n *\tbecomes:\tئئ [ 'ي = \\\\u{64a}', 'ٔ = \\\\u{654}', 'ي = \\\\u{64a}', 'ٔ = \\\\u{654}' ]\n *\n *\tİĲ = IIJ = ⅡJ\n *\n * \t1/2/4\n *\n * @param {string} str\n * @return {string|undefined}\n */\n\nconst getPattern = (str) => {\n    initialize();\n    str = asciifold(str);\n    let pattern = \"\";\n    let sequences = [new Sequence()];\n\n    for (let i = 0; i < str.length; i++) {\n        let substr = str.substring(i);\n        let match = substr.match(multi_char_reg);\n        const char = str.substring(i, i + 1);\n        const match_str = match ? match[0] : null; // loop through sequences\n        // add either the char or multi_match\n\n        let overlapping = [];\n        let added_types = new Set();\n\n        for (const sequence of sequences) {\n            const last_piece = sequence.last();\n\n            if (!last_piece || last_piece.length == 1 || last_piece.end <= i) {\n                // if we have a multi match\n                if (match_str) {\n                    const len = match_str.length;\n                    sequence.add({\n                        start: i,\n                        end: i + len,\n                        length: len,\n                        substr: match_str,\n                    });\n                    added_types.add(\"1\");\n                } else {\n                    sequence.add({\n                        start: i,\n                        end: i + 1,\n                        length: 1,\n                        substr: char,\n                    });\n                    added_types.add(\"2\");\n                }\n            } else if (match_str) {\n                let clone = sequence.clone(i, last_piece);\n                const len = match_str.length;\n                clone.add({\n                    start: i,\n                    end: i + len,\n                    length: len,\n                    substr: match_str,\n                });\n                overlapping.push(clone);\n            } else {\n                // don't add char\n                // adding would create invalid patterns: 234 => [2,34,4]\n                added_types.add(\"3\");\n            }\n        } // if we have overlapping\n\n        if (overlapping.length > 0) {\n            // ['ii','iii'] before ['i','i','iii']\n            overlapping = overlapping.sort((a, b) => {\n                return a.length() - b.length();\n            });\n\n            for (let clone of overlapping) {\n                // don't add if we already have an equivalent sequence\n                if (inSequences(clone, sequences)) {\n                    continue;\n                }\n\n                sequences.push(clone);\n            }\n\n            continue;\n        } // if we haven't done anything unique\n        // clean up the patterns\n        // helps keep patterns smaller\n        // if str = 'r₨㎧aarss', pattern will be 446 instead of 655\n\n        if (i > 0 && added_types.size == 1 && !added_types.has(\"3\")) {\n            pattern += sequencesToPattern(sequences, false);\n            let new_seq = new Sequence();\n            const old_seq = sequences[0];\n\n            if (old_seq) {\n                new_seq.add(old_seq.last());\n            }\n\n            sequences = [new_seq];\n        }\n    }\n\n    pattern += sequencesToPattern(sequences, true);\n    return pattern;\n};\n\n/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */\n\n/**\n * A property getter resolving dot-notation\n * @param  {Object}  obj     The root object to fetch property on\n * @param  {String}  name    The optionally dotted property name to fetch\n * @return {Object}          The resolved property value\n */\nconst getAttr = (obj, name) => {\n    if (!obj) return;\n    return obj[name];\n};\n/**\n * A property getter resolving dot-notation\n * @param  {Object}  obj     The root object to fetch property on\n * @param  {String}  name    The optionally dotted property name to fetch\n * @return {Object}          The resolved property value\n */\n\nconst getAttrNesting = (obj, name) => {\n    if (!obj) return;\n    var part,\n        names = name.split(\".\");\n\n    while ((part = names.shift()) && (obj = obj[part]));\n\n    return obj;\n};\n/**\n * Calculates how close of a match the\n * given value is against a search token.\n *\n */\n\nconst scoreValue = (value, token, weight) => {\n    var score, pos;\n    if (!value) return 0;\n    value = value + \"\";\n    if (token.regex == null) return 0;\n    pos = value.search(token.regex);\n    if (pos === -1) return 0;\n    score = token.string.length / value.length;\n    if (pos === 0) score += 0.5;\n    return score * weight;\n};\n/**\n * Cast object property to an array if it exists and has a value\n *\n */\n\nconst propToArray = (obj, key) => {\n    var value = obj[key];\n    if (typeof value == \"function\") return value;\n\n    if (value && !Array.isArray(value)) {\n        obj[key] = [value];\n    }\n};\n/**\n * Iterates over arrays and hashes.\n *\n * ```\n * iterate(this.items, function(item, id) {\n *    // invoked for each item\n * });\n * ```\n *\n */\n\nconst iterate$1 = (object, callback) => {\n    if (Array.isArray(object)) {\n        object.forEach(callback);\n    } else {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                callback(object[key], key);\n            }\n        }\n    }\n};\nconst cmp = (a, b) => {\n    if (typeof a === \"number\" && typeof b === \"number\") {\n        return a > b ? 1 : a < b ? -1 : 0;\n    }\n\n    a = asciifold(a + \"\").toLowerCase();\n    b = asciifold(b + \"\").toLowerCase();\n    if (a > b) return 1;\n    if (b > a) return -1;\n    return 0;\n};\n\n/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */\n\n/**\n * sifter.js\n * Copyright (c) 2013–2020 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\nclass Sifter {\n    // []|{};\n\n    /**\n     * Textually searches arrays and hashes of objects\n     * by property (or multiple properties). Designed\n     * specifically for autocomplete.\n     *\n     */\n    constructor(items, settings) {\n        this.items = void 0;\n        this.settings = void 0;\n        this.items = items;\n        this.settings = settings || {\n            diacritics: true,\n        };\n    }\n\n    /**\n     * Splits a search string into an array of individual\n     * regexps to be used to match results.\n     *\n     */\n    tokenize(query, respect_word_boundaries, weights) {\n        if (!query || !query.length) return [];\n        const tokens = [];\n        const words = query.split(/\\s+/);\n        var field_regex;\n\n        if (weights) {\n            field_regex = new RegExp(\n                \"^(\" +\n                Object.keys(weights).map(escape_regex).join(\"|\") +\n                \"):(.*)$\"\n            );\n        }\n\n        words.forEach((word) => {\n            let field_match;\n            let field = null;\n            let regex = null; // look for \"field:query\" tokens\n\n            if (field_regex && (field_match = word.match(field_regex))) {\n                field = field_match[1];\n                word = field_match[2];\n            }\n\n            if (word.length > 0) {\n                if (this.settings.diacritics) {\n                    regex = getPattern(word) || null;\n                } else {\n                    regex = escape_regex(word);\n                }\n\n                if (regex && respect_word_boundaries) regex = \"\\\\b\" + regex;\n            }\n\n            tokens.push({\n                string: word,\n                regex: regex ? new RegExp(regex, \"iu\") : null,\n                field: field,\n            });\n        });\n        return tokens;\n    }\n\n    /**\n     * Returns a function to be used to score individual results.\n     *\n     * Good matches will have a higher score than poor matches.\n     * If an item is not a match, 0 will be returned by the function.\n     *\n     * @returns {T.ScoreFn}\n     */\n    getScoreFunction(query, options) {\n        var search = this.prepareSearch(query, options);\n        return this._getScoreFunction(search);\n    }\n    /**\n     * @returns {T.ScoreFn}\n     *\n     */\n\n    _getScoreFunction(search) {\n        const tokens = search.tokens,\n            token_count = tokens.length;\n\n        if (!token_count) {\n            return function () {\n                return 0;\n            };\n        }\n\n        const fields = search.options.fields,\n            weights = search.weights,\n            field_count = fields.length,\n            getAttrFn = search.getAttrFn;\n\n        if (!field_count) {\n            return function () {\n                return 1;\n            };\n        }\n        /**\n         * Calculates the score of an object\n         * against the search query.\n         *\n         */\n\n        const scoreObject = (function () {\n            if (field_count === 1) {\n                return function (token, data) {\n                    const field = fields[0].field;\n                    return scoreValue(\n                        getAttrFn(data, field),\n                        token,\n                        weights[field] || 1\n                    );\n                };\n            }\n\n            return function (token, data) {\n                var sum = 0; // is the token specific to a field?\n\n                if (token.field) {\n                    const value = getAttrFn(data, token.field);\n\n                    if (!token.regex && value) {\n                        sum += 1 / field_count;\n                    } else {\n                        sum += scoreValue(value, token, 1);\n                    }\n                } else {\n                    iterate$1(weights, (weight, field) => {\n                        sum += scoreValue(\n                            getAttrFn(data, field),\n                            token,\n                            weight\n                        );\n                    });\n                }\n\n                return sum / field_count;\n            };\n        })();\n\n        if (token_count === 1) {\n            return function (data) {\n                return scoreObject(tokens[0], data);\n            };\n        }\n\n        if (search.options.conjunction === \"and\") {\n            return function (data) {\n                var score,\n                    sum = 0;\n\n                for (let token of tokens) {\n                    score = scoreObject(token, data);\n                    if (score <= 0) return 0;\n                    sum += score;\n                }\n\n                return sum / token_count;\n            };\n        } else {\n            return function (data) {\n                var sum = 0;\n                iterate$1(tokens, (token) => {\n                    sum += scoreObject(token, data);\n                });\n                return sum / token_count;\n            };\n        }\n    }\n\n    /**\n     * Returns a function that can be used to compare two\n     * results, for sorting purposes. If no sorting should\n     * be performed, `null` will be returned.\n     *\n     * @return function(a,b)\n     */\n    getSortFunction(query, options) {\n        var search = this.prepareSearch(query, options);\n        return this._getSortFunction(search);\n    }\n\n    _getSortFunction(search) {\n        var implicit_score,\n            sort_flds = [];\n        const self = this,\n            options = search.options,\n            sort =\n                !search.query && options.sort_empty\n                    ? options.sort_empty\n                    : options.sort;\n\n        if (typeof sort == \"function\") {\n            return sort.bind(this);\n        }\n        /**\n         * Fetches the specified sort field value\n         * from a search result item.\n         *\n         */\n\n        const get_field = function get_field(name, result) {\n            if (name === \"$score\") return result.score;\n            return search.getAttrFn(self.items[result.id], name);\n        }; // parse options\n\n        if (sort) {\n            for (let s of sort) {\n                if (search.query || s.field !== \"$score\") {\n                    sort_flds.push(s);\n                }\n            }\n        } // the \"$score\" field is implied to be the primary\n        // sort field, unless it's manually specified\n\n        if (search.query) {\n            implicit_score = true;\n\n            for (let fld of sort_flds) {\n                if (fld.field === \"$score\") {\n                    implicit_score = false;\n                    break;\n                }\n            }\n\n            if (implicit_score) {\n                sort_flds.unshift({\n                    field: \"$score\",\n                    direction: \"desc\",\n                });\n            } // without a search.query, all items will have the same score\n        } else {\n            sort_flds = sort_flds.filter((fld) => fld.field !== \"$score\");\n        } // build function\n\n        const sort_flds_count = sort_flds.length;\n\n        if (!sort_flds_count) {\n            return null;\n        }\n\n        return function (a, b) {\n            var result, field;\n\n            for (let sort_fld of sort_flds) {\n                field = sort_fld.field;\n                let multiplier = sort_fld.direction === \"desc\" ? -1 : 1;\n                result =\n                    multiplier * cmp(get_field(field, a), get_field(field, b));\n                if (result) return result;\n            }\n\n            return 0;\n        };\n    }\n\n    /**\n     * Parses a search query and returns an object\n     * with tokens and fields ready to be populated\n     * with results.\n     *\n     */\n    prepareSearch(query, optsUser) {\n        const weights = {};\n        var options = Object.assign({}, optsUser);\n        propToArray(options, \"sort\");\n        propToArray(options, \"sort_empty\"); // convert fields to new format\n\n        if (options.fields) {\n            propToArray(options, \"fields\");\n            const fields = [];\n            options.fields.forEach((field) => {\n                if (typeof field == \"string\") {\n                    field = {\n                        field: field,\n                        weight: 1,\n                    };\n                }\n\n                fields.push(field);\n                weights[field.field] = \"weight\" in field ? field.weight : 1;\n            });\n            options.fields = fields;\n        }\n\n        return {\n            options: options,\n            query: query.toLowerCase().trim(),\n            tokens: this.tokenize(\n                query,\n                options.respect_word_boundaries,\n                weights\n            ),\n            total: 0,\n            items: [],\n            weights: weights,\n            getAttrFn: options.nesting ? getAttrNesting : getAttr,\n        };\n    }\n\n    /**\n     * Searches through all items and returns a sorted array of matches.\n     *\n     */\n    search(query, options) {\n        var self = this,\n            score,\n            search;\n        search = this.prepareSearch(query, options);\n        options = search.options;\n        query = search.query; // generate result scoring function\n\n        const fn_score = options.score || self._getScoreFunction(search); // perform search and sort\n\n        if (query.length) {\n            iterate$1(self.items, (item, id) => {\n                score = fn_score(item);\n\n                if (options.filter === false || score > 0) {\n                    search.items.push({\n                        score: score,\n                        id: id,\n                    });\n                }\n            });\n        } else {\n            iterate$1(self.items, (_, id) => {\n                search.items.push({\n                    score: 1,\n                    id: id,\n                });\n            });\n        }\n\n        const fn_sort = self._getSortFunction(search);\n\n        if (fn_sort) search.items.sort(fn_sort); // apply limits\n\n        search.total = search.items.length;\n\n        if (typeof options.limit === \"number\") {\n            search.items = search.items.slice(0, options.limit);\n        }\n\n        return search;\n    }\n}\n\n/**\n * Iterates over arrays and hashes.\n *\n * ```\n * iterate(this.items, function(item, id) {\n *    // invoked for each item\n * });\n * ```\n *\n */\n\nconst iterate = (object, callback) => {\n    if (Array.isArray(object)) {\n        object.forEach(callback);\n    } else {\n        for (var key in object) {\n            if (object.hasOwnProperty(key)) {\n                callback(object[key], key);\n            }\n        }\n    }\n};\n\n/**\n * Return a dom element from either a dom query string, jQuery object, a dom element or html string\n * https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro/35385518#35385518\n *\n * param query should be {}\n */\n\nconst getDom = (query) => {\n    if (query.jquery) {\n        return query[0];\n    }\n\n    if (query instanceof HTMLElement) {\n        return query;\n    }\n\n    if (isHtmlString(query)) {\n        var tpl = document.createElement(\"template\");\n        tpl.innerHTML = query.trim(); // Never return a text node of whitespace as the result\n\n        return tpl.content.firstChild;\n    }\n\n    return document.querySelector(query);\n};\nconst isHtmlString = (arg) => {\n    if (typeof arg === \"string\" && arg.indexOf(\"<\") > -1) {\n        return true;\n    }\n\n    return false;\n};\nconst escapeQuery = (query) => {\n    return query.replace(/['\"\\\\]/g, \"\\\\$&\");\n};\n/**\n * Dispatch an event\n *\n */\n\nconst triggerEvent = (dom_el, event_name) => {\n    var event = document.createEvent(\"HTMLEvents\");\n    event.initEvent(event_name, true, false);\n    dom_el.dispatchEvent(event);\n};\n/**\n * Apply CSS rules to a dom element\n *\n */\n\nconst applyCSS = (dom_el, css) => {\n    Object.assign(dom_el.style, css);\n};\n/**\n * Add css classes\n *\n */\n\nconst addClasses = (elmts, ...classes) => {\n    var norm_classes = classesArray(classes);\n    elmts = castAsArray(elmts);\n    elmts.map((el) => {\n        norm_classes.map((cls) => {\n            el.classList.add(cls);\n        });\n    });\n};\n/**\n * Remove css classes\n *\n */\n\nconst removeClasses = (elmts, ...classes) => {\n    var norm_classes = classesArray(classes);\n    elmts = castAsArray(elmts);\n    elmts.map((el) => {\n        norm_classes.map((cls) => {\n            el.classList.remove(cls);\n        });\n    });\n};\n/**\n * Return arguments\n *\n */\n\nconst classesArray = (args) => {\n    var classes = [];\n    iterate(args, (_classes) => {\n        if (typeof _classes === \"string\") {\n            _classes = _classes.trim().split(/[\\11\\12\\14\\15\\40]/);\n        }\n\n        if (Array.isArray(_classes)) {\n            classes = classes.concat(_classes);\n        }\n    });\n    return classes.filter(Boolean);\n};\n/**\n * Create an array from arg if it's not already an array\n *\n */\n\nconst castAsArray = (arg) => {\n    if (!Array.isArray(arg)) {\n        arg = [arg];\n    }\n\n    return arg;\n};\n/**\n * Get the closest node to the evt.target matching the selector\n * Stops at wrapper\n *\n */\n\nconst parentMatch = (target, selector, wrapper) => {\n    if (wrapper && !wrapper.contains(target)) {\n        return;\n    }\n\n    while (target && target.matches) {\n        if (target.matches(selector)) {\n            return target;\n        }\n\n        target = target.parentNode;\n    }\n};\n/**\n * Get the first or last item from an array\n *\n * > 0 - right (last)\n * <= 0 - left (first)\n *\n */\n\nconst getTail = (list, direction = 0) => {\n    if (direction > 0) {\n        return list[list.length - 1];\n    }\n\n    return list[0];\n};\n/**\n * Return true if an object is empty\n *\n */\n\nconst isEmptyObject = (obj) => {\n    return Object.keys(obj).length === 0;\n};\n/**\n * Get the index of an element amongst sibling nodes of the same type\n *\n */\n\nconst nodeIndex = (el, amongst) => {\n    if (!el) return -1;\n    amongst = amongst || el.nodeName;\n    var i = 0;\n\n    while ((el = el.previousElementSibling)) {\n        if (el.matches(amongst)) {\n            i++;\n        }\n    }\n\n    return i;\n};\n/**\n * Set attributes of an element\n *\n */\n\nconst setAttr = (el, attrs) => {\n    iterate(attrs, (val, attr) => {\n        if (val == null) {\n            el.removeAttribute(attr);\n        } else {\n            el.setAttribute(attr, \"\" + val);\n        }\n    });\n};\n/**\n * Replace a node\n */\n\nconst replaceNode = (existing, replacement) => {\n    if (existing.parentNode)\n        existing.parentNode.replaceChild(replacement, existing);\n};\n\n/**\n * highlight v3 | MIT license | Johann Burkard <jb@eaio.com>\n * Highlights arbitrary terms in a node.\n *\n * - Modified by Marshal <beatgates@gmail.com> 2011-6-24 (added regex)\n * - Modified by Brian Reavis <brian@thirdroute.com> 2012-8-27 (cleanup)\n */\nconst highlight = (element, regex, highlightClass) => {\n    if (regex === null) return; // convet string to regex\n\n    if (typeof regex === \"string\") {\n        if (!regex.length) return;\n        regex = new RegExp(regex, \"i\");\n    } // Wrap matching part of text node with highlighting <span>, e.g.\n    // Soccer  ->  <span class=\"highlight\">Soc</span>cer  for regex = /soc/i\n\n    const highlightText = (node) => {\n        var match = node.data.match(regex);\n\n        if (match && node.data.length > 0) {\n            var spannode = document.createElement(\"span\");\n            spannode.className = \"highlight \" + highlightClass;\n            var middlebit = node.splitText(match.index);\n            middlebit.splitText(match[0].length);\n            var middleclone = middlebit.cloneNode(true);\n            spannode.appendChild(middleclone);\n            replaceNode(middlebit, spannode);\n            return 1;\n        }\n\n        return 0;\n    }; // Recurse element node, looking for child text nodes to highlight, unless element\n    // is childless, <script>, <style>, or already highlighted: <span class=\"hightlight\">\n\n    const highlightChildren = (node) => {\n        if (\n            node.nodeType === 1 &&\n            node.childNodes &&\n            !/(script|style)/i.test(node.tagName) &&\n            // (node.className !== \"highlight\" || node.tagName !== \"SPAN\")\n            (!node.classList.contains('highlight') || node.tagName !== \"SPAN\")\n        ) {\n            Array.from(node.childNodes).forEach((element) => {\n                highlightRecursive(element);\n            });\n        }\n    };\n\n    const highlightRecursive = (node) => {\n        if (node.nodeType === 3) {\n            return highlightText(node);\n        }\n\n        highlightChildren(node);\n        return 0;\n    };\n\n    highlightRecursive(element);\n};\n/**\n * removeHighlight fn copied from highlight v5 and\n * edited to remove with(), pass js strict mode, and use without jquery\n */\n\nconst removeHighlight = (el) => {\n    var elements = el.querySelectorAll(\"span.highlight\");\n    Array.prototype.forEach.call(elements, function (el) {\n        var parent = el.parentNode;\n        parent.replaceChild(el.firstChild, el);\n        parent.normalize();\n    });\n};\n\nconst KEY_A = 65;\nconst KEY_RETURN = 13;\nconst KEY_ESC = 27;\nconst KEY_LEFT = 37;\nconst KEY_UP = 38;\nconst KEY_RIGHT = 39;\nconst KEY_DOWN = 40;\nconst KEY_BACKSPACE = 8;\nconst KEY_DELETE = 46;\nconst KEY_TAB = 9;\nconst IS_MAC =\n    typeof navigator === \"undefined\" ? false : /Mac/.test(navigator.userAgent);\nconst KEY_SHORTCUT = IS_MAC ? \"metaKey\" : \"ctrlKey\"; // ctrl key or apple key for ma\n\nvar defaults = {\n    options: [],\n    optgroups: [],\n    plugins: [],\n    delimiter: \",\",\n    splitOn: null,\n    // regexp or string for splitting up values from a paste command\n    persist: true,\n    diacritics: true,\n    create: null,\n    createOnBlur: false,\n    createFilter: null,\n    highlight: true,\n    openOnFocus: true,\n    shouldOpen: null,\n    maxOptions: 50,\n    maxItems: null,\n    hideSelected: null,\n    duplicates: false,\n    addPrecedence: false,\n    selectOnTab: false,\n    preload: null,\n    allowEmptyOption: false,\n    //closeAfterSelect: false,\n    loadThrottle: 300,\n    loadingClass: \"loading\",\n    dataAttr: null,\n    //'data-data',\n    optgroupField: \"optgroup\",\n    valueField: \"value\",\n    labelField: \"text\",\n    disabledField: \"disabled\",\n    optgroupLabelField: \"label\",\n    optgroupValueField: \"value\",\n    lockOptgroupOrder: false,\n    sortField: \"$order\",\n    searchField: [\"text\"],\n    searchConjunction: \"and\",\n    mode: null,\n    wrapperClass: \"ts-wrapper\",\n    controlClass: \"ts-control\",\n    dropdownClass: \"ts-dropdown\",\n    dropdownContentClass: \"ts-dropdown-content\",\n    itemClass: \"item\",\n    optionClass: \"option\",\n    highlightClass: \"\",\n    dropdownParent: null,\n    controlInput: '<input type=\"text\" autocomplete=\"off\" size=\"1\" />',\n    copyClassesToDropdown: false,\n    placeholder: null,\n    hidePlaceholder: null,\n    shouldLoad: function (query) {\n        return query.length > 0;\n    },\n\n    /*\n    load                 : null, // function(query, callback) { ... }\n    score                : null, // function(search) { ... }\n    onInitialize         : null, // function() { ... }\n    onChange             : null, // function(value) { ... }\n    onItemAdd            : null, // function(value, $item) { ... }\n    onItemRemove         : null, // function(value) { ... }\n    onClear              : null, // function() { ... }\n    onOptionAdd          : null, // function(value, data) { ... }\n    onOptionRemove       : null, // function(value) { ... }\n    onOptionClear        : null, // function() { ... }\n    onOptionGroupAdd     : null, // function(id, data) { ... }\n    onOptionGroupRemove  : null, // function(id) { ... }\n    onOptionGroupClear   : null, // function() { ... }\n    onDropdownOpen       : null, // function(dropdown) { ... }\n    onDropdownClose      : null, // function(dropdown) { ... }\n    onType               : null, // function(str) { ... }\n    onDelete             : null, // function(values) { ... }\n    */\n    render: {\n        /*\n        item: null,\n        optgroup: null,\n        optgroup_header: null,\n        option: null,\n        option_create: null\n        */\n    },\n};\n\n/**\n * Converts a scalar to its best string representation\n * for hash keys and HTML attribute values.\n *\n * Transformations:\n *   'str'     -> 'str'\n *   null      -> ''\n *   undefined -> ''\n *   true      -> '1'\n *   false     -> '0'\n *   0         -> '0'\n *   1         -> '1'\n *\n */\nconst hash_key = (value) => {\n    if (typeof value === \"undefined\" || value === null) return null;\n    return get_hash(value);\n};\nconst get_hash = (value) => {\n    if (typeof value === \"boolean\") return value ? \"1\" : \"0\";\n    return value + \"\";\n};\n/**\n * Escapes a string for use within HTML.\n *\n */\n\nconst escape_html = (str) => {\n    return (str + \"\")\n        .replace(/&/g, \"&amp;\")\n        .replace(/</g, \"&lt;\")\n        .replace(/>/g, \"&gt;\")\n        .replace(/\"/g, \"&quot;\");\n};\n/**\n * Debounce the user provided load function\n *\n */\n\nconst loadDebounce = (fn, delay) => {\n    var timeout;\n    return function (value, callback) {\n        var self = this;\n\n        if (timeout) {\n            self.loading = Math.max(self.loading - 1, 0);\n            clearTimeout(timeout);\n        }\n\n        timeout = setTimeout(function () {\n            timeout = null;\n            self.loadedSearches[value] = true;\n            fn.call(self, value, callback);\n        }, delay);\n    };\n};\n/**\n * Debounce all fired events types listed in `types`\n * while executing the provided `fn`.\n *\n */\n\nconst debounce_events = (self, types, fn) => {\n    var type;\n    var trigger = self.trigger;\n    var event_args = {}; // override trigger method\n\n    self.trigger = function () {\n        var type = arguments[0];\n\n        if (types.indexOf(type) !== -1) {\n            event_args[type] = arguments;\n        } else {\n            return trigger.apply(self, arguments);\n        }\n    }; // invoke provided function\n\n    fn.apply(self, []);\n    self.trigger = trigger; // trigger queued events\n\n    for (type of types) {\n        if (type in event_args) {\n            trigger.apply(self, event_args[type]);\n        }\n    }\n};\n/**\n * Determines the current selection within a text input control.\n * Returns an object containing:\n *   - start\n *   - length\n *\n */\n\nconst getSelection = (input) => {\n    return {\n        start: input.selectionStart || 0,\n        length: (input.selectionEnd || 0) - (input.selectionStart || 0),\n    };\n};\n/**\n * Prevent default\n *\n */\n\nconst preventDefault = (evt, stop = false) => {\n    if (evt) {\n        evt.preventDefault();\n\n        if (stop) {\n            evt.stopPropagation();\n        }\n    }\n};\n/**\n * Add event helper\n *\n */\n\nconst addEvent = (target, type, callback, options) => {\n    target.addEventListener(type, callback, options);\n};\n/**\n * Return true if the requested key is down\n * Will return false if more than one control character is pressed ( when [ctrl+shift+a] != [ctrl+a] )\n * The current evt may not always set ( eg calling advanceSelection() )\n *\n */\n\nconst isKeyDown = (key_name, evt) => {\n    if (!evt) {\n        return false;\n    }\n\n    if (!evt[key_name]) {\n        return false;\n    }\n\n    var count =\n        (evt.altKey ? 1 : 0) +\n        (evt.ctrlKey ? 1 : 0) +\n        (evt.shiftKey ? 1 : 0) +\n        (evt.metaKey ? 1 : 0);\n\n    if (count === 1) {\n        return true;\n    }\n\n    return false;\n};\n/**\n * Get the id of an element\n * If the id attribute is not set, set the attribute with the given id\n *\n */\n\nconst getId = (el, id) => {\n    const existing_id = el.getAttribute(\"id\");\n\n    if (existing_id) {\n        return existing_id;\n    }\n\n    el.setAttribute(\"id\", id);\n    return id;\n};\n/**\n * Returns a string with backslashes added before characters that need to be escaped.\n */\n\nconst addSlashes = (str) => {\n    return str.replace(/[\\\\\"']/g, \"\\\\$&\");\n};\n/**\n *\n */\n\nconst append = (parent, node) => {\n    if (node) parent.append(node);\n};\n\nfunction getSettings(input, settings_user) {\n    var settings = Object.assign({}, defaults, settings_user);\n    var attr_data = settings.dataAttr;\n    var field_label = settings.labelField;\n    var field_value = settings.valueField;\n    var field_disabled = settings.disabledField;\n    var field_optgroup = settings.optgroupField;\n    var field_optgroup_label = settings.optgroupLabelField;\n    var field_optgroup_value = settings.optgroupValueField;\n    var tag_name = input.tagName.toLowerCase();\n    var placeholder =\n        input.getAttribute(\"placeholder\") ||\n        settings.placeholder;\n\n    if (!placeholder && !settings.allowEmptyOption) {\n        let option = input.querySelector('option[value=\"\"]');\n\n        if (option) {\n            placeholder = option.textContent;\n        }\n    }\n\n    var settings_element = {\n        placeholder: placeholder,\n        options: [],\n        optgroups: [],\n        items: [],\n        maxItems: null,\n    };\n    /**\n     * Initialize from a <select> element.\n     *\n     */\n\n    var init_select = () => {\n        var tagName;\n        var options = settings_element.options;\n        var optionsMap = {};\n        var group_count = 1;\n\n        var readData = (el) => {\n            var data = Object.assign({}, el.dataset); // get plain object from DOMStringMap\n\n            var json = attr_data && data[attr_data];\n\n            if (typeof json === \"string\" && json.length) {\n                data = Object.assign(data, JSON.parse(json));\n            }\n\n            return data;\n        };\n\n        var addOption = (option, group) => {\n            var value = hash_key(option.value);\n            if (value == null) return;\n            if (!value && !settings.allowEmptyOption) return; // if the option already exists, it's probably been\n            // duplicated in another optgroup. in this case, push\n            // the current group to the \"optgroup\" property on the\n            // existing option so that it's rendered in both places.\n\n            if (optionsMap.hasOwnProperty(value)) {\n                if (group) {\n                    var arr = optionsMap[value][field_optgroup];\n\n                    if (!arr) {\n                        optionsMap[value][field_optgroup] = group;\n                    } else if (!Array.isArray(arr)) {\n                        optionsMap[value][field_optgroup] = [arr, group];\n                    } else {\n                        arr.push(group);\n                    }\n                }\n            } else {\n                var option_data = readData(option);\n                option_data[field_label] =\n                    option_data[field_label] || option.textContent;\n                option_data[field_value] = option_data[field_value] || value;\n                option_data[field_disabled] =\n                    option_data[field_disabled] || option.disabled;\n                option_data[field_optgroup] =\n                    option_data[field_optgroup] || group;\n                option_data.$option = option;\n                optionsMap[value] = option_data;\n                options.push(option_data);\n            }\n\n            if (option.selected) {\n                settings_element.items.push(value);\n            }\n        };\n\n        var addGroup = (optgroup) => {\n            var id, optgroup_data;\n            optgroup_data = readData(optgroup);\n            optgroup_data[field_optgroup_label] =\n                optgroup_data[field_optgroup_label] ||\n                optgroup.getAttribute(\"label\") ||\n                \"\";\n            optgroup_data[field_optgroup_value] =\n                optgroup_data[field_optgroup_value] || group_count++;\n            optgroup_data[field_disabled] =\n                optgroup_data[field_disabled] || optgroup.disabled;\n            settings_element.optgroups.push(optgroup_data);\n            id = optgroup_data[field_optgroup_value];\n            iterate(optgroup.children, (option) => {\n                addOption(option, id);\n            });\n        };\n\n        settings_element.maxItems = input.hasAttribute(\"multiple\") ? null : 1;\n        iterate(input.children, (child) => {\n            tagName = child.tagName.toLowerCase();\n\n            if (tagName === \"optgroup\") {\n                addGroup(child);\n            } else if (tagName === \"option\") {\n                addOption(child);\n            }\n        });\n    };\n    /**\n     * Initialize from a <input type=\"text\"> element.\n     *\n     */\n\n    var init_textbox = () => {\n        const data_raw = input.getAttribute(attr_data);\n\n        if (!data_raw) {\n            var value = input.value.trim() || \"\";\n            if (!settings.allowEmptyOption && !value.length) return;\n            const values = value.split(settings.delimiter);\n            iterate(values, (value) => {\n                const option = {};\n                option[field_label] = value;\n                option[field_value] = value;\n                settings_element.options.push(option);\n            });\n            settings_element.items = values;\n        } else {\n            settings_element.options = JSON.parse(data_raw);\n            iterate(settings_element.options, (opt) => {\n                settings_element.items.push(opt[field_value]);\n            });\n        }\n    };\n\n    if (tag_name === \"select\") {\n        init_select();\n    } else {\n        init_textbox();\n    }\n\n    return Object.assign({}, defaults, settings_element, settings_user);\n}\n\nvar instance_i = 0;\nclass TomSelect extends MicroPlugin(MicroEvent) {\n    // @deprecated 1.8\n    constructor(input_arg, user_settings) {\n        super();\n        this.control_input = void 0;\n        this.wrapper = void 0;\n        this.dropdown = void 0;\n        this.control = void 0;\n        this.dropdown_content = void 0;\n        this.focus_node = void 0;\n        this.order = 0;\n        this.settings = void 0;\n        this.input = void 0;\n        this.tabIndex = void 0;\n        this.is_select_tag = void 0;\n        this.rtl = void 0;\n        this.inputId = void 0;\n        this._destroy = void 0;\n        this.sifter = void 0;\n        this.isOpen = false;\n        this.isDisabled = false;\n        this.isRequired = void 0;\n        this.isInvalid = false;\n        this.isValid = true;\n        this.isLocked = false;\n        this.isFocused = false;\n        this.isInputHidden = false;\n        this.isSetup = false;\n        this.ignoreFocus = false;\n        this.ignoreHover = false;\n        this.hasOptions = false;\n        this.currentResults = void 0;\n        this.lastValue = \"\";\n        this.caretPos = 0;\n        this.loading = 0;\n        this.loadedSearches = {};\n        this.activeOption = null;\n        this.activeItems = [];\n        this.optgroups = {};\n        this.options = {};\n        this.userOptions = {};\n        this.items = [];\n        instance_i++;\n        var dir;\n        var input = getDom(input_arg);\n\n        if (input.tomselect) {\n            throw new Error(\"Tom Select already initialized on this element\");\n        }\n\n        input.tomselect = this; // detect rtl environment\n\n        var computedStyle =\n            window.getComputedStyle && window.getComputedStyle(input, null);\n        dir = computedStyle.getPropertyValue(\"direction\"); // setup default state\n\n        const settings = getSettings(input, user_settings);\n        this.settings = settings;\n        this.input = input;\n        this.tabIndex = input.tabIndex || 0;\n        this.is_select_tag = input.tagName.toLowerCase() === \"select\";\n        this.rtl = /rtl/i.test(dir);\n        this.inputId = getId(input, \"tomselect-\" + instance_i);\n        this.isRequired = input.required; // search system\n\n        this.sifter = new Sifter(this.options, {\n            diacritics: settings.diacritics,\n        }); // option-dependent defaults\n\n        settings.mode =\n            settings.mode || (settings.maxItems === 1 ? \"single\" : \"multi\");\n\n        if (typeof settings.hideSelected !== \"boolean\") {\n            settings.hideSelected = settings.mode === \"multi\";\n        }\n\n        if (typeof settings.hidePlaceholder !== \"boolean\") {\n            settings.hidePlaceholder = settings.mode !== \"multi\";\n        } // set up createFilter callback\n\n        var filter = settings.createFilter;\n\n        if (typeof filter !== \"function\") {\n            if (typeof filter === \"string\") {\n                filter = new RegExp(filter);\n            }\n\n            if (filter instanceof RegExp) {\n                settings.createFilter = (input) => filter.test(input);\n            } else {\n                settings.createFilter = (value) => {\n                    return this.settings.duplicates || !this.options[value];\n                };\n            }\n        }\n\n        this.initializePlugins(settings.plugins);\n        this.setupCallbacks();\n        this.setupTemplates(); // Create all elements\n\n        const wrapper = getDom(\"<div>\");\n        const control = getDom(\"<div>\");\n\n        const dropdown = this._render(\"dropdown\");\n\n        const dropdown_content = getDom(`<div role=\"listbox\" tabindex=\"-1\">`);\n        // const classes = this.input.getAttribute(\"class\") || \"\";\n        const classes = \"\";\n        const inputMode = settings.mode;\n        var control_input;\n        addClasses(wrapper, settings.wrapperClass, classes, inputMode);\n        addClasses(control, settings.controlClass);\n        append(wrapper, control);\n        addClasses(dropdown, settings.dropdownClass, inputMode);\n\n        if (settings.copyClassesToDropdown) {\n            addClasses(dropdown, classes);\n        }\n\n        addClasses(dropdown_content, settings.dropdownContentClass);\n        append(dropdown, dropdown_content);\n        getDom(settings.dropdownParent || wrapper).appendChild(dropdown); // default controlInput\n\n        if (isHtmlString(settings.controlInput)) {\n            control_input = getDom(settings.controlInput); // set attributes\n\n            var attrs = [\"autocorrect\", \"autocapitalize\", \"autocomplete\"];\n            iterate$1(attrs, (attr) => {\n                if (input.getAttribute(attr)) {\n                    setAttr(control_input, {\n                        [attr]: input.getAttribute(attr),\n                    });\n                }\n            });\n            control_input.tabIndex = -1;\n            control.appendChild(control_input);\n            this.focus_node = control_input; // dom element\n        } else if (settings.controlInput) {\n            control_input = getDom(settings.controlInput);\n            this.focus_node = control_input;\n        } else {\n            control_input = getDom(\"<input/>\");\n            this.focus_node = control;\n        }\n\n        this.wrapper = wrapper;\n        this.dropdown = dropdown;\n        this.dropdown_content = dropdown_content;\n        this.control = control;\n        this.control_input = control_input;\n        this.setup();\n    }\n    /**\n     * set up event bindings.\n     *\n     */\n\n    setup() {\n        const self = this;\n        const settings = self.settings;\n        const control_input = self.control_input;\n        const dropdown = self.dropdown;\n        const dropdown_content = self.dropdown_content;\n        const wrapper = self.wrapper;\n        const control = self.control;\n        const input = self.input;\n        const focus_node = self.focus_node;\n        const passive_event = {\n            passive: true,\n        };\n        const listboxId = self.inputId + \"-ts-dropdown\";\n        setAttr(dropdown_content, {\n            id: listboxId,\n        });\n        setAttr(focus_node, {\n            role: \"combobox\",\n            \"aria-haspopup\": \"listbox\",\n            \"aria-expanded\": \"false\",\n            \"aria-controls\": listboxId,\n        });\n        const control_id = getId(focus_node, self.inputId + \"-ts-control\");\n        const query = \"label[for='\" + escapeQuery(self.inputId) + \"']\";\n        const label = document.querySelector(query);\n        const label_click = self.focus.bind(self);\n\n        if (label) {\n            addEvent(label, \"click\", label_click);\n            setAttr(label, {\n                for: control_id,\n            });\n            const label_id = getId(label, self.inputId + \"-ts-label\");\n            setAttr(focus_node, {\n                \"aria-labelledby\": label_id,\n            });\n            setAttr(dropdown_content, {\n                \"aria-labelledby\": label_id,\n            });\n        }\n\n        wrapper.style.width = input.style.width;\n\n        if (self.plugins.names.length) {\n            const classes_plugins =\n                \"plugin-\" + self.plugins.names.join(\" plugin-\");\n            addClasses([wrapper, dropdown], classes_plugins);\n        }\n\n        if (\n            (settings.maxItems === null || settings.maxItems > 1) &&\n            self.is_select_tag\n        ) {\n            setAttr(input, {\n                multiple: \"multiple\",\n            });\n        }\n\n        setAttr(control, {\n            \"data-multiple\": settings.mode === 'multi',\n            \"data-disabled\": input.disabled\n        });\n\n        if (settings.placeholder) {\n            setAttr(control_input, {\n                placeholder: settings.placeholder,\n            });\n        } // if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n\n        if (!settings.splitOn && settings.delimiter) {\n            settings.splitOn = new RegExp(\n                \"\\\\s*\" + escape_regex(settings.delimiter) + \"+\\\\s*\"\n            );\n        } // debounce user defined load() if loadThrottle > 0\n        // after initializePlugins() so plugins can create/modify user defined loaders\n\n        if (settings.load && settings.loadThrottle) {\n            settings.load = loadDebounce(settings.load, settings.loadThrottle);\n        }\n\n        self.control_input.type = input.type;\n        addEvent(dropdown, \"mousemove\", () => {\n            self.ignoreHover = false;\n        });\n        addEvent(\n            dropdown,\n            \"mouseenter\",\n            (e) => {\n                var target_match = parentMatch(\n                    e.target,\n                    \"[data-selectable]\",\n                    dropdown\n                );\n                if (target_match) self.onOptionHover(e, target_match);\n            },\n            {\n                capture: true,\n            }\n        ); // clicking on an option should select it\n\n        addEvent(dropdown, \"click\", (evt) => {\n            const option = parentMatch(evt.target, \"[data-selectable]\");\n\n            if (option) {\n                self.onOptionSelect(evt, option);\n                preventDefault(evt, true);\n            }\n        });\n        addEvent(control, \"click\", (evt) => {\n            var target_match = parentMatch(\n                evt.target,\n                \"[data-ts-item]\",\n                control\n            );\n\n            if (target_match && self.onItemSelect(evt, target_match)) {\n                preventDefault(evt, true);\n                return;\n            } // retain focus (see control_input mousedown)\n\n            if (control_input.value != \"\") {\n                return;\n            }\n\n            self.onClick();\n            preventDefault(evt, true);\n        }); // keydown on focus_node for arrow_down/arrow_up\n\n        addEvent(focus_node, \"keydown\", (e) => self.onKeyDown(e)); // keypress and input/keyup\n\n        addEvent(control_input, \"keypress\", (e) => self.onKeyPress(e));\n        addEvent(control_input, \"input\", (e) => self.onInput(e));\n        addEvent(focus_node, \"blur\", (e) => self.onBlur(e));\n        addEvent(focus_node, \"focus\", (e) => self.onFocus(e));\n        addEvent(control_input, \"paste\", (e) => self.onPaste(e));\n\n        const doc_mousedown = (evt) => {\n            // blur if target is outside of this instance\n            // dropdown is not always inside wrapper\n            const target = evt.composedPath()[0];\n\n            if (!wrapper.contains(target) && !dropdown.contains(target)) {\n                if (self.isFocused) {\n                    self.blur();\n                }\n\n                self.inputState();\n                return;\n            } // retain focus by preventing native handling. if the\n            // event target is the input it should not be modified.\n            // otherwise, text selection within the input won't work.\n            // Fixes bug #212 which is no covered by tests\n\n            if (target == control_input && self.isOpen) {\n                evt.stopPropagation(); // clicking anywhere in the control should not blur the control_input (which would close the dropdown)\n            } else {\n                preventDefault(evt, true);\n            }\n        };\n\n        const win_scroll = () => {\n            if (self.isOpen) {\n                self.positionDropdown();\n            }\n        };\n\n        addEvent(document, \"mousedown\", doc_mousedown);\n        addEvent(window, \"scroll\", win_scroll, passive_event);\n        addEvent(window, \"resize\", win_scroll, passive_event);\n\n        this._destroy = () => {\n            document.removeEventListener(\"mousedown\", doc_mousedown);\n            window.removeEventListener(\"scroll\", win_scroll);\n            window.removeEventListener(\"resize\", win_scroll);\n            if (label) label.removeEventListener(\"click\", label_click);\n        }; // store original html and tab index so that they can be\n        // restored when the destroy() method is called.\n\n        this.revertSettings = {\n            innerHTML: input.innerHTML,\n            tabIndex: input.tabIndex,\n        };\n        input.tabIndex = -1;\n        input.insertAdjacentElement(\"afterend\", self.wrapper);\n        self.sync(false);\n        settings.items = [];\n        delete settings.optgroups;\n        delete settings.options;\n        addEvent(input, \"invalid\", () => {\n            if (self.isValid) {\n                self.isValid = false;\n                self.isInvalid = true;\n                self.refreshState();\n            }\n        });\n        self.updateOriginalInput();\n        self.refreshItems();\n        self.close(false);\n        self.inputState();\n        self.isSetup = true;\n\n        if (input.disabled) {\n            self.disable();\n        } else {\n            self.enable(); //sets tabIndex\n        }\n\n        self.on(\"change\", this.onChange);\n        // addClasses(input, \"tomselected\", \"ts-hidden-accessible\");\n        // input.style.display = 'none';\n        self.trigger(\"initialize\"); // preload options\n\n        if (settings.preload === true) {\n            self.preload();\n        }\n    }\n    /**\n     * Register options and optgroups\n     *\n     */\n\n    setupOptions(options = [], optgroups = []) {\n        // build options table\n        this.addOptions(options); // build optgroup table\n\n        iterate$1(optgroups, (optgroup) => {\n            this.registerOptionGroup(optgroup);\n        });\n    }\n    /**\n     * Sets up default rendering functions.\n     */\n\n    setupTemplates() {\n        var self = this;\n        var field_label = self.settings.labelField;\n        var field_optgroup = self.settings.optgroupLabelField;\n        var templates = {\n            optgroup: (data) => {\n                let optgroup = document.createElement(\"div\");\n                optgroup.className = \"optgroup\";\n                optgroup.appendChild(data.options);\n                return optgroup;\n            },\n            optgroup_header: (data, escape) => {\n                return (\n                    '<div class=\"optgroup-header\">' +\n                    escape(data[field_optgroup]) +\n                    \"</div>\"\n                );\n            },\n            option: (data, escape) => {\n                return \"<div>\" + escape(data[field_label]) + \"</div>\";\n            },\n            item: (data, escape) => {\n                return \"<div>\" + escape(data[field_label]) + \"</div>\";\n            },\n            option_create: (data, escape) => {\n                return (\n                    '<div class=\"create\">Add <strong>' +\n                    escape(data.input) +\n                    \"</strong>&hellip;</div>\"\n                );\n            },\n            no_results: () => {\n                return '<div class=\"no-results\">No results found</div>';\n            },\n            loading: () => {\n                return '<div class=\"spinner\"></div>';\n            },\n            not_loading: () => { },\n            dropdown: () => {\n                return \"<div></div>\";\n            },\n        };\n        self.settings.render = Object.assign(\n            {},\n            templates,\n            self.settings.render\n        );\n    }\n    /**\n     * Maps fired events to callbacks provided\n     * in the settings used when creating the control.\n     */\n\n    setupCallbacks() {\n        var key, fn;\n        var callbacks = {\n            initialize: \"onInitialize\",\n            change: \"onChange\",\n            item_add: \"onItemAdd\",\n            item_remove: \"onItemRemove\",\n            item_select: \"onItemSelect\",\n            clear: \"onClear\",\n            option_add: \"onOptionAdd\",\n            option_remove: \"onOptionRemove\",\n            option_clear: \"onOptionClear\",\n            optgroup_add: \"onOptionGroupAdd\",\n            optgroup_remove: \"onOptionGroupRemove\",\n            optgroup_clear: \"onOptionGroupClear\",\n            dropdown_open: \"onDropdownOpen\",\n            dropdown_close: \"onDropdownClose\",\n            type: \"onType\",\n            load: \"onLoad\",\n            focus: \"onFocus\",\n            blur: \"onBlur\",\n        };\n\n        for (key in callbacks) {\n            fn = this.settings[callbacks[key]];\n            if (fn) this.on(key, fn);\n        }\n    }\n    /**\n     * Sync the Tom Select instance with the original input or select\n     *\n     */\n\n    sync(get_settings = true) {\n        const self = this;\n        const settings = get_settings\n            ? getSettings(self.input, {\n                delimiter: self.settings.delimiter,\n            })\n            : self.settings;\n        self.setupOptions(settings.options, settings.optgroups);\n        self.setValue(settings.items || [], true); // silent prevents recursion\n\n        self.lastQuery = null; // so updated options will be displayed in dropdown\n    }\n    /**\n     * Triggered when the main control element\n     * has a click event.\n     *\n     */\n\n    onClick() {\n        var self = this;\n\n        if (self.activeItems.length > 0) {\n            self.clearActiveItems();\n            self.focus();\n            return;\n        }\n\n        if (self.isFocused && self.isOpen) {\n            self.blur();\n        } else {\n            self.focus();\n        }\n    }\n    /**\n     * @deprecated v1.7\n     *\n     */\n\n    onMouseDown() { }\n    /**\n     * Triggered when the value of the control has been changed.\n     * This should propagate the event to the original DOM\n     * input / select element.\n     */\n\n    onChange() {\n        triggerEvent(this.input, \"input\");\n        triggerEvent(this.input, \"change\");\n    }\n    /**\n     * Triggered on <input> paste.\n     *\n     */\n\n    onPaste(e) {\n        var self = this;\n\n        if (self.isInputHidden || self.isLocked) {\n            preventDefault(e);\n            return;\n        } // If a regex or string is included, this will split the pasted\n        // input and create Items for each separate value\n\n        if (!self.settings.splitOn) {\n            return;\n        } // Wait for pasted text to be recognized in value\n\n        setTimeout(() => {\n            var pastedText = self.inputValue();\n\n            if (!pastedText.match(self.settings.splitOn)) {\n                return;\n            }\n\n            var splitInput = pastedText.trim().split(self.settings.splitOn);\n            iterate$1(splitInput, (piece) => {\n                const hash = hash_key(piece);\n\n                if (hash) {\n                    if (this.options[piece]) {\n                        self.addItem(piece);\n                    } else {\n                        self.createItem(piece);\n                    }\n                }\n            });\n        }, 0);\n    }\n    /**\n     * Triggered on <input> keypress.\n     *\n     */\n\n    onKeyPress(e) {\n        var self = this;\n\n        if (self.isLocked) {\n            preventDefault(e);\n            return;\n        }\n\n        var character = String.fromCharCode(e.keyCode || e.which);\n\n        if (\n            self.settings.create &&\n            self.settings.mode === \"multi\" &&\n            character === self.settings.delimiter\n        ) {\n            self.createItem();\n            preventDefault(e);\n            return;\n        }\n    }\n    /**\n     * Triggered on <input> keydown.\n     *\n     */\n\n    onKeyDown(e) {\n        var self = this;\n        self.ignoreHover = true;\n\n        if (self.isLocked) {\n            if (e.keyCode !== KEY_TAB) {\n                preventDefault(e);\n            }\n\n            return;\n        }\n\n        switch (e.keyCode) {\n            // ctrl+A: select all\n            case KEY_A:\n                if (isKeyDown(KEY_SHORTCUT, e)) {\n                    if (self.control_input.value == \"\") {\n                        preventDefault(e);\n                        self.selectAll();\n                        return;\n                    }\n                }\n\n                break;\n            // esc: close dropdown\n\n            case KEY_ESC:\n                if (self.isOpen) {\n                    preventDefault(e, true);\n                    self.close();\n                }\n\n                self.clearActiveItems();\n                return;\n            // down: open dropdown or move selection down\n\n            case KEY_DOWN:\n                if (!self.isOpen && self.hasOptions) {\n                    self.open();\n                } else if (self.activeOption) {\n                    let next = self.getAdjacent(self.activeOption, 1);\n                    if (next) self.setActiveOption(next);\n                }\n\n                preventDefault(e);\n                return;\n            // up: move selection up\n\n            case KEY_UP:\n                if (self.activeOption) {\n                    let prev = self.getAdjacent(self.activeOption, -1);\n                    if (prev) self.setActiveOption(prev);\n                }\n\n                preventDefault(e);\n                return;\n            // return: select active option\n\n            case KEY_RETURN:\n                if (self.canSelect(self.activeOption)) {\n                    self.onOptionSelect(e, self.activeOption);\n                    preventDefault(e); // if the option_create=null, the dropdown might be closed\n                } else if (self.settings.create && self.createItem()) {\n                    preventDefault(e); // don't submit form when searching for a value\n                } else if (\n                    document.activeElement == self.control_input &&\n                    self.isOpen\n                ) {\n                    preventDefault(e);\n                }\n\n                return;\n            // left: modifiy item selection to the left\n\n            case KEY_LEFT:\n                self.advanceSelection(-1, e);\n                return;\n            // right: modifiy item selection to the right\n\n            case KEY_RIGHT:\n                self.advanceSelection(1, e);\n                return;\n            // tab: select active option and/or create item\n\n            case KEY_TAB:\n                if (self.settings.selectOnTab) {\n                    if (self.canSelect(self.activeOption)) {\n                        self.onOptionSelect(e, self.activeOption); // prevent default [tab] behaviour of jump to the next field\n                        // if select isFull, then the dropdown won't be open and [tab] will work normally\n\n                        preventDefault(e);\n                    }\n\n                    if (self.settings.create && self.createItem()) {\n                        preventDefault(e);\n                    }\n                }\n\n                return;\n            // delete|backspace: delete items\n\n            case KEY_BACKSPACE:\n            case KEY_DELETE:\n                self.deleteSelection(e);\n                return;\n        } // don't enter text in the control_input when active items are selected\n\n        if (self.isInputHidden && !isKeyDown(KEY_SHORTCUT, e)) {\n            preventDefault(e);\n        }\n    }\n    /**\n     * Triggered on <input> keyup.\n     *\n     */\n\n    onInput(e) {\n        var self = this;\n\n        if (self.isLocked) {\n            return;\n        }\n\n        var value = self.inputValue();\n\n        if (self.lastValue !== value) {\n            self.lastValue = value;\n\n            if (self.settings.shouldLoad.call(self, value)) {\n                self.load(value);\n            }\n\n            self.refreshOptions();\n            self.trigger(\"type\", value);\n        }\n    }\n    /**\n     * Triggered when the user rolls over\n     * an option in the autocomplete dropdown menu.\n     *\n     */\n\n    onOptionHover(evt, option) {\n        if (this.ignoreHover) return;\n        this.setActiveOption(option, false);\n    }\n    /**\n     * Triggered on <input> focus.\n     *\n     */\n\n    onFocus(e) {\n        var self = this;\n        var wasFocused = self.isFocused;\n\n        if (self.isDisabled) {\n            self.blur();\n            preventDefault(e);\n            return;\n        }\n\n        if (self.ignoreFocus) return;\n        self.isFocused = true;\n        if (self.settings.preload === \"focus\") self.preload();\n        if (!wasFocused) self.trigger(\"focus\");\n\n        if (!self.activeItems.length) {\n            self.showInput();\n            self.refreshOptions(!!self.settings.openOnFocus);\n        }\n\n        self.refreshState();\n    }\n    /**\n     * Triggered on <input> blur.\n     *\n     */\n\n    onBlur(e) {\n        if (document.hasFocus() === false) return;\n        var self = this;\n        if (!self.isFocused) return;\n        self.isFocused = false;\n        self.ignoreFocus = false;\n\n        var deactivate = () => {\n            self.close();\n            self.setActiveItem();\n            self.setCaret(self.items.length);\n            self.trigger(\"blur\");\n        };\n\n        if (self.settings.create && self.settings.createOnBlur) {\n            self.createItem(null, deactivate);\n        } else {\n            deactivate();\n        }\n    }\n    /**\n     * Triggered when the user clicks on an option\n     * in the autocomplete dropdown menu.\n     *\n     */\n\n    onOptionSelect(evt, option) {\n        var value,\n            self = this; // should not be possible to trigger a option under a disabled optgroup\n\n        if (\n            option.parentElement &&\n            option.parentElement.matches(\"[data-disabled]\")\n        ) {\n            return;\n        }\n\n        if (option.classList.contains(\"create\")) {\n            self.createItem(null, () => {\n                if (self.settings.closeAfterSelect) {\n                    self.close();\n                }\n            });\n        } else {\n            value = option.dataset.value;\n\n            if (typeof value !== \"undefined\") {\n                self.lastQuery = null;\n                self.addItem(value);\n\n                if (self.settings.closeAfterSelect) {\n                    self.close();\n                }\n\n                if (\n                    !self.settings.hideSelected &&\n                    evt.type &&\n                    /click/.test(evt.type)\n                ) {\n                    self.setActiveOption(option);\n                }\n            }\n        }\n    }\n    /**\n     * Return true if the given option can be selected\n     *\n     */\n\n    canSelect(option) {\n        if (this.isOpen && option && this.dropdown_content.contains(option)) {\n            return true;\n        }\n\n        return false;\n    }\n    /**\n     * Triggered when the user clicks on an item\n     * that has been selected.\n     *\n     */\n\n    onItemSelect(evt, item) {\n        var self = this;\n\n        if (!self.isLocked && self.settings.mode === \"multi\") {\n            preventDefault(evt);\n            self.setActiveItem(item, evt);\n            return true;\n        }\n\n        return false;\n    }\n    /**\n     * Determines whether or not to invoke\n     * the user-provided option provider / loader\n     *\n     * Note, there is a subtle difference between\n     * this.canLoad() and this.settings.shouldLoad();\n     *\n     *\t- settings.shouldLoad() is a user-input validator.\n     *\tWhen false is returned, the not_loading template\n     *\twill be added to the dropdown\n     *\n     *\t- canLoad() is lower level validator that checks\n     * \tthe Tom Select instance. There is no inherent user\n     *\tfeedback when canLoad returns false\n     *\n     */\n\n    canLoad(value) {\n        if (!this.settings.load) return false;\n        if (this.loadedSearches.hasOwnProperty(value)) return false;\n        return true;\n    }\n    /**\n     * Invokes the user-provided option provider / loader.\n     *\n     */\n\n    load(value) {\n        const self = this;\n        if (!self.canLoad(value)) return;\n        addClasses(self.wrapper, self.settings.loadingClass);\n        self.loading++;\n        const callback = self.loadCallback.bind(self);\n        self.settings.load.call(self, value, callback);\n    }\n    /**\n     * Invoked by the user-provided option provider\n     *\n     */\n\n    loadCallback(options, optgroups) {\n        const self = this;\n        self.loading = Math.max(self.loading - 1, 0);\n        self.lastQuery = null;\n        self.clearActiveOption(); // when new results load, focus should be on first option\n\n        self.setupOptions(options, optgroups);\n        self.refreshOptions(self.isFocused && !self.isInputHidden);\n\n        if (!self.loading) {\n            removeClasses(self.wrapper, self.settings.loadingClass);\n        }\n\n        self.trigger(\"load\", options, optgroups);\n    }\n\n    preload() {\n        var classList = this.wrapper.classList;\n        if (classList.contains(\"preloaded\")) return;\n        classList.add(\"preloaded\");\n        this.load(\"\");\n    }\n    /**\n     * Sets the input field of the control to the specified value.\n     *\n     */\n\n    setTextboxValue(value = \"\") {\n        var input = this.control_input;\n        var changed = input.value !== value;\n\n        if (changed) {\n            input.value = value;\n            triggerEvent(input, \"update\");\n            this.lastValue = value;\n        }\n    }\n    /**\n     * Returns the value of the control. If multiple items\n     * can be selected (e.g. <select multiple>), this returns\n     * an array. If only one item can be selected, this\n     * returns a string.\n     *\n     */\n\n    getValue() {\n        if (this.is_select_tag && this.input.hasAttribute(\"multiple\")) {\n            return this.items;\n        }\n\n        return this.items.join(this.settings.delimiter);\n    }\n    /**\n     * Resets the selected items to the given value.\n     *\n     */\n\n    setValue(value, silent) {\n        var events = silent ? [] : [\"change\"];\n        debounce_events(this, events, () => {\n            this.clear(silent);\n            this.addItems(value, silent);\n        });\n    }\n    /**\n     * Resets the number of max items to the given value\n     *\n     */\n\n    setMaxItems(value) {\n        if (value === 0) value = null; //reset to unlimited items.\n\n        this.settings.maxItems = value;\n        this.refreshState();\n    }\n    /**\n     * Sets the selected item.\n     *\n     */\n\n    setActiveItem(item, e) {\n        var self = this;\n        var eventName;\n        var i, begin, end, swap;\n        var last;\n        if (self.settings.mode === \"single\") return; // clear the active selection\n\n        if (!item) {\n            self.clearActiveItems();\n\n            if (self.isFocused) {\n                self.showInput();\n            }\n\n            return;\n        } // modify selection\n\n        eventName = e && e.type.toLowerCase();\n\n        if (\n            eventName === \"click\" &&\n            isKeyDown(\"shiftKey\", e) &&\n            self.activeItems.length\n        ) {\n            last = self.getLastActive();\n            begin = Array.prototype.indexOf.call(self.control.children, last);\n            end = Array.prototype.indexOf.call(self.control.children, item);\n\n            if (begin > end) {\n                swap = begin;\n                begin = end;\n                end = swap;\n            }\n\n            for (i = begin; i <= end; i++) {\n                item = self.control.children[i];\n\n                if (self.activeItems.indexOf(item) === -1) {\n                    self.setActiveItemClass(item);\n                }\n            }\n\n            preventDefault(e);\n        } else if (\n            (eventName === \"click\" && isKeyDown(KEY_SHORTCUT, e)) ||\n            (eventName === \"keydown\" && isKeyDown(\"shiftKey\", e))\n        ) {\n            if (item.classList.contains(\"active\")) {\n                self.removeActiveItem(item);\n            } else {\n                self.setActiveItemClass(item);\n            }\n        } else {\n            self.clearActiveItems();\n            self.setActiveItemClass(item);\n        } // ensure control has focus\n\n        self.hideInput();\n\n        if (!self.isFocused) {\n            self.focus();\n        }\n    }\n    /**\n     * Set the active and last-active classes\n     *\n     */\n\n    setActiveItemClass(item) {\n        const self = this;\n        const last_active = self.control.querySelector(\".last-active\");\n        if (last_active) removeClasses(last_active, \"last-active\");\n        addClasses(item, \"active last-active\");\n        item.setAttribute('aria-selected', true);\n        self.trigger(\"item_select\", item);\n\n        if (self.activeItems.indexOf(item) == -1) {\n            self.activeItems.push(item);\n        }\n    }\n    /**\n     * Remove active item\n     *\n     */\n\n    removeActiveItem(item) {\n        var idx = this.activeItems.indexOf(item);\n        this.activeItems.splice(idx, 1);\n        removeClasses(item, \"active\");\n        item.setAttribute('aria-selected', false);\n    }\n    /**\n     * Clears all the active items\n     *\n     */\n\n    clearActiveItems() {\n        removeClasses(this.activeItems, \"active\");\n        this.activeItems.forEach((item) => {\n            item.setAttribute('aria-selected', false);\n        });\n        this.activeItems = [];\n    }\n    /**\n     * Sets the selected item in the dropdown menu\n     * of available options.\n     *\n     */\n\n    setActiveOption(option, scroll = true) {\n        if (option === this.activeOption) {\n            return;\n        }\n\n        this.clearActiveOption();\n        if (!option) return;\n        this.activeOption = option;\n        setAttr(this.focus_node, {\n            \"aria-activedescendant\": option.getAttribute(\"id\"),\n        });\n        setAttr(option, {\n            \"aria-selected\": \"true\",\n        });\n        addClasses(option, \"active\");\n        if (scroll) this.scrollToOption(option);\n    }\n    /**\n     * Sets the dropdown_content scrollTop to display the option\n     *\n     */\n\n    scrollToOption(option, behavior) {\n        if (!option) return;\n        const content = this.dropdown_content;\n        const height_menu = content.clientHeight;\n        const scrollTop = content.scrollTop || 0;\n        const height_item = option.offsetHeight;\n        const y =\n            option.getBoundingClientRect().top -\n            content.getBoundingClientRect().top +\n            scrollTop;\n\n        if (y + height_item > height_menu + scrollTop) {\n            this.scroll(y - height_menu + height_item, behavior);\n        } else if (y < scrollTop) {\n            this.scroll(y, behavior);\n        }\n    }\n    /**\n     * Scroll the dropdown to the given position\n     *\n     */\n\n    scroll(scrollTop, behavior) {\n        const content = this.dropdown_content;\n\n        if (behavior) {\n            content.style.scrollBehavior = behavior;\n        }\n\n        content.scrollTop = scrollTop;\n        content.style.scrollBehavior = \"\";\n    }\n    /**\n     * Clears the active option\n     *\n     */\n\n    clearActiveOption() {\n        if (this.activeOption) {\n            removeClasses(this.activeOption, \"active\");\n            setAttr(this.activeOption, {\n                \"aria-selected\": null,\n            });\n        }\n\n        this.activeOption = null;\n        setAttr(this.focus_node, {\n            \"aria-activedescendant\": null,\n        });\n    }\n    /**\n     * Selects all items (CTRL + A).\n     */\n\n    selectAll() {\n        const self = this;\n        if (self.settings.mode === \"single\") return;\n        const activeItems = self.controlChildren();\n        if (!activeItems.length) return;\n        self.hideInput();\n        self.close();\n        self.activeItems = activeItems;\n        iterate$1(activeItems, (item) => {\n            self.setActiveItemClass(item);\n        });\n    }\n    /**\n     * Determines if the control_input should be in a hidden or visible state\n     *\n     */\n\n    inputState() {\n        var self = this;\n        if (!self.control.contains(self.control_input)) return;\n        setAttr(self.control_input, {\n            placeholder: self.settings.placeholder,\n        });\n\n        if (\n            self.activeItems.length > 0 ||\n            (!self.isFocused &&\n                self.settings.hidePlaceholder &&\n                self.items.length > 0)\n        ) {\n            self.setTextboxValue();\n            setAttr(self.control_input, {\n                placeholder: \"\",\n            });\n            self.isInputHidden = true;\n        } else {\n            if (self.settings.hidePlaceholder && self.items.length > 0) {\n                setAttr(self.control_input, {\n                    placeholder: \"\",\n                });\n            }\n\n            self.isInputHidden = false;\n        }\n\n        if (self.settings.mode === 'single' && self.items.length > 0) {\n            setAttr(self.control_input, {\n                placeholder: \"\",\n            });\n        }\n\n        self.wrapper.classList.toggle(\"input-hidden\", self.isInputHidden);\n    }\n    /**\n     * Hides the input element out of view, while\n     * retaining its focus.\n     * @deprecated 1.3\n     */\n\n    hideInput() {\n        this.inputState();\n    }\n    /**\n     * Restores input visibility.\n     * @deprecated 1.3\n     */\n\n    showInput() {\n        this.inputState();\n    }\n    /**\n     * Get the input value\n     */\n\n    inputValue() {\n        return this.control_input.value.trim();\n    }\n    /**\n     * Gives the control focus.\n     */\n\n    focus() {\n        var self = this;\n        if (self.isDisabled) return;\n        self.ignoreFocus = true;\n\n        if (self.control_input.offsetWidth) {\n            self.control_input.focus();\n        } else {\n            self.focus_node.focus();\n        }\n\n        setTimeout(() => {\n            self.ignoreFocus = false;\n            self.onFocus();\n        }, 0);\n    }\n    /**\n     * Forces the control out of focus.\n     *\n     */\n\n    blur() {\n        this.focus_node.blur();\n        this.onBlur();\n    }\n    /**\n     * Returns a function that scores an object\n     * to show how good of a match it is to the\n     * provided query.\n     *\n     * @return {function}\n     */\n\n    getScoreFunction(query) {\n        return this.sifter.getScoreFunction(query, this.getSearchOptions());\n    }\n    /**\n     * Returns search options for sifter (the system\n     * for scoring and sorting results).\n     *\n     * @see https://github.com/orchidjs/sifter.js\n     * @return {object}\n     */\n\n    getSearchOptions() {\n        var settings = this.settings;\n        var sort = settings.sortField;\n\n        if (typeof settings.sortField === \"string\") {\n            sort = [\n                {\n                    field: settings.sortField,\n                },\n            ];\n        }\n\n        return {\n            fields: settings.searchField,\n            conjunction: settings.searchConjunction,\n            sort: sort,\n            nesting: settings.nesting,\n        };\n    }\n    /**\n     * Searches through available options and returns\n     * a sorted array of matches.\n     *\n     */\n\n    search(query) {\n        var result, calculateScore;\n        var self = this;\n        var options = this.getSearchOptions(); // validate user-provided result scoring function\n\n        if (self.settings.score) {\n            calculateScore = self.settings.score.call(self, query);\n\n            if (typeof calculateScore !== \"function\") {\n                throw new Error(\n                    'Tom Select \"score\" setting must be a function that returns a function'\n                );\n            }\n        } // perform search\n\n        if (query !== self.lastQuery) {\n            self.lastQuery = query;\n            result = self.sifter.search(\n                query,\n                Object.assign(options, {\n                    score: calculateScore,\n                })\n            );\n            self.currentResults = result;\n        } else {\n            result = Object.assign({}, self.currentResults);\n        } // filter out selected items\n\n        if (self.settings.hideSelected) {\n            result.items = result.items.filter((item) => {\n                let hashed = hash_key(item.id);\n                return !(hashed && self.items.indexOf(hashed) !== -1);\n            });\n        }\n\n        return result;\n    }\n    /**\n     * Refreshes the list of available options shown\n     * in the autocomplete dropdown menu.\n     *\n     */\n\n    refreshOptions(triggerDropdown = true) {\n        var i,\n            j,\n            k,\n            n,\n            optgroup,\n            optgroups,\n            html,\n            has_create_option,\n            active_group;\n        var create;\n        const groups = {};\n        const groups_order = [];\n        var self = this;\n        var query = self.inputValue();\n        const same_query =\n            query === self.lastQuery || (query == \"\" && self.lastQuery == null);\n        var results = self.search(query);\n        var active_option = null;\n        var show_dropdown = self.settings.shouldOpen || false;\n        var dropdown_content = self.dropdown_content;\n\n        if (same_query) {\n            active_option = self.activeOption;\n\n            if (active_option) {\n                active_group = active_option.closest(\"[data-group]\");\n            }\n        } // build markup\n\n        n = results.items.length;\n\n        if (typeof self.settings.maxOptions === \"number\") {\n            n = Math.min(n, self.settings.maxOptions);\n        }\n\n        if (n > 0) {\n            show_dropdown = true;\n        } // render and group available options individually\n\n        for (i = 0; i < n; i++) {\n            // get option dom element\n            let item = results.items[i];\n            if (!item) continue;\n            let opt_value = item.id;\n            let option = self.options[opt_value];\n            if (option === undefined) continue;\n            let opt_hash = get_hash(opt_value);\n            let option_el = self.getOption(opt_hash, true); // toggle 'selected' class\n\n            if (!self.settings.hideSelected) {\n                option_el.classList.toggle(\n                    \"selected\",\n                    self.items.includes(opt_hash)\n                );\n            }\n\n            optgroup = option[self.settings.optgroupField] || \"\";\n            optgroups = Array.isArray(optgroup) ? optgroup : [optgroup];\n\n            for (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n                optgroup = optgroups[j];\n\n                if (!self.optgroups.hasOwnProperty(optgroup)) {\n                    optgroup = \"\";\n                }\n\n                let group_fragment = groups[optgroup];\n\n                if (group_fragment === undefined) {\n                    group_fragment = document.createDocumentFragment();\n                    groups_order.push(optgroup);\n                } // nodes can only have one parent, so if the option is in mutple groups, we need a clone\n\n                if (j > 0) {\n                    option_el = option_el.cloneNode(true);\n                    setAttr(option_el, {\n                        id: option.$id + \"-clone-\" + j,\n                        \"aria-selected\": null,\n                    });\n                    option_el.classList.add(\"ts-cloned\");\n                    removeClasses(option_el, \"active\"); // make sure we keep the activeOption in the same group\n\n                    if (\n                        self.activeOption &&\n                        self.activeOption.dataset.value == opt_value\n                    ) {\n                        if (\n                            active_group &&\n                            active_group.dataset.group === optgroup.toString()\n                        ) {\n                            active_option = option_el;\n                        }\n                    }\n                }\n\n                group_fragment.appendChild(option_el);\n                groups[optgroup] = group_fragment;\n            }\n        } // sort optgroups\n\n        if (self.settings.lockOptgroupOrder) {\n            groups_order.sort((a, b) => {\n                const grp_a = self.optgroups[a];\n                const grp_b = self.optgroups[b];\n                const a_order = (grp_a && grp_a.$order) || 0;\n                const b_order = (grp_b && grp_b.$order) || 0;\n                return a_order - b_order;\n            });\n        } // render optgroup headers & join groups\n\n        html = document.createDocumentFragment();\n        iterate$1(groups_order, (optgroup) => {\n            let group_fragment = groups[optgroup];\n            if (!group_fragment || !group_fragment.children.length) return;\n            let group_heading = self.optgroups[optgroup];\n\n            if (group_heading !== undefined) {\n                let group_options = document.createDocumentFragment();\n                let header = self.render(\"optgroup_header\", group_heading);\n                append(group_options, header);\n                append(group_options, group_fragment);\n                let group_html = self.render(\"optgroup\", {\n                    group: group_heading,\n                    options: group_options,\n                });\n                append(html, group_html);\n            } else {\n                append(html, group_fragment);\n            }\n        });\n        dropdown_content.innerHTML = \"\";\n        append(dropdown_content, html); // highlight matching terms inline\n\n        if (self.settings.highlight) {\n            removeHighlight(dropdown_content);\n\n            if (results.query.length && results.tokens.length) {\n                iterate$1(results.tokens, (tok) => {\n                    highlight(dropdown_content, tok.regex, self.settings.highlightClass);\n                });\n            }\n        } // helper method for adding templates to dropdown\n\n        var add_template = (template) => {\n            let content = self.render(template, {\n                input: query,\n            });\n\n            if (content) {\n                show_dropdown = true;\n                dropdown_content.insertBefore(\n                    content,\n                    dropdown_content.firstChild\n                );\n            }\n\n            return content;\n        }; // add loading message\n\n        if (self.loading) {\n            add_template(\"loading\"); // invalid query\n        } else if (!self.settings.shouldLoad.call(self, query)) {\n            add_template(\"not_loading\"); // add no_results message\n        } else if (results.items.length === 0) {\n            add_template(\"no_results\");\n        } // add create option\n\n        has_create_option = self.canCreate(query);\n\n        if (has_create_option) {\n            create = add_template(\"option_create\");\n        } // activate\n\n        self.hasOptions = results.items.length > 0 || has_create_option;\n\n        if (show_dropdown) {\n            if (results.items.length > 0) {\n                if (\n                    !active_option &&\n                    self.settings.mode === \"single\" &&\n                    self.items[0] != undefined\n                ) {\n                    active_option = self.getOption(self.items[0]);\n                }\n\n                if (!dropdown_content.contains(active_option)) {\n                    let active_index = 0;\n\n                    if (create && !self.settings.addPrecedence) {\n                        active_index = 1;\n                    }\n\n                    active_option = self.selectable()[active_index];\n                }\n            } else if (create) {\n                active_option = create;\n            }\n\n            if (triggerDropdown && !self.isOpen) {\n                self.open();\n                self.scrollToOption(active_option, \"auto\");\n            }\n\n            self.setActiveOption(active_option);\n        } else {\n            self.clearActiveOption();\n\n            if (triggerDropdown && self.isOpen) {\n                self.close(false); // if create_option=null, we want the dropdown to close but not reset the textbox value\n            }\n        }\n    }\n    /**\n     * Return list of selectable options\n     *\n     */\n\n    selectable() {\n        return this.dropdown_content.querySelectorAll(\"[data-selectable]\");\n    }\n    /**\n     * Adds an available option. If it already exists,\n     * nothing will happen. Note: this does not refresh\n     * the options list dropdown (use `refreshOptions`\n     * for that).\n     *\n     * Usage:\n     *\n     *   this.addOption(data)\n     *\n     */\n\n    addOption(data, user_created = false) {\n        const self = this; // @deprecated 1.7.7\n        // use addOptions( array, user_created ) for adding multiple options\n\n        if (Array.isArray(data)) {\n            self.addOptions(data, user_created);\n            return false;\n        }\n\n        const key = hash_key(data[self.settings.valueField]);\n\n        if (key === null || self.options.hasOwnProperty(key)) {\n            return false;\n        }\n\n        data.$order = data.$order || ++self.order;\n        data.$id = self.inputId + \"-opt-\" + data.$order;\n        self.options[key] = data;\n        self.lastQuery = null;\n\n        if (user_created) {\n            self.userOptions[key] = user_created;\n            self.trigger(\"option_add\", key, data);\n        }\n\n        return key;\n    }\n    /**\n     * Add multiple options\n     *\n     */\n\n    addOptions(data, user_created = false) {\n        iterate$1(data, (dat) => {\n            this.addOption(dat, user_created);\n        });\n    }\n    /**\n     * @deprecated 1.7.7\n     */\n\n    registerOption(data) {\n        return this.addOption(data);\n    }\n    /**\n     * Registers an option group to the pool of option groups.\n     *\n     * @return {boolean|string}\n     */\n\n    registerOptionGroup(data) {\n        var key = hash_key(data[this.settings.optgroupValueField]);\n        if (key === null) return false;\n        data.$order = data.$order || ++this.order;\n        this.optgroups[key] = data;\n        return key;\n    }\n    /**\n     * Registers a new optgroup for options\n     * to be bucketed into.\n     *\n     */\n\n    addOptionGroup(id, data) {\n        var hashed_id;\n        data[this.settings.optgroupValueField] = id;\n\n        if ((hashed_id = this.registerOptionGroup(data))) {\n            this.trigger(\"optgroup_add\", hashed_id, data);\n        }\n    }\n    /**\n     * Removes an existing option group.\n     *\n     */\n\n    removeOptionGroup(id) {\n        if (this.optgroups.hasOwnProperty(id)) {\n            delete this.optgroups[id];\n            this.clearCache();\n            this.trigger(\"optgroup_remove\", id);\n        }\n    }\n    /**\n     * Clears all existing option groups.\n     */\n\n    clearOptionGroups() {\n        this.optgroups = {};\n        this.clearCache();\n        this.trigger(\"optgroup_clear\");\n    }\n    /**\n     * Updates an option available for selection. If\n     * it is visible in the selected items or options\n     * dropdown, it will be re-rendered automatically.\n     *\n     */\n\n    updateOption(value, data) {\n        const self = this;\n        var item_new;\n        var index_item;\n        const value_old = hash_key(value);\n        const value_new = hash_key(data[self.settings.valueField]); // sanity checks\n\n        if (value_old === null) return;\n        const data_old = self.options[value_old];\n        if (data_old == undefined) return;\n        if (typeof value_new !== \"string\")\n            throw new Error(\"Value must be set in option data\");\n        const option = self.getOption(value_old);\n        const item = self.getItem(value_old);\n        data.$order = data.$order || data_old.$order;\n        delete self.options[value_old]; // invalidate render cache\n        // don't remove existing node yet, we'll remove it after replacing it\n\n        self.uncacheValue(value_new);\n        self.options[value_new] = data; // update the option if it's in the dropdown\n\n        if (option) {\n            if (self.dropdown_content.contains(option)) {\n                const option_new = self._render(\"option\", data);\n\n                replaceNode(option, option_new);\n\n                if (self.activeOption === option) {\n                    self.setActiveOption(option_new);\n                }\n            }\n\n            option.remove();\n        } // update the item if we have one\n\n        if (item) {\n            index_item = self.items.indexOf(value_old);\n\n            if (index_item !== -1) {\n                self.items.splice(index_item, 1, value_new);\n            }\n\n            item_new = self._render(\"item\", data);\n            if (item.classList.contains(\"active\"))\n                addClasses(item_new, \"active\");\n            replaceNode(item, item_new);\n        } // invalidate last query because we might have updated the sortField\n\n        self.lastQuery = null;\n    }\n    /**\n     * Removes a single option.\n     *\n     */\n\n    removeOption(value, silent) {\n        const self = this;\n        value = get_hash(value);\n        self.uncacheValue(value);\n        delete self.userOptions[value];\n        delete self.options[value];\n        self.lastQuery = null;\n        self.trigger(\"option_remove\", value);\n        self.removeItem(value, silent);\n    }\n    /**\n     * Clears all options.\n     */\n\n    clearOptions(filter) {\n        const boundFilter = (filter || this.clearFilter).bind(this);\n        this.loadedSearches = {};\n        this.userOptions = {};\n        this.clearCache();\n        const selected = {};\n        iterate$1(this.options, (option, key) => {\n            if (boundFilter(option, key)) {\n                selected[key] = option;\n            }\n        });\n        this.options = this.sifter.items = selected;\n        this.lastQuery = null;\n        this.trigger(\"option_clear\");\n    }\n    /**\n     * Used by clearOptions() to decide whether or not an option should be removed\n     * Return true to keep an option, false to remove\n     *\n     */\n\n    clearFilter(option, value) {\n        if (this.items.indexOf(value) >= 0) {\n            return true;\n        }\n\n        return false;\n    }\n    /**\n     * Returns the dom element of the option\n     * matching the given value.\n     *\n     */\n\n    getOption(value, create = false) {\n        const hashed = hash_key(value);\n        if (hashed === null) return null;\n        const option = this.options[hashed];\n\n        if (option != undefined) {\n            if (option.$div) {\n                return option.$div;\n            }\n\n            if (create) {\n                return this._render(\"option\", option);\n            }\n        }\n\n        return null;\n    }\n    /**\n     * Returns the dom element of the next or previous dom element of the same type\n     * Note: adjacent options may not be adjacent DOM elements (optgroups)\n     *\n     */\n\n    getAdjacent(option, direction, type = \"option\") {\n        var self = this,\n            all;\n\n        if (!option) {\n            return null;\n        }\n\n        if (type == \"item\") {\n            all = self.controlChildren();\n        } else {\n            all = self.dropdown_content.querySelectorAll(\"[data-selectable]\");\n        }\n\n        for (let i = 0; i < all.length; i++) {\n            if (all[i] != option) {\n                continue;\n            }\n\n            if (direction > 0) {\n                return all[i + 1];\n            }\n\n            return all[i - 1];\n        }\n\n        return null;\n    }\n    /**\n     * Returns the dom element of the item\n     * matching the given value.\n     *\n     */\n\n    getItem(item) {\n        if (typeof item == \"object\") {\n            return item;\n        }\n\n        var value = hash_key(item);\n        return value !== null\n            ? this.control.querySelector(`[data-value=\"${addSlashes(value)}\"]`)\n            : null;\n    }\n    /**\n     * \"Selects\" multiple items at once. Adds them to the list\n     * at the current caret position.\n     *\n     */\n\n    addItems(values, silent) {\n        var self = this;\n        var items = Array.isArray(values) ? values : [values];\n        items = items.filter((x) => self.items.indexOf(x) === -1);\n        const last_item = items[items.length - 1];\n        items.forEach((item) => {\n            self.isPending = item !== last_item;\n            self.addItem(item, silent);\n        });\n    }\n    /**\n     * \"Selects\" an item. Adds it to the list\n     * at the current caret position.\n     *\n     */\n\n    addItem(value, silent) {\n        var events = silent ? [] : [\"change\", \"dropdown_close\"];\n        debounce_events(this, events, () => {\n            var item, wasFull;\n            const self = this;\n            const inputMode = self.settings.mode;\n            const hashed = hash_key(value);\n\n            if (hashed && self.items.indexOf(hashed) !== -1) {\n                if (inputMode === \"single\") {\n                    self.close();\n                }\n\n                if (inputMode === \"single\" || !self.settings.duplicates) {\n                    return;\n                }\n            }\n\n            if (hashed === null || !self.options.hasOwnProperty(hashed)) return;\n            if (inputMode === \"single\") self.clear(silent);\n            if (inputMode === \"multi\" && self.isFull()) return;\n            item = self._render(\"item\", self.options[hashed]);\n\n            if (self.control.contains(item)) {\n                // duplicates\n                item = item.cloneNode(true);\n            }\n\n            wasFull = self.isFull();\n            self.items.splice(self.caretPos, 0, hashed);\n            self.insertAtCaret(item);\n\n            if (self.isSetup) {\n                // update menu / remove the option (if this is not one item being added as part of series)\n                if (!self.isPending && self.settings.hideSelected) {\n                    let option = self.getOption(hashed);\n                    let next = self.getAdjacent(option, 1);\n\n                    if (next) {\n                        self.setActiveOption(next);\n                    }\n                } // refreshOptions after setActiveOption(),\n                // otherwise setActiveOption() will be called by refreshOptions() with the wrong value\n\n                if (!self.isPending && !self.settings.closeAfterSelect) {\n                    self.refreshOptions(\n                        self.isFocused && inputMode !== \"single\"\n                    );\n                } // hide the menu if the maximum number of items have been selected or no options are left\n\n                if (self.settings.closeAfterSelect != false && self.isFull()) {\n                    self.close();\n                } else if (!self.isPending) {\n                    self.positionDropdown();\n                }\n\n                self.trigger(\"item_add\", hashed, item);\n\n                if (!self.isPending) {\n                    self.updateOriginalInput({\n                        silent: silent,\n                    });\n                }\n            }\n\n            if (!self.isPending || (!wasFull && self.isFull())) {\n                self.inputState();\n                self.refreshState();\n            }\n        });\n    }\n    /**\n     * Removes the selected item matching\n     * the provided value.\n     *\n     */\n\n    removeItem(item = null, silent) {\n        const self = this;\n        item = self.getItem(item);\n        if (!item) return;\n        var i, idx;\n        const value = item.dataset.value;\n        i = nodeIndex(item);\n        item.remove();\n\n        if (item.classList.contains(\"active\")) {\n            idx = self.activeItems.indexOf(item);\n            self.activeItems.splice(idx, 1);\n            removeClasses(item, \"active\");\n        }\n\n        self.items.splice(i, 1);\n        self.lastQuery = null;\n\n        if (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n            self.removeOption(value, silent);\n        }\n\n        if (i < self.caretPos) {\n            self.setCaret(self.caretPos - 1);\n        }\n\n        self.updateOriginalInput({\n            silent: silent,\n        });\n        self.refreshState();\n        self.positionDropdown();\n        self.trigger(\"item_remove\", value, item);\n    }\n    /**\n     * Invokes the `create` method provided in the\n     * TomSelect options that should provide the data\n     * for the new item, given the user input.\n     *\n     * Once this completes, it will be added\n     * to the item list.\n     *\n     */\n\n    createItem(input = null, callback = () => { }) {\n        // triggerDropdown parameter @deprecated 2.1.1\n        if (arguments.length === 3) {\n            callback = arguments[2];\n        }\n\n        if (typeof callback != \"function\") {\n            callback = () => { };\n        }\n\n        var self = this;\n        var caret = self.caretPos;\n        var output;\n        input = input || self.inputValue();\n\n        if (!self.canCreate(input)) {\n            callback();\n            return false;\n        }\n\n        self.lock();\n        var created = false;\n\n        var create = (data) => {\n            self.unlock();\n            if (!data || typeof data !== \"object\") return callback();\n            var value = hash_key(data[self.settings.valueField]);\n\n            if (typeof value !== \"string\") {\n                return callback();\n            }\n\n            self.setTextboxValue();\n            self.addOption(data, true);\n            self.setCaret(caret);\n            self.addItem(value);\n            callback(data);\n            created = true;\n        };\n\n        if (typeof self.settings.create === \"function\") {\n            output = self.settings.create.call(this, input, create);\n        } else {\n            output = {\n                [self.settings.labelField]: input,\n                [self.settings.valueField]: input,\n            };\n        }\n\n        if (!created) {\n            create(output);\n        }\n\n        return true;\n    }\n    /**\n     * Re-renders the selected item lists.\n     */\n\n    refreshItems() {\n        var self = this;\n        self.lastQuery = null;\n\n        if (self.isSetup) {\n            self.addItems(self.items);\n        }\n\n        self.updateOriginalInput();\n        self.refreshState();\n    }\n    /**\n     * Updates all state-dependent attributes\n     * and CSS classes.\n     */\n\n    refreshState() {\n        const self = this;\n        self.refreshValidityState();\n        const isFull = self.isFull();\n        const isLocked = self.isLocked;\n        self.wrapper.classList.toggle(\"rtl\", self.rtl);\n        const wrap_classList = self.wrapper.classList;\n        wrap_classList.toggle(\"focus\", self.isFocused);\n        wrap_classList.toggle(\"disabled\", self.isDisabled);\n        wrap_classList.toggle(\"required\", self.isRequired);\n        wrap_classList.toggle(\"invalid\", !self.isValid);\n        wrap_classList.toggle(\"locked\", isLocked);\n        wrap_classList.toggle(\"full\", isFull);\n        wrap_classList.toggle(\n            \"input-active\",\n            self.isFocused && !self.isInputHidden\n        );\n        wrap_classList.toggle(\"dropdown-active\", self.isOpen);\n        wrap_classList.toggle(\"has-options\", isEmptyObject(self.options));\n        wrap_classList.toggle(\"has-items\", self.items.length > 0);\n    }\n    /**\n     * Update the `required` attribute of both input and control input.\n     *\n     * The `required` property needs to be activated on the control input\n     * for the error to be displayed at the right place. `required` also\n     * needs to be temporarily deactivated on the input since the input is\n     * hidden and can't show errors.\n     */\n\n    refreshValidityState() {\n        var self = this;\n\n        if (!self.input.validity) {\n            return;\n        }\n\n        self.isValid = self.input.validity.valid;\n        self.isInvalid = !self.isValid;\n    }\n    /**\n     * Determines whether or not more items can be added\n     * to the control without exceeding the user-defined maximum.\n     *\n     * @returns {boolean}\n     */\n\n    isFull() {\n        return (\n            this.settings.maxItems !== null &&\n            this.items.length >= this.settings.maxItems\n        );\n    }\n    /**\n     * Refreshes the original <select> or <input>\n     * element to reflect the current state.\n     *\n     */\n\n    updateOriginalInput(opts = {}) {\n        const self = this;\n        var option, label;\n        const empty_option = self.input.querySelector('option[value=\"\"]');\n\n        if (self.is_select_tag) {\n            const selected = [];\n            const has_selected =\n                self.input.querySelectorAll(\"option:checked\").length;\n\n            function AddSelected(option_el, value, label) {\n                if (!option_el) {\n                    option_el = getDom(\n                        '<option value=\"' +\n                        escape_html(value) +\n                        '\">' +\n                        escape_html(label) +\n                        \"</option>\"\n                    );\n                } // don't move empty option from top of list\n                // fixes bug in firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1725293\n\n                if (option_el != empty_option) {\n                    self.input.append(option_el);\n                }\n\n                selected.push(option_el); // marking empty option as selected can break validation\n                // fixes https://github.com/orchidjs/tom-select/issues/303\n\n                if (option_el != empty_option || has_selected > 0) {\n                    option_el.selected = true;\n                }\n\n                return option_el;\n            } // unselect all selected options\n\n            self.input\n                .querySelectorAll(\"option:checked\")\n                .forEach((option_el) => {\n                    option_el.selected = false;\n                }); // nothing selected?\n\n            if (self.items.length == 0 && self.settings.mode == \"single\") {\n                AddSelected(empty_option, \"\", \"\"); // order selected <option> tags for values in self.items\n            } else {\n                self.items.forEach((value) => {\n                    option = self.options[value];\n                    label = option[self.settings.labelField] || \"\";\n\n                    if (selected.includes(option.$option)) {\n                        const reuse_opt = self.input.querySelector(\n                            `option[value=\"${addSlashes(value)}\"]:not(:checked)`\n                        );\n                        AddSelected(reuse_opt, value, label);\n                    } else {\n                        option.$option = AddSelected(\n                            option.$option,\n                            value,\n                            label\n                        );\n                    }\n                });\n            }\n        } else {\n            self.input.value = self.getValue();\n        }\n\n        if (self.isSetup) {\n            if (!opts.silent) {\n                self.trigger(\"change\", self.getValue());\n            }\n        }\n    }\n    /**\n     * Shows the autocomplete dropdown containing\n     * the available options.\n     */\n\n    open() {\n        var self = this;\n        if (\n            self.isLocked ||\n            self.isOpen ||\n            (self.settings.mode === \"multi\" && self.isFull())\n        )\n            return;\n        self.isOpen = true;\n        setAttr(self.focus_node, {\n            \"aria-expanded\": \"true\",\n        });\n        self.refreshState();\n        applyCSS(self.dropdown, {\n            visibility: \"hidden\",\n            display: \"block\",\n        });\n        self.positionDropdown();\n        applyCSS(self.dropdown, {\n            visibility: \"visible\",\n            display: \"block\",\n        });\n        self.focus();\n        self.trigger(\"dropdown_open\", self.dropdown);\n    }\n    /**\n     * Closes the autocomplete dropdown menu.\n     */\n\n    close(setTextboxValue = true) {\n        var self = this;\n        var trigger = self.isOpen;\n\n        if (setTextboxValue) {\n            // before blur() to prevent form onchange event\n            self.setTextboxValue();\n\n            if (self.settings.mode === \"single\" && self.items.length) {\n                self.hideInput();\n            }\n        }\n\n        self.isOpen = false;\n        setAttr(self.focus_node, {\n            \"aria-expanded\": \"false\",\n        });\n        applyCSS(self.dropdown, {\n            display: \"none\",\n        });\n\n        if (self.settings.hideSelected) {\n            self.clearActiveOption();\n        }\n\n        self.refreshState();\n        if (trigger) self.trigger(\"dropdown_close\", self.dropdown);\n    }\n    /**\n     * Calculates and applies the appropriate\n     * position of the dropdown if dropdownParent = 'body'.\n     * Otherwise, position is determined by css\n     */\n\n    positionDropdown() {\n        if (this.settings.dropdownParent !== \"body\") {\n            return;\n        }\n\n        var context = this.control;\n        var rect = context.getBoundingClientRect();\n        var top = context.offsetHeight + rect.top + window.scrollY;\n        var left = rect.left + window.scrollX;\n        applyCSS(this.dropdown, {\n            width: rect.width + \"px\",\n            top: top + \"px\",\n            left: left + \"px\",\n        });\n    }\n    /**\n     * Resets / clears all selected items\n     * from the control.\n     *\n     */\n\n    clear(silent) {\n        var self = this;\n        if (!self.items.length) return;\n        var items = self.controlChildren();\n        iterate$1(items, (item) => {\n            self.removeItem(item, true);\n        });\n        self.showInput();\n        if (!silent) self.updateOriginalInput();\n        self.trigger(\"clear\");\n    }\n    /**\n     * A helper method for inserting an element\n     * at the current caret position.\n     *\n     */\n\n    insertAtCaret(el) {\n        const self = this;\n        const caret = self.caretPos;\n        const target = self.control;\n        target.insertBefore(el, target.children[caret] || null);\n        self.setCaret(caret + 1);\n    }\n    /**\n     * Removes the current selected item(s).\n     *\n     */\n\n    deleteSelection(e) {\n        var direction, selection, caret, tail;\n        var self = this;\n        direction = e && e.keyCode === KEY_BACKSPACE ? -1 : 1;\n        selection = getSelection(self.control_input); // determine items that will be removed\n\n        const rm_items = [];\n\n        if (self.activeItems.length) {\n            tail = getTail(self.activeItems, direction);\n            caret = nodeIndex(tail);\n\n            if (direction > 0) {\n                caret++;\n            }\n\n            iterate$1(self.activeItems, (item) => rm_items.push(item));\n        } else if (\n            (self.isFocused || self.settings.mode === \"single\") &&\n            self.items.length\n        ) {\n            const items = self.controlChildren();\n            let rm_item;\n\n            if (\n                direction < 0 &&\n                selection.start === 0 &&\n                selection.length === 0\n            ) {\n                rm_item = items[self.caretPos - 1];\n            } else if (\n                direction > 0 &&\n                selection.start === self.inputValue().length\n            ) {\n                rm_item = items[self.caretPos];\n            }\n\n            if (rm_item !== undefined) {\n                rm_items.push(rm_item);\n            }\n        }\n\n        if (!self.shouldDelete(rm_items, e)) {\n            return false;\n        }\n\n        preventDefault(e, true); // perform removal\n\n        if (typeof caret !== \"undefined\") {\n            self.setCaret(caret);\n        }\n\n        while (rm_items.length) {\n            self.removeItem(rm_items.pop());\n        }\n\n        self.showInput();\n        self.positionDropdown();\n        self.refreshOptions(false);\n        return true;\n    }\n    /**\n     * Return true if the items should be deleted\n     */\n\n    shouldDelete(items, evt) {\n        const values = items.map((item) => item.dataset.value); // allow the callback to abort\n\n        if (\n            !values.length ||\n            (typeof this.settings.onDelete === \"function\" &&\n                this.settings.onDelete(values, evt) === false)\n        ) {\n            return false;\n        }\n\n        return true;\n    }\n    /**\n     * Selects the previous / next item (depending on the `direction` argument).\n     *\n     * > 0 - right\n     * < 0 - left\n     *\n     */\n\n    advanceSelection(direction, e) {\n        var last_active,\n            adjacent,\n            self = this;\n        if (self.rtl) direction *= -1;\n        if (self.inputValue().length) return; // add or remove to active items\n\n        if (isKeyDown(KEY_SHORTCUT, e) || isKeyDown(\"shiftKey\", e)) {\n            last_active = self.getLastActive(direction);\n\n            if (last_active) {\n                if (!last_active.classList.contains(\"active\")) {\n                    adjacent = last_active;\n                } else {\n                    adjacent = self.getAdjacent(last_active, direction, \"item\");\n                } // if no active item, get items adjacent to the control input\n            } else if (direction > 0) {\n                adjacent = self.control_input.nextElementSibling;\n            } else {\n                adjacent = self.control_input.previousElementSibling;\n            }\n\n            if (adjacent) {\n                if (adjacent.classList.contains(\"active\")) {\n                    self.removeActiveItem(last_active);\n                }\n\n                self.setActiveItemClass(adjacent); // mark as last_active !! after removeActiveItem() on last_active\n            } // move caret to the left or right\n        } else {\n            self.moveCaret(direction);\n        }\n    }\n\n    moveCaret(direction) { }\n    /**\n     * Get the last active item\n     *\n     */\n\n    getLastActive(direction) {\n        let last_active = this.control.querySelector(\".last-active\");\n\n        if (last_active) {\n            return last_active;\n        }\n\n        var result = this.control.querySelectorAll(\".active\");\n\n        if (result) {\n            return getTail(result, direction);\n        }\n    }\n    /**\n     * Moves the caret to the specified index.\n     *\n     * The input must be moved by leaving it in place and moving the\n     * siblings, due to the fact that focus cannot be restored once lost\n     * on mobile webkit devices\n     *\n     */\n\n    setCaret(new_pos) {\n        this.caretPos = this.items.length;\n    }\n    /**\n     * Return list of item dom elements\n     *\n     */\n\n    controlChildren() {\n        return Array.from(this.control.querySelectorAll(\"[data-ts-item]\"));\n    }\n    /**\n     * Disables user input on the control. Used while\n     * items are being asynchronously created.\n     */\n\n    lock() {\n        this.isLocked = true;\n        this.refreshState();\n    }\n    /**\n     * Re-enables user input on the control.\n     */\n\n    unlock() {\n        this.isLocked = false;\n        this.refreshState();\n    }\n    /**\n     * Disables user input on the control completely.\n     * While disabled, it cannot receive focus.\n     */\n\n    disable() {\n        var self = this;\n        self.input.disabled = true;\n        self.control_input.disabled = true;\n        self.focus_node.tabIndex = -1;\n        self.isDisabled = true;\n        this.close();\n        self.lock();\n    }\n    /**\n     * Enables the control so that it can respond\n     * to focus and user input.\n     */\n\n    enable() {\n        var self = this;\n        self.input.disabled = false;\n        self.control_input.disabled = false;\n        self.focus_node.tabIndex = self.tabIndex;\n        self.isDisabled = false;\n        self.unlock();\n    }\n    /**\n     * Completely destroys the control and\n     * unbinds all event listeners so that it can\n     * be garbage collected.\n     */\n\n    destroy() {\n        var self = this;\n        var revertSettings = self.revertSettings;\n        self.trigger(\"destroy\");\n        self.off();\n        self.wrapper.remove();\n        self.dropdown.remove();\n        self.input.innerHTML = revertSettings.innerHTML;\n        self.input.tabIndex = revertSettings.tabIndex;\n        removeClasses(self.input, \"tomselected\", \"ts-hidden-accessible\");\n\n        self._destroy();\n\n        delete self.input.tomselect;\n    }\n    /**\n     * A helper method for rendering \"item\" and\n     * \"option\" templates, given the data.\n     *\n     */\n\n    render(templateName, data) {\n        var id, html;\n        const self = this;\n\n        if (typeof this.settings.render[templateName] !== \"function\") {\n            return null;\n        } // render markup\n\n        html = self.settings.render[templateName].call(this, data, escape_html);\n\n        if (!html) {\n            return null;\n        }\n\n        html = getDom(html); // add mandatory attributes\n\n        if (templateName === \"option\" || templateName === \"option_create\") {\n            if (data[self.settings.disabledField]) {\n                setAttr(html, {\n                    \"aria-disabled\": \"true\",\n                });\n            } else {\n                setAttr(html, {\n                    \"data-selectable\": \"\",\n                });\n            }\n        } else if (templateName === \"optgroup\") {\n            id = data.group[self.settings.optgroupValueField];\n            setAttr(html, {\n                \"data-group\": id,\n            });\n\n            if (data.group[self.settings.disabledField]) {\n                setAttr(html, {\n                    \"data-disabled\": \"\",\n                });\n            }\n        }\n\n        if (templateName === \"option\" || templateName === \"item\") {\n            const value = get_hash(data[self.settings.valueField]);\n            setAttr(html, {\n                \"data-value\": value,\n            }); // make sure we have some classes if a template is overwritten\n\n            if (templateName === \"item\") {\n                addClasses(html, self.settings.itemClass);\n                setAttr(html, {\n                    \"data-ts-item\": \"\",\n                    \"aria-selected\": \"false\"\n                });\n            } else {\n                addClasses(html, self.settings.optionClass);\n                setAttr(html, {\n                    role: \"option\",\n                    id: data.$id,\n                }); // update cache\n\n                data.$div = html;\n                self.options[value] = data;\n            }\n        }\n\n        return html;\n    }\n    /**\n     * Type guarded rendering\n     *\n     */\n\n    _render(templateName, data) {\n        const html = this.render(templateName, data);\n\n        if (html == null) {\n            throw \"HTMLElement expected\";\n        }\n\n        return html;\n    }\n    /**\n     * Clears the render cache for a template. If\n     * no template is given, clears all render\n     * caches.\n     *\n     */\n\n    clearCache() {\n        iterate$1(this.options, (option) => {\n            if (option.$div) {\n                option.$div.remove();\n                delete option.$div;\n            }\n        });\n    }\n    /**\n     * Removes a value from item and option caches\n     *\n     */\n\n    uncacheValue(value) {\n        const option_el = this.getOption(value);\n        if (option_el) option_el.remove();\n    }\n    /**\n     * Determines whether or not to display the\n     * create item prompt, given a user input.\n     *\n     */\n\n    canCreate(input) {\n        return (\n            this.settings.create &&\n            input.length > 0 &&\n            this.settings.createFilter.call(this, input)\n        );\n    }\n    /**\n     * Wraps this.`method` so that `new_fn` can be invoked 'before', 'after', or 'instead' of the original method\n     *\n     * this.hook('instead','onKeyDown',function( arg1, arg2 ...){\n     *\n     * });\n     */\n\n    hook(when, method, new_fn) {\n        var self = this;\n        var orig_method = self[method];\n\n        self[method] = function () {\n            var result, result_new;\n\n            if (when === \"after\") {\n                result = orig_method.apply(self, arguments);\n            }\n\n            result_new = new_fn.apply(self, arguments);\n\n            if (when === \"instead\") {\n                return result_new;\n            }\n\n            if (when === \"before\") {\n                result = orig_method.apply(self, arguments);\n            }\n\n            return result;\n        };\n    }\n}\n\nexport { TomSelect as default };\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\nconst accent_pat = '[\\u0300-\\u036F\\u{b7}\\u{2be}\\u{2bc}]';\n/** @type {TUnicodeMap} */\n\nconst latin_convert = {};\n/** @type {TUnicodeMap} */\n\nconst latin_condensed = {\n  '/': '⁄∕',\n  '0': '߀',\n  \"a\": \"ⱥɐɑ\",\n  \"aa\": \"ꜳ\",\n  \"ae\": \"æǽǣ\",\n  \"ao\": \"ꜵ\",\n  \"au\": \"ꜷ\",\n  \"av\": \"ꜹꜻ\",\n  \"ay\": \"ꜽ\",\n  \"b\": \"ƀɓƃ\",\n  \"c\": \"ꜿƈȼↄ\",\n  \"d\": \"đɗɖᴅƌꮷԁɦ\",\n  \"e\": \"ɛǝᴇɇ\",\n  \"f\": \"ꝼƒ\",\n  \"g\": \"ǥɠꞡᵹꝿɢ\",\n  \"h\": \"ħⱨⱶɥ\",\n  \"i\": \"ɨı\",\n  \"j\": \"ɉȷ\",\n  \"k\": \"ƙⱪꝁꝃꝅꞣ\",\n  \"l\": \"łƚɫⱡꝉꝇꞁɭ\",\n  \"m\": \"ɱɯϻ\",\n  \"n\": \"ꞥƞɲꞑᴎлԉ\",\n  \"o\": \"øǿɔɵꝋꝍᴑ\",\n  \"oe\": \"œ\",\n  \"oi\": \"ƣ\",\n  \"oo\": \"ꝏ\",\n  \"ou\": \"ȣ\",\n  \"p\": \"ƥᵽꝑꝓꝕρ\",\n  \"q\": \"ꝗꝙɋ\",\n  \"r\": \"ɍɽꝛꞧꞃ\",\n  \"s\": \"ßȿꞩꞅʂ\",\n  \"t\": \"ŧƭʈⱦꞇ\",\n  \"th\": \"þ\",\n  \"tz\": \"ꜩ\",\n  \"u\": \"ʉ\",\n  \"v\": \"ʋꝟʌ\",\n  \"vy\": \"ꝡ\",\n  \"w\": \"ⱳ\",\n  \"y\": \"ƴɏỿ\",\n  \"z\": \"ƶȥɀⱬꝣ\",\n  \"hv\": \"ƕ\"\n};\n\nfor (let latin in latin_condensed) {\n  let unicode = latin_condensed[latin] || '';\n\n  for (let i = 0; i < unicode.length; i++) {\n    let char = unicode.substring(i, i + 1);\n    latin_convert[char] = latin;\n  }\n}\n\nnew RegExp(Object.keys(latin_convert).join('|') + '|' + accent_pat, 'gu');\n\n/**\n * Return a dom element from either a dom query string, jQuery object, a dom element or html string\n * https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro/35385518#35385518\n *\n * param query should be {}\n */\n\nconst getDom = query => {\n  if (query.jquery) {\n    return query[0];\n  }\n\n  if (query instanceof HTMLElement) {\n    return query;\n  }\n\n  if (isHtmlString(query)) {\n    var tpl = document.createElement('template');\n    tpl.innerHTML = query.trim(); // Never return a text node of whitespace as the result\n\n    return tpl.content.firstChild;\n  }\n\n  return document.querySelector(query);\n};\nconst isHtmlString = arg => {\n  if (typeof arg === 'string' && arg.indexOf('<') > -1) {\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * Converts a scalar to its best string representation\n * for hash keys and HTML attribute values.\n *\n * Transformations:\n *   'str'     -> 'str'\n *   null      -> ''\n *   undefined -> ''\n *   true      -> '1'\n *   false     -> '0'\n *   0         -> '0'\n *   1         -> '1'\n *\n */\n/**\n * Escapes a string for use within HTML.\n *\n */\n\nconst escape_html = str => {\n  return (str + '').replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n};\n/**\n * Prevent default\n *\n */\n\nconst preventDefault = (evt, stop = false) => {\n  if (evt) {\n    evt.preventDefault();\n\n    if (stop) {\n      evt.stopPropagation();\n    }\n  }\n};\n/**\n * Add event helper\n *\n */\n\nconst addEvent = (target, type, callback, options) => {\n  target.addEventListener(type, callback, options);\n};\n\n/**\n * Plugin: \"remove_button\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin (userOptions) {\n  const options = Object.assign({\n    label: '&times;',\n    title: 'Remove',\n    className: 'remove',\n    append: true\n  }, userOptions); //options.className = 'remove-single';\n\n  var self = this; // override the render method to add remove button to each item\n\n  if (!options.append) {\n    return;\n  }\n\n  const disabled = self.input.disabled ? 'disabled' : '';\n\n  var html = `<button type=\"button\" class=\"${options.className}\" tabindex=\"-1\" title=\"${escape_html(options.title)}\" ${disabled}>${options.label}</button>`;\n  self.hook('after', 'setupTemplates', () => {\n    var orig_render_item = self.settings.render.item;\n\n    self.settings.render.item = (data, escape) => {\n      var item = getDom(orig_render_item.call(self, data, escape));\n      var close_button = getDom(html);\n      item.appendChild(close_button);\n      addEvent(close_button, 'mousedown', evt => {\n        preventDefault(evt, true);\n      });\n      addEvent(close_button, 'click', evt => {\n        // propagating will trigger the dropdown to show for single mode\n        preventDefault(evt, true);\n        if (self.isLocked) return;\n        if (!self.shouldDelete([item], evt)) return;\n        self.removeItem(item);\n        self.refreshOptions(false);\n        self.inputState();\n      });\n      return item;\n    };\n  });\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\nconst accent_pat = '[\\u0300-\\u036F\\u{b7}\\u{2be}\\u{2bc}]';\n/** @type {TUnicodeMap} */\n\nconst latin_convert = {};\n/** @type {TUnicodeMap} */\n\nconst latin_condensed = {\n  '/': '⁄∕',\n  '0': '߀',\n  \"a\": \"ⱥɐɑ\",\n  \"aa\": \"ꜳ\",\n  \"ae\": \"æǽǣ\",\n  \"ao\": \"ꜵ\",\n  \"au\": \"ꜷ\",\n  \"av\": \"ꜹꜻ\",\n  \"ay\": \"ꜽ\",\n  \"b\": \"ƀɓƃ\",\n  \"c\": \"ꜿƈȼↄ\",\n  \"d\": \"đɗɖᴅƌꮷԁɦ\",\n  \"e\": \"ɛǝᴇɇ\",\n  \"f\": \"ꝼƒ\",\n  \"g\": \"ǥɠꞡᵹꝿɢ\",\n  \"h\": \"ħⱨⱶɥ\",\n  \"i\": \"ɨı\",\n  \"j\": \"ɉȷ\",\n  \"k\": \"ƙⱪꝁꝃꝅꞣ\",\n  \"l\": \"łƚɫⱡꝉꝇꞁɭ\",\n  \"m\": \"ɱɯϻ\",\n  \"n\": \"ꞥƞɲꞑᴎлԉ\",\n  \"o\": \"øǿɔɵꝋꝍᴑ\",\n  \"oe\": \"œ\",\n  \"oi\": \"ƣ\",\n  \"oo\": \"ꝏ\",\n  \"ou\": \"ȣ\",\n  \"p\": \"ƥᵽꝑꝓꝕρ\",\n  \"q\": \"ꝗꝙɋ\",\n  \"r\": \"ɍɽꝛꞧꞃ\",\n  \"s\": \"ßȿꞩꞅʂ\",\n  \"t\": \"ŧƭʈⱦꞇ\",\n  \"th\": \"þ\",\n  \"tz\": \"ꜩ\",\n  \"u\": \"ʉ\",\n  \"v\": \"ʋꝟʌ\",\n  \"vy\": \"ꝡ\",\n  \"w\": \"ⱳ\",\n  \"y\": \"ƴɏỿ\",\n  \"z\": \"ƶȥɀⱬꝣ\",\n  \"hv\": \"ƕ\"\n};\n\nfor (let latin in latin_condensed) {\n  let unicode = latin_condensed[latin] || '';\n\n  for (let i = 0; i < unicode.length; i++) {\n    let char = unicode.substring(i, i + 1);\n    latin_convert[char] = latin;\n  }\n}\n\nnew RegExp(Object.keys(latin_convert).join('|') + '|' + accent_pat, 'gu');\n\n/**\n * Return a dom element from either a dom query string, jQuery object, a dom element or html string\n * https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro/35385518#35385518\n *\n * param query should be {}\n */\n\nconst getDom = query => {\n  if (query.jquery) {\n    return query[0];\n  }\n\n  if (query instanceof HTMLElement) {\n    return query;\n  }\n\n  if (isHtmlString(query)) {\n    var tpl = document.createElement('template');\n    tpl.innerHTML = query.trim(); // Never return a text node of whitespace as the result\n\n    return tpl.content.firstChild;\n  }\n\n  return document.querySelector(query);\n};\nconst isHtmlString = arg => {\n  if (typeof arg === 'string' && arg.indexOf('<') > -1) {\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * Plugin: \"dropdown_header\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin (userOptions) {\n  const self = this;\n  const options = Object.assign({\n    className: 'clear-button',\n    title: 'Clear All',\n    html: data => {\n      return `<div class=\"${data.className}\" title=\"${data.title}\">&#10799;</div>`;\n    }\n  }, userOptions);\n  self.on('initialize', () => {\n    var button = getDom(options.html(options));\n    button.addEventListener('click', evt => {\n      if (self.isDisabled || self.isLocked) {\n        return;\n      }\n\n      self.clear();\n\n      if (self.settings.mode === 'single' && self.settings.allowEmptyOption) {\n        self.addItem('');\n      }\n\n      evt.preventDefault();\n      evt.stopPropagation();\n    });\n    self.control.appendChild(button);\n  });\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/**\n * Converts a scalar to its best string representation\n * for hash keys and HTML attribute values.\n *\n * Transformations:\n *   'str'     -> 'str'\n *   null      -> ''\n *   undefined -> ''\n *   true      -> '1'\n *   false     -> '0'\n *   0         -> '0'\n *   1         -> '1'\n *\n */\nconst hash_key = value => {\n  if (typeof value === 'undefined' || value === null) return null;\n  return get_hash(value);\n};\nconst get_hash = value => {\n  if (typeof value === 'boolean') return value ? '1' : '0';\n  return value + '';\n};\n/**\n * Prevent default\n *\n */\n\nconst preventDefault = (evt, stop = false) => {\n  if (evt) {\n    evt.preventDefault();\n\n    if (stop) {\n      evt.stopPropagation();\n    }\n  }\n};\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\nconst accent_pat = '[\\u0300-\\u036F\\u{b7}\\u{2be}\\u{2bc}]';\n/** @type {TUnicodeMap} */\n\nconst latin_convert = {};\n/** @type {TUnicodeMap} */\n\nconst latin_condensed = {\n  '/': '⁄∕',\n  '0': '߀',\n  \"a\": \"ⱥɐɑ\",\n  \"aa\": \"ꜳ\",\n  \"ae\": \"æǽǣ\",\n  \"ao\": \"ꜵ\",\n  \"au\": \"ꜷ\",\n  \"av\": \"ꜹꜻ\",\n  \"ay\": \"ꜽ\",\n  \"b\": \"ƀɓƃ\",\n  \"c\": \"ꜿƈȼↄ\",\n  \"d\": \"đɗɖᴅƌꮷԁɦ\",\n  \"e\": \"ɛǝᴇɇ\",\n  \"f\": \"ꝼƒ\",\n  \"g\": \"ǥɠꞡᵹꝿɢ\",\n  \"h\": \"ħⱨⱶɥ\",\n  \"i\": \"ɨı\",\n  \"j\": \"ɉȷ\",\n  \"k\": \"ƙⱪꝁꝃꝅꞣ\",\n  \"l\": \"łƚɫⱡꝉꝇꞁɭ\",\n  \"m\": \"ɱɯϻ\",\n  \"n\": \"ꞥƞɲꞑᴎлԉ\",\n  \"o\": \"øǿɔɵꝋꝍᴑ\",\n  \"oe\": \"œ\",\n  \"oi\": \"ƣ\",\n  \"oo\": \"ꝏ\",\n  \"ou\": \"ȣ\",\n  \"p\": \"ƥᵽꝑꝓꝕρ\",\n  \"q\": \"ꝗꝙɋ\",\n  \"r\": \"ɍɽꝛꞧꞃ\",\n  \"s\": \"ßȿꞩꞅʂ\",\n  \"t\": \"ŧƭʈⱦꞇ\",\n  \"th\": \"þ\",\n  \"tz\": \"ꜩ\",\n  \"u\": \"ʉ\",\n  \"v\": \"ʋꝟʌ\",\n  \"vy\": \"ꝡ\",\n  \"w\": \"ⱳ\",\n  \"y\": \"ƴɏỿ\",\n  \"z\": \"ƶȥɀⱬꝣ\",\n  \"hv\": \"ƕ\"\n};\n\nfor (let latin in latin_condensed) {\n  let unicode = latin_condensed[latin] || '';\n\n  for (let i = 0; i < unicode.length; i++) {\n    let char = unicode.substring(i, i + 1);\n    latin_convert[char] = latin;\n  }\n}\n\nnew RegExp(Object.keys(latin_convert).join('|') + '|' + accent_pat, 'gu');\n\n/**\n * Return a dom element from either a dom query string, jQuery object, a dom element or html string\n * https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro/35385518#35385518\n *\n * param query should be {}\n */\n\nconst getDom = query => {\n  if (query.jquery) {\n    return query[0];\n  }\n\n  if (query instanceof HTMLElement) {\n    return query;\n  }\n\n  if (isHtmlString(query)) {\n    var tpl = document.createElement('template');\n    tpl.innerHTML = query.trim(); // Never return a text node of whitespace as the result\n\n    return tpl.content.firstChild;\n  }\n\n  return document.querySelector(query);\n};\nconst isHtmlString = arg => {\n  if (typeof arg === 'string' && arg.indexOf('<') > -1) {\n    return true;\n  }\n\n  return false;\n};\n\n/**\n * Plugin: \"restore_on_backspace\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin (userOptions) {\n    const self = this;\n    const options = Object.assign({\n      className: ''\n    }, userOptions);\n\n  var orig_onOptionSelect = self.onOptionSelect;\n  self.settings.hideSelected = false; // update the checkbox for an option\n\n  var UpdateCheckbox = function UpdateCheckbox(option) {\n    setTimeout(() => {\n      var checkbox = option.querySelector('input');\n\n      if (checkbox instanceof HTMLInputElement) {\n        if (option.classList.contains('selected')) {\n          checkbox.checked = true;\n        } else {\n          checkbox.checked = false;\n        }\n      }\n    }, 1);\n  }; // add checkbox to option template\n\n\n  self.hook('after', 'setupTemplates', () => {\n    var orig_render_option = self.settings.render.option;\n\n    self.settings.render.option = (data, escape_html) => {\n      var rendered = getDom(orig_render_option.call(self, data, escape_html));\n      var checkbox = document.createElement('input');\n      checkbox.className = options.className;\n      checkbox.addEventListener('click', function (evt) {\n        preventDefault(evt);\n      });\n      checkbox.type = 'checkbox';\n      const hashed = hash_key(data[self.settings.valueField]);\n\n      if (hashed && self.items.indexOf(hashed) > -1) {\n        checkbox.checked = true;\n      }\n\n      rendered.prepend(checkbox);\n      return rendered;\n    };\n  }); // uncheck when item removed\n\n  self.on('item_remove', value => {\n    var option = self.getOption(value);\n\n    if (option) {\n      // if dropdown hasn't been opened yet, the option won't exist\n      option.classList.remove('selected'); // selected class won't be removed yet\n\n      UpdateCheckbox(option);\n    }\n  }); // check when item added\n\n  self.on('item_add', value => {\n    var option = self.getOption(value);\n\n    if (option) {\n      // if dropdown hasn't been opened yet, the option won't exist\n      UpdateCheckbox(option);\n    }\n  }); // remove items when selected option is clicked\n\n  self.hook('instead', 'onOptionSelect', (evt, option) => {\n    if (option.classList.contains('selected')) {\n      option.classList.remove('selected');\n      self.removeItem(option.dataset.value);\n      self.refreshOptions();\n      preventDefault(evt, true);\n      return;\n    }\n\n    orig_onOptionSelect.call(self, evt, option);\n    UpdateCheckbox(option);\n  });\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\nconst accent_pat = '[\\u0300-\\u036F\\u{b7}\\u{2be}\\u{2bc}]';\n/** @type {TUnicodeMap} */\n\nconst latin_convert = {};\n/** @type {TUnicodeMap} */\n\nconst latin_condensed = {\n  '/': '⁄∕',\n  '0': '߀',\n  \"a\": \"ⱥɐɑ\",\n  \"aa\": \"ꜳ\",\n  \"ae\": \"æǽǣ\",\n  \"ao\": \"ꜵ\",\n  \"au\": \"ꜷ\",\n  \"av\": \"ꜹꜻ\",\n  \"ay\": \"ꜽ\",\n  \"b\": \"ƀɓƃ\",\n  \"c\": \"ꜿƈȼↄ\",\n  \"d\": \"đɗɖᴅƌꮷԁɦ\",\n  \"e\": \"ɛǝᴇɇ\",\n  \"f\": \"ꝼƒ\",\n  \"g\": \"ǥɠꞡᵹꝿɢ\",\n  \"h\": \"ħⱨⱶɥ\",\n  \"i\": \"ɨı\",\n  \"j\": \"ɉȷ\",\n  \"k\": \"ƙⱪꝁꝃꝅꞣ\",\n  \"l\": \"łƚɫⱡꝉꝇꞁɭ\",\n  \"m\": \"ɱɯϻ\",\n  \"n\": \"ꞥƞɲꞑᴎлԉ\",\n  \"o\": \"øǿɔɵꝋꝍᴑ\",\n  \"oe\": \"œ\",\n  \"oi\": \"ƣ\",\n  \"oo\": \"ꝏ\",\n  \"ou\": \"ȣ\",\n  \"p\": \"ƥᵽꝑꝓꝕρ\",\n  \"q\": \"ꝗꝙɋ\",\n  \"r\": \"ɍɽꝛꞧꞃ\",\n  \"s\": \"ßȿꞩꞅʂ\",\n  \"t\": \"ŧƭʈⱦꞇ\",\n  \"th\": \"þ\",\n  \"tz\": \"ꜩ\",\n  \"u\": \"ʉ\",\n  \"v\": \"ʋꝟʌ\",\n  \"vy\": \"ꝡ\",\n  \"w\": \"ⱳ\",\n  \"y\": \"ƴɏỿ\",\n  \"z\": \"ƶȥɀⱬꝣ\",\n  \"hv\": \"ƕ\"\n};\n\nfor (let latin in latin_condensed) {\n  let unicode = latin_condensed[latin] || '';\n\n  for (let i = 0; i < unicode.length; i++) {\n    let char = unicode.substring(i, i + 1);\n    latin_convert[char] = latin;\n  }\n}\n\nnew RegExp(Object.keys(latin_convert).join('|') + '|' + accent_pat, 'gu');\n\n/**\n * Iterates over arrays and hashes.\n *\n * ```\n * iterate(this.items, function(item, id) {\n *    // invoked for each item\n * });\n * ```\n *\n */\n\nconst iterate = (object, callback) => {\n  if (Array.isArray(object)) {\n    object.forEach(callback);\n  } else {\n    for (var key in object) {\n      if (object.hasOwnProperty(key)) {\n        callback(object[key], key);\n      }\n    }\n  }\n};\n\n/**\n * Remove css classes\n *\n */\n\nconst removeClasses = (elmts, ...classes) => {\n  var norm_classes = classesArray(classes);\n  elmts = castAsArray(elmts);\n  elmts.map(el => {\n    norm_classes.map(cls => {\n      el.classList.remove(cls);\n    });\n  });\n};\n/**\n * Return arguments\n *\n */\n\nconst classesArray = args => {\n  var classes = [];\n  iterate(args, _classes => {\n    if (typeof _classes === 'string') {\n      _classes = _classes.trim().split(/[\\11\\12\\14\\15\\40]/);\n    }\n\n    if (Array.isArray(_classes)) {\n      classes = classes.concat(_classes);\n    }\n  });\n  return classes.filter(Boolean);\n};\n/**\n * Create an array from arg if it's not already an array\n *\n */\n\nconst castAsArray = arg => {\n  if (!Array.isArray(arg)) {\n    arg = [arg];\n  }\n\n  return arg;\n};\n/**\n * Get the index of an element amongst sibling nodes of the same type\n *\n */\n\nconst nodeIndex = (el, amongst) => {\n  if (!el) return -1;\n  amongst = amongst || el.nodeName;\n  var i = 0;\n\n  while (el = el.previousElementSibling) {\n    if (el.matches(amongst)) {\n      i++;\n    }\n  }\n\n  return i;\n};\n\n/**\n * Plugin: \"dropdown_input\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin () {\n  var self = this;\n  /**\n   * Moves the caret to the specified index.\n   *\n   * The input must be moved by leaving it in place and moving the\n   * siblings, due to the fact that focus cannot be restored once lost\n   * on mobile webkit devices\n   *\n   */\n\n  self.hook('instead', 'setCaret', new_pos => {\n    if (self.settings.mode === 'single' || !self.control.contains(self.control_input)) {\n      new_pos = self.items.length;\n    } else {\n        const clearButton = self.control.querySelector('[data-ts-clear]');\n        const loader = self.control.querySelector('[data-ts-loader]');\n      new_pos = Math.max(0, Math.min(self.items.length, new_pos));\n\n      if (new_pos != self.caretPos && !self.isPending) {\n        self.controlChildren().forEach((child, j) => {\n          if (j < new_pos) {\n            self.control_input.insertAdjacentElement('beforebegin', child);\n          } else {\n            if (loader) {\n                loader.insertAdjacentElement('beforebegin', child);\n            } else if (clearButton) {\n                clearButton.insertAdjacentElement('beforebegin', child);\n            } else {\n                self.control.appendChild(child);\n            }\n          }\n        });\n      }\n    }\n\n    self.caretPos = new_pos;\n  });\n  self.hook('instead', 'moveCaret', direction => {\n    if (!self.isFocused) return; // move caret before or after selected items\n\n    const last_active = self.getLastActive(direction);\n\n    if (last_active) {\n      const idx = nodeIndex(last_active);\n      self.setCaret(direction > 0 ? idx + 1 : idx);\n      self.setActiveItem();\n      removeClasses(last_active, 'last-active'); // move caret left or right of current position\n    } else {\n      self.setCaret(self.caretPos + direction);\n    }\n  });\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/**\n * Converts a scalar to its best string representation\n * for hash keys and HTML attribute values.\n *\n * Transformations:\n *   'str'     -> 'str'\n *   null      -> ''\n *   undefined -> ''\n *   true      -> '1'\n *   false     -> '0'\n *   0         -> '0'\n *   1         -> '1'\n *\n */\n/**\n * Add event helper\n *\n */\n\nconst addEvent = (target, type, callback, options) => {\n  target.addEventListener(type, callback, options);\n};\n\n/**\n * Plugin: \"input_autogrow\" (Tom Select)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin () {\n  var self = this;\n  self.on('initialize', () => {\n    var test_input = document.createElement('span');\n    var control = self.control_input;\n    test_input.style.cssText = 'position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ';\n    self.wrapper.appendChild(test_input);\n    var transfer_styles = ['letterSpacing', 'fontSize', 'fontFamily', 'fontWeight', 'textTransform'];\n\n    for (const style_name of transfer_styles) {\n      // @ts-ignore TS7015 https://stackoverflow.com/a/50506154/697576\n      test_input.style[style_name] = control.style[style_name];\n    }\n    /**\n     * Set the control width\n     *\n     */\n\n\n    var resize = () => {\n      test_input.textContent = control.value;\n      control.style.width = test_input.clientWidth + 'px';\n    };\n\n    resize();\n    self.on('update item_add item_remove', resize);\n    addEvent(control, 'input', resize);\n    addEvent(control, 'keyup', resize);\n    addEvent(control, 'blur', resize);\n    addEvent(control, 'update', resize);\n  });\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/**\n * Plugin: \"no_active_items\" (Tom Select)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin () {\n  this.hook('instead', 'setActiveItem', () => {});\n  this.hook('instead', 'selectAll', () => {});\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","/**\n* Tom Select v2.2.2\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n*/\n\n/**\n * Plugin: \"input_autogrow\" (Tom Select)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nfunction plugin () {\n  var self = this;\n  var orig_deleteSelection = self.deleteSelection;\n  this.hook('instead', 'deleteSelection', evt => {\n    if (self.activeItems.length) {\n      return orig_deleteSelection.call(self, evt);\n    }\n\n    return false;\n  });\n}\n\nexport { plugin as default };\n//# sourceMappingURL=plugin.js.map\n","import './core.js';\r\nimport Accordion from './components/accordion.js'; \r\nimport Autogrow from './components/autogrow.js'; \r\nimport Checkbox from './components/checkbox.js'; \r\nimport Clipboard from './components/clipboard.js';\r\nimport DataTable from './components/datatable.js';\r\nimport Datepicker from './components/datepicker.js'; \r\nimport Dismiss from './components/dismiss.js';\r\nimport Dropdown from './components/dropdown.js';\r\nimport DropzoneUploader from './components/dropzone.js';\r\nimport Fetch from './components/fetch.js';\r\nimport Highlight from './components/highlight.js';\r\nimport Input from './components/input.js';\r\nimport Modal from './components/modal.js';\r\nimport Offcanvas from './components/offcanvas.js';\r\nimport Password from './components/password.js';\r\nimport Pincode from './components/pincode.js';\r\nimport Tab from './components/tab.js';\r\nimport Theme from  './components/theme.js';\r\nimport Toast from './components/toast.js';\r\nimport Toggle from './components/toggle.js';\r\nimport Tooltip from './components/tooltip.js';\r\nimport Scroll from './components/scroll.js';\r\nimport Scrollspy from './components/scrollspy.js';\r\nimport Select from './components/select.js';\r\n\r\n// Register components for auto loading\r\nUIkit.register({\r\n    'accordion': Accordion,\r\n    'autogrow': Autogrow,\r\n    'checkbox': Checkbox,\r\n    'clipboard': Clipboard,\r\n    'datatable': DataTable,\r\n    'datepicker': Datepicker,\r\n    'dismiss': Dismiss,\r\n    'dropdown': Dropdown,\r\n    'dropzone': DropzoneUploader,\r\n    'fetch': Fetch,\r\n    'highlight': Highlight,\r\n    'input': Input,\r\n    'modal': Modal,\r\n    'offcanvas': Offcanvas,\r\n    'password': Password,\r\n    'pincode': Pincode,\r\n    'tab': Tab,\r\n    'theme': Theme,\r\n    'toast': Toast,\r\n    'toggle': Toggle,\r\n    'tooltip': Tooltip,\r\n    'scroll': Scroll,\r\n    'scrollspy': Scrollspy,\r\n    'select': Select\r\n});","import { \r\n    randomNumber, \r\n    removeClass, \r\n    hideElement, \r\n    showElement, \r\n    setAttributes \r\n} from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Accordion extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            toggle: false,\r\n            trigger: 'data-trigger',\r\n            panel: 'data-panel',\r\n            classes: {\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'accordion',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        this._data = [];\r\n        const id = this._element.id !== '' ? this._element.id : 'accordion-' + randomNumber(4);\r\n        const triggers = this._element.querySelectorAll(`[${this._config.trigger}]`);\r\n        const panels = this._element.querySelectorAll(`[${this._config.panel}]`);\r\n\r\n        /**\r\n         * Data returned through events\r\n         * \r\n         * @param {number} index \r\n         * @returns \r\n         */\r\n        const eventData = (index) => {\r\n            return {\r\n                trigger: this._data[index].tab,\r\n                panel: this._data[index].panel,\r\n                opened: this._data[index].isVisible\r\n            };\r\n        };\r\n\r\n        /**\r\n         * Remove animation styles \r\n         * \r\n         * @param {HTMLElement} element \r\n         */\r\n        const removeAnimationStyles = (element) => {\r\n            element.style.height = null;\r\n        };\r\n\r\n        /**\r\n         * Show panel\r\n         * \r\n         * @param {number} index \r\n         */\r\n        const show = (index) => {\r\n            const data = this._data[index];\r\n\r\n            if (!data) return;\r\n\r\n            if (this._config.toggle) {\r\n                hideAll(index);\r\n            }\r\n\r\n            this._dispatchEvent('show', eventData(index));\r\n\r\n            data.isVisible = !data.isVisible;\r\n            setAttributes(data.trigger, {\r\n                ariaExpanded: true\r\n            });\r\n\r\n            showElement(data.panel);\r\n            \r\n            const transitioned = this._transition('transitionEnter', data.panel, (e) => {\r\n                showElement(data.panel, null);\r\n                removeAnimationStyles(data.panel);\r\n                this._dispatchEvent('shown', eventData(index));\r\n            });\r\n\r\n            if (transitioned) {\r\n                window.requestAnimationFrame(() => {\r\n                    const panelHeight = data.panel.offsetHeight;\r\n                    data.panel.style.height = `0px`;\r\n\r\n                    window.requestAnimationFrame(() => {\r\n                        data.panel.style.height = `${panelHeight}px`;\r\n                    });\r\n                });\r\n\r\n                return;\r\n            }\r\n\r\n            this._dispatchEvent('shown', eventData(index));\r\n        };\r\n\r\n        /**\r\n         * Hide panel\r\n         * \r\n         * @param {number} index \r\n         */\r\n        const hide = (index) => {\r\n            const data = this._data[index];\r\n\r\n            if (!data) return;\r\n\r\n            this._dispatchEvent('hide', eventData(index));\r\n\r\n            data.isVisible = !data.isVisible;\r\n            setAttributes(data.trigger, {\r\n                ariaExpanded: false\r\n            });\r\n\r\n            if (this._hasTransition) {                \r\n                data.panel.style.height = `${data.panel.offsetHeight}px`;\r\n    \r\n                window.requestAnimationFrame(() => {\r\n                    data.panel.style.height = `0px`;\r\n                });\r\n            }\r\n\r\n            const transitioned = this._transition('transitionLeave', data.panel, (e) => {\r\n                hideElement(data.panel);\r\n                removeAnimationStyles(data.panel);\r\n                this._dispatchEvent('hidden', eventData(index));\r\n            });\r\n\r\n            if (transitioned) {\r\n                return;\r\n            }\r\n\r\n            hideElement(data.panel);\r\n            this._dispatchEvent('hidden', eventData(index));\r\n        };\r\n\r\n        /**\r\n         * Hide all visible panels \r\n         * \r\n         * @param {number} excludeIndex \r\n         */\r\n        const hideAll = (excludeIndex) => {\r\n            const current = this._data[excludeIndex];\r\n\r\n            for (const data of this._data) {\r\n                if (data.isVisible && data.index !== excludeIndex && current.parent === data.parent) {\r\n                    hide(data.index);\r\n                }\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Show/hide panel\r\n         * \r\n         * @param {number} index \r\n         */\r\n        const toggle = (index) => {\r\n            if (this._component.isTransitioning) return;\r\n\r\n            const data = this._data[index];\r\n\r\n            if (!data) return;\r\n\r\n            if (data.isVisible) {\r\n                hide(data.index);\r\n\r\n                return;\r\n            }\r\n\r\n            show(data.index);\r\n        };\r\n\r\n        // Set attributes and states\r\n        triggers.forEach((trigger, index) => {\r\n            const panel = panels[index];\r\n            const panelSuffix = '-panel';\r\n\r\n            let isVisible = panel.offsetParent !== null \r\n                ? true \r\n                : false\r\n\r\n            const name = trigger.getAttribute(this._config.trigger) == '' \r\n                ?   `${id}-${index}` \r\n                : trigger.getAttribute(this._config.trigger);\r\n\r\n            setAttributes(trigger, {\r\n                id: name,\r\n                ariaControls: name + panelSuffix\r\n            });\r\n\r\n            if (!trigger.hasAttribute('aria-expanded')) {\r\n                trigger.setAttribute('aria-expanded', isVisible);\r\n            } else {\r\n                isVisible = trigger.getAttribute('aria-expanded') === 'true';\r\n            }\r\n\r\n            setAttributes(panel, {\r\n                role: 'region',\r\n                id: name + panelSuffix,\r\n                ariaLabelledby: name\r\n            });\r\n\r\n            // Remove display class and hide panels\r\n            if (panel.classList.contains(this._config.classes.display)) {                \r\n                hideElement(panel);\r\n                removeClass(panel, this._config.classes.display);\r\n            }\r\n\r\n            // Store accordion data\r\n            this._data.push({\r\n                index,\r\n                trigger,\r\n                panel,\r\n                isVisible,\r\n                parent: trigger.closest(`[${this._config.panel}]`)\r\n            });\r\n\r\n            // Attach click event\r\n            this._on(trigger, 'click', (e) => {\r\n                e.preventDefault();\r\n                toggle(index);\r\n            });\r\n        });\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Accordion;","import Component from '../component.js';\r\n\r\nclass Autogrow extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            type: null\r\n        };\r\n\r\n        const _component = {\r\n            name: 'autogrow',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element || !this._config.type) return;\r\n\r\n        const textareaInput = () => {\r\n            this._element.style.minHeight = 'auto';\r\n\t\t    this._element.style.minHeight = this._element.scrollHeight + 'px';\r\n        };\r\n\r\n        if (this._config.type == 'textarea') {\r\n            this._on(this._element, 'input', textareaInput);\r\n\r\n            this._setTimeout(textareaInput);\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Autogrow;","// import { addClass, removeClass } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Checkbox extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            target: null,\r\n            total: null,\r\n            checked: null,\r\n            related: 'data-related'\r\n        };\r\n\r\n        const _component = {\r\n            name: 'checkbox',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element || !this._config.target) return;\r\n\r\n        this._checkboxes = document.querySelectorAll(this._config.target);\r\n        this._checkboxes = [...this._checkboxes].filter((checkbox) => {\r\n            return checkbox.disabled === false;\r\n        });\r\n        this._total = this._checkboxes.length;\r\n        this._totalChecked = 0;\r\n        this._config.checked = document.querySelectorAll(this._config.checked);\r\n        this._config.total = document.querySelectorAll(this._config.total);\r\n\r\n        if (this._config.total.length > 0) {\r\n            this._config.total.forEach((element) => {\r\n                element.innerHTML = this._total;\r\n            });\r\n        }\r\n\r\n        const updateCheckedCount = () => {\r\n            if (this._config.checked.length > 0) {\r\n                this._config.checked.forEach((element) => {\r\n                    element.innerHTML = this._totalChecked;\r\n                });\r\n            }\r\n        };\r\n\r\n        const updateTotalChecked = () => {\r\n            const filtered = [...this._checkboxes].filter((checkbox) => {\r\n                return checkbox.checked === true;\r\n            });\r\n\r\n            this._totalChecked = filtered.length;\r\n            updateCheckedCount();\r\n        };\r\n\r\n        const updateParent = () => {\r\n            if (this._totalChecked > 0 && this._totalChecked < this._total) {\r\n                this._element.indeterminate = true;\r\n            }\r\n    \r\n            if (this._total === this._totalChecked) {\r\n                this._element.checked = true;\r\n                this._element.indeterminate = false;\r\n            }    \r\n    \r\n            if (this._totalChecked === 0) {\r\n                this._element.checked = false;\r\n                this._element.indeterminate = false;\r\n            }    \r\n        };\r\n\r\n        this._checkboxes.forEach((checkbox) => {\r\n\r\n            this._on(checkbox, 'change', (e) => {\r\n                if (checkbox.hasAttribute(this._config.related)) {\r\n                    const related = checkbox.getAttribute(this._config.related);\r\n                    const targets = document.querySelectorAll(related);\r\n    \r\n                    if (targets.length > 0) {\r\n                        const filtered = [...targets].filter((item) => {\r\n                            return item.disabled === false;\r\n                        });\r\n    \r\n                        filtered.forEach((relatedCheckbox) => {\r\n                            if (checkbox.checked) {\r\n                                relatedCheckbox.checked = true;\r\n                            }\r\n                        });\r\n                    }\r\n                }\r\n\r\n                updateTotalChecked();\r\n                updateParent();\r\n            });\r\n        });\r\n\r\n        this._on(this._element, 'change', (e) => {\r\n            const state = this._element.checked;\r\n            const filtered = [...this._checkboxes].filter((checkbox) => {\r\n                return checkbox.disabled === false;\r\n            });\r\n\r\n            filtered.forEach((checkbox) => {\r\n                checkbox.checked = state;\r\n            });\r\n            \r\n            updateTotalChecked();\r\n        });\r\n\r\n        if (this._element.form) {\r\n            this._on(this._element.form, 'reset', () => {\r\n                this._element.indeterminate = false;\r\n                this._totalChecked = 0;\r\n                updateCheckedCount();\r\n            });\r\n        }\r\n\r\n        updateTotalChecked();\r\n        updateParent();\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Checkbox;","import Component from '../component.js';\r\n\r\nclass Clipboard extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            action: 'copy',\r\n            parent: null,\r\n            target: null,\r\n            text: null,\r\n            attribute: null,\r\n            container: null,\r\n            clearSelection: false\r\n        };\r\n\r\n        const _component = {\r\n            name: 'clipboard',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config\r\n        };\r\n\r\n        super(_component);\r\n   \r\n        if (!this._element || typeof ClipboardJS !== 'function') return;\r\n\r\n        this._target = null;\r\n        this._container = this._config.container \r\n            ? document.querySelector(this._config.container) \r\n            : document.body;\r\n\r\n        this._target = (trigger) => {\r\n            if (this._config.target == 'next') {\r\n                return this._element.nextElementSibling.firstElementChild;\r\n            }\r\n\r\n            if (this._config.target == 'previous') {\r\n                return this._element.previousElementSibling.firstElementChild;\r\n            }\r\n\r\n            if (this._config.parent && this._config.target) {\r\n                let parent = trigger.closest(this._config.parent);\r\n\r\n                this._target = parent.querySelector(this._config.target);\r\n            }\r\n\r\n            if (!this._config.parent && this._config.target) {\r\n                this._target = document.querySelector(this._config.target);\r\n            }\r\n\r\n            return this._target ? this._target : trigger;\r\n        };\r\n\r\n        this._text = (trigger) => {\r\n            if (this._config.attribute) {\r\n                return trigger.getAttribute(this._config.attribute);\r\n            }\r\n            \r\n            if (this._config.text) {\r\n                return this._config.text;\r\n            }\r\n\r\n            if (this._target && this._target.offsetParent == null) {\r\n                return this._target.textContent;\r\n            }\r\n        };\r\n\r\n        this._clipboard = new ClipboardJS(this._element, {\r\n            action: this._config.action,\r\n            container: this._container,\r\n            target: this._target,\r\n            text: this._text\r\n        });\r\n\r\n        this._clipboard.on('success', (e) => {\r\n            this._dispatchEvent('success', e);\r\n\r\n            if (this._config.clearSelection) {\r\n                e.clearSelection();\r\n            }\r\n        });\r\n            \r\n        this._clipboard.on('error', (e) => {\r\n            this._dispatchEvent('error');\r\n        });\r\n    }\r\n\r\n    destroy() {\r\n        this._clipboard.destroy();\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Clipboard;","import { deepClone, stringToDom, showElement, hideElement, camelCase, addClass, removeClass } from '../utils.js';\r\nimport Component from '../component.js';\r\nimport { Idiomorph } from './../plugins/idiomorph/0.3.0/idiomorph.js';\r\n\r\nclass DataTable extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            id: null,\r\n            url: null,\r\n            saveState: true,\r\n            autoUpdate: false,\r\n            autoUpdateInterval: 60000,\r\n            table: null,\r\n            search: null,\r\n            searchInput: null,\r\n            searchDelay: 750,\r\n            checkbox: null,\r\n            pagination: null,\r\n            filter: null,\r\n            filters: null,\r\n            autoFilter: true,\r\n            export: null,\r\n            info: null,\r\n            length: null,\r\n            region: null,\r\n            loader: null,\r\n            loaderLabel: null,\r\n            pageLength: null,\r\n            index: null,\r\n            order: null,\r\n            direction: null,\r\n            request: {\r\n                page: 'page',\r\n                search: 'search',\r\n                orderColumn: 'order_column',\r\n                orderDirection: 'order_direction',\r\n                perPage: 'per_page',\r\n                filters: 'filters'\r\n            },\r\n            classes: {\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'datatable',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            storage: true,\r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element || !this._config.url) return;\r\n\r\n        // Id attribute on element if not set \r\n        if (!this._element.hasAttribute('id') && this._config.id) {\r\n            this._element.id = this._config.id\r\n        }\r\n\r\n        let controller,\r\n            loadCount = 0;\r\n        this._isLoading = false;\r\n        this._filterParams = {};\r\n        this._sections = {\r\n            table: this._element.querySelector(`[${this._config.table}]`), \r\n            search: this._element.querySelector(`[${this._config.search}]`), \r\n            length: this._element.querySelector(`[${this._config.length}]`), \r\n            info: this._element.querySelector(`[${this._config.info}]`), \r\n            pagination: this._element.querySelector(`[${this._config.pagination}]`),\r\n            filters: this._element.querySelector(`[${this._config.filters}]`),\r\n            export: this._element.querySelector(`[${this._config.export}]`),\r\n            loader: this._element.querySelector(`[${this._config.loader}]`),\r\n            region: this._element.querySelectorAll(`[${this._config.region}]`)\r\n        };\r\n\r\n        // Append loader if available\r\n        if (this._sections.loader && this._config.loaderLabel) {\r\n            this._sections.loader.appendChild(stringToDom(this._config.loaderLabel));\r\n        }\r\n\r\n        /**\r\n         * Retrieves or modifies URL parameters\r\n         * \r\n         * @param {string} url \r\n         * @param {object} param \r\n         * @returns {URL}\r\n         */\r\n        const parseUrl = (url, param) => {\r\n            const instance = new URL(url);\r\n\r\n            if (param instanceof Object) {\r\n                for (const key in param) {\r\n                    if (param[key] === null) {\r\n                        instance.searchParams.delete(key);\r\n                    } else {\r\n                        instance.searchParams.set(key, param[key]);\r\n                    }\r\n                }\r\n            }\r\n\r\n            return instance;\r\n        };\r\n\r\n        /**\r\n         * Get the value of a search parameter by key\r\n         * \r\n         * @param {string} key \r\n         * @param {string} defaultValue \r\n         * @returns {?string}\r\n         */\r\n        const getRequest = (key, defaultValue) => {\r\n            const url = parseUrl(this._config.url);\r\n\r\n            return url.searchParams.get(key) ?? defaultValue ?? null;\r\n        };\r\n\r\n        /**\r\n         * Auto update table after the set interval\r\n         */\r\n        const autoReload = () => {\r\n            if (!this._config.autoUpdate) return;\r\n\r\n            this._setTimeout(() => {\r\n                if (this._element.isConnected) {\r\n                    this._reload();\r\n                }\r\n            }, this._config.autoUpdateInterval);\r\n        };\r\n\r\n        /**\r\n         * Retrieves a dataset value from an element\r\n         * \r\n         * @param {HTMLElement} element \r\n         * @param {string} key \r\n         * @returns {?string}\r\n         */\r\n        const getDataset = (element, key) => {\r\n            key = camelCase(key.replace('data-', '')).replaceAll('-', '');\r\n\r\n            return element.dataset[key] || null;\r\n        };\r\n\r\n        /**\r\n         * Show or hide loader\r\n         * \r\n         * @param {boolean} hide \r\n         */\r\n        const loading = (hide = false) => {\r\n            if (hide) {\r\n                hideElement(this._sections.loader);\r\n\r\n                return\r\n            }\r\n            \r\n            showElement(this._sections.loader);\r\n        };\r\n\r\n        /**\r\n         * Get all child checkboxes\r\n         * \r\n         * @returns {NodeList}\r\n         */\r\n        const getCheckboxes = () => {    \r\n            return this._element.querySelectorAll(`[${this._config.checkbox}=child]:not(:disabled)`);\r\n        };\r\n\r\n        /**\r\n         * Get all checked checkboxes\r\n         * \r\n         * @returns {NodeList}\r\n         */\r\n        const getChecked = () => {    \r\n            return this._element.querySelectorAll(`[${this._config.checkbox}=child]:checked:not(:disabled)`);\r\n        };\r\n\r\n        /**\r\n         * Get all unchecked checkboxes\r\n         * \r\n         * @returns {NodeList}\r\n         */\r\n        const getUnchecked = () => {    \r\n            return this._element.querySelectorAll(`[${this._config.checkbox}=child]:not(:checked):not(:disabled)`);\r\n        };\r\n\r\n        /**\r\n         * Get the parent checkbox\r\n         * \r\n         * @returns {?HTMLElement}\r\n         */\r\n        const getParentCheckbox = () => {    \r\n            return this._element.querySelector(`[${this._config.checkbox}=parent]`);\r\n        };\r\n\r\n        /**\r\n         * Get the form data for all checked checkbox\r\n         * \r\n         * @returns {FormData}\r\n         */\r\n        const getCheckedFormData = () => {    \r\n            const formData = new FormData();\r\n\r\n            getChecked().forEach((checkbox) => {\r\n                formData.append(checkbox.name, checkbox.value);\r\n            });\r\n\r\n            return formData;\r\n        };\r\n\r\n        /**\r\n         * Store filter parameter\r\n         * \r\n         * @param {String} key \r\n         * @param {String} value \r\n         */\r\n        const storeFilterParameter = (key, value) => {  \r\n            if (!key.startsWith(this._config.request.filters)) return;\r\n\r\n            this._filterParams[key] = value == '' ? null : value;\r\n        };\r\n\r\n        /**\r\n         * Get all filter elements \r\n         * \r\n         * @returns {HTMLElement}\r\n         */\r\n        const getFilterElements = () => {  \r\n            return this._sections.filters.querySelectorAll(`[${this._config.filter}]`);\r\n        };\r\n\r\n        /**\r\n         * Check if datatable is loading for the first time\r\n         * \r\n         * @returns {boolean}\r\n         */\r\n        this._isInitialLoad = () => {    \r\n            return loadCount == 1;\r\n        };\r\n\r\n        /**\r\n         * Check all unchecked checkboxes\r\n         */\r\n        this._select = () => {    \r\n            getUnchecked().forEach((checkbox) => {\r\n                checkbox.checked = true;\r\n            });\r\n\r\n            if (getParentCheckbox()) {\r\n                getParentCheckbox().checked = true;\r\n                getParentCheckbox().indeterminate = false;\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Uncheck all checked checkboxes\r\n         */\r\n        this._deselect = () => {    \r\n            getChecked().forEach((checkbox) => {\r\n                checkbox.checked = false;\r\n            });\r\n\r\n            if (getParentCheckbox()) {\r\n                getParentCheckbox().checked = false;\r\n                getParentCheckbox().indeterminate = false;\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Changes to a set pageText\r\n         * \r\n         * @param {number} index \r\n         */\r\n        this._goToIndex = (index) => {  \r\n            this._abort();\r\n\r\n            this._config.url = parseUrl(this._config.url, {\r\n                [this._config.request.page]: index || ''\r\n            }).href;\r\n\r\n            this._draw();\r\n        };\r\n\r\n        /**\r\n         * Changes the current page to display\r\n         * \r\n         * @param {number} page \r\n         */\r\n        this._index = (page) => {  \r\n            this._abort();\r\n\r\n            this._config.url = parseUrl(this._config.url, {\r\n                [this._config.request.page]: page\r\n            }).href;\r\n\r\n            this._draw();\r\n        };\r\n\r\n        /**\r\n         * Changes the number of records to display\r\n         * \r\n         * @param {number} length \r\n         */\r\n        this._pageLength = (length) => {  \r\n            this._abort();\r\n\r\n            this._config.url = parseUrl(this._config.url, {\r\n                [this._config.request.page]: null,\r\n                [this._config.request.perPage]: length || ''\r\n            }).href;\r\n\r\n            this._draw();\r\n        };\r\n\r\n        /**\r\n         * Changes the order of records\r\n         * \r\n         * @param {string} column \r\n         * @param {string} direction \r\n         */\r\n        this._orderColumn = (column, direction) => {  \r\n            this._abort();\r\n\r\n            this._config.url = parseUrl(this._config.url, {\r\n                [this._config.request.orderColumn]: column || '',\r\n                [this._config.request.orderDirection]: direction || '',\r\n            }).href;\r\n\r\n            this._draw();\r\n        };\r\n\r\n        /**\r\n         * Searches for records\r\n         * \r\n         * @param {string} keyword \r\n         */\r\n        this._search = (keyword) => {    \r\n            this._abort();\r\n\r\n            this._config.url = parseUrl(this._config.url, {\r\n                [this._config.request.page]: null,\r\n                [this._config.request.search]: keyword || '',\r\n            }).href;\r\n\r\n            this._draw();\r\n        };\r\n\r\n        /**\r\n         * Filter records\r\n         */\r\n        this._filter = () => {    \r\n            this._abort();\r\n\r\n            this._config.url = parseUrl(this._config.url, {\r\n                [this._config.request.page]: null,\r\n                ...this._filterParams\r\n            }).href;\r\n\r\n            this._draw();\r\n            this._dispatchEvent('filter');\r\n        };\r\n\r\n        /**\r\n         * Clear filters\r\n         */\r\n        this._resetFilter = () => {    \r\n            const url = parseUrl(this._config.url);\r\n            const params = Array.from(url.searchParams.keys());\r\n\r\n            for (const key of params) {\r\n                if (key.startsWith(this._config.request.filters)) {\r\n                    url.searchParams.delete(key);\r\n                }\r\n            }\r\n\r\n            getFilterElements().forEach((filterElement) => {\r\n                if (filterElement.localName == 'select') {\r\n                    filterElement.value = filterElement.selectedOptions.length > 0 ? filterElement.selectedOptions[0].value : '';\r\n                } else {\r\n                    filterElement.value = '';\r\n                }\r\n            });\r\n\r\n            this._filterParams = {};\r\n            this._config.url = url.href;\r\n            this._draw();\r\n            this._dispatchEvent('filterReset', {filters: getFilterElements()});\r\n        };\r\n\r\n        const populateFilters = (data) => {\r\n            if (!this._sections.filters) return;\r\n\r\n            Idiomorph.morph(this._sections.filters, data.html.filter, {\r\n                morphStyle: 'innerHTML',\r\n                ignoreActiveValue: true,\r\n                callbacks: {\r\n                    beforeNodeMorphed: (oldNode, newNode) => {\r\n                        return false\r\n                    }\r\n                }\r\n            });\r\n\r\n            if (this._isInitialLoad()) {                \r\n                getFilterElements().forEach((filterElement) => {\r\n                    if (filterElement.localName == 'select') {                    \r\n                        this._on(filterElement, 'change', (e) => {\r\n                            storeFilterParameter(e.target.name, e.target.value);\r\n\r\n                            if (this._config.autoFilter) {\r\n                                this._filter();\r\n                            }\r\n                        });\r\n                    }\r\n\r\n                    if (filterElement.localName == 'input') {                    \r\n                        this._on(filterElement, 'input', (e) => {\r\n                            storeFilterParameter(e.target.name, e.target.value);\r\n\r\n                            if (this._config.autoFilter) {\r\n                                this._setTimeout(() => {\r\n                                    this._filter();\r\n                                }, this._config.searchDelay);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        };\r\n\r\n        const populateSearch = (data) => {\r\n            if (!this._sections.search) return;\r\n\r\n            Idiomorph.morph(this._sections.search, data.html.search, {\r\n                morphStyle: 'innerHTML',\r\n                ignoreActiveValue: true\r\n            });\r\n\r\n            if (this._isInitialLoad()) {                \r\n                const searchInput = this._sections.search.querySelector(`[${this._config.searchInput}]`);\r\n    \r\n                this._on(searchInput, 'input', (e) => {\r\n                    this._setTimeout(() => {\r\n                        this._search(searchInput.value);\r\n                    }, this._config.searchDelay);\r\n                });\r\n            }\r\n        };\r\n\r\n        const populateTable = (data) => {\r\n            if (!this._sections.table) return;\r\n\r\n            this._sections.table.innerHTML = data.html.table;\r\n            const triggers = this._sections.table.querySelectorAll(`[${this._config.order}]`);\r\n\r\n            triggers.forEach((element) => {\r\n                this._on(element, 'click', (e) => {\r\n                    e.preventDefault();\r\n                    const column = getDataset(element, this._config.order);\r\n                    const direction = getDataset(element, this._config.direction);\r\n                    this._orderColumn(column, direction);\r\n                });\r\n            });\r\n        };\r\n\r\n        const populateInfo = (data) => {\r\n            if (!this._sections.info) return;\r\n\r\n            this._sections.info.innerHTML = data.has_records ? data.html.info : '';\r\n        };\r\n\r\n        const populateExport = (data) => {\r\n            if (!this._sections.export) return;\r\n\r\n            this._sections.export.innerHTML = data.has_records ? data.html.export : '';\r\n        };\r\n\r\n        const populatePagination = (data) => {\r\n            if (!this._sections.pagination) return;\r\n\r\n            this._sections.pagination.innerHTML = data.has_records ? data.html.pagination : '';\r\n            const triggers = this._sections.pagination.querySelectorAll(`[${this._config.index}]`);\r\n\r\n            triggers.forEach((element) => {\r\n                this._on(element, 'click', (e) => {\r\n                    e.preventDefault();\r\n                    const index = getDataset(element, this._config.index);\r\n                    this._goToIndex(index);\r\n                });\r\n            });\r\n        };\r\n\r\n        const populateLength = (data) => {\r\n            if (!this._sections.length) return;\r\n\r\n            this._sections.length.innerHTML = data.has_records ? data.html.length : '';\r\n            const triggers = this._sections.length.querySelectorAll(`[${this._config.pageLength}]`);\r\n\r\n            triggers.forEach((element) => {\r\n                this._on(element, 'click', (e) => {\r\n                    e.preventDefault();\r\n                    const length = getDataset(element, this._config.pageLength);\r\n                    this._pageLength(length);\r\n                });\r\n            });\r\n        };\r\n\r\n        const regionVisibility = (data) => {\r\n            this._sections.region = this._element.querySelectorAll(`[${this._config.region}]`);\r\n\r\n            this._sections.region.forEach((element) => {\r\n                if (data.has_records) {\r\n                    removeClass(element, this._config.classes.display);\r\n                } else {\r\n                    addClass(element, this._config.classes.display);\r\n                }\r\n            });\r\n        };\r\n\r\n        const rowSelection = () => {\r\n            const parent = getParentCheckbox();\r\n            const children = getCheckboxes();\r\n            const total = children.length;\r\n            const onSelectEventData = () => {\r\n                return {\r\n                    formData: getCheckedFormData(),\r\n                    selected: getChecked(),\r\n                    deselected: getUnchecked()\r\n                }\r\n            };\r\n\r\n            children.forEach((checkbox) => {\r\n                this._on(checkbox, 'change', (e) => {\r\n                    const totalChecked = getChecked().length;\r\n                    const totalUnchecked = getUnchecked().length;\r\n                    parent.indeterminate = totalUnchecked > 0 && totalUnchecked !== total;\r\n                    \r\n                    if (checkbox.checked) {\r\n                        parent.checked = totalUnchecked === 0;\r\n                    } else {\r\n                        parent.checked = totalChecked === total;\r\n                    }\r\n\r\n                    this._dispatchEvent('select', onSelectEventData());\r\n                });\r\n            });\r\n\r\n            if (getUnchecked().length > 0 && getUnchecked().length !== total) {\r\n                parent.indeterminate = true;\r\n            }\r\n\r\n            if (parent) {                \r\n                this._on(parent, 'change', (e) => {\r\n                    if (parent.checked) {\r\n                        this._select();\r\n                    } else {\r\n                        this._deselect();\r\n                    }\r\n    \r\n                    this._dispatchEvent('select', onSelectEventData());\r\n                });\r\n            }\r\n        };\r\n\r\n        this._abort = () => {\r\n            if (this._isLoading) {\r\n                controller.abort();\r\n            }\r\n        };\r\n\r\n        this._draw = async (url) => {\r\n            controller = new AbortController();\r\n            const signal = controller.signal;\r\n\r\n            url = url || this._config.url;\r\n            this._events = {};\r\n            loading();\r\n            this._isLoading = true;\r\n            loadCount++;\r\n            this._dispatchEvent('processing');\r\n\r\n            await fetch(url, { signal: signal }) \r\n                .then(response => {\r\n                    if (!response.ok) {\r\n                        throw new Error(response.statusText);\r\n                    }\r\n\r\n                    return response.json();\r\n                })\r\n                .then(data => {\r\n                    populateSearch(data);\r\n                    populateFilters(data);\r\n                    populateTable(data);\r\n                    populateInfo(data)\r\n                    populateExport(data)\r\n                    populatePagination(data);\r\n                    populateLength(data);\r\n                    regionVisibility(data)\r\n                    rowSelection();\r\n                    loading(true);\r\n                    this._isLoading = false;\r\n                    this._dispatchEvent('processing');\r\n                    autoReload();\r\n\r\n                    if (this._config.saveState) {   \r\n                        if (data.options.request.save instanceof Array) {\r\n                            this._storage.remove(this._element.id);\r\n                        } else {\r\n                            this._storage.set(this._element.id, JSON.stringify({\r\n                                request: data.options.request.save\r\n                            }));\r\n                        }                   \r\n                    }\r\n\r\n                    this._dispatchEvent('draw', { response: data});\r\n                })\r\n                .catch((message) => {\r\n                    this._debug(message);\r\n                });\r\n        };\r\n\r\n        // Update URL when save state is true\r\n        if (this._config.saveState) {                    \r\n            const params = JSON.parse(this._storage.get(this._element.id));\r\n\r\n            if (params?.request) {\r\n                this._config.url = parseUrl(this._config.url, params.request).href;\r\n            }\r\n        } else {\r\n            this._storage.remove(this._element.id);\r\n        }\r\n\r\n        // Initialize\r\n        this._draw();\r\n        this._location = deepClone(window.location);\r\n        this._dispatchEvent('initialize');\r\n\r\n        // Listen fetch abort event\r\n        controller.signal.addEventListener('abort', () => {\r\n            loading(true);\r\n            this._isLoading = false;\r\n            this._dispatchEvent('processing');\r\n        });\r\n\r\n        this._on(window, 'popstate', this._onPopstate);\r\n    }\r\n\r\n    reload() {\r\n        this._draw();\r\n    }\r\n\r\n    perPage(length) {\r\n        this._pageLength(length);\r\n    }\r\n\r\n    index(page) {\r\n        page = parseInt(page) || 1;\r\n        this._index(page);\r\n    }\r\n\r\n    select() {\r\n        this._select();\r\n    }\r\n\r\n    deselect() {\r\n        this._deselect();\r\n    }\r\n\r\n    order(column, direction) {\r\n        this._orderColumn(column, direction);\r\n    }\r\n\r\n    search(keyword) {\r\n        this._search(keyword);\r\n    }\r\n\r\n    isLoading() {\r\n        return this._isLoading;\r\n    }\r\n\r\n    filter() {\r\n        return this._filter();\r\n    }\r\n\r\n    resetFilter() {\r\n        return this._resetFilter();\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default DataTable;","import { isNumber } from '../utils.js';\r\nimport Component from '../component.js';\r\nimport Pikaday from  '../plugins/pikaday/1.8.2/pikaday.js';\r\nimport { computePosition, offset, flip, shift, limitShift, autoUpdate } from '@floating-ui/dom';\r\n\r\nclass Datepicker extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            bound: undefined,\r\n            trigger: null,\r\n            container: undefined,\r\n            startRange: null,\r\n            endRange: null,\r\n            startRangeTarget: null,\r\n            endRangeTarget: null,\r\n            format: null,\r\n            minDate: null,\r\n            maxDate: null,\r\n            toString: null,\r\n            parse: null,\r\n            defaultDate: null,\r\n            setDefaultDate: false,\r\n            firstDay: 0,\r\n            yearRange: 10,\r\n            showOtherDays: false,\r\n            otherDaysSelection: false,\r\n            focus : false,\r\n            clearOnReset: true,\r\n            title: null,\r\n            autoClose: true,\r\n            showButtons: false,\r\n            buttonsPlacement: 'bottom',\r\n            previous: 'Previous',\r\n            next: 'Next',\r\n            buttons: ['cancel', 'apply'],\r\n            clear: 'Clear',\r\n            today: 'Today',\r\n            cancel: 'Cancel',\r\n            apply: 'Apply',\r\n            offset: 8,\r\n            placement: 'bottom-start',\r\n            shortWeekdays: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\r\n            months: [\r\n                'January', \r\n                'February',\r\n                'March',\r\n                'April',\r\n                'May',\r\n                'June',\r\n                'July',\r\n                'August',\r\n                'September',\r\n                'October',\r\n                'November',\r\n                'December'\r\n            ],\r\n            weekdays: [\r\n                'Sunday', \r\n                'Monday', \r\n                'Tuesday', \r\n                'Wednesday', \r\n                'Thursday', \r\n                'Friday', \r\n                'Saturday'\r\n            ],\r\n            events: [],\r\n            disableDay: null,\r\n            classes: {\r\n                wrapper: '',\r\n                header: '',\r\n                title: '',\r\n                weekday: '',\r\n                days: '',\r\n                day: '',\r\n                previous: '',\r\n                next: '',\r\n                month: '',\r\n                year: '',\r\n                buttons: '',\r\n                clear: '',\r\n                today: '',\r\n                cancel: '',\r\n                apply: ''\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'datepicker',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        let autoUpdatePosition = () => void 0;\r\n        \r\n        this._config.trigger = typeof this._config.trigger == 'string'\r\n            ? document.querySelector(this._config.trigger)\r\n            : this._config.trigger;\r\n        \r\n        this._config.container = typeof this._config.container == 'string'\r\n            ? document.querySelector(this._config.container)\r\n            : this._config.container;\r\n        \r\n        this._config.startRangeTarget = this._config.endRangeTarget == null && typeof this._config.startRangeTarget == 'string'\r\n            ? document.querySelector(this._config.startRangeTarget)\r\n            : this._config.startRangeTarget;\r\n        \r\n        this._config.endRangeTarget = this._config.startRangeTarget == null && typeof this._config.endRangeTarget == 'string'\r\n            ? document.querySelector(this._config.endRangeTarget)\r\n            : this._config.endRangeTarget;\r\n\r\n        this._config.shortWeekdays = typeof this._config.shortWeekdays == 'string'\r\n            ? this._config.shortWeekdays.split(' ')\r\n            : this._config.shortWeekdays;\r\n\r\n        this._config.weekdays = typeof this._config.weekdays == 'string'\r\n            ? this._config.weekdays.split(' ')\r\n            : this._config.weekdays;\r\n\r\n        this._config.months = typeof this._config.months == 'string'\r\n            ? this._config.months.split(' ')\r\n            : this._config.months;\r\n\r\n        this._config.buttons = typeof this._config.buttons == 'string'\r\n            ? this._config.buttons.split(' ')\r\n            : this._config.buttons;\r\n\r\n        this._config.focus = this._config.buttons instanceof Array\r\n            ? true\r\n            : this._config.focus;\r\n\r\n        this._config.minDate = typeof this._config.minDate == 'string'\r\n            ? new Date(Date.parse(this._config.minDate))\r\n            : this._config.minDate;\r\n\r\n        this._config.maxDate = typeof this._config.maxDate == 'string'\r\n            ? new Date(Date.parse(this._config.maxDate))\r\n            : this._config.maxDate;\r\n\r\n        this._config.yearRange = typeof this._config.yearRange == 'string'\r\n            ? this._config.yearRange.split(' ')\r\n            : this._config.yearRange;\r\n\r\n        this._config.yearRange = this._config.yearRange instanceof Array\r\n            ? this._config.yearRange\r\n            : this._config.yearRange;\r\n\r\n        this._config.defaultDate = typeof this._config.defaultDate == 'string'\r\n            ? new Date(Date.parse(this._config.defaultDate))\r\n            : this._config.defaultDate;\r\n\r\n        this._hasMoment = typeof moment === 'function';\r\n        this._hasDayjs = typeof dayjs === 'function';\r\n\r\n        this._isRangePicker = () => {\r\n            if (this._config.startRangeTarget || this._config.endRangeTarget) {\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        };\r\n\r\n        const updateRangeDate = () => {\r\n            if (!this._isRangePicker()) return;\r\n\r\n            const date = this._pikaday.getDate();\r\n            const range = UIkit.datepicker(this._config.startRangeTarget || this._config.endRangeTarget);\r\n\r\n            if (this._config.endRangeTarget) {  \r\n                range.hide();  \r\n                this._pikaday.setStartRange(date);\r\n                range.setStartRange(date);\r\n                range.setMinDate(date);\r\n                \r\n                if (!range.getDate()) {\r\n                    range.gotoDate(date);\r\n                }\r\n                \r\n                if (range.getDate()) {\r\n                    this._pikaday.setEndRange(range.getDate());\r\n                }\r\n            } \r\n            \r\n            if (this._config.startRangeTarget) {\r\n                range.hide();\r\n                this._pikaday.setEndRange(date);\r\n                range.setEndRange(date);\r\n                range.setMaxDate(date);\r\n                \r\n                if (!range.getDate()) {\r\n                    range.gotoDate(date);\r\n                }\r\n\r\n                if (range.getDate()) {\r\n                    this._pikaday.setStartRange(range.getDate());\r\n                }\r\n            }\r\n        };\r\n\r\n        const getOrdinalNumber = (number) => {\r\n            const length = number.length - 1;\r\n            number = parseInt(number).toString();\r\n            const index = number.substring(length);\r\n            const ordinals = {\r\n                1: 'st',\r\n                2: 'nd',\r\n                3: 'rd'\r\n            };\r\n\r\n            return ordinals[index] ? number + ordinals[index] : number + 'th';\r\n        };\r\n        \r\n        // Pikaday options\r\n        let options = {\r\n            field: this._element,\r\n            reposition: false,\r\n            bound: this._config.bound,\r\n            trigger: this._config.trigger,\r\n            container: this._config.container,\r\n            startRange: this._config.startRange,\r\n            endRange: this._config.endRange,\r\n            format: this._config.format,\r\n            minDate: this._config.minDate,\r\n            maxDate: this._config.maxDate,\r\n            toString: this._config.toString,\r\n            parse: this._config.parse,\r\n            defaultDate: this._config.defaultDate,\r\n            setDefaultDate: this._config.setDefaultDate,\r\n            firstDay: this._config.firstDay,\r\n            yearRange: this._config.yearRange,\r\n            showDaysInNextAndPreviousMonths: this._config.showOtherDays,\r\n            enableSelectionDaysInNextAndPreviousMonths: this._config.otherDaysSelection,\r\n            disableDayFn: this._config.disableDay,\r\n            blurFieldOnSelect : !this._config.focus,\r\n            title: this._config.title,\r\n            autoClose: this._config.autoClose,\r\n            showButtons: this._config.showButtons,\r\n            buttonsPlacement: this._config.buttonsPlacement,\r\n            previous: this._config.previous,\r\n            next: this._config.next,\r\n            buttons: this._config.buttons,\r\n            clear: this._config.clear,\r\n            today: this._config.today,\r\n            cancel: this._config.cancel,\r\n            apply: this._config.apply,\r\n            events: this._config.events,\r\n            calendarClass: this._config.classes.wrapper,\r\n            headerClass: this._config.classes.header,\r\n            titleClass: this._config.classes.title,\r\n            weekdayClass: this._config.classes.weekday,\r\n            daysClass: this._config.classes.days,\r\n            dayClass: this._config.classes.day,\r\n            previousClass: this._config.classes.previous,\r\n            nextClass: this._config.classes.next,\r\n            monthClass: this._config.classes.month,\r\n            yearClass: this._config.classes.year,\r\n            buttonsClass: this._config.classes.buttons,\r\n            clearClass: this._config.classes.clear,\r\n            todayClass: this._config.classes.today,\r\n            cancelClass: this._config.classes.cancel,\r\n            applyClass: this._config.classes.apply,\r\n            i18n: {\r\n                previousMonth: this._config.previous,\r\n                nextMonth: this._config.next,\r\n                months: this._config.months,\r\n                weekdays: this._config.weekdays,\r\n                weekdaysShort: this._config.shortWeekdays\r\n            }\r\n        }\r\n\r\n\r\n        options.onInitialize = () => {\r\n            this._dispatchEvent('initialize');\r\n        };\r\n\r\n        options.onBeforeOpen = () => {\r\n\r\n            const setPosition = () => {\r\n                computePosition(this._element, this._pikaday.el, {\r\n                    placement: this._config.placement,\r\n                    middleware: [ \r\n                        offset(this._config.offset),\r\n                        flip(),\r\n                        shift({ \r\n                            padding: this._config.offset,\r\n                            limiter: limitShift()\r\n                        })\r\n                    ]\r\n                }).then(({ x, y, placement, middlewareData }) => {\r\n                    const { offset, flip, shift, hide } = middlewareData;\r\n    \r\n                    Object.assign(this._pikaday.el.style, {\r\n                        left: `${x}px`,\r\n                        top: `${y}px`,\r\n                        zIndex: 9999\r\n                    });\r\n                });\r\n            };\r\n    \r\n            const updatePosition = () => { \r\n                if (!this._pikaday || this._config.bound == false) return;\r\n\r\n                return autoUpdate(this._element, this._pikaday.el, setPosition);\r\n            };\r\n\r\n            autoUpdatePosition = updatePosition();\r\n            updateRangeDate();\r\n            this._dispatchEvent('show');\r\n        };\r\n\r\n        options.onOpen = () => {\r\n            if (this._config.bound != false) {                \r\n                this._transition('transitionEnter', this._pikaday.el, (e) => {\r\n                    this._dispatchEvent('shown');\r\n                });\r\n            }\r\n        };\r\n\r\n        options.onBeforeClose = () => {\r\n            this._dispatchEvent('hide');\r\n\r\n            if (this._config.bound != false) {\r\n                const transitioned = this._transition('transitionLeave', this._pikaday.el, (e) => {\r\n                    this._dispatchEvent('hidden');\r\n                    autoUpdatePosition();\r\n                    this._pikaday.el.style.display = 'none';\r\n                });\r\n\r\n                if (!transitioned) {\r\n                    this._pikaday.el.style.display = 'none';\r\n                    this._dispatchEvent('hidden');\r\n                    autoUpdatePosition();\r\n                }\r\n            }\r\n        };\r\n\r\n        // options.onClose = () => {\r\n            \r\n        // };\r\n\r\n        options.onDraw = () => {\r\n            this._dispatchEvent('draw');\r\n        };\r\n\r\n        options.onSelect = (date, hasEvent) => {\r\n            updateRangeDate();\r\n            this._dispatchEvent('select', { date, hasEvent });\r\n\r\n            if (this._element.localName == 'input') {\r\n                this._element.dispatchEvent(new Event('input'));\r\n            }\r\n        };\r\n\r\n        if (!this._config.toString && this._config.format && (!this._hasMoment || !this._hasDayjs)) {\r\n            options.toString = (date, format) => {\r\n\r\n                let formattedDate = '';\r\n                const tokens = {\r\n                    ddd: options.i18n.weekdays[date.getDay()].slice(0, 3),\r\n                    dddd: options.i18n.weekdays[date.getDay()],\r\n                    D: date.getDate().toString(),\r\n                    DD: date.getDate().toString().padStart(2, '0'),\r\n                    Do: getOrdinalNumber(date.getDate().toString()),\r\n                    M: (date.getMonth() + 1).toString(),\r\n                    MM: (date.getMonth() + 1).toString().padStart(2, '0'),\r\n                    MMM: options.i18n.months[date.getMonth()].slice(0, 3),\r\n                    MMMM: options.i18n.months[date.getMonth()],\r\n                    YY: date.getFullYear().toString().slice(2),\r\n                    YYYY: date.getFullYear().toString()\r\n                };\r\n\r\n                const delimiters = format.trim().match(/\\W+/g);\r\n\r\n                const parts = format.trim()\r\n                    .replaceAll(/\\W+/g, ' ')\r\n                    .split(' ')\r\n                    .filter(str => str.length > 0);\r\n\r\n                const replacedParts = parts.map((part) => {\r\n                        return tokens[part];\r\n                }).filter(part => part);\r\n\r\n                replacedParts.forEach((part, index) => {\r\n                    if (delimiters && delimiters.length > 0) {\r\n                        formattedDate += part + (delimiters[index] && index < (replacedParts.length - 1) ? delimiters[index] : '');\r\n\r\n                        return;\r\n                    }\r\n\r\n                    formattedDate += part;\r\n                });\r\n\r\n                return formattedDate;\r\n            };\r\n        }\r\n\r\n        if (!this._config.parse && this._config.format && (!this._hasMoment || !this._hasDayjs)) {\r\n            options.parse = (dateString, format) => {\r\n                let day = '', \r\n                    month = '', \r\n                    year = '';\r\n\r\n                let dateParts = dateString.trim()\r\n                .replaceAll(/\\W+/g, ' ')\r\n                .split(' ')\r\n                .filter(str => str.length > 0);\r\n\r\n                let formatParts = format.trim()\r\n                .replaceAll(/\\W+/g, ' ')\r\n                .split(' ')\r\n                .filter(str => str.length > 0)\r\n                .map(str => str.charAt(0));\r\n\r\n                formatParts.forEach((part, index) => {\r\n                    switch (part) {\r\n                        case 'Y':\r\n                            year = dateParts[index] || '';\r\n                            break;\r\n                            \r\n                        case 'M':\r\n                            if (isNumber(dateParts[index])) {\r\n                                month = dateParts[index] ? parseInt(dateParts[index]) - 1 : dateParts[index];\r\n                            } else {\r\n                                month = dateParts[index] || '';\r\n                            }\r\n                            break;\r\n\r\n                        case 'D':\r\n                            day = parseInt(dateParts[index]) || '';\r\n                            break;\r\n                    }\r\n                });\r\n\r\n                const date = (`${year} ${month} ${day}`).trim();\r\n\r\n                return new Date(Date.parse(date));\r\n            }\r\n        }\r\n\r\n        // Day.js toString function\r\n        if (!this._config.toString && this._config.format && this._hasDayjs) {\r\n            options.toString = (date, format) => {\r\n                return dayjs(date).format(format);\r\n            };\r\n        }\r\n\r\n        // Day.js parse function\r\n        if (!this._config.parse && this._config.format && this._hasDayjs) {\r\n            options.parse = (dateString, format) => {\r\n                return dayjs(dateString, format).toDate();\r\n            }\r\n        }\r\n\r\n        // Init Pikaday\r\n        this._pikaday = new Pikaday(options);\r\n\r\n        this._on(this._element, 'blur', (e) => {\r\n            if (this._pikaday.el.contains(e.relatedTarget)) return;\r\n            this.hide();\r\n        });\r\n\r\n        // Clear on form reset\r\n        if (this._config.clearOnReset) {              \r\n            if (this._element.form) {\r\n                this._on(this._element.form, 'reset', () => {\r\n                    this.clear();\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    toString(format) {\r\n        if (this._hasMoment) {\r\n            return moment(this._pikaday.getDate()).format(format);\r\n        } else if (this._hasDayjs) {\r\n            return dayjs(this._pikaday.getDate()).format(format);\r\n        } else {\r\n            return this._pikaday.toString(format);\r\n        }\r\n    }\r\n\r\n    getDate() {\r\n        if (this._hasMoment) {\r\n            return this._pikaday.getDate() ? moment(this._pikaday.getDate()) : null;\r\n        } else if (this._hasDayjs) {\r\n            return this._pikaday.getDate() ? dayjs(this._pikaday.getDate()) : null;\r\n        } else {\r\n            return this._pikaday.getDate();\r\n        }\r\n    }\r\n\r\n    setDate(date, silent = false) {\r\n\r\n        if (this._isRangePicker()) {\r\n            this._pikaday._o.minDate = null;\r\n            this._pikaday._o.maxDate = null;\r\n        }\r\n        \r\n        if (this._hasMoment || this._hasDayjs) {\r\n            this._pikaday.setDate(date.toDate(), silent);\r\n        } else {\r\n            this._pikaday.setDate(date, silent);\r\n        }\r\n    }\r\n\r\n    gotoDate(date) {\r\n        if (this._hasMoment || this._hasDayjs) {\r\n            this._pikaday.gotoDate(date.toDate());\r\n        } else {\r\n            this._pikaday.gotoDate(date);\r\n        }\r\n    }\r\n\r\n    gotoToday() {\r\n        this._pikaday.gotoDate(new Date());\r\n    }\r\n\r\n    gotoMonth(month) {\r\n        month = parseInt(month) || month;\r\n        this._pikaday.gotoMonth(month);\r\n    }\r\n\r\n    gotoYear(year) {\r\n        if (year.toString().length != 4) return;\r\n\r\n        this._pikaday.gotoYear(year);\r\n    }\r\n\r\n    setMinDate(date) {\r\n        if (this._hasMoment || this._hasDayjs) {\r\n            this._pikaday.setMinDate(date.toDate());\r\n        } else {\r\n            date = typeof date == 'string' ? new Date(Date.parse(date)) : date;\r\n            this._pikaday.setMinDate(date);\r\n        }\r\n    }\r\n\r\n    setMaxDate(date) {\r\n        if (this._hasMoment || this._hasDayjs) {\r\n            this._pikaday.setMaxDate(date.toDate());\r\n        } else {\r\n            date = typeof date == 'string' ? new Date(Date.parse(date)) : date;\r\n            this._pikaday.setMaxDate(date);\r\n        }\r\n    }\r\n\r\n    setStartRange(date) {\r\n        if (this._hasMoment || this._hasDayjs) {\r\n            this._pikaday.setStartRange(date.toDate());\r\n        } else {\r\n            date = typeof date == 'string' ? new Date(Date.parse(date)) : date;\r\n            this._pikaday.setStartRange(date);\r\n        }\r\n    }\r\n\r\n    setEndRange(date) {\r\n        if (this._hasMoment || this._hasDayjs) {\r\n            this._pikaday.setEndRange(date.toDate());\r\n        } else {\r\n            date = typeof date == 'string' ? new Date(Date.parse(date)) : date;\r\n            this._pikaday.setEndRange(date);\r\n        }\r\n    }\r\n\r\n    nextMonth() {\r\n        this._pikaday.nextMonth();\r\n    }\r\n\r\n    previousMonth() {\r\n        this._pikaday.prevMonth();\r\n    }\r\n\r\n    show() {\r\n        this._pikaday.show();\r\n    }\r\n\r\n    hide() {\r\n        this._pikaday.hide();\r\n    }\r\n\r\n    clear() {\r\n        if (this._config.startRangeTarget || this._config.endRangeTarget) {            \r\n            this._pikaday.setStartRange(null);\r\n            this._pikaday.setEndRange(null);\r\n            this._pikaday.setMinDate(null);\r\n            this._pikaday.setMaxDate(null);\r\n        }\r\n\r\n        this._pikaday.clear();\r\n    }\r\n\r\n    update() {\r\n        this._pikaday.draw();\r\n    }\r\n\r\n    destroy() {\r\n        this._pikaday.destroy()\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Datepicker;","import { hideElement } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Dismiss extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            target: null,\r\n            remove: false,\r\n            delay: 0\r\n        };\r\n\r\n        const _component = {\r\n            name: 'dismiss',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n        \r\n        let timeout;\r\n        this._config.delay = parseInt(this._config.delay);\r\n\r\n        this._config.target = typeof this._config.target == 'string'\r\n            ? this._element.closest(this._config.target) \r\n            : this._config.target;\r\n        \r\n        this._target = this._config.target instanceof HTMLElement\r\n            ? this._config.target\r\n            : this._element.parentNode;\r\n\r\n        const eventData = { \r\n            target: this._target, \r\n            config: this._config\r\n        };\r\n\r\n        const removeTarget = () => {\r\n            if (this._config.remove) {\r\n                this._target.remove();\r\n            }\r\n        };\r\n\r\n        if (!this._element.hasAttribute('aria-label')) {\r\n            this._element.setAttribute('aria-label', 'Close');\r\n        }\r\n\r\n        this._close = () => {\r\n            this._dispatchEvent('hide', eventData);\r\n\r\n            const transitioned = this._transition('transitionLeave', this._target, (e) => {\r\n                this._dispatchEvent('hidden', eventData);\r\n                hideElement(this._target);\r\n                removeTarget();\r\n            });\r\n\r\n            if (transitioned) return;\r\n\r\n            hideElement(this._target);\r\n            removeTarget();\r\n            this._dispatchEvent('hidden', eventData);\r\n        };\r\n\r\n        const onClose = (e) => {\r\n            e.preventDefault();\r\n            this._close(e);\r\n        };\r\n\r\n        this._on(this._element, 'click', onClose);\r\n\r\n        if (this._config.delay != 0 && this._config.delay >= 3000) {           \r\n            clearTimeout(timeout); \r\n            setTimeout(() => {\r\n                this._close();\r\n            }, this._config.delay);\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    close() {\r\n        this._close();\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Dismiss;","import { styles, addClass, removeClass, getElements } from '../utils.js';\r\nimport Component from '../component.js';\r\nimport { computePosition, offset, flip, shift, limitShift, autoUpdate } from '@floating-ui/dom';\r\n\r\nclass Dropdown extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            target: null,\r\n            reference: null,\r\n            autoClose: true,\r\n            placement: 'bottom-start',\r\n            placementMobile: null,\r\n            autoPlacement: true,\r\n            offset: 8,\r\n            alignmentOffset: 0,\r\n            offsetMobile: null,\r\n            alignmentOffsetMobile: null,\r\n            shift: 8,\r\n            zindex: 1000,\r\n            close: 'data-close',\r\n            classes: {\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'dropdown',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n        \r\n        if (!this._element) return;\r\n\r\n        this._isOpened = false;\r\n\r\n        this._dropdown = this._config.target \r\n            ? document.querySelector(this._config.target) \r\n            : this._element.nextElementSibling;\r\n\r\n        this._reference = this._config.reference instanceof HTMLElement \r\n            ? this._config.reference \r\n            : document.querySelector(this._config.reference);\r\n\r\n        this._reference = this._reference \r\n            ? this._reference \r\n            : this._element;\r\n\r\n        this._config.placement = this._config.placementMobile && this._isMobile() \r\n            ? this._config.placementMobile \r\n            : this._config.placement;\r\n\r\n        this._config.offset = this._config.offsetMobile && this._isMobile() \r\n            ? this._config.offsetMobile \r\n            : this._config.offset;\r\n\r\n        this._config.alignmentOffset = this._config.alignmentOffsetMobile && this._isMobile() \r\n            ? this._config.alignmentOffsetMobile \r\n            : this._config.alignmentOffset;\r\n\r\n        const closeTriggers = getElements(`[${this._config.close}]`, this._dropdown);\r\n            \r\n        let autoUpdatePosition = () => void 0;\r\n\r\n        this._element.setAttribute('aria-expanded', this._isOpened);\r\n\r\n        const setPosition = () => {\r\n            computePosition(this._reference, this._dropdown, {\r\n                placement: this._config.placement,\r\n                middleware: [ \r\n                    offset({\r\n                        mainAxis: this._config.offset,\r\n                        crossAxis: this._config.alignmentOffset,\r\n                        alignmentAxis: null\r\n                    }),\r\n                    flip(),\r\n                    shift({ \r\n                        padding: this._config.shift,\r\n                        limiter: limitShift()\r\n                    })\r\n                ]\r\n            }).then(({ x, y, placement, middlewareData }) => {\r\n                const { offset, flip, shift, hide } = middlewareData;\r\n\r\n                Object.assign(this._dropdown.style, {\r\n                    left: `${x}px`,\r\n                    top: `${y}px`,\r\n                    zIndex: this._config.zindex\r\n                });\r\n            });\r\n        };\r\n\r\n        const updatePosition = () => { \r\n            return autoUpdate(this._reference, this._dropdown, setPosition);\r\n        };\r\n\r\n        const resetPositionStyles = () => {\r\n            styles(this._dropdown, {\r\n                top: null,\r\n                left: null,\r\n                zIndex: null\r\n            });\r\n        };\r\n\r\n        const eventData = {\r\n            dropdown: this._dropdown\r\n        };\r\n\r\n        const onClickToggle = (e) => {\r\n            e.preventDefault();\r\n            this.toggle();\r\n        };\r\n\r\n        const onClickHide = (e) => {\r\n            const clicked = e.target;\r\n\r\n            if (this._element.contains(clicked)) {\r\n                return;\r\n            }\r\n    \r\n            if ([true, 'inside'].includes(this._config.autoClose) && this._dropdown.contains(clicked) && this._isOpened) {\r\n                this.hide();\r\n    \r\n                return;\r\n            }\r\n    \r\n            if ([true, 'outside'].includes(this._config.autoClose) && !this._dropdown.contains(clicked) && this._isOpened) {\r\n                this.hide();\r\n    \r\n                return;\r\n            }\r\n        };\r\n    \r\n        const onKeydown = (e) => {\r\n            if (e.key === 'Escape' && this._config.autoClose != false && this._isOpened) {\r\n                this.hide();\r\n            }\r\n        };\r\n\r\n        this._show = () => {\r\n            autoUpdatePosition = updatePosition();\r\n            this._isOpened = true;\r\n            this._dispatchEvent('show', eventData);\r\n            this._element.setAttribute('aria-expanded', this._isOpened);\r\n            removeClass(this._dropdown, this._config.classes.display);\r\n\r\n            const transitioned = this._transition('transitionEnter', this._dropdown, (e) => {\r\n                this._dispatchEvent('shown', eventData);\r\n            });\r\n\r\n            if (transitioned) return;\r\n    \r\n            this._dispatchEvent('shown', eventData);\r\n        };\r\n\r\n        this._hide = () => {\r\n            this._isOpened = false;\r\n            this._dispatchEvent('hide', eventData);\r\n            this._element.setAttribute('aria-expanded', this._isOpened);\r\n\r\n            const transitioned = this._transition('transitionLeave', this._dropdown, (e) => {\r\n                this._isOpened = false;\r\n                this._dispatchEvent('hidden', eventData);\r\n                autoUpdatePosition();\r\n                resetPositionStyles();\r\n                addClass(this._dropdown, this._config.classes.display);\r\n            });\r\n\r\n            if (transitioned) return;\r\n    \r\n            addClass(this._dropdown, this._config.classes.display);\r\n            autoUpdatePosition();\r\n            resetPositionStyles();\r\n            this._dispatchEvent('hidden', eventData);\r\n        };\r\n\r\n        this._on(this._reference, 'click', onClickToggle);\r\n        this._on(this._reference, 'keydown', onKeydown);\r\n        this._on(document, 'click', onClickHide);\r\n\r\n        for (const close of closeTriggers) {\r\n            this._on(close, 'click', this._hide);\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    toggle() {\r\n        if (this._isOpened) {\r\n            this._hide();\r\n\r\n            return;\r\n        }\r\n\r\n        this._show();\r\n    }\r\n\r\n    show() {\r\n        this._show();\r\n    }\r\n\r\n    hide() {\r\n        this._hide();\r\n    }\r\n\r\n    destroy() {\r\n        this.hide();\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Dropdown;","import { getElement } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass DropzoneUploader extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            url: null,\r\n            method: 'post',\r\n            create: null,\r\n            template: null,\r\n            customTemplate: null,\r\n            autoProcessQueue: false,\r\n            maxFiles: null,\r\n            csrfToken: null,\r\n            headers: null,\r\n            previewsContainer: null,\r\n            resizeWidth: null,\r\n            resizeHeight: null,\r\n            clickable: true,\r\n            parallelUploads: 2,\r\n            disablePreviews: false,\r\n            maxFilesize: 256,\r\n            filesizeBase: 1000,\r\n            hiddenInputContainer: 'body'\r\n        };\r\n\r\n        const _component = {\r\n            name: 'dropzone',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element || !this._config.url) return;\r\n\r\n        this._config.create = this._config.create ? this._config.create : () => void 0;\r\n        this._config.url = this._config.url != null ? this._config.url : this._element.form.action;\r\n\r\n        this._config.previewsContainer = getElement(this._config.previewsContainer);\r\n\r\n        const getTemplate = () => {\r\n            return this._config.create[this._config.template](this._config);\r\n        };\r\n\r\n        if (this._config.csrfToken) {\r\n            this._config.headers = Object.assign(this._config.headers ?? {}, {\r\n                'X-CSRF-TOKEN': this._config.csrfToken\r\n            });\r\n        }\r\n\r\n        if (this._config.template) {\r\n            this._config.previewTemplate = getTemplate();\r\n        }\r\n\r\n        if (this._config.customTemplate) {\r\n            this._config.previewTemplate = this._config.customTemplate;\r\n        }\r\n\r\n        this._dropzone = new Dropzone(this._element, this._config);\r\n\r\n        // this._on(this._dropzone.hiddenFileInput, 'input', (e) => {\r\n\r\n        //     if (this._config.maxFiles == 1) {\r\n        //         this._dropzone.previewsContainer.innerHTML = '';\r\n        //     }\r\n\r\n        //     this._dispatchEvent('select', { target: e.target });\r\n        // });\r\n\r\n        this._dropzone.on('addedfile', (file) => {\r\n            // const queued = this._dropzone.getQueuedFiles();\r\n\r\n            // if (queued.length > 0 && this._config.maxFiles == 1) {\r\n            //     this._dropzone.removeFile(queued[0]);\r\n            // }\r\n\r\n            this._dispatchEvent('addedFile', { file });\r\n        });\r\n\r\n        // this._dropzone.on('addedfiles', (files) => {\r\n        //     console.log(files);\r\n        // });\r\n\r\n        this._dropzone.on('uploadprogress', (file, progress, bytesSent) => {\r\n            this._dispatchEvent('uploadProgress', { file, progress, bytesSent });\r\n        });\r\n\r\n        this._dropzone.on('totaluploadprogress', (totalUploadProgress, totalBytes, totalBytesSent) => {\r\n            this._dispatchEvent('totalUploadProgress', { totalUploadProgress, totalBytes, totalBytesSent });\r\n        });\r\n\r\n        this._dropzone.on('removedfile', (file) => this._dispatchEvent('removedFile', { file }));\r\n        this._dropzone.on('error', (file, message) => this._dispatchEvent('error', { file, message }));\r\n        this._dropzone.on('errormultiple', (files) => this._dispatchEvent('errorMultiple', { files }));\r\n        this._dropzone.on('sending', (file, xhr, formData) => this._dispatchEvent('sending', { file, xhr, formData }));\r\n        this._dropzone.on('sendingmultiple', (files) => this._dispatchEvent('sendingMultiple', { files }));\r\n        this._dropzone.on('processing', (file) => this._dispatchEvent('processing', { file }));\r\n        this._dropzone.on('processingmultiple', (files) => this._dispatchEvent('processingMultiple', { files }));\r\n        this._dropzone.on('complete', (file) => this._dispatchEvent('complete', { file }));\r\n        this._dropzone.on('completemultiple', (file) => this._dispatchEvent('completeMultiple', { file }));\r\n        this._dropzone.on('cancel', (file) => this._dispatchEvent('cancel', { file }));\r\n        this._dropzone.on('canceledmultiple', (file) => this._dispatchEvent('canceledMultiple', { file }));\r\n        this._dropzone.on('queuecomplete', () => this._dispatchEvent('queueComplete'));\r\n        this._dropzone.on('drop', () => this._dispatchEvent('drop'));\r\n        this._dropzone.on('dragstart', () => this._dispatchEvent('dragstart'));\r\n        this._dropzone.on('dragend', () => this._dispatchEvent('dragend'));\r\n        this._dropzone.on('dragenter', () => this._dispatchEvent('dragenter'));\r\n        this._dropzone.on('dragover', () => this._dispatchEvent('dragover'));\r\n        this._dropzone.on('dragleave', () => this._dispatchEvent('dragleave'));\r\n        this._dropzone.on('paste', () => this._dispatchEvent('paste'));\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    getQueuedFiles() {\r\n        return this._dropzone.getQueuedFiles();\r\n    }\r\n\r\n    getAcceptedFiles() {\r\n        return this._dropzone.getAcceptedFiles();\r\n    }\r\n\r\n    getRejectedFiles() {\r\n        return this._dropzone.getRejectedFiles();\r\n    }\r\n\r\n    /**\r\n     * Get queued or uploading files\r\n     */\r\n    getActiveFiles() {\r\n        return this._dropzone.getActiveFiles();\r\n    }\r\n\r\n    getAddedFiles() {\r\n        return this._dropzone.getAddedFiles();\r\n    }\r\n\r\n    getUploadingFiles() {\r\n        return this._dropzone.getUploadingFiles();\r\n    }\r\n\r\n    getFiles() {\r\n        return this._dropzone.files;\r\n    }\r\n\r\n    getFilesWithStatus(status) {\r\n        return this._dropzone.getFilesWithStatus(status);\r\n    }\r\n\r\n    addFile(mockFile, imageUrl, callback, crossOrigin, resizeThumbnail) {\r\n        if (imageUrl === undefined && mockFile.dataURL) {\r\n            imageUrl = mockFile.dataURL;\r\n        }\r\n\r\n        this._dropzone.displayExistingFile(mockFile, imageUrl, callback, crossOrigin, resizeThumbnail);\r\n    }\r\n\r\n    removeFile(file) {\r\n        this._dropzone.removeFile(file);\r\n    }\r\n\r\n    removeAllFiles(cancelUpload = false) {\r\n        this._dropzone.removeAllFiles(cancelUpload);\r\n    }\r\n    \r\n    destroy() {\r\n        this._dropzone.disable();\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default DropzoneUploader;","import { getElement } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Fetch extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            url: null,\r\n            method: 'get',\r\n            data: null,\r\n            delay: 1000,\r\n            csrfToken: null,\r\n            contentType: 'application/json',\r\n            value: 'value',\r\n            target: null\r\n        };\r\n\r\n        const _component = {\r\n            name: 'fetch',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element || !this._config.url) return;\r\n\r\n        this._config.target = getElement(this._config.target); \r\n        this._isLoading = false;\r\n        this._response = null;\r\n\r\n        this._fetch = async () => {\r\n            this._isLoading = true;\r\n            this._dispatchEvent('send');\r\n            const response = await fetch(this._config.url, {\r\n                method: this._config.method,\r\n                headers: {\r\n                    'Content-Type': this._config.contentType,\r\n                    'X-CSRF-TOKEN': this._config.csrfToken\r\n                },\r\n                body: this._config.data ? JSON.stringify(this._config.data) : null\r\n            }).catch((message) => {\r\n                this._debug(message);\r\n            }).finally(() => {\r\n                this._isLoading = false;\r\n            });\r\n\r\n            if (response.status != 200) {\r\n                this._dispatchEvent('fail', { message: response.statusText, response });\r\n            }\r\n\r\n            if (response.status == 200) {\r\n                this._dispatchEvent('success', { response });\r\n            }\r\n\r\n            this._response = response;\r\n        \r\n            return await response.json();\r\n        };\r\n\r\n        const onClick = (e) => {\r\n            if (this._isLoading) return;\r\n\r\n            this._fetch().then((data) => {\r\n                if (this._config.target instanceof HTMLElement && data[this._config.value]) {\r\n                    this._config.target.innerHTML = data[this._config.value];\r\n                }\r\n\r\n                this._dispatchEvent('done', { data, response: this._response });\r\n            });\r\n        };\r\n\r\n        if (this._element.type == 'button') {\r\n            this._on(this._element, 'click', onClick);\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Fetch;","import Component from '../component.js';\r\n\r\nclass Highlight extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {};\r\n\r\n        const _component = {\r\n            name: 'highlight',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config\r\n        };\r\n\r\n        super(_component);\r\n\r\n        // Prevent highlighting twice\r\n        if (this._element.classList.contains('hljs')) {\r\n            return;\r\n        }\r\n\r\n        // Store original code before highlighting \r\n        this._code = this._element.innerHTML;\r\n\r\n        hljs.highlightElement(this._element);\r\n    }\r\n\r\n    destroy() {\r\n        this._element.innerHTML = this._code;\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Highlight;\r\n","import { getElements, addClass, removeClass } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Input extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            classes: {\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'input',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        const types = {};\r\n        const actions = {};\r\n\r\n        const guessType = () => {\r\n            if (['radio', 'checkbox', 'select-one'].includes(this._element.type)) {\r\n                return  {\r\n                    event: 'change',\r\n                    type: this._element.type\r\n                };\r\n            }\r\n\r\n            if (['input'].includes(this._element.localName)) {\r\n                return  {\r\n                    event: 'input',\r\n                    type: this._element.localName\r\n                };\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Get actions from dataset and store them \r\n         * \r\n         * @param {DOMStringMap} dataset \r\n         */\r\n        const setActions = (dataset) => {\r\n            for (const key in dataset) {\r\n                const renamedKey = key.replace(this._component.name, '');\r\n\r\n                if (typeof actions[renamedKey] === 'function') {\r\n                    actions[renamedKey](dataset[key]);\r\n                }\r\n            }\r\n        };\r\n\r\n        const actionHandler = (selector, callback) => {\r\n            getElements(selector).forEach((element) => {\r\n                callback(element);\r\n            });\r\n        };\r\n\r\n        actions['Enable'] = (selector) => {\r\n            actionHandler(selector, (element) => {\r\n                element.disabled = false;\r\n            });\r\n        };\r\n\r\n        actions['Disable'] = (selector) => {\r\n            actionHandler(selector, (element) => {\r\n                element.disabled = true;\r\n            });\r\n        };\r\n\r\n        actions['Show'] = (selector) => {\r\n            actionHandler(selector, (element) => {\r\n                removeClass(element, this._config.classes.display);\r\n            });\r\n        };\r\n\r\n        actions['Hide'] = (selector) => {\r\n            actionHandler(selector, (element) => {\r\n                addClass(element, this._config.classes.display);\r\n            });\r\n        };\r\n\r\n        types['select-one'] = (e) => {\r\n            setActions(e.target.selectedOptions[0].dataset);\r\n        };\r\n\r\n        types['radio'] = types['checkbox'] = (e) => {\r\n            setActions(e.target.dataset);\r\n        };\r\n\r\n        this._on(this._element, guessType().event, types[guessType().type]);\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Input;","import Modal from './modal.js';\r\n\r\nclass Offcanvas extends Modal {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            target: null,\r\n            keyboard: true,\r\n            focus: false,\r\n            backdropFadeDuration: 200,\r\n            backdropClose: true,\r\n            hideBackdrop: false,\r\n            dialog: 'data-dialog',\r\n            content: 'data-content',\r\n            close: 'data-close',\r\n            backdrop: 'data-backdrop',\r\n            autoCloseDelay: 0,\r\n            history: false,\r\n            allowScroll: false,\r\n            zindex: 1045,\r\n            namespace: 'offcanvas',\r\n            classes: {\r\n                backdrop: null,\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        super(\r\n            element, \r\n            Object.assign(_defaults, config), \r\n            { \r\n                name: 'offcanvas'\r\n            }\r\n        );\r\n\r\n        // this._lockConfig({\r\n        //     autoCloseDelay: 0\r\n        // });\r\n    }\r\n}\r\n\r\nexport default Offcanvas;","import { getElement, getElements } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Password extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            letters: true,\r\n            mixed: false,\r\n            numbers: true,\r\n            symbols: true,\r\n            length: 8,\r\n            toggle: null,\r\n            progress: null,\r\n            confirm: null,\r\n            clearOnReset: true,\r\n            hint: 'data-password-hint'\r\n        };\r\n\r\n        const _component = {\r\n            name: 'password',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        this._totalScore = 1;\r\n        this._score = 0;\r\n        this._visible = false;\r\n        this._checked = [];\r\n        this._config.letters = this._config.mixed ? false : this._config.letters;\r\n        this._config.mixed = this._config.letters ? false : this._config.mixed;\r\n\r\n        this._config.toggle = typeof this._config.toggle === 'string' \r\n            ? getElement(this._config.toggle) \r\n            : this._config.toggle;\r\n\r\n        this._config.progress = typeof this._config.progress === 'string' \r\n            ? getElement(this._config.progress)\r\n            : this._config.progress;\r\n\r\n        this._config.confirm = typeof this._config.confirm === 'string' \r\n            ? getElement(this._config.confirm)\r\n            : this._config.confirm;\r\n\r\n        this._hints = getElements(`[${this._config.hint}]`);\r\n\r\n        const regex = {\r\n            letters: /(.*[a-zA-Z])/,\r\n            mixed: /([a-z].*[A-Z])|([A-Z].*[a-z])/,\r\n            numbers: /([0-9])/,\r\n            symbols: /([!,%,&,@,#,$,^,*,?,_,~])/ \r\n        };\r\n\r\n        for (const key in regex) {\r\n            if (this._config[key]) {\r\n                this._totalScore += 1;\r\n            }\r\n        }\r\n\r\n        if (this._config.progress instanceof HTMLElement) {\r\n            this._config.progress.style.width = `0%`;\r\n            this._config.progress.setAttribute('data-strength', 'weak');\r\n        }\r\n\r\n        if (this._config.toggle instanceof HTMLElement) {\r\n            this._config.toggle.setAttribute('aria-pressed', false);\r\n        }\r\n\r\n        if (this._config.confirm instanceof HTMLInputElement) {\r\n            this._element.setAttribute('data-match', false);\r\n            this._config.confirm.setAttribute('data-match', false);\r\n        }\r\n\r\n        const calculateStrength = () => {\r\n            if (this._element.value.length > (this._config.length - 1)) {\r\n                this._score += 1;\r\n                this._checked.push('length');\r\n            }\r\n\r\n            if (this._config.letters && this._element.value.match(regex.letters)) {\r\n                this._score += 1;\r\n                this._checked.push('letters');\r\n            }\r\n\r\n            if (this._config.mixed && this._element.value.match(regex.mixed)) {\r\n                this._score += 1;\r\n                this._checked.push('mixed');\r\n            }\r\n\r\n            if (this._config.numbers && this._element.value.match(regex.numbers)) {\r\n                this._score += 1;\r\n                this._checked.push('numbers');\r\n            }\r\n\r\n            if (this._config.symbols && this._element.value.match(regex.symbols)) {\r\n                this._score += 1;\r\n                this._checked.push('symbols');\r\n            }\r\n        };\r\n\r\n        const updateCheckedHint = () => {\r\n            if (this._hints.length === 0) return; \r\n\r\n            this._hints.forEach((hint) => {\r\n                if (this._checked.includes(hint.getAttribute(this._config.hint))) {\r\n                    hint.setAttribute('data-checked', true);\r\n                } else {\r\n                    hint.setAttribute('data-checked', false);\r\n                }\r\n            });\r\n        };\r\n\r\n        const onToggle = () => {\r\n            if (!this._config.toggle) return;\r\n\r\n            if(this._visible){\r\n                this._element.setAttribute('type', 'password');\r\n                this._config.toggle.setAttribute('aria-pressed', false);\r\n                this._visible = false;\r\n\r\n                return;\r\n            }\r\n                \r\n            this._element.setAttribute('type', 'text');\r\n            this._config.toggle.setAttribute('aria-pressed', true);\r\n            this._visible = true;\r\n        };\r\n\r\n        const onInput = () => {\r\n            this._score = 0;\r\n            this._checked = [];\r\n            calculateStrength();\r\n            const level = 100/3;\r\n            const multiplier = 100/this._totalScore;\r\n            const percentage = this._score * multiplier;\r\n\r\n            if (this._config.progress instanceof HTMLElement) {\r\n                this._config.progress.style.width = `${percentage}%`;\r\n\r\n                if (percentage > level * 2) {\r\n                    this._config.progress.setAttribute('data-strength', 'strong');\r\n                }\r\n                \r\n                if (percentage > level && percentage <= level * 2) {\r\n                    this._config.progress.setAttribute('data-strength', 'medium');\r\n                }\r\n                \r\n                if (percentage < level) {\r\n                    this._config.progress.setAttribute('data-strength', 'weak');\r\n                }\r\n            }\r\n\r\n            if (this._config.confirm instanceof HTMLInputElement) {\r\n                const match = this._element.value == this._config.confirm.value;\r\n                this._element.setAttribute('data-match', match);\r\n                this._config.confirm.setAttribute('data-match', match);\r\n            }\r\n\r\n            updateCheckedHint();\r\n        };\r\n\r\n        this._on(this._element, 'input', onInput);\r\n\r\n        if (this._config.toggle instanceof HTMLElement) {\r\n            this._on(this._config.toggle, 'click', onToggle);\r\n        }\r\n\r\n        if (this._config.confirm instanceof HTMLInputElement) {\r\n            this._on(this._config.confirm, 'input', () => {\r\n                const match = this._element.value == this._config.confirm.value;\r\n                this._element.setAttribute('data-match', match);\r\n                this._config.confirm.setAttribute('data-match', match);\r\n            });\r\n        }\r\n\r\n        if (this._config.clearOnReset) {           \r\n            if (this._element.form) {\r\n                this._on(this._element.form, 'reset', () => {\r\n                    this._element.value = '';\r\n                    onInput();\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Password;","import { setAttributes } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Pincode extends Component {\r\n    constructor(element, config) {\r\n        const _defaults = {\r\n            target: 'input',\r\n            numeric: true,\r\n            type: 'number',\r\n            mask: true,\r\n            maskDelay: 500,\r\n            focus: true,\r\n            autoSubmit: false\r\n        };\r\n\r\n        const _component = {\r\n            name: 'pincode',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: false,\r\n                leave: false\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        const targets = this._element.querySelectorAll(this._config.target);\r\n        this._config.type = !this._config.numeric ? 'text' : this._config.type;\r\n        this._config.maskDelay = parseInt(this._config.maskDelay);\r\n        this._data = [];\r\n        this._total = targets.length;\r\n        this._filled = 0;\r\n        this._value = '';\r\n        this._index = 0;\r\n        this._form = this._element.closest('form');\r\n\r\n        targets.forEach((target, index) => {\r\n\r\n            // Set attributes\r\n            setAttributes(target, {\r\n                autocomplete: 'off',\r\n                ariaInvalid: false,\r\n                dataIndex: index,\r\n                required: target.required ? '' : ''\r\n            });\r\n\r\n            // Set input type if numeric\r\n            if (this._config.numeric && target.type !== this._config.type) {\r\n                target.type = this._config.type;\r\n            }\r\n\r\n            // Focus if input is first\r\n            if (this._config.focus && index === 0) {\r\n                target.focus();\r\n            }\r\n\r\n            // Enable editing only for first input on load\r\n            if (index !== 0) {\r\n                target.disabled = true;\r\n            }\r\n\r\n            this._data.push({\r\n                filled: false,\r\n                invalid: false,\r\n                input: target,\r\n                index: index,\r\n                value: target.value\r\n            });\r\n        });\r\n\r\n        const maskValue = (input) => {\r\n            if (!this._config.mask || !input) return;\r\n\r\n            setTimeout(() => {\r\n                input.type = input.value.length > 0 ? 'password' : this._config.type;\r\n            }, this._config.maskDelay);\r\n        };\r\n\r\n        const getValue = (input) => {\r\n            return input.value.slice(-1); \r\n        };\r\n\r\n        const combineValues = () => {\r\n            let value = '';\r\n\r\n            this._data.forEach((data) => {\r\n                value += data.value;\r\n            });\r\n\r\n            this._filled = this._data.filter((data) => data.filled).length;\r\n\r\n            this._value = value;\r\n        };\r\n\r\n        const setValue = (reverse = false) => {\r\n            const index = this._index;\r\n            const current = this._data[index].input;\r\n            const previous = this._total > index && index !== 0 \r\n                ? this._data[index - 1].input\r\n                : null;\r\n            const next = index < (this._total - 1) && current.value.length > 0 \r\n                ? this._data[index + 1].input\r\n                : null;\r\n\r\n            current.value = reverse ? '' : getValue(current);\r\n            this._data[index].filled = current.value.length > 0 ? true : false;\r\n            this._data[index].value = current.value;\r\n\r\n            if (reverse && previous) {\r\n                previous.value = '';\r\n                previous.focus();\r\n                this._data[index - 1].filled = false;\r\n                this._data[index - 1].value = previous.value;\r\n                current.disabled = true;\r\n            }\r\n            \r\n            if (!reverse && next) {\r\n                next.disabled = false;\r\n                next.focus();\r\n            }\r\n\r\n            maskValue(reverse ? previous : current);\r\n            combineValues();\r\n        };\r\n\r\n        const emitInputEvent = () => {\r\n            this._dispatchEvent('input', { \r\n                filled: this._total === this._filled,\r\n                value: this._value \r\n            });\r\n        };\r\n\r\n        const emitFilledEvent = () => {\r\n            if (this._total === this._filled) {\r\n                this._dispatchEvent('filled', { value: this._value });\r\n\r\n                if (this._config.autoSubmit && this._form) {\r\n                    const submitter = this._form.querySelector('[type=submit]');\r\n                    this._form.requestSubmit(submitter);\r\n                }\r\n            }\r\n        };\r\n\r\n        const onInput = (e) => {\r\n            setValue();\r\n            emitInputEvent();\r\n            emitFilledEvent();\r\n        };\r\n\r\n        const onFocus = (e) => {\r\n            this._index = parseInt(e.target.dataset.index);\r\n        };\r\n\r\n        const onBlur = (e) => {\r\n            //\r\n        };\r\n\r\n        const onKeyup = (e) => {\r\n            if (['Backspace', 'Delete'].includes(e.key)) {\r\n                setValue(true);\r\n            }\r\n        };\r\n\r\n        const onReset = (e) => {\r\n            this._index = 0;\r\n            this._filled = 0;\r\n            this._value = '';\r\n\r\n            this._data.forEach((data, index) => {\r\n                data.filled = false;\r\n                data.invalid = false;\r\n                data.value = '';\r\n\r\n                // Focus if input is first\r\n                if (this._config.focus && index === 0) {\r\n                    data.input.focus();\r\n                }\r\n            });\r\n        };\r\n\r\n        this._data.forEach((data) => {\r\n            this._on(data.input, 'input', onInput);\r\n            this._on(data.input, 'focus', onFocus);\r\n            this._on(data.input, 'blur', onBlur);\r\n            this._on(data.input, 'keyup', onKeyup);\r\n        });\r\n\r\n        if (this._form) {            \r\n            this._on(this._form, 'reset', onReset);\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Pincode;","import { randomNumber, addClass, removeClass, setAttributes } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Tab extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            tab: 'data-tab',\r\n            panel: 'data-panel',\r\n            selected: 'data-selected',\r\n            disabled: 'data-disabled',\r\n            classes: {\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'tab',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        this._data = [];\r\n        this._selectedIndex = 0;\r\n        const id = this._element.id !== '' ? this._element.id : 'tab-' + randomNumber(4);\r\n        const tabs = this._element.querySelectorAll(`[${this._config.tab}]`);\r\n        const panels = this._element.querySelectorAll(`[${this._config.panel}]`);\r\n        this._lastIndex = tabs.length > 0 ? tabs.length - 1 : 0; \r\n        this._totalTabs = tabs.length;\r\n\r\n        /**\r\n         * Data returned through events\r\n         * \r\n         * @param {number} index \r\n         * @returns \r\n         */\r\n        const eventData = (index) => {\r\n            return {\r\n                index: index,\r\n                total: this._totalTabs,\r\n                next: this._data[index].active.next,\r\n                previous: this._data[index].active.previous,\r\n                tab: this._data[index].tab,\r\n                panel: this._data[index].panel\r\n            };\r\n        };\r\n\r\n        /**\r\n         * Get a tab panel by name \r\n         * \r\n         * @param {string} name \r\n         * @returns {null|object}\r\n         */\r\n        const getPanel = (name) => {\r\n            let result = null;\r\n\r\n            for (const panel of panels) {\r\n                if (panel.getAttribute(this._config.panel) == name) {\r\n                    result = panel;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return result;\r\n        };\r\n\r\n        /**\r\n         * Remove disabled tabs\r\n         * \r\n         * @returns {array}\r\n         */\r\n        const filter = () => {\r\n            return this._data.map((data) => {\r\n                if (data.disabled) {\r\n                    return;\r\n                }\r\n\r\n                return data.current;\r\n            }).filter(data => data !== undefined);\r\n        };\r\n\r\n        /**\r\n         * Get the next tab index\r\n         * \r\n         * @param {number} index\r\n         * @returns {number}\r\n         */\r\n        this._next = (index = null) => {\r\n            const filtered = filter();\r\n            index = index ? index : this._selectedIndex;\r\n\r\n            if (filtered.includes(index)) {\r\n                return index < (filtered.length - 1) \r\n                    ? filtered[filtered.indexOf(index) + 1] \r\n                    : 0;\r\n            }\r\n\r\n            return index;\r\n        };\r\n    \r\n        /**\r\n         * Get the previous tab index\r\n         * \r\n         * @param {number} index\r\n         * @returns {number}\r\n         */\r\n        this._previous = (index = null) => {\r\n            const filtered = filter();\r\n            index = index ? index : this._selectedIndex;\r\n\r\n            if (filtered.includes(index)) {\r\n                return index > 0\r\n                    ? filtered[filtered.indexOf(index) - 1] \r\n                    : filtered[filtered.length - 1];\r\n            }\r\n\r\n            return index;\r\n        };\r\n\r\n        /**\r\n         * hide all tabs \r\n         */\r\n        const hideAll = () => {\r\n            this._data.forEach((data, index) => {\r\n                const previous = data.selected ? data.current : null;\r\n\r\n                if (previous !== null) {\r\n                    this._dispatchEvent('hide', eventData(index));\r\n                }\r\n                \r\n                addClass(data.panel, this._config.classes.display);\r\n\r\n                data.selected = false;\r\n                setAttributes(data.tab, {\r\n                    tabindex: -1,\r\n                    ariaSelected: false\r\n                });\r\n\r\n                if (previous !== null) {\r\n                    this._dispatchEvent('hidden', eventData(index));\r\n                }\r\n            });\r\n        };\r\n\r\n        /**\r\n         * Show a tab \r\n         * \r\n         * @param {number} index \r\n         * @param {boolean} focus\r\n         */\r\n        this._show = (index, focus = false) => {\r\n            const data = this._data[index];\r\n            \r\n            if (!data || data.disabled) {\r\n                return;\r\n            }\r\n\r\n            hideAll();\r\n\r\n            this._dispatchEvent('show', eventData(index));\r\n\r\n            data.selected = true;\r\n            this._selectedIndex = index;\r\n            setAttributes(data.tab, {\r\n                tabindex: 0,\r\n                ariaSelected: true\r\n            });\r\n\r\n            if (focus) {\r\n                data.tab.focus();\r\n            }\r\n\r\n            removeClass(data.panel, this._config.classes.display);\r\n\r\n            const transitioned = this._transition('transitionEnter', data.panel, data.onTransitionEnterEnd);\r\n\r\n            if (transitioned) return;\r\n\r\n            this._dispatchEvent('shown', eventData(index));\r\n        };\r\n\r\n        /**\r\n         * Disable a single tab or all tabs\r\n         * \r\n         * @param {number} index \r\n         */\r\n        this._disable = (index) => {\r\n            const disable = (data) => {\r\n                setAttributes(data.tab, {\r\n                    tabindex: -1,\r\n                    ariaDisabled: true\r\n                });\r\n\r\n                if (data.tab.disabled !== undefined) {\r\n                    data.tab.disabled = true;\r\n                }\r\n            };\r\n\r\n            if (index != undefined) {\r\n                disable(this._data[index]);\r\n                this._data[index].disabled = true;\r\n            } else {\r\n                this._data.forEach((data) => {\r\n                    disable(data);\r\n                    data.disabled = true;\r\n                });\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Enable a single tab or all tabs\r\n         * \r\n         * @param {number} index \r\n         */\r\n        this._enable = (index) => {\r\n            const enable = (data) => {\r\n                setAttributes(data.tab, {\r\n                    tabindex: 0,\r\n                    ariaDisabled: false\r\n                });\r\n\r\n                if (data.tab.disabled !== undefined) {\r\n                    data.tab.disabled = false;\r\n                }\r\n            };\r\n\r\n            if (index != undefined) {\r\n                enable(this._data[index]);\r\n                this._data[index].disabled = false;\r\n            } else {\r\n                this._data.forEach((data) => {\r\n                    enable(data);\r\n                    data.disabled = false;\r\n                });\r\n            }\r\n        };\r\n\r\n        // Set tablist element attributes\r\n        setAttributes(this._element, {\r\n            role: 'tablist',\r\n            id: id\r\n        });\r\n\r\n        // Set attributes and states for tabs and panels\r\n        tabs.forEach((tab, index) => {\r\n            const panelSuffix = '-pane';\r\n            const name = tab.getAttribute(this._config.tab) == '' \r\n                ?   `${id}-${index}` \r\n                : tab.getAttribute(this._config.tab);\r\n\r\n            setAttributes(tab, {\r\n                role: 'tab',\r\n                id: name,\r\n                tabindex: -1,\r\n                ariaControls: name + panelSuffix,\r\n                ariaSelected: tab.hasAttribute(this._config.selected) ? true : false,\r\n                ariaDisabled: tab.hasAttribute(this._config.disabled) ? true : false,\r\n                dataIndex: index\r\n            });\r\n\r\n            if (tab.disabled === true && !tab.hasAttribute(this._config.disabled)) {\r\n                setAttributes(tab, {\r\n                    ariaDisabled: tab.disabled\r\n                });\r\n            }\r\n\r\n            if (tab.disabled === false && tab.hasAttribute(this._config.disabled)) {\r\n                tab.disabled = true;\r\n            }\r\n\r\n            if (tab.getAttribute('aria-selected') == 'true') {\r\n                this._selectedIndex = index;\r\n            }\r\n\r\n            let panel = getPanel(name);\r\n            panel = panel ? panel : panels[index];\r\n\r\n            setAttributes(panel, {\r\n                role: 'tabpanel',\r\n                id: name + panelSuffix,\r\n                tabindex: 0,\r\n                ariaLabelledby: name,\r\n                dataIndex: index\r\n            });\r\n\r\n            this._data.push({\r\n                current: index,\r\n                previous: index > 0 ? index - 1 : tabs.length - 1,\r\n                next: index < (tabs.length - 1) ? index + 1 : 0,\r\n                disabled: tab.getAttribute('aria-disabled') == 'true' ? true : false,\r\n                tab: tab,\r\n                panel: panel,\r\n                onClick: (e) => {\r\n                    e.preventDefault();\r\n                    this._show(index);\r\n                },\r\n                onTransitionEnterEnd: (e) => {\r\n                    this._dispatchEvent('shown', eventData(index));\r\n                },\r\n                onKeydown: (e) => {\r\n                    if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {\r\n                        e.preventDefault();\r\n                        this._show(this._next(), true);\r\n                    }\r\n            \r\n                    if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {\r\n                        e.preventDefault();\r\n                        this._show(this._previous(), true);\r\n                    }\r\n\r\n                    if (e.key === 'Home') {\r\n                        e.preventDefault();\r\n                        this._show(0, true);\r\n                    }\r\n\r\n                    if (e.key === 'End') {\r\n                        e.preventDefault();\r\n                        this._show(this._lastIndex, true);\r\n                    }\r\n                }\r\n            });\r\n        });\r\n\r\n        // After the data object is created, do the following\r\n        tabs.forEach((tab, index) => {\r\n            this._data[index]['selected'] = this._selectedIndex == index ? true : false;  \r\n            this._data[index]['active'] = {\r\n                next: !this._data[index]['disabled'] ? this._next(index) : -1,\r\n                previous: !this._data[index]['disabled'] ? this._previous(index) : -1\r\n            };\r\n        });\r\n\r\n        // Add events\r\n        this._data.forEach((data) => {\r\n            this._on(data.tab, 'click', data.onClick);\r\n            this._on(data.tab, 'keydown', data.onKeydown);\r\n        });\r\n\r\n        // Select default tab \r\n        this._show(this._selectedIndex);\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    show(index = 0) {\r\n        this._show(parseInt(index));\r\n    }\r\n\r\n    first() {\r\n        this._show(0);\r\n    }\r\n\r\n    last() {\r\n        this._show(this._lastIndex);\r\n    }\r\n\r\n    next() {\r\n        this._show(this._next());\r\n    }\r\n\r\n    previous() {\r\n        this._show(this._previous());\r\n    }\r\n\r\n    enable(index) {\r\n        this._enable(index);\r\n    }\r\n\r\n    disable(index) {\r\n        this._disable(index);\r\n    }\r\n\r\n    destroy() {\r\n        this._data = [];\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Tab;","import { addClass, removeClass } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Theme extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            theme: 'system',\r\n            target: document.documentElement,\r\n            optionAttribute: 'color-theme',\r\n            attribute: 'data-theme',\r\n            class: 'dark',\r\n            storage: 'theme'\r\n        };\r\n\r\n        const _component = {\r\n            name: 'theme',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config\r\n        };\r\n\r\n        super(_component);\r\n\r\n        this._theme = this._config.theme;\r\n        this._target = this._config.target instanceof HTMLElement ? this._config.target : document.querySelector(this._config.target);\r\n\r\n        this._updateTheme = () => { \r\n            this._target.setAttribute(this._config.optionAttribute, this._theme);\r\n\r\n            if (this._theme != 'system') {\r\n                if (this._theme == 'dark') {\r\n                    addClass(this._target, this._config.class);\r\n                } else {\r\n                    removeClass(this._target, this._config.class);\r\n                }\r\n\r\n                localStorage.setItem(this._config.storage, this._theme);\r\n                this._target.setAttribute(this._config.attribute, this._theme);\r\n                this._dispatchEvent('change', { theme: this._theme }, document);\r\n\r\n                return;\r\n            }\r\n\r\n            if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\r\n                addClass(this._target, this._config.class);\r\n                this._target.setAttribute(this._config.attribute, 'dark');\r\n            } else {\r\n                removeClass(this._target, this._config.class);\r\n                this._target.setAttribute(this._config.attribute, 'light');\r\n            }\r\n\r\n            localStorage.removeItem(this._config.storage);\r\n            this._dispatchEvent('change', { theme: this._theme }, document);\r\n        };\r\n\r\n        this._onClickChangeTheme = (e) => {\r\n            e.preventDefault();\r\n            this._updateTheme();\r\n            this._dispatchEvent('broadcast', { theme: this._theme }, document);\r\n        };\r\n\r\n        if (this._element) {   \r\n            this._on(this._element, 'click', this._onClickChangeTheme);\r\n        }\r\n    }\r\n\r\n    theme(theme) {\r\n        this._theme = theme || this._theme;\r\n        this._updateTheme();\r\n    }\r\n\r\n    destroy() {\r\n        this._target.removeAttribute(this._config.optionAttribute);\r\n        this._target.removeAttribute(this._config.attribute);\r\n        removeClass(this._target, this._config.class);\r\n        localStorage.removeItem(this._config.storage);\r\n        super.destroy();\r\n\r\n        if (this._element) {   \r\n            this._off(this._element, 'click', this._onClickChangeTheme);\r\n        }\r\n    }\r\n}\r\n\r\nexport default Theme;","import { isNumber, styles, addClass, setAttributes, showElement, hideElement, getElement } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Toast extends Component {\r\n    constructor(config) {\r\n\r\n        const _defaults = {\r\n            placement: 'bottom-start',\r\n            offset: ['24', '24'],\r\n            gap: 16,\r\n            delay: 5000,\r\n            stack: false,\r\n            create: null,\r\n            template: null,\r\n            container: null,\r\n            id: null,\r\n            zindex: 1090,\r\n            dismiss: 'data-dismiss',\r\n            classes: {\r\n                wrapper: null,\r\n                placement: null\r\n            },\r\n            onAction: null,\r\n            onClose: null\r\n        };\r\n\r\n        const _component = {\r\n            name: 'toast',\r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        this._config.create = this._config.create ? this._config.create : () => void 0;\r\n        this._container = getElement(this._config.container) || document.body;\r\n        this._config.zindex = parseInt(this._config.zindex) || 0;\r\n        this._config.delay = parseInt(this._config.delay);\r\n        this.isVisible = false;\r\n        let timeout;\r\n\r\n        this._config.offset = isNumber(this._config.offset)\r\n            ? [this._config.offset, this._config.offset]\r\n            : this._config.offset;\r\n\r\n        this._config.offset = typeof this._config.offset == 'string'\r\n            ? this._config.offset.split(' ')\r\n            : this._config.offset;\r\n\r\n        this._config.gap = parseInt(this._config.gap) || 16;\r\n        const stackingPosition = this._config.placement.includes('top') ? 'afterbegin' : 'beforeend';\r\n\r\n        const getTemplate = () => {\r\n            return this._config.create[this._config.template](this._config);\r\n        };\r\n\r\n        this._hide = () => {\r\n            clearTimeout(timeout);\r\n\r\n            const hide = () => {\r\n                hideElement(this._toast);\r\n                this._toast.remove();\r\n                this.isVisible = false;\r\n\r\n                if (this._placementGroup.childNodes.length == 0) {\r\n                    this._placementGroup.remove();\r\n                }\r\n\r\n                if (typeof this._config.onClose === 'function') {\r\n                    this._config.onClose()\r\n                }\r\n\r\n                this._removeEvent();\r\n            };\r\n            \r\n            const transitioned = this._transition('transitionLeave', this._toast, (e) => {\r\n                hide();\r\n            });\r\n\r\n            if (transitioned) return;\r\n\r\n            hide();\r\n        };\r\n\r\n        const show = () => {\r\n            if (!this._config.template) return;\r\n\r\n            this._placementGroup = this._container.querySelector(`[data-toast-group][data-placement=${this._config.placement}]`);\r\n\r\n            if (!this._placementGroup) {\r\n                const alignment = this._config.placement.split('-');\r\n\r\n                this._placementGroup = document.createElement('div');\r\n                setAttributes(this._placementGroup, {\r\n                    'data-toast-group': '',\r\n                    'data-placement': this._config.placement,\r\n                    'data-position': alignment[0],\r\n                    'data-align': alignment[1] || 'center'\r\n                });\r\n                styles(this._placementGroup, {\r\n                    position: `fixed`,\r\n                    visibility: 'hidden',\r\n                    inset: '0px',\r\n                    zIndex: this._config.zindex\r\n                });\r\n                addClass(this._placementGroup, this._config.classes.placement);\r\n\r\n                this._container.appendChild(this._placementGroup);\r\n            }\r\n            \r\n            if (!this.isVisible) {    \r\n                // Create toast           \r\n                this._toast = document.createElement('div');\r\n                this._toast.innerHTML = getTemplate(this._config);\r\n                this._toast.style.visibility = 'visible';\r\n\r\n                if (this._config.id) {\r\n                   this._toast.id = this._config.id; \r\n                }\r\n\r\n                hideElement(this._toast);\r\n                addClass(this._toast, this._config.classes.wrapper);\r\n                setAttributes(this._toast, {\r\n                    role: 'alert'\r\n                });\r\n\r\n                const dismissTriggers = this._toast.querySelectorAll(`[${this._config.dismiss}]`);\r\n                const actionTriggers = this._toast.querySelectorAll(`button:not([${this._config.dismiss}])`);\r\n                \r\n                dismissTriggers.forEach((trigger) => {\r\n                    if (!trigger.hasAttribute('aria-label')) {\r\n                        trigger.setAttribute('aria-label', 'Close');\r\n                    }\r\n\r\n                    this._on(trigger, 'click', this._hide);\r\n                });\r\n    \r\n                actionTriggers.forEach((trigger) => {\r\n                    this._on(trigger, 'click', () => {\r\n                        if (typeof this._config.onAction === 'function') {\r\n                            this._config.onAction(trigger)\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n\r\n            if (!this._config.stack) {\r\n                this._placementGroup.innerHTML = '';\r\n            }\r\n\r\n            this._placementGroup.insertAdjacentElement(stackingPosition, this._toast);\r\n            showElement(this._toast);\r\n            this.isVisible = true;\r\n\r\n            const transitioned = this._transition('transitionEnter', this._toast);\r\n\r\n            if (this._config.delay >= 3000) {                \r\n                timeout = setTimeout(this._hide, this._config.delay);\r\n            }\r\n            \r\n            if (transitioned) return;\r\n        };\r\n\r\n        show();\r\n    }\r\n\r\n    hide() {\r\n        this._hide();\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Toast;","import { addClass, removeClass, setAttributes } from '../utils.js';\r\nimport Component from '../component.js';\r\n\r\nclass Toggle extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            addClass: null,\r\n            removeClass: null,\r\n            target: null\r\n        };\r\n\r\n        const _component = {\r\n            name: 'toggle',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config\r\n        };\r\n\r\n        super(_component);\r\n        \r\n        if (!this._element) return;\r\n\r\n        this._config.create = typeof this._config.create == 'string'\r\n            ? this._config.create.split(' ')\r\n            : this._config.create;\r\n\r\n        const toggles = this._createConfig(this._config.create, [\r\n            'addClass', \r\n            'removeClass', \r\n            'target'\r\n        ]);\r\n\r\n        this._toggled = false;\r\n        setAttributes(this._element, {\r\n            ariaPressed: this._toggled,\r\n            role: 'button'\r\n        });\r\n\r\n        const toggleState = (options) => {\r\n            options.targets.forEach((target) => {\r\n                const eventName = parseFloat(window.getComputedStyle(target).animationDuration) > 0\r\n                    ? 'animationend'\r\n                    : parseFloat(window.getComputedStyle(target).transitionDuration) > 0\r\n                        ? 'transitionend'\r\n                        : null;\r\n\r\n                this._dispatchEvent('toggle', { toggled: this._toggled, config: this._config }, target);\r\n\r\n                if (target.dataset.toggled == 'true') {\r\n                    this._toggled = false;\r\n                    this._element.setAttribute('aria-pressed', this._toggled);\r\n                    target.setAttribute('data-toggled', false);\r\n                    addClass(target, options.removeClass);\r\n                    removeClass(target, options.addClass);\r\n                } else {\r\n                    this._toggled = true;\r\n                    this._element.setAttribute('aria-pressed', this._toggled);\r\n                    target.setAttribute('data-toggled', true);\r\n                    removeClass(target, options.removeClass);\r\n                    addClass(target, options.addClass);\r\n                }\r\n\r\n                if (eventName) {  \r\n                    this._one(target, eventName, () => {\r\n                        this._dispatchEvent('toggled', { toggled: this._toggled, config: this._config }, target);\r\n                    });\r\n\r\n                    return;\r\n                }\r\n\r\n                this._dispatchEvent('toggled', { toggled: this._toggled, config: this._config }, target);\r\n            });    \r\n        };\r\n        \r\n        this._toggle = () => {\r\n            for (const key in toggles) {\r\n                const options = {\r\n                    addClass: this._config[toggles[key]['addClass']],\r\n                    removeClass: this._config[toggles[key]['removeClass']],\r\n                    targets: this._config[toggles[key]['target']] \r\n                        ? document.querySelectorAll(this._config[toggles[key]['target']])\r\n                        : [ this._element ]\r\n                };\r\n                \r\n                toggleState(options);\r\n            }           \r\n        };\r\n\r\n        const toggle = (e) => {\r\n            e.preventDefault();\r\n            this._toggle();\r\n        };\r\n\r\n        this._on(this._element, 'click', toggle);\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    toggle() {\r\n        this._toggle();\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Toggle;","import { randomNumber, removeClass, showElement, hideElement } from '../utils.js';\r\nimport Component from '../component.js';\r\nimport { computePosition, offset, inline, flip, shift, limitShift, arrow, autoUpdate } from '@floating-ui/dom';\r\n\r\nclass Tooltip extends Component {\r\n    constructor(element, config) {\r\n        \r\n        const _defaults = {\r\n            target: null,\r\n            content: '',\r\n            placement: 'top',\r\n            container: null,\r\n            offset: 8,\r\n            shift: 8,\r\n            showDelay: 0,\r\n            hideDelay: 0,\r\n            trigger: ['hover', 'focus'],\r\n            arrow: true,\r\n            arrowPadding: 8,\r\n            html: false,\r\n            zindex: 1080,\r\n            classes: {\r\n                wrapper: null,\r\n                arrow: null,\r\n                display: 'hidden'\r\n            }\r\n        };\r\n\r\n        const _component = {\r\n            name: 'tooltip',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        if (!this._element) return;\r\n\r\n        this._config.target = typeof this._config.target == 'string'\r\n            ? document.querySelector(this._config.target)\r\n            : null;\r\n\r\n        this._config.container = typeof this._config.container == 'string'\r\n            ? document.querySelector(this._config.container)\r\n            : this._config.container instanceof HTMLElement\r\n            ? this._config.container\r\n            : document.body;\r\n\r\n        this._config.trigger = typeof this._config.trigger == 'string' \r\n            ? this._config.trigger.split(' ') \r\n            : this._config.trigger instanceof Array \r\n            ? this._config.trigger \r\n            : [];\r\n\r\n        this._config.showDelay = parseInt(this._config.showDelay);\r\n        this._config.hideDelay = parseInt(this._config.hideDelay);\r\n        this._content = this._config.content; \r\n        this._contentType = 'innerText';\r\n        this._isShown = false;\r\n        const _id = 'tooltip-' + randomNumber(4);\r\n        let tooltip, tooltipContent, tooltipArrow;\r\n\r\n        if (this._element.hasAttribute('title')) {\r\n            this._content = this._element.title;\r\n            this._element.setAttribute('data-tooltip-original-title', this._element.title);\r\n            this._element.removeAttribute('title');\r\n        }\r\n\r\n        if (this._element.hasAttribute('aria-label') && !this._element.hasAttribute('title')) {\r\n            this._content = this._element.getAttribute('aria-label');\r\n        }\r\n        \r\n        // Create tooltip\r\n        if (this._config.target) {\r\n            tooltip = this._config.target;\r\n\r\n            tooltip.setAttribute('id', tooltip.hasAttribute('id') ? tooltip.id : _id);\r\n            tooltip.style.display = 'none';\r\n            tooltip.style.zIndex = this._config.zindex;\r\n            removeClass(tooltip, this._config.classes.display);\r\n\r\n            tooltipContent = tooltip.querySelector('[data-content]');\r\n            tooltipArrow = tooltip.querySelector('[data-arrow]');\r\n\r\n            if (!this._config.arrow && tooltipArrow) {\r\n                tooltipArrow.style.display = 'none';\r\n            }\r\n\r\n            this._content = tooltipContent?.innerHTML || this._content; \r\n            this._contentType = 'innerHTML';\r\n            tooltip.remove();\r\n        } else {\r\n            const type = this._config.html ? 'innerHTML' : 'innerText'\r\n            this._contentType = type;\r\n            tooltip = document.createElement('div');\r\n            tooltip.id = _id;\r\n            tooltip.style.display = 'none';\r\n            tooltip.style.position = 'absolute';\r\n            tooltip.style.top = 0;\r\n            tooltip.style.left = 0;\r\n            tooltip.style.zIndex = this._config.zindex;\r\n            tooltip.className = this._config.classes.wrapper ? this._config.classes.wrapper : '';\r\n            tooltip.setAttribute('role', 'tooltip');\r\n\r\n            tooltipContent = document.createElement('div');\r\n            tooltipContent[type] = this._content;\r\n            tooltipContent.setAttribute('data-content', '');\r\n            tooltip.appendChild(tooltipContent);\r\n\r\n            if (this._config.arrow) {\r\n                tooltipArrow = document.createElement('div');\r\n                tooltipArrow.style.position = 'absolute';\r\n                tooltipArrow.style.transform = 'rotate(45deg)';\r\n                tooltipArrow.style.backgroundColor = 'inherit';\r\n                tooltipArrow.style.width = '8px';\r\n                tooltipArrow.style.height = '8px';\r\n                tooltipArrow.style.zIndex = '-1';\r\n                tooltipArrow.className = this._config.classes.arrow ? this._config.classes.arrow : '';\r\n                tooltipArrow.setAttribute('data-arrow', '');\r\n                tooltip.appendChild(tooltipArrow);\r\n            }\r\n        }\r\n\r\n        if (this._content.length == 0) return;\r\n\r\n        this._tooltip = tooltip;\r\n        this._tooltipContent = tooltipContent;\r\n        this._tooltipArrow = this._config.arrow ? tooltipArrow : null;\r\n\r\n        this._element.setAttribute('aria-describedby', _id);\r\n\r\n        let autoUpdatePosition = () => void 0;\r\n\r\n        const setPosition = () => {\r\n            computePosition(this._element, this._tooltip, {\r\n                placement: this._config.placement,\r\n                middleware: [ \r\n                    offset(this._config.offset),\r\n                    inline(),\r\n                    flip(),\r\n                    shift({ \r\n                        padding: this._config.shift,\r\n                        limiter: limitShift()\r\n                    }),\r\n                    arrow({ \r\n                        element: this._tooltipArrow,\r\n                        padding: this._config.arrowPadding\r\n                    })\r\n                ]\r\n            }).then(({ x, y, placement, middlewareData }) => {\r\n                const { offset, flip, shift, arrow } = middlewareData;\r\n\r\n                Object.assign(this._tooltip.style, {\r\n                    left: `${x}px`,\r\n                    top: `${y}px`,\r\n                });\r\n\r\n                const staticSide = {\r\n                    top: 'bottom',\r\n                    right: 'left',\r\n                    bottom: 'top',\r\n                    left: 'right',\r\n                }[placement.split('-')[0]];\r\n\r\n                if (this._tooltipArrow) {                    \r\n                    Object.assign(this._tooltipArrow.style, {\r\n                        left: arrow.x != null ? `${arrow.x}px` : '',\r\n                        top: arrow.y != null ? `${arrow.y}px` : '',\r\n                        right: '',\r\n                        bottom: '',\r\n                        [staticSide]: `${-this._tooltipArrow.offsetHeight / 2}px`,\r\n                    });\r\n                }\r\n            });\r\n        };\r\n\r\n        const updatePosition = () => { \r\n            return autoUpdate(this._element, this._tooltip, setPosition);\r\n        };\r\n\r\n        this._show = () => {\r\n            this._setTimeout(() => {\r\n                this._dispatchEvent('show');\r\n\r\n                if (!this._config.container.contains(this._tooltip)) {\r\n                    this._config.container.appendChild(this._tooltip);\r\n                }\r\n\r\n                autoUpdatePosition = updatePosition();\r\n                showElement(this._tooltip);\r\n                this._isShown = true;\r\n\r\n                const transitioned = this._transition('transitionEnter', this._tooltip, (e) => {\r\n                    this._dispatchEvent('shown');\r\n                });\r\n\r\n                if (transitioned) {\r\n                    return;\r\n                }\r\n    \r\n                showElement(this._tooltip);\r\n                this._dispatchEvent('shown');\r\n\r\n            }, this._config.showDelay);\r\n        };\r\n\r\n        this._hide = () => {\r\n            if (!this._isShown) {\r\n                clearTimeout(this._timeout);\r\n\r\n                return;\r\n            }\r\n            \r\n            this._setTimeout(() => {\r\n                this._dispatchEvent('hide');\r\n\r\n                const transitioned = this._transition('transitionLeave', this._tooltip, (e) => {\r\n                    this._dispatchEvent('hidden');\r\n                    autoUpdatePosition();\r\n                    hideElement(this._tooltip);\r\n                    this._isShown = false;\r\n                    this._tooltip.remove();\r\n                });\r\n\r\n                if (transitioned) {\r\n                    return;\r\n                }\r\n    \r\n                hideElement(this._tooltip);\r\n                this._isShown = false;\r\n                this._tooltip.remove();\r\n                this._dispatchEvent('hidden');\r\n\r\n            }, this._config.hideDelay);\r\n        };\r\n\r\n        this._toggle = (e) => {\r\n            if (this._isShown) {\r\n                this._hide();\r\n\r\n                return;\r\n            }\r\n\r\n            this._show();\r\n        }\r\n\r\n        const onKeydown = (e) => {\r\n            if (e.key === 'Escape' && this._isShown) {\r\n                this._hide();\r\n            }\r\n        };\r\n\r\n        const onHoverDestroy = (e) => {\r\n            this.destroy();\r\n        };\r\n\r\n        for (let i = 0; i < this._config.trigger.length; i++) {\r\n            if (!['click', 'focus', 'hover', 'once'].includes(this._config.trigger[i])) {\r\n                break;\r\n            }\r\n\r\n            if (this._config.trigger[i] == 'click') {\r\n                this._on(this._element, 'click', this._toggle);\r\n            }\r\n\r\n            if (this._config.trigger[i] == 'hover') {                \r\n                this._on(this._element, 'mouseenter', this._show);\r\n                this._on(this._element, 'mouseleave', this._hide);\r\n            }\r\n\r\n            if (this._config.trigger[i] == 'focus') {\r\n                this._on(this._element, 'focusin', this._show);\r\n                this._on(this._element, 'focusout', this._hide);\r\n            }\r\n\r\n            if (i == 0 && this._config.trigger[i] == 'once') {                \r\n                this._on(this._element, 'mouseenter', onHoverDestroy);\r\n                this._on(this._element, 'focusin', onHoverDestroy);\r\n            }\r\n        }\r\n\r\n        this._on(document, 'keydown', onKeydown);\r\n\r\n        this._dispatchEvent('initialize');\r\n\r\n        if (this._config.trigger.length == 1 && this._config.trigger[0] == 'once') {                \r\n            this.show();\r\n        }\r\n    }\r\n\r\n    toggle() {\r\n        this._toggle();\r\n    }\r\n\r\n    show() {\r\n        this._show();\r\n    }\r\n\r\n    hide() {\r\n        this._hide();\r\n    }\r\n\r\n    content(content) {\r\n        content = content || '';\r\n        this._tooltipContent[this._contentType] = content;\r\n    }\r\n\r\n    reset() {\r\n        this._tooltipContent[this._contentType] = this._content;\r\n    }\r\n\r\n    destroy() {\r\n        this._hide();\r\n\r\n        if (this._element.hasAttribute('data-tooltip-original-title')) {\r\n            this._element.setAttribute('title', this._content);\r\n            this._element.removeAttribute('data-tooltip-original-title');\r\n        }\r\n\r\n        this._element.removeAttribute('aria-describedby');\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Tooltip;","import Component from '../component.js';\r\n\r\nclass Scroll extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            trigger: 'auto',\r\n            target: null,\r\n            container: null\r\n        };\r\n\r\n        const _component = {\r\n            name: 'scroll',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config\r\n        };\r\n\r\n        super(_component);\r\n\r\n        const handler = {};\r\n        const container = this._config.container ? document.querySelector(this._config.container) : this._element;\r\n        const target = container.querySelector(this._config.target);\r\n\r\n        handler['auto'] = () => {\r\n            if (target) {\r\n                const middle = container.offsetHeight / 2;\r\n                container.scrollTop = target.offsetTop - middle;\r\n            }\r\n        };\r\n\r\n        handler[this._config.trigger]();\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Scroll;","import Component from '../component.js';\r\n\r\nclass Scrollspy extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            type: 'navigation',\r\n            root: document,\r\n            rootMargin: '0px',\r\n            threshold: 0,\r\n            offset: 0,\r\n            trigger: null,\r\n            target: null\r\n        };\r\n\r\n        const _component = {\r\n            name: 'scrollspy',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config\r\n        };\r\n\r\n        super(_component);\r\n\r\n        this._triggers = document.querySelectorAll(this._config.trigger);\r\n        this._targets = document.querySelectorAll(this._config.target);\r\n        this._activeNav = null;\r\n\r\n        this._scroller = this._config.root == window || this._config.root == document\r\n            ? window \r\n            : document.querySelector(this._config.root);\r\n\r\n        this._config.root = this._scroller == window \r\n            ? document.documentElement \r\n            : this._scroller;\r\n\r\n        const callback = {};\r\n        let initialScrollPosition = this._config.root.scrollTop;\r\n\r\n        this._setActiveNavState = () => {\r\n            for (const target of this._targets) {\r\n                if (target.hash == '#' + this._activeNav) {\r\n                    target.setAttribute('aria-current', true);\r\n                } else {\r\n                    target.setAttribute('aria-current', false);\r\n                }\r\n            }\r\n        };\r\n\r\n        this._onScrollNavigation = (e) => {\r\n            this._setTimeout(() => {  \r\n                const scrollPosition = this._config.root.scrollTop;\r\n\r\n                if (this._triggers.length > 0) {      \r\n                    if (scrollPosition < (this._triggers[0].offsetTop - this._config.offset)) {\r\n                        this._activeNav = null;\r\n                        this._setActiveNavState();\r\n                    } else {\r\n                        for (const trigger of this._triggers) {\r\n                            if (scrollPosition >= (trigger.offsetTop - this._config.offset)) {\r\n                                this._activeNav = trigger.id;\r\n                                this._setActiveNavState();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n            }, 50);\r\n        };\r\n\r\n        // Type: Navigation\r\n        if (this._config.type === 'navigation') { \r\n            this._onScrollNavigation();   \r\n            this._on(this._scroller, 'scroll', this._onScrollNavigation);\r\n        }\r\n\r\n        // Navigation callback\r\n        /* callback.navigation = (entries, observer) => {\r\n            const skippedEntries = entries.filter(entry => entry.boundingClientRect.top < 0);\r\n            const skippedEntriesTop = skippedEntries.map(entry => entry.boundingClientRect.top);\r\n            const lastSkippedEntry = Math.max(...skippedEntriesTop);\r\n            const lastSkippedEntryIndex = skippedEntriesTop.indexOf(lastSkippedEntry);\r\n            const lastEntry = lastSkippedEntryIndex != -1 ? skippedEntries[lastSkippedEntryIndex] : null;\r\n\r\n            for (const entry of entries) {\r\n                const currentScrollPosition = window.scrollY;\r\n\r\n                // On load\r\n                if (currentScrollPosition == initialScrollPosition) {\r\n                    let initialEntry = null;\r\n\r\n\r\n                    for (const loadedEntry of entries) {\r\n                        if (loadedEntry.isIntersecting) {\r\n                            initialEntry = loadedEntry;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (initialEntry) {\r\n                        this._setActiveNavState(initialEntry.target.id);\r\n                        break;\r\n                    }\r\n\r\n                    if (lastEntry && !initialEntry) {\r\n                        this._setActiveNavState(lastEntry.target.id);\r\n                        break;\r\n                    }\r\n                } \r\n\r\n                // Scrolling down\r\n                if (currentScrollPosition > initialScrollPosition) {\r\n                    if (entry.isIntersecting) {\r\n                        this._setActiveNavState(entry.target.id);\r\n                    }\r\n                } \r\n                \r\n                // Scrolling up\r\n                if (currentScrollPosition < initialScrollPosition) {\r\n                    if (entry.isIntersecting) {\r\n                        this._setActiveNavState(entry.target.id);\r\n                    } else {\r\n                        const index = [...this._triggers].indexOf(entry.target);\r\n                        const current = index > 0 ? this._triggers[index - 1].id : null;\r\n                        this._setActiveNavState(current);\r\n                    }\r\n                }\r\n\r\n                initialScrollPosition = currentScrollPosition;\r\n            }\r\n        };\r\n        \r\n        this._observer = new IntersectionObserver(callback[this._config.type], this._config);  \r\n\r\n        this._triggers.forEach((item) => {\r\n            this._observer.observe(item);\r\n        }); */\r\n    }\r\n\r\n    destroy() {\r\n        // this._setActiveNavState();\r\n        // this._triggers.forEach((item) => {\r\n        //     this._observer.unobserve(item);\r\n        // });\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Scrollspy;","import { styles, stringToDom, showElement, hideElement, deepGet } from '../utils.js';\r\nimport Component from '../component.js';\r\nimport { computePosition, offset, flip, autoUpdate } from '@floating-ui/dom';\r\nimport TomSelect from '../plugins/tomselect/2.2.2/tom-select.js';\r\nimport TomSelect_remove_button from '../plugins/tomselect/2.2.2/plugins/remove_button/plugin.js';\r\nimport TomSelect_clear_button from '../plugins/tomselect/2.2.2/plugins/clear_button/plugin.js';\r\nimport TomSelect_checkbox_options from '../plugins/tomselect/2.2.2/plugins/checkbox_options/plugin.js';\r\nimport TomSelect_caret_position from '../plugins/tomselect/2.2.2/plugins/caret_position/plugin.js';\r\nimport TomSelect_input_autogrow from '../plugins/tomselect/2.2.2/plugins/input_autogrow/plugin.js';\r\nimport TomSelect_no_active_items from '../plugins/tomselect/2.2.2/plugins/no_active_items/plugin.js';\r\nimport TomSelect_no_backspace_delete from '../plugins/tomselect/2.2.2/plugins/no_backspace_delete/plugin.js';\r\n\r\nclass Select extends Component {\r\n    constructor(element, config) {\r\n\r\n        const _defaults = {\r\n            remote: null,\r\n            loadOnce: false,\r\n            loadFresh: false,\r\n            preload: false,\r\n            valueField: \"value\",\r\n            labelField: \"text\",\r\n            searchField: [\"text\"],\r\n            sortField: \"$order\",\r\n            data: null,\r\n            maxOptions: 50,\r\n            maxItems: null,\r\n            lock: false,\r\n            placeholder: null,\r\n            persist: true,\r\n            create: false,\r\n            allowEmptyOption: false,\r\n            clearOnReset: true,\r\n            offset: 8,\r\n            zindex: 1000,\r\n            arrowLabel: null,\r\n            hidePlaceholder: false,\r\n            loader: null,\r\n            removeButton: false,\r\n            removeButtonTitle: '',\r\n            removeButtonLabel: '&times;',\r\n            clearButton: false,\r\n            clearButtonTitle: '',\r\n            clearButtonLabel: '&times;',\r\n            checkbox: false,\r\n            caretPosition: false,\r\n            backspaceDelete: true,\r\n            itemSelection: true,\r\n            disableSearch: false,\r\n            blurOnSelect: false,\r\n            createFilter: null,\r\n            createNotFound: false,\r\n            classes: {\r\n                wrapper: '',\r\n                input: '',\r\n                dropdownWrapper: '',\r\n                dropdown: '',\r\n                item: '',\r\n                itemSingle: '',\r\n                option: '',\r\n                optgroup: '',\r\n                optgroupLabel: '',\r\n                createOption: '',\r\n                highlight: '',\r\n                arrow: '',\r\n                removeButton: '',\r\n                clearButton: '',\r\n                checkbox: '',\r\n                noResults: '',\r\n                loading: '',\r\n                loader: ''\r\n            },\r\n            createText: 'Add <strong>:value...</strong>',\r\n            searchText: 'No results found for \":value\"',\r\n            emptyRemoteText: 'No results found',\r\n        };\r\n\r\n        const _component = {\r\n            name: 'select',\r\n            element: element, \r\n            defaultConfig: _defaults, \r\n            config: config, \r\n            transitions: {\r\n                enter: true,\r\n                leave: true\r\n            }\r\n        };\r\n\r\n        super(_component);\r\n\r\n        // Load plugins\r\n        TomSelect.define('remove_button', TomSelect_remove_button);\r\n        TomSelect.define('clear_button', TomSelect_clear_button);\r\n        TomSelect.define('checkbox_options', TomSelect_checkbox_options);\r\n        TomSelect.define('caret_position', TomSelect_caret_position);\r\n        TomSelect.define('input_autogrow', TomSelect_input_autogrow);\r\n        TomSelect.define('no_active_items', TomSelect_no_active_items);\r\n        TomSelect.define('no_backspace_delete', TomSelect_no_backspace_delete);\r\n\r\n        if (!this._element) return;\r\n\r\n        const mode = ['select-one'].includes(this._element.type) ? 'single' : 'multi';\r\n        let autoUpdatePosition = () => void 0;\r\n        let plugins = {};\r\n        this._selectedRemote = [];\r\n\r\n        this._config.searchField = this._config.searchField instanceof Array \r\n            ? this._config.searchField \r\n            : this._config.searchField.split(' ');\r\n\r\n        const setPosition = () => {\r\n            computePosition(this._tomSelect.control, this._tomSelect.dropdown_content, {\r\n                placement: 'bottom-start',\r\n                middleware: [ \r\n                    offset(this._config.offset),\r\n                    flip()\r\n                ]\r\n            }).then(({ x, y, placement, middlewareData }) => {\r\n                const { offset, flip } = middlewareData;\r\n\r\n                Object.assign(this._tomSelect.dropdown_content.style, {\r\n                    left: `${x}px`,\r\n                    top: `${y}px`,\r\n                    zIndex: this._config.zindex\r\n                });\r\n            });\r\n        };\r\n\r\n        const updatePosition = () => { \r\n            return autoUpdate(this._tomSelect.control, this._tomSelect.dropdown_content, setPosition);\r\n        };\r\n\r\n        const resetPositionStyles = () => {\r\n            styles(this._tomSelect.dropdown_content, {\r\n                top: null,\r\n                left: null,\r\n                zIndex: null\r\n            });\r\n        };\r\n\r\n        const clearButtonVisibility = () => {\r\n            if (this._config.clearButton) {\r\n                const clearButton = this._tomSelect.control.querySelector('[data-ts-clear]');\r\n                \r\n                if (this._tomSelect.items.length > 0) {\r\n                    showElement(clearButton);\r\n                } else {\r\n                    hideElement(clearButton);\r\n                }\r\n            }\r\n        };\r\n\r\n        const showLoader = (show = true) => {\r\n            if (!this._config.remote) return;\r\n\r\n            const loader = this._tomSelect.control.querySelector('[data-ts-loader]');\r\n\r\n            if (loader) {\r\n                if (show) {\r\n                    showElement(loader);\r\n                } else {\r\n                    hideElement(loader);\r\n                }\r\n            }\r\n        };\r\n\r\n        const getText = (key, value) => {\r\n            return this._config[key].replace(':value', value);\r\n        };\r\n\r\n        const hasValue = (value) => {\r\n            let result = false;\r\n\r\n            for (const key in this._tomSelect.options) {\r\n                if (value.toLowerCase() == key.toLowerCase()) {\r\n                    result = true;\r\n\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return result;\r\n        };\r\n\r\n        // Enable caret position and auto grow plugin\r\n        if (this._config.caretPosition) {\r\n            plugins.caret_position = {};\r\n            plugins.input_autogrow = {};\r\n        }\r\n\r\n        // Enable plugin to disable selection of items\r\n        if (!this._config.itemSelection) {\r\n            plugins.no_active_items = {};\r\n        }\r\n\r\n        // Enable plugin to disable deleting items with backspace key\r\n        if (!this._config.backspaceDelete) {\r\n            plugins.no_backspace_delete = {};\r\n        }\r\n\r\n        // Show/hide remove button plugin\r\n        if (this._config.removeButton && mode === 'multi') {\r\n            plugins.remove_button = {\r\n                label: this._config.removeButtonLabel,\r\n                title: this._config.removeButtonTitle,\r\n                className: this._config.classes.removeButton\r\n            };\r\n        }\r\n\r\n        // Show/hide clear button plugin\r\n        if (this._config.clearButton) {\r\n            plugins.clear_button = {\r\n                html: () => {\r\n                    const disabled = this._element.disabled ? 'disabled' : '';\r\n                    \r\n                    return `<button type=\"button\" class=\"${this._config.classes.clearButton}\" title=\"${this._config.clearButtonTitle}\" aria-label=\"clear\" data-multiple=\"${mode === 'multi'}\" ${disabled} data-ts-clear style=\"display: none\">${this._config.clearButtonLabel}</button>`;\r\n                }\r\n            };\r\n        }\r\n\r\n        // Show/hide option checkbox plugin\r\n        if (this._config.checkbox && mode === 'multi') {\r\n            plugins.checkbox_options = {\r\n                className: this._config.classes.checkbox\r\n            };\r\n        }\r\n\r\n        // Get selected options when using remote data \r\n        if (this._config.remote && this._config.loadOnce && this._element.tagName === 'SELECT') {\r\n            [...this._element.selectedOptions].forEach((option) => {\r\n                this._selectedRemote.push({\r\n                    [this._config.valueField]: option.value,\r\n                    [this._config.labelField]: option.label\r\n                });\r\n\r\n                // Remove option \r\n                option.remove();\r\n            });\r\n        }\r\n\r\n        // Create if option is not found \r\n        if (this._config.createNotFound) {\r\n            this._config.create = (input, callback) => {\r\n                if (hasValue(input)) return false;\r\n                \r\n                callback({value:input, text:input});\r\n            };\r\n        }\r\n\r\n        let options = {\r\n            valueField: this._config.valueField,\r\n            labelField: this._config.labelField,\r\n            searchField: this._config.searchField,\r\n            sortField: this._config.sortField,\r\n            maxOptions: this._config.maxOptions,\r\n            maxItems: mode === 'single' ? 1 : this._config.maxItems,\r\n            preload: this._config.preload,\r\n            create: this._config.create,\r\n            persist: this._config.persist,\r\n            allowEmptyOption: this._config.allowEmptyOption,\r\n            createFilter: this._config.createFilter,\r\n            controlClass: this._config.classes.wrapper,\r\n            controlInput: `<input type=\"text\" autocomplete=\"off\" size=\"1\" class=\"${this._config.classes.input}\" ${this._config.disableSearch ? 'readonly' : ''} />`,\r\n            dropdownContentClass: this._config.classes.dropdown,\r\n            dropdownClass: this._config.classes.dropdownWrapper,\r\n            itemClass: mode === 'multi' ? this._config.classes.item : this._config.classes.itemSingle,\r\n            optionClass: this._config.classes.option,\r\n            hidePlaceholder: this._config.hidePlaceholder,\r\n            highlightClass: this._config.classes.highlight,\r\n            plugins: plugins\r\n        };\r\n\r\n        if (this._config.placeholder) {\r\n            options.placeholder = this._config.placeholder;\r\n        }\r\n\r\n        options.onFocus = () => {  \r\n            if (this._config.caretPosition && this._tomSelect.settings.mode === 'multi') {\r\n                this._tomSelect.control_input.style.minWidth = '1px';\r\n                this._tomSelect.control_input.setAttribute('data-minimize', true);\r\n                this._tomSelect.settings.placeholder = '';\r\n                this._tomSelect.inputState();\r\n            }\r\n\r\n            this._dispatchEvent('focus');\r\n        };\r\n\r\n        options.onBlur = () => {  \r\n            if (this._config.caretPosition && this._tomSelect.settings.mode === 'multi') {\r\n                this._tomSelect.control_input.style.minWidth = null;\r\n                this._tomSelect.control_input.setAttribute('data-minimize', false);\r\n                this._tomSelect.settings.placeholder = this._config.placeholder;\r\n                this._tomSelect.inputState();\r\n            }\r\n\r\n            // Restore hidden selected item\r\n            if (this._tomSelect.items.length === 1 && this._tomSelect.settings.mode === 'single') {\r\n                showElement(this._tomSelect.control.firstElementChild, null);\r\n            }\r\n\r\n            this._dispatchEvent('blur');\r\n        };\r\n\r\n        options.onType = (string) => {\r\n            // Hide selected item when typing and is single select\r\n            if (this._tomSelect.items.length === 1 && this._tomSelect.settings.mode === 'single') {\r\n                if (string.length > 0) {\r\n                    hideElement(this._tomSelect.control.firstElementChild);\r\n                } else {\r\n                    showElement(this._tomSelect.control.firstElementChild);\r\n                }\r\n            }\r\n            \r\n            this._dispatchEvent('type', { string });\r\n        };\r\n\r\n        options.onChange = (value) => {  \r\n            // Show/hide clear button based on number of items\r\n            clearButtonVisibility();\r\n\r\n            if (this._config.blurOnSelect && this._tomSelect.settings.mode === 'single') {\r\n                this._tomSelect.blur();\r\n            }\r\n\r\n            this._dispatchEvent('change', { value });\r\n        };\r\n\r\n        options.onDropdownOpen = (dropdown) => {\r\n            autoUpdatePosition = updatePosition();\r\n\r\n            if (this._arrow) this._arrow.setAttribute('data-opened', true);\r\n\r\n            this._dispatchEvent('dropdownOpen', { dropdown });\r\n        };\r\n\r\n        options.onDropdownClose = (dropdown) => {\r\n            autoUpdatePosition();\r\n            resetPositionStyles();\r\n\r\n            if (this._arrow) this._arrow.setAttribute('data-opened', false);\r\n\r\n            if (this._config.remote && this._config.loadFresh && !this._config.loadOnce) {                            \r\n                this._tomSelect.clearOptions();\r\n            }\r\n\r\n            this._dispatchEvent('dropdownClose', { dropdown });\r\n        };\r\n\r\n        options.onItemAdd = (value, item) => {\r\n            this._dispatchEvent('itemAdd', { value, item, data: this._tomSelect.options[value] });\r\n        };\r\n\r\n        options.onItemRemove = (value, item) => {\r\n            if (this._config.remote && this._config.loadFresh && !this._config.loadOnce) {                            \r\n                this._tomSelect.removeOption(value);\r\n                this._tomSelect.refreshOptions();\r\n            }\r\n\r\n            this._dispatchEvent('itemRemove', { value, item, data: this._tomSelect.options[value] });\r\n        };\r\n\r\n        options.onLoad = (options, optgroup) => {\r\n            showLoader(false);\r\n\r\n            this._dispatchEvent('load', { options, optgroup });\r\n        };\r\n\r\n        options.render = {\r\n            option: (data, escape) => {\r\n                let attributes = '';\r\n\r\n                if (this._config.data instanceof Object && this._config.remote != null) {\r\n\r\n                    for (const key in this._config.data) {\r\n                        const value = deepGet(data, this._config.data[key]);\r\n    \r\n                        if (value != undefined) {\r\n                            attributes += value instanceof Object \r\n                                ? ` data-${key}='${JSON.stringify(value)}'`\r\n                                : ` data-${key}=\"${value}\"`;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return `<div${attributes}>${escape(data[this._config.labelField])}</div$>`;\r\n            },\r\n            item: (data, escape) => {\r\n                return `<div>${escape(data[this._config.labelField])}</div>`;\r\n            },\r\n            option_create: (data, escape) => {\r\n                if (this._config.createNotFound && hasValue(escape(data.input))) return;\r\n\r\n                return `<div class=\"create ${this._config.classes.createOption}\">${getText('createText', escape(data.input))}</div>`;\r\n            },\r\n            no_results: (data, escape) => {\r\n                return `<div class=\"${this._config.classes.noResults}\">${getText('searchText', escape(data.input))}</div>`;\r\n            },\r\n            not_loading: (data, escape) => {\r\n                if (this._config.emptyRemoteText == '') return;\r\n\r\n                if (this._tomSelect.currentResults.total == 0) {\r\n                    if (this._tomSelect.currentResults.query.length == 0) {\r\n                        return `<div class=\"${this._config.classes.noResults}\">${getText('emptyRemoteText', escape(data.input))}</div>`;\r\n                    }\r\n\r\n                    return `<div class=\"${this._config.classes.noResults}\">${getText('searchText', escape(data.input))}</div>`;\r\n                }\r\n            },\r\n            optgroup: (data) => {\r\n                const optgroup = document.createElement('div');\r\n                optgroup.className = this._config.classes.optgroup;\r\n                optgroup.appendChild(data.options);\r\n\r\n                return optgroup;\r\n            },\r\n            optgroup_header: (data, escape) => {\r\n                return `<div class=\"${this._config.classes.optgroupLabel}\">${escape(data.label)}</div>`;\r\n            },\r\n            loading: (data, escape) => {\r\n                return `<div class=\"${this._config.classes.loading}\">Loading...</div>`;\r\n            },\r\n            dropdown: () => {\r\n                return `<div></div>`;\r\n            }\r\n        };\r\n\r\n        // If remote url is set \r\n        if (this._config.remote) {\r\n            options.load = async (query, callback) => {\r\n                const columns = this._config.searchField.join(',');\r\n                const url = `${this._config.remote}?q=${encodeURIComponent(query)}&columns=${columns}`;\r\n                showLoader();\r\n\r\n                await fetch(url)\r\n                    .then(response => response.json())\r\n                    .then(json => {\r\n                        callback(json);\r\n\r\n                        // Set selected items after load\r\n                        if (this._config.remote && this._config.loadOnce && this._element.tagName === 'SELECT') {                      \r\n\r\n                            if (this._tomSelect.settings.mode === 'single') {\r\n                                this._tomSelect.addOption(this._selectedRemote[0]);\r\n                                this._tomSelect.addItem(this._selectedRemote[0][this._config.valueField]);\r\n                            } else {\r\n                                const selectedItems = [];\r\n\r\n                                for (const item of this._selectedRemote) {\r\n                                    selectedItems.push(item[this._config.valueField]);\r\n                                }\r\n\r\n                                this._tomSelect.addOptions(this._selectedRemote);\r\n                                this._tomSelect.addItems(selectedItems);\r\n                            }\r\n\r\n                            this._tomSelect.refreshOption();\r\n                        }\r\n\r\n                        // showLoader(false);\r\n                    }).catch(()=>{\r\n                        callback();\r\n                    });\r\n            };\r\n\r\n            options.shouldLoad = (query) => {\r\n                if (this._config.loadOnce) return false;\r\n            \r\n                // if (this._config.loadOnce) {\r\n                //     return true;\r\n                // }\r\n\r\n                return query.length > 1;\r\n            };\r\n        }\r\n\r\n        // Init TomSelect\r\n        this._tomSelect = new TomSelect(this._element, options);\r\n\r\n        // Sync placeholder\r\n        this._config.placeholder = this._config.placeholder || this._tomSelect.settings.placeholder;\r\n\r\n        // Set a data minimize attribute for caret position plugin\r\n        this._tomSelect.control_input.setAttribute('data-minimize', false);\r\n\r\n        // Show arrow if single select \r\n        if (this._config.arrowLabel && this._tomSelect.settings.mode === 'single') {\r\n            const arrow = stringToDom(`<div data-ts-arrow data-opened=\"false\"></div>`);\r\n            arrow.className = this._config.classes.arrow;\r\n            arrow.innerHTML = this._config.arrowLabel;\r\n\r\n            this._tomSelect.control.appendChild(arrow);\r\n            this._arrow = arrow;\r\n        }\r\n\r\n        // Add loader to control element\r\n        if (this._config.remote && this._config.loader) {\r\n            const multiple = this._tomSelect.settings.mode === 'multi';\r\n            const fragment = `<div class=\"${this._config.classes.loader}\" data-multiple=\"${multiple}\" data-ts-loader style=\"display:none\">${this._config.loader}</div>`;\r\n            this._tomSelect.control_input.insertAdjacentHTML('afterend', fragment);\r\n        }\r\n\r\n        // Show/hide clear button based on number of items\r\n        clearButtonVisibility();\r\n\r\n        // Call the lock() method if lock option is true\r\n        if (this._config.lock) this._tomSelect.lock();\r\n\r\n        // Clear on form reset\r\n        if (this._config.clearOnReset) {              \r\n            if (this._tomSelect.input.form) {\r\n                this._on(this._tomSelect.input.form, 'reset', () => {\r\n                    this._tomSelect.clear(true);\r\n\r\n                    if (this._config.allowEmptyOption && this._tomSelect.input.selectedOptions.length > 0) {\r\n                        this._tomSelect.addItem(this._tomSelect.input.selectedOptions[0].value, true);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        this._dispatchEvent('initialize');\r\n    }\r\n\r\n    getOption(value, create = false) {\r\n        return this._tomSelect.getOption(value, create);\r\n    }\r\n\r\n    addItem(value, silent = false) {\r\n        this._tomSelect.addItem(value, silent);\r\n    }\r\n\r\n    clear(silent = false) {\r\n        this._tomSelect.clear(silent);\r\n    }\r\n\r\n    disable() {\r\n        this._tomSelect.disable();\r\n        this._tomSelect.control.setAttribute('data-disabled', true);\r\n    }\r\n\r\n    enable() {\r\n        this._tomSelect.enable();\r\n        this._tomSelect.control.setAttribute('data-disabled', false);\r\n    }\r\n\r\n    destroy() {\r\n        super.destroy();\r\n    }\r\n}\r\n\r\nexport default Select;"],"names":["config","prefix","elementPropName","parseNestedDatasetKey","keys","value","data","key","substr","toLowerCase","length","splice","extend","options","extended","deep","i","merge","obj","prop","Object","prototype","hasOwnProperty","call","toString","deepClone","clone","assign","forEach","Array","isArray","from","stringToDom","html","HTMLElement","string","indexOf","template","document","createElement","innerHTML","trim","content","firstChild","isNumber","isNaN","parseFloat","isFinite","showElement","element","display","style","hideElement","styles","styleName","setAttributes","attributes","attribute","setAttribute","kebabCase","addClass","classNames","split","classList","add","removeClass","remove","getElement","selector","context","querySelector","getElements","NodeList","querySelectorAll","deepGet","reduce","xs","x","undefined","capitalize","charAt","toUpperCase","slice","replace","letter","randomNumber","String","Date","now","Math","random","sort","join","shuffle","substring","window","UIkit","storeUikitInstance","component","instance","this","globalConfig","store","events","components","setConfig","register","name","args","destroy","push","autoload","filter","componentName","error","console","Component","constructor","_component","defaultConfig","classes","debug","maxMobileWidth","storage","transitions","enter","leave","_element","_timeout","getDatasetConfig","dataset","splat","JSON","parse","parseNestedDataset","object","search","entries","map","fromEntries","replaceObjectKeys","configFactory","existingClasses","_config","includes","filteredClasses","_lockConfig","_isTransitioning","_events","_storage","set","setItem","get","getItem","removeItem","transitionEnter","transitionEnterStart","transitionEnterEnd","transitionLeave","transitionLeaveStart","transitionLeaveEnd","_hasTransition","_transition","type","callback","transitionEvent","transition","transitionCleanup","animationDuration","getComputedStyle","_one","e","requestAnimationFrame","_storeEvent","target","eventName","handler","eventItem","once","passive","useCapture","listener","_removeEvent","item","removeEventListener","_prefixedEventName","_createConfig","configNames","allowedOptions","items","option","newName","_isMobile","matchMedia","matches","_debug","message","_removeInstance","_dispatchEvent","detail","callbackName","self","Function","setTimeout","dispatchEvent","CustomEvent","_on","addEventListener","_off","_setTimeout","timeout","clearTimeout","eventArray","on","off","one","Idiomorph","EMPTY_SET","Set","defaults","morphStyle","callbacks","beforeNodeAdded","noOp","afterNodeAdded","beforeNodeMorphed","afterNodeMorphed","beforeNodeRemoved","afterNodeRemoved","beforeAttributeUpdated","head","shouldPreserve","elt","getAttribute","shouldReAppend","shouldRemove","afterHeadMorphed","morphNormalizedContent","oldNode","normalizedNewContent","ctx","block","oldHead","newHead","promises","handleHeadElement","Promise","all","then","ignore","morphChildren","children","bestMatch","newContent","currentElement","bestElement","score","newScore","scoreElement","nextSibling","findBestNodeMatch","previousSibling","morphedNode","morphOldNodeTo","stack","added","node","pop","parentElement","insertBefore","insertSiblings","ignoreValueOfActiveElement","possibleActiveElement","ignoreActiveValue","activeElement","body","ignoreActive","isSoftMatch","HTMLHeadElement","to","nodeType","fromAttributes","toAttributes","fromAttribute","ignoreAttribute","toAttribute","hasAttribute","removeAttribute","nodeValue","HTMLInputElement","fromValue","toValue","syncBooleanAttribute","HTMLOptionElement","HTMLTextAreaElement","syncInputValue","syncNodeFrom","replaceChild","newParent","oldParent","newChild","nextNewChild","insertionPoint","appendChild","removeIdsFromConsideration","isIdSetMatch","idSetMatch","findIdSetMatch","removeNodesBetween","softMatch","findSoftMatch","tempNode","removeNode","attr","updateType","attributeName","ignoreUpdate","newHeadTag","currentHead","removed","preserved","nodesToAppend","headMergeStyle","srcToNewHeadNodes","Map","newHeadChild","outerHTML","currentHeadElt","inNewContent","has","isReAppended","isPreserved","delete","values","newNode","newElt","createRange","createContextualFragment","href","src","resolve","promise","_resolve","removedElement","removeChild","kept","node1","node2","tagName","id","getIdIntersectionCount","startInclusive","endExclusive","newChildPotentialIdCount","potentialMatch","otherMatchCount","potentialSoftMatch","siblingSoftMatchCount","isIdInConsideration","deadIds","idIsWithinNode","targetNode","idMap","idSet","sourceSet","matchCount","populateIdMapForNode","nodeParent","idElements","current","createIdMap","oldContent","morph","Document","documentElement","parser","DOMParser","contentWithSvgsRemoved","match","parseFromString","generatedByIdiomorph","htmlElement","parseContent","normalizedContent","Node","dummyParent","append","normalizeContent","finalConfig","mergeDefaults","createMorphContext","root","factory","moment","exports","require","module","define","amd","req","Pikaday","hasMoment","hasEventListeners","sto","addEvent","el","capture","attachEvent","removeEvent","detachEvent","hasClass","cn","className","str","test","isDate","getTime","isWeekend","date","day","getDay","isLeapYear","year","getDaysInMonth","month","setToStartOfDay","setHours","compareDates","a","b","overwrite","hasProp","nodeName","fireEvent","ev","createEvent","initEvent","createEventObject","adjustCalendar","calendar","ceil","abs","floor","field","bound","ariaLabel","position","reposition","format","defaultDate","setDefaultDate","firstDay","firstWeekOfYearMinDays","formatStrict","minDate","maxDate","yearRange","showWeekNumber","pickWholeWeek","minYear","maxYear","minMonth","maxMonth","startRange","endRange","isRTL","yearSuffix","showMonthAfterYear","showDaysInNextAndPreviousMonths","enableSelectionDaysInNextAndPreviousMonths","numberOfMonths","mainCalendar","container","blurFieldOnSelect","i18n","previousMonth","nextMonth","months","weekdays","weekdaysShort","theme","onInitialize","onSelect","onBeforeOpen","onOpen","onBeforeClose","onClose","onDraw","keyboardInput","heading","autoClose","showButtons","buttonsPlacement","buttons","clear","today","cancel","apply","calendarClass","headerClass","monthClass","yearClass","titleClass","previousClass","nextClass","weekdayClass","daysClass","dayClass","buttonsClass","clearClass","todayClass","cancelClass","applyClass","renderDayName","opts","abbr","renderDay","arr","ariaSelected","isEmpty","isDisabled","isToday","isSelected","hasEvent","isInRange","isStartRange","isEndRange","renderWeek","d","m","y","week","isoWeek","yearDay","getDate","weekDay","dayInFirstWeek","dayShift","prevWeekDay","setDate","jan4th","getFullYear","daysBetween","round","renderRow","days","isRowSelected","reverse","renderTitle","c","refYear","randId","j","monthHtml","yearHtml","_o","isMinYear","isMaxYear","prev","next","renderTable","renderHead","renderHeading","title","renderFoot","button","_onMouseDown","_v","event","srcElement","toDateString","hide","blur","getMonth","parentNode","prevMonth","_c","preventDefault","returnValue","_onChange","gotoMonth","gotoYear","_onKeyChange","isVisible","adjustDate","_parseFieldValue","isValid","toDate","_onInputChange","firedBy","_onInputFocus","show","_onInputClick","_onInputBlur","pEl","_b","_onClick","onchange","trigger","defDate","gotoDate","disableWeekends","disableDayFn","nom","parseInt","setMinDate","setMaxDate","fallback","_d","getMoment","setMoment","preventOnSelect","isMoment","draw","min","max","newCalendar","calendars","firstVisibleDate","lastVisibleDate","visibleDate","setMonth","adjustCalendars","sign","newDay","difference","valueOf","gotoToday","setStartRange","setEndRange","force","_y","_m","render","focus","adjustPosition","width","height","viewportWidth","viewportHeight","scrollTop","left","top","clientRect","leftAligned","bottomAligned","offsetWidth","offsetHeight","innerWidth","clientWidth","innerHeight","clientHeight","pageYOffset","getBoundingClientRect","pageXOffset","bottom","offsetLeft","offsetTop","offsetParent","before","row","yearOfPreviousMonth","yearOfNextMonth","daysInPreviousMonth","cells","after","isWeekSelected","r","dayNumber","monthNumber","yearNumber","dayConfig","unshift","v","Pikaday$1","createCoords","oppositeSideMap","right","oppositeAlignmentMap","start","end","clamp","evaluate","param","getSide","placement","getAlignment","getOppositeAxis","axis","getAxisLength","getSideAxis","getAlignmentAxis","getOppositeAlignmentPlacement","alignment","getOppositePlacement","side","getPaddingObject","padding","expandPaddingObject","rectToClientRect","rect","computeCoordsFromPlacement","_ref","rtl","reference","floating","sideAxis","alignmentAxis","alignLength","isVertical","commonX","commonY","commonAlign","coords","async","detectOverflow","state","_await$platform$isEle","platform","rects","elements","strategy","boundary","rootBoundary","elementContext","altBoundary","paddingObject","clippingClientRect","getClippingRect","isElement","contextElement","getDocumentElement","getOffsetParent","offsetScale","getScale","elementClientRect","convertOffsetParentRelativeRectToViewportRelativeRect","getBoundingRect","minX","minY","offset","fn","_middlewareData$offse","_middlewareData$arrow","middlewareData","diffCoords","mainAxisMulti","crossAxisMulti","rawValue","mainAxis","crossAxis","convertValueToCoords","arrow","alignmentOffset","getNodeName","isNode","getWindow","_node$ownerDocument","ownerDocument","defaultView","Element","isHTMLElement","isShadowRoot","ShadowRoot","isOverflowElement","overflow","overflowX","overflowY","isTableElement","isContainingBlock","webkit","isWebKit","css","transform","perspective","containerType","backdropFilter","some","willChange","contain","getContainingBlock","currentNode","getParentNode","isLastTraversableNode","CSS","supports","getNodeScroll","scrollLeft","result","assignedSlot","host","getNearestOverflowAncestor","getOverflowAncestors","list","traverseIframes","_node$ownerDocument2","scrollableAncestor","isBody","win","concat","visualViewport","frameElement","getCssDimensions","hasOffset","shouldFallback","$","unwrapElement","domElement","Number","noOffsets","getVisualOffsets","includeScale","isFixedStrategy","scale","visualOffsets","isFixed","floatingOffsetParent","shouldAddVisualOffsets","offsetWin","currentIFrame","iframeScale","iframeRect","clientLeft","paddingLeft","clientTop","paddingTop","topLayerSelectors","topLayer","isTopLayer","setIsTopLayer","containingBlock","getWindowScrollBarX","getClientRectFromClippingAncestor","clippingAncestor","visualViewportBased","getViewportRect","scroll","scrollWidth","scrollHeight","direction","getDocumentRect","getInnerBoundingClientRect","hasFixedPositionAncestor","stopNode","getRectRelativeToOffsetParent","isOffsetParentAnElement","offsets","offsetRect","topLayerX","topLayerY","getTrueOffsetParent","polyfill","clippingAncestors","cache","cachedResult","currentContainingBlockComputedStyle","elementIsFixed","computedStyle","currentNodeIsContaining","ancestor","getClippingElementAncestors","firstClippingAncestor","clippingRect","accRect","getElementRects","getOffsetParentFn","getDimensionsFn","getDimensions","getClientRects","autoUpdate","update","ancestorScroll","ancestorResize","elementResize","ResizeObserver","layoutShift","IntersectionObserver","animationFrame","referenceEl","ancestors","cleanupIo","onMove","timeoutId","io","cleanup","_io","disconnect","refresh","skip","threshold","rootMargin","isFirstUpdate","handleObserve","ratio","intersectionRatio","observe","observeMove","frameId","reobserveFrame","resizeObserver","firstEntry","unobserve","cancelAnimationFrame","_resizeObserver","prevRefRect","frameLoop","nextRefRect","_resizeObserver2","shift","checkMainAxis","checkCrossAxis","limiter","detectOverflowOptions","mainAxisCoord","crossAxisCoord","maxSide","limitedCoords","flip","_middlewareData$flip","initialPlacement","fallbackPlacements","specifiedFallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment","isBasePlacement","oppositePlacement","getExpandedPlacements","isStart","lr","rl","tb","bt","getSideList","getOppositeAxisPlacements","placements","overflows","overflowsData","sides","mainAlignmentSide","getAlignmentSides","every","_middlewareData$flip2","_overflowsData$filter","nextIndex","index","nextPlacement","reset","resetPlacement","_overflowsData$map$so","acc","arrowDimensions","isYAxis","minProp","maxProp","clientProp","endDiff","startDiff","arrowOffsetParent","clientSize","centerToReference","largestPossiblePadding","minPadding","maxPadding","min$1","center","shouldAddOffset","centerOffset","inline","nativeClientRects","clientRects","sortedRects","groups","prevRect","getRectsByLine","resetRects","find","firstRect","lastRect","isTop","isLeftSide","maxRight","minLeft","measureRects","limitShift","rawOffset","computedOffset","len","limitMin","limitMax","_middlewareData$offse2","isOriginSide","computePosition","mergedOptions","platformWithCache","middleware","validMiddleware","Boolean","statefulPlacement","resetCount","nextX","nextY","computePosition$1","Modal","componentSettings","super","keyboard","backdropFadeDuration","backdropClose","hideBackdrop","dialog","close","backdrop","autoCloseDelay","history","allowScroll","zindex","namespace","_isOpened","_previous","_modal","_dialog","_content","_initialFocus","_finalFocus","modalId","closeTriggers","tabindex","role","ariaModal","zIndex","innerText","eventData","onClickShow","_show","onClickHide","_hide","autoCloseModal","getFocusable","tabIndex","setFocus","focusable","total","storeModal","openedModals","firstModal","firstModalTrigger","removeModal","modal","getTotalModals","isFirstModal","getFirstModalTrigger","clearModals","getPreviousModal","previousModal","setOpenedDialogsAttribute","openedDialogs","removeOpenedDialogsAttribute","hideScrollbar","marginRight","restoreModalScrollbar","backgroundColor","opacity","showBackdrop","_backdrop","scrollBarWidth","transitionEndEvent","removeBackdrop","transitionDuration","previousInstance","shiftKey","contains","visible","_transitionCleanup","removeAttributes","forEvents","MicroEvent","fct","event_array","n","arguments","arrayToPattern","chars","maxValueLength","sequencePattern","array","hasDuplicates","pattern","prev_char_count","prev_pattern","char","setToPattern","toArray","size","escape_regex","longest","unicodeLength","p","allSubstrings","input","subresult","tmp","code_points","unicode_map","multi_char_reg","latin_convert","latin_condensed","aa","ae","ao","au","av","ay","f","g","h","k","l","o","oe","oi","oo","ou","q","s","t","th","tz","u","vy","w","z","hv","latin","unicode","convert_pat","RegExp","normalize","form","asciifold","_asciifold","generateSets","unicode_sets","addMatching","folded","to_add","folded_set","patt","code_point_min","code_point_max","composed","fromCharCode","code_point","generator","generateMap","multi_char","multi_char_patt","substringsToPattern","min_replacement","sub_pat","strings","chars_replaced","mapSequence","sequencesToPattern","sequences","sequence","seq","substrs","inSequences","needle_seq","needle_parts","parts","part","needle_part","Sequence","last","last_piece","stringify","last_part","last_substr","clone_last_len","getPattern","_code_points","match_str","overlapping","added_types","new_seq","old_seq","getAttr","getAttrNesting","names","scoreValue","token","weight","pos","regex","propToArray","iterate$1","cmp","Sifter","settings","diacritics","tokenize","query","respect_word_boundaries","weights","tokens","words","field_regex","word","field_match","getScoreFunction","prepareSearch","_getScoreFunction","token_count","fields","field_count","getAttrFn","scoreObject","sum","conjunction","getSortFunction","_getSortFunction","implicit_score","sort_flds","sort_empty","bind","get_field","fld","sort_fld","optsUser","nesting","fn_score","_","fn_sort","limit","iterate","getDom","jquery","isHtmlString","tpl","arg","triggerEvent","dom_el","event_name","applyCSS","addClasses","elmts","norm_classes","classesArray","castAsArray","cls","removeClasses","_classes","parentMatch","wrapper","getTail","nodeIndex","amongst","previousElementSibling","setAttr","attrs","val","replaceNode","existing","replacement","highlight","highlightClass","highlightRecursive","spannode","middlebit","splitText","middleclone","cloneNode","highlightText","childNodes","highlightChildren","KEY_SHORTCUT","navigator","userAgent","optgroups","plugins","delimiter","splitOn","persist","create","createOnBlur","createFilter","openOnFocus","shouldOpen","maxOptions","maxItems","hideSelected","duplicates","addPrecedence","selectOnTab","preload","allowEmptyOption","loadThrottle","loadingClass","dataAttr","optgroupField","valueField","labelField","disabledField","optgroupLabelField","optgroupValueField","lockOptgroupOrder","sortField","searchField","searchConjunction","mode","wrapperClass","controlClass","dropdownClass","dropdownContentClass","itemClass","optionClass","dropdownParent","controlInput","copyClassesToDropdown","placeholder","hidePlaceholder","shouldLoad","hash_key","get_hash","escape_html","loadDebounce","delay","loading","loadedSearches","debounce_events","types","event_args","evt","stop","stopPropagation","isKeyDown","key_name","altKey","ctrlKey","metaKey","getId","existing_id","addSlashes","parent","getSettings","settings_user","attr_data","field_label","field_value","field_disabled","field_optgroup","field_optgroup_label","field_optgroup_value","tag_name","textContent","optionsMap","group_count","readData","addOption","settings_element","json","group","option_data","disabled","$option","selected","child","optgroup","optgroup_data","data_raw","opt","init_textbox","instance_i","TomSelect","Interface","requested","loaded","initializePlugins","queue","plugin","loadPlugin","Error","MicroPlugin","input_arg","user_settings","dir","control_input","dropdown","control","dropdown_content","focus_node","order","is_select_tag","inputId","_destroy","sifter","isOpen","isRequired","isInvalid","isLocked","isFocused","isInputHidden","isSetup","ignoreFocus","ignoreHover","hasOptions","currentResults","lastValue","caretPos","activeOption","activeItems","userOptions","tomselect","getPropertyValue","required","setupCallbacks","setupTemplates","_render","inputMode","setup","passive_event","listboxId","control_id","escapeQuery","label","label_click","for","label_id","classes_plugins","multiple","load","target_match","onOptionHover","onOptionSelect","onItemSelect","onClick","onKeyDown","onKeyPress","onInput","onBlur","onFocus","onPaste","doc_mousedown","composedPath","inputState","win_scroll","positionDropdown","revertSettings","insertAdjacentElement","sync","refreshState","updateOriginalInput","refreshItems","disable","enable","onChange","setupOptions","addOptions","registerOptionGroup","templates","optgroup_header","escape","option_create","no_results","not_loading","initialize","change","item_add","item_remove","item_select","option_add","option_remove","option_clear","optgroup_add","optgroup_remove","optgroup_clear","dropdown_open","dropdown_close","get_settings","setValue","lastQuery","clearActiveItems","onMouseDown","pastedText","inputValue","splitInput","piece","addItem","createItem","character","keyCode","which","selectAll","open","getAdjacent","setActiveOption","canSelect","advanceSelection","deleteSelection","refreshOptions","wasFocused","showInput","hasFocus","deactivate","setActiveItem","setCaret","closeAfterSelect","canLoad","loadCallback","clearActiveOption","setTextboxValue","getValue","silent","addItems","setMaxItems","begin","swap","getLastActive","setActiveItemClass","removeActiveItem","hideInput","last_active","idx","scrollToOption","behavior","height_menu","height_item","scrollBehavior","controlChildren","toggle","getSearchOptions","calculateScore","hashed","triggerDropdown","has_create_option","active_group","groups_order","same_query","results","active_option","show_dropdown","closest","opt_value","opt_hash","option_el","getOption","group_fragment","createDocumentFragment","$id","grp_a","grp_b","$order","group_heading","group_options","header","group_html","tok","add_template","canCreate","active_index","selectable","user_created","dat","registerOption","addOptionGroup","hashed_id","removeOptionGroup","clearCache","clearOptionGroups","updateOption","item_new","index_item","value_old","value_new","data_old","uncacheValue","option_new","removeOption","clearOptions","boundFilter","clearFilter","$div","last_item","isPending","wasFull","isFull","insertAtCaret","output","caret","lock","created","unlock","refreshValidityState","wrap_classList","validity","valid","empty_option","has_selected","AddSelected","visibility","scrollY","scrollX","selection","tail","selectionStart","selectionEnd","rm_items","rm_item","shouldDelete","onDelete","adjacent","nextElementSibling","moveCaret","new_pos","templateName","hook","when","method","new_fn","orig_method","result_new","orig_render_item","close_button","orig_onOptionSelect","UpdateCheckbox","checkbox","checked","orig_render_option","rendered","prepend","clearButton","loader","test_input","cssText","style_name","resize","orig_deleteSelection","accordion","panel","_data","triggers","panels","tab","opened","removeAnimationStyles","hideAll","ariaExpanded","panelHeight","excludeIndex","isTransitioning","panelSuffix","ariaControls","ariaLabelledby","autogrow","textareaInput","minHeight","related","_checkboxes","_total","_totalChecked","updateCheckedCount","updateTotalChecked","filtered","updateParent","indeterminate","targets","relatedCheckbox","clipboard","action","text","clearSelection","ClipboardJS","_target","_container","firstElementChild","_text","_clipboard","datatable","url","saveState","autoUpdateInterval","table","searchInput","searchDelay","pagination","filters","autoFilter","export","info","region","loaderLabel","pageLength","request","page","orderColumn","orderDirection","perPage","controller","loadCount","_isLoading","_filterParams","_sections","parseUrl","URL","searchParams","autoReload","isConnected","_reload","getDataset","replaceAll","getCheckboxes","getChecked","getUnchecked","getParentCheckbox","getCheckedFormData","formData","FormData","storeFilterParameter","startsWith","getFilterElements","_isInitialLoad","_select","_deselect","_goToIndex","_abort","_draw","_index","_pageLength","_orderColumn","column","_search","keyword","_filter","_resetFilter","params","filterElement","localName","selectedOptions","populateFilters","populateSearch","populateTable","populateInfo","has_records","populateExport","populatePagination","populateLength","regionVisibility","rowSelection","onSelectEventData","deselected","totalChecked","totalUnchecked","abort","AbortController","signal","fetch","response","ok","statusText","save","catch","_location","location","_onPopstate","reload","select","deselect","isLoading","resetFilter","datepicker","startRangeTarget","endRangeTarget","showOtherDays","otherDaysSelection","clearOnReset","previous","shortWeekdays","disableDay","weekday","autoUpdatePosition","_hasMoment","_hasDayjs","dayjs","_isRangePicker","updateRangeDate","_pikaday","range","getOrdinalNumber","number","ordinals","setPosition","updatePosition","Event","formattedDate","ddd","dddd","D","DD","padStart","Do","M","MM","MMM","MMMM","YY","YYYY","delimiters","replacedParts","dateString","dateParts","relatedTarget","dismiss","removeTarget","_close","placementMobile","autoPlacement","offsetMobile","alignmentOffsetMobile","_dropdown","_reference","resetPositionStyles","clicked","dropzone","customTemplate","autoProcessQueue","maxFiles","csrfToken","headers","previewsContainer","resizeWidth","resizeHeight","clickable","parallelUploads","disablePreviews","maxFilesize","filesizeBase","hiddenInputContainer","getTemplate","previewTemplate","_dropzone","Dropzone","file","progress","bytesSent","totalUploadProgress","totalBytes","totalBytesSent","files","xhr","getQueuedFiles","getAcceptedFiles","getRejectedFiles","getActiveFiles","getAddedFiles","getUploadingFiles","getFiles","getFilesWithStatus","status","addFile","mockFile","imageUrl","crossOrigin","resizeThumbnail","dataURL","displayExistingFile","removeFile","removeAllFiles","cancelUpload","contentType","_response","_fetch","finally","_code","hljs","highlightElement","actions","guessType","setActions","renamedKey","actionHandler","offcanvas","password","letters","mixed","numbers","symbols","confirm","hint","_totalScore","_score","_visible","_checked","_hints","calculateStrength","updateCheckedHint","onToggle","level","multiplier","percentage","pincode","numeric","mask","maskDelay","autoSubmit","_filled","_value","_form","autocomplete","ariaInvalid","dataIndex","filled","invalid","maskValue","combineValues","emitInputEvent","emitFilledEvent","submitter","requestSubmit","onKeyup","onReset","_selectedIndex","tabs","_lastIndex","_totalTabs","active","getPanel","_next","onTransitionEnterEnd","_disable","ariaDisabled","_enable","onKeydown","first","optionAttribute","class","_theme","_updateTheme","localStorage","_onClickChangeTheme","toast","gap","onAction","stackingPosition","_toast","_placementGroup","inset","dismissTriggers","actionTriggers","toggles","_toggled","ariaPressed","toggleState","toggled","_toggle","tooltip","showDelay","hideDelay","arrowPadding","_contentType","_isShown","_id","tooltipContent","tooltipArrow","_tooltip","_tooltipContent","_tooltipArrow","staticSide","onHoverDestroy","middle","scrollspy","_triggers","_targets","_activeNav","_scroller","_setActiveNavState","hash","_onScrollNavigation","scrollPosition","remote","loadOnce","loadFresh","arrowLabel","removeButton","removeButtonTitle","removeButtonLabel","clearButtonTitle","clearButtonLabel","caretPosition","backspaceDelete","itemSelection","disableSearch","blurOnSelect","createNotFound","dropdownWrapper","itemSingle","optgroupLabel","createOption","noResults","createText","searchText","emptyRemoteText","TomSelect_remove_button","TomSelect_clear_button","TomSelect_checkbox_options","TomSelect_caret_position","TomSelect_input_autogrow","TomSelect_no_active_items","TomSelect_no_backspace_delete","_selectedRemote","_tomSelect","clearButtonVisibility","showLoader","getText","hasValue","caret_position","input_autogrow","no_active_items","no_backspace_delete","remove_button","clear_button","checkbox_options","minWidth","onType","onDropdownOpen","_arrow","onDropdownClose","onItemAdd","onItemRemove","onLoad","columns","encodeURIComponent","selectedItems","refreshOption","fragment","insertAdjacentHTML"],"mappings":"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","x_google_ignoreList":[6,7,8,9]}